"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@tensorflow";
exports.ids = ["vendor-chunks/@tensorflow"];
exports.modules = {

/***/ "(ssr)/./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js":
/*!****************************************************************!*\
  !*** ./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdadeltaOptimizer: () => (/* binding */ bd),\n/* harmony export */   AdagradOptimizer: () => (/* binding */ wd),\n/* harmony export */   AdamOptimizer: () => (/* binding */ Cd),\n/* harmony export */   AdamaxOptimizer: () => (/* binding */ Ed),\n/* harmony export */   DataStorage: () => (/* binding */ xo),\n/* harmony export */   ENV: () => (/* binding */ s),\n/* harmony export */   Environment: () => (/* binding */ o),\n/* harmony export */   KernelBackend: () => (/* binding */ bo),\n/* harmony export */   MomentumOptimizer: () => (/* binding */ Id),\n/* harmony export */   Optimizer: () => (/* binding */ xd),\n/* harmony export */   RMSPropOptimizer: () => (/* binding */ kd),\n/* harmony export */   Rank: () => (/* binding */ Ct),\n/* harmony export */   Reduction: () => (/* binding */ ch),\n/* harmony export */   SGDOptimizer: () => (/* binding */ Rd),\n/* harmony export */   Tensor: () => (/* binding */ wt),\n/* harmony export */   TensorBuffer: () => (/* binding */ gt),\n/* harmony export */   Variable: () => (/* binding */ St),\n/* harmony export */   abs: () => (/* binding */ ru),\n/* harmony export */   acos: () => (/* binding */ ou),\n/* harmony export */   acosh: () => (/* binding */ au),\n/* harmony export */   add: () => (/* binding */ rc),\n/* harmony export */   addN: () => (/* binding */ oc),\n/* harmony export */   addStrict: () => (/* binding */ ac),\n/* harmony export */   all: () => (/* binding */ Cl),\n/* harmony export */   any: () => (/* binding */ El),\n/* harmony export */   argMax: () => (/* binding */ Rl),\n/* harmony export */   argMin: () => (/* binding */ Il),\n/* harmony export */   asin: () => (/* binding */ iu),\n/* harmony export */   asinh: () => (/* binding */ su),\n/* harmony export */   atan: () => (/* binding */ uu),\n/* harmony export */   atan2: () => (/* binding */ ic),\n/* harmony export */   atanh: () => (/* binding */ cu),\n/* harmony export */   avgPool: () => (/* binding */ fl),\n/* harmony export */   avgPool3d: () => (/* binding */ vl),\n/* harmony export */   backend: () => (/* binding */ hn),\n/* harmony export */   backend_util: () => (/* binding */ Uo),\n/* harmony export */   basicLSTMCell: () => (/* binding */ zl),\n/* harmony export */   batchNorm: () => (/* binding */ ju),\n/* harmony export */   batchNorm2d: () => (/* binding */ Xu),\n/* harmony export */   batchNorm3d: () => (/* binding */ Yu),\n/* harmony export */   batchNorm4d: () => (/* binding */ $u),\n/* harmony export */   batchNormalization: () => (/* binding */ Ku),\n/* harmony export */   batchNormalization2d: () => (/* binding */ Gu),\n/* harmony export */   batchNormalization3d: () => (/* binding */ Hu),\n/* harmony export */   batchNormalization4d: () => (/* binding */ qu),\n/* harmony export */   batchToSpaceND: () => (/* binding */ vr),\n/* harmony export */   booleanMaskAsync: () => (/* binding */ Uc),\n/* harmony export */   broadcastTo: () => (/* binding */ mr),\n/* harmony export */   browser: () => (/* binding */ id),\n/* harmony export */   buffer: () => (/* binding */ dr),\n/* harmony export */   cast: () => (/* binding */ gr),\n/* harmony export */   ceil: () => (/* binding */ lu),\n/* harmony export */   clipByValue: () => (/* binding */ hu),\n/* harmony export */   clone: () => (/* binding */ yr),\n/* harmony export */   complex: () => (/* binding */ Dn),\n/* harmony export */   concat: () => (/* binding */ Yn),\n/* harmony export */   concat1d: () => (/* binding */ $n),\n/* harmony export */   concat2d: () => (/* binding */ Qn),\n/* harmony export */   concat3d: () => (/* binding */ Jn),\n/* harmony export */   concat4d: () => (/* binding */ Zn),\n/* harmony export */   conv1d: () => (/* binding */ Hc),\n/* harmony export */   conv2d: () => (/* binding */ qc),\n/* harmony export */   conv2dTranspose: () => (/* binding */ Zc),\n/* harmony export */   conv3d: () => (/* binding */ Kc),\n/* harmony export */   conv3dTranspose: () => (/* binding */ tl),\n/* harmony export */   cos: () => (/* binding */ fu),\n/* harmony export */   cosh: () => (/* binding */ du),\n/* harmony export */   cumsum: () => (/* binding */ xr),\n/* harmony export */   customGrad: () => (/* binding */ vo),\n/* harmony export */   deprecationWarn: () => (/* binding */ Xe),\n/* harmony export */   depthToSpace: () => (/* binding */ br),\n/* harmony export */   depthwiseConv2d: () => (/* binding */ Yc),\n/* harmony export */   diag: () => (/* binding */ eh),\n/* harmony export */   disableDeprecationWarnings: () => (/* binding */ je),\n/* harmony export */   dispose: () => (/* binding */ tn),\n/* harmony export */   disposeVariables: () => (/* binding */ Ye),\n/* harmony export */   div: () => (/* binding */ sc),\n/* harmony export */   divNoNan: () => (/* binding */ uc),\n/* harmony export */   divStrict: () => (/* binding */ cc),\n/* harmony export */   dot: () => (/* binding */ nl),\n/* harmony export */   dropout: () => (/* binding */ nh),\n/* harmony export */   elu: () => (/* binding */ _l),\n/* harmony export */   enableDebugMode: () => (/* binding */ Ke),\n/* harmony export */   enableProdMode: () => (/* binding */ qe),\n/* harmony export */   engine: () => (/* binding */ $e),\n/* harmony export */   env: () => (/* binding */ i),\n/* harmony export */   equal: () => (/* binding */ Rc),\n/* harmony export */   equalStrict: () => (/* binding */ Ic),\n/* harmony export */   erf: () => (/* binding */ pu),\n/* harmony export */   exp: () => (/* binding */ vu),\n/* harmony export */   expandDims: () => (/* binding */ wr),\n/* harmony export */   expm1: () => (/* binding */ mu),\n/* harmony export */   eye: () => (/* binding */ Cr),\n/* harmony export */   fft: () => (/* binding */ Xl),\n/* harmony export */   fill: () => (/* binding */ Hn),\n/* harmony export */   findBackend: () => (/* binding */ un),\n/* harmony export */   findBackendFactory: () => (/* binding */ cn),\n/* harmony export */   floor: () => (/* binding */ gu),\n/* harmony export */   floorDiv: () => (/* binding */ lc),\n/* harmony export */   frame: () => (/* binding */ ih),\n/* harmony export */   fused: () => (/* binding */ zh),\n/* harmony export */   gather: () => (/* binding */ Lc),\n/* harmony export */   gatherND: () => (/* binding */ th),\n/* harmony export */   gather_util: () => (/* binding */ Xr),\n/* harmony export */   getBackend: () => (/* binding */ an),\n/* harmony export */   getGradient: () => (/* binding */ h),\n/* harmony export */   getKernel: () => (/* binding */ l),\n/* harmony export */   getKernelsForBackend: () => (/* binding */ f),\n/* harmony export */   grad: () => (/* binding */ co),\n/* harmony export */   grads: () => (/* binding */ lo),\n/* harmony export */   greater: () => (/* binding */ kc),\n/* harmony export */   greaterEqual: () => (/* binding */ Sc),\n/* harmony export */   greaterEqualStrict: () => (/* binding */ Ac),\n/* harmony export */   greaterStrict: () => (/* binding */ Dc),\n/* harmony export */   hammingWindow: () => (/* binding */ ah),\n/* harmony export */   hannWindow: () => (/* binding */ oh),\n/* harmony export */   ifft: () => (/* binding */ Yl),\n/* harmony export */   imag: () => (/* binding */ Nn),\n/* harmony export */   image: () => (/* binding */ Oh),\n/* harmony export */   inTopKAsync: () => (/* binding */ lh),\n/* harmony export */   io: () => (/* binding */ ed),\n/* harmony export */   irfft: () => (/* binding */ Ql),\n/* harmony export */   isFinite: () => (/* binding */ Du),\n/* harmony export */   isInf: () => (/* binding */ Au),\n/* harmony export */   isNaN: () => (/* binding */ Su),\n/* harmony export */   keep: () => (/* binding */ en),\n/* harmony export */   leakyRelu: () => (/* binding */ Ol),\n/* harmony export */   less: () => (/* binding */ Tc),\n/* harmony export */   lessEqual: () => (/* binding */ Nc),\n/* harmony export */   lessEqualStrict: () => (/* binding */ Fc),\n/* harmony export */   lessStrict: () => (/* binding */ _c),\n/* harmony export */   linalg: () => (/* binding */ Ih),\n/* harmony export */   linspace: () => (/* binding */ qn),\n/* harmony export */   localResponseNormalization: () => (/* binding */ Ul),\n/* harmony export */   log: () => (/* binding */ yu),\n/* harmony export */   log1p: () => (/* binding */ xu),\n/* harmony export */   logSigmoid: () => (/* binding */ bu),\n/* harmony export */   logSoftmax: () => (/* binding */ yo),\n/* harmony export */   logSumExp: () => (/* binding */ kl),\n/* harmony export */   logicalAnd: () => (/* binding */ Qu),\n/* harmony export */   logicalNot: () => (/* binding */ Ju),\n/* harmony export */   logicalOr: () => (/* binding */ Zu),\n/* harmony export */   logicalXor: () => (/* binding */ tc),\n/* harmony export */   losses: () => (/* binding */ bh),\n/* harmony export */   matMul: () => (/* binding */ el),\n/* harmony export */   math: () => (/* binding */ od),\n/* harmony export */   max: () => (/* binding */ Sl),\n/* harmony export */   maxPool: () => (/* binding */ hl),\n/* harmony export */   maxPool3d: () => (/* binding */ pl),\n/* harmony export */   maximum: () => (/* binding */ hc),\n/* harmony export */   maximumStrict: () => (/* binding */ fc),\n/* harmony export */   mean: () => (/* binding */ Al),\n/* harmony export */   memory: () => (/* binding */ Qe),\n/* harmony export */   min: () => (/* binding */ Dl),\n/* harmony export */   minimum: () => (/* binding */ dc),\n/* harmony export */   minimumStrict: () => (/* binding */ pc),\n/* harmony export */   mod: () => (/* binding */ vc),\n/* harmony export */   modStrict: () => (/* binding */ mc),\n/* harmony export */   moments: () => (/* binding */ Tl),\n/* harmony export */   movingAverage: () => (/* binding */ Hl),\n/* harmony export */   mul: () => (/* binding */ gc),\n/* harmony export */   mulStrict: () => (/* binding */ yc),\n/* harmony export */   multiRNNCell: () => (/* binding */ Gl),\n/* harmony export */   multinomial: () => (/* binding */ Er),\n/* harmony export */   neg: () => (/* binding */ wu),\n/* harmony export */   nextFrame: () => (/* binding */ Td),\n/* harmony export */   norm: () => (/* binding */ Vl),\n/* harmony export */   notEqual: () => (/* binding */ Oc),\n/* harmony export */   notEqualStrict: () => (/* binding */ Mc),\n/* harmony export */   oneHot: () => (/* binding */ Rr),\n/* harmony export */   ones: () => (/* binding */ zn),\n/* harmony export */   onesLike: () => (/* binding */ jn),\n/* harmony export */   op: () => (/* binding */ An),\n/* harmony export */   outerProduct: () => (/* binding */ rl),\n/* harmony export */   pad: () => (/* binding */ Ir),\n/* harmony export */   pad1d: () => (/* binding */ kr),\n/* harmony export */   pad2d: () => (/* binding */ Sr),\n/* harmony export */   pad3d: () => (/* binding */ Ar),\n/* harmony export */   pad4d: () => (/* binding */ Dr),\n/* harmony export */   pool: () => (/* binding */ dl),\n/* harmony export */   pow: () => (/* binding */ xc),\n/* harmony export */   powStrict: () => (/* binding */ bc),\n/* harmony export */   prelu: () => (/* binding */ Ml),\n/* harmony export */   print: () => (/* binding */ pr),\n/* harmony export */   prod: () => (/* binding */ Fl),\n/* harmony export */   profile: () => (/* binding */ Je),\n/* harmony export */   rand: () => (/* binding */ Tr),\n/* harmony export */   randomGamma: () => (/* binding */ Fr),\n/* harmony export */   randomNormal: () => (/* binding */ Nr),\n/* harmony export */   randomUniform: () => (/* binding */ _r),\n/* harmony export */   range: () => (/* binding */ Kn),\n/* harmony export */   ready: () => (/* binding */ on),\n/* harmony export */   real: () => (/* binding */ Tn),\n/* harmony export */   reciprocal: () => (/* binding */ Cu),\n/* harmony export */   registerBackend: () => (/* binding */ ln),\n/* harmony export */   registerGradient: () => (/* binding */ p),\n/* harmony export */   registerKernel: () => (/* binding */ d),\n/* harmony export */   relu: () => (/* binding */ Bl),\n/* harmony export */   relu6: () => (/* binding */ Pl),\n/* harmony export */   removeBackend: () => (/* binding */ sn),\n/* harmony export */   reshape: () => (/* binding */ Or),\n/* harmony export */   reverse: () => (/* binding */ ol),\n/* harmony export */   reverse1d: () => (/* binding */ al),\n/* harmony export */   reverse2d: () => (/* binding */ il),\n/* harmony export */   reverse3d: () => (/* binding */ sl),\n/* harmony export */   reverse4d: () => (/* binding */ ul),\n/* harmony export */   rfft: () => (/* binding */ $l),\n/* harmony export */   round: () => (/* binding */ Eu),\n/* harmony export */   rsqrt: () => (/* binding */ Ru),\n/* harmony export */   scalar: () => (/* binding */ On),\n/* harmony export */   scatterND: () => (/* binding */ jl),\n/* harmony export */   scatter_util: () => (/* binding */ to),\n/* harmony export */   selu: () => (/* binding */ Ll),\n/* harmony export */   separableConv2d: () => (/* binding */ Jc),\n/* harmony export */   serialization: () => (/* binding */ ld),\n/* harmony export */   setBackend: () => (/* binding */ rn),\n/* harmony export */   setPlatform: () => (/* binding */ fn),\n/* harmony export */   setdiff1dAsync: () => (/* binding */ Vr),\n/* harmony export */   sigmoid: () => (/* binding */ Iu),\n/* harmony export */   sign: () => (/* binding */ ku),\n/* harmony export */   signal: () => (/* binding */ uh),\n/* harmony export */   sin: () => (/* binding */ Tu),\n/* harmony export */   sinh: () => (/* binding */ Nu),\n/* harmony export */   slice: () => (/* binding */ ml),\n/* harmony export */   slice1d: () => (/* binding */ gl),\n/* harmony export */   slice2d: () => (/* binding */ yl),\n/* harmony export */   slice3d: () => (/* binding */ xl),\n/* harmony export */   slice4d: () => (/* binding */ bl),\n/* harmony export */   slice_util: () => (/* binding */ uo),\n/* harmony export */   softmax: () => (/* binding */ go),\n/* harmony export */   softplus: () => (/* binding */ Fu),\n/* harmony export */   spaceToBatchND: () => (/* binding */ Mr),\n/* harmony export */   sparseToDense: () => (/* binding */ Zl),\n/* harmony export */   spectral: () => (/* binding */ Jl),\n/* harmony export */   split: () => (/* binding */ tr),\n/* harmony export */   sqrt: () => (/* binding */ _u),\n/* harmony export */   square: () => (/* binding */ tu),\n/* harmony export */   squaredDifference: () => (/* binding */ nu),\n/* harmony export */   squaredDifferenceStrict: () => (/* binding */ wc),\n/* harmony export */   squeeze: () => (/* binding */ Br),\n/* harmony export */   stack: () => (/* binding */ Pr),\n/* harmony export */   step: () => (/* binding */ Ou),\n/* harmony export */   stft: () => (/* binding */ sh),\n/* harmony export */   stridedSlice: () => (/* binding */ ql),\n/* harmony export */   sub: () => (/* binding */ Cc),\n/* harmony export */   subStrict: () => (/* binding */ Ec),\n/* harmony export */   sum: () => (/* binding */ Nl),\n/* harmony export */   sumOutType: () => (/* binding */ Tt),\n/* harmony export */   tan: () => (/* binding */ Mu),\n/* harmony export */   tanh: () => (/* binding */ Bu),\n/* harmony export */   tensor: () => (/* binding */ Fn),\n/* harmony export */   tensor1d: () => (/* binding */ Mn),\n/* harmony export */   tensor2d: () => (/* binding */ Bn),\n/* harmony export */   tensor3d: () => (/* binding */ Pn),\n/* harmony export */   tensor4d: () => (/* binding */ Ln),\n/* harmony export */   tensor5d: () => (/* binding */ Wn),\n/* harmony export */   tensor6d: () => (/* binding */ Un),\n/* harmony export */   tensor_util: () => (/* binding */ Mt),\n/* harmony export */   test_util: () => (/* binding */ md),\n/* harmony export */   tidy: () => (/* binding */ Ze),\n/* harmony export */   tile: () => (/* binding */ Lr),\n/* harmony export */   time: () => (/* binding */ nn),\n/* harmony export */   topk: () => (/* binding */ Kl),\n/* harmony export */   train: () => (/* binding */ Ad),\n/* harmony export */   transpose: () => (/* binding */ Wl),\n/* harmony export */   truncatedNormal: () => (/* binding */ Wr),\n/* harmony export */   unregisterGradient: () => (/* binding */ m),\n/* harmony export */   unregisterKernel: () => (/* binding */ v),\n/* harmony export */   unsortedSegmentSum: () => (/* binding */ Wc),\n/* harmony export */   unstack: () => (/* binding */ Ur),\n/* harmony export */   util: () => (/* binding */ st),\n/* harmony export */   valueAndGrad: () => (/* binding */ ho),\n/* harmony export */   valueAndGrads: () => (/* binding */ fo),\n/* harmony export */   variable: () => (/* binding */ Vn),\n/* harmony export */   variableGrads: () => (/* binding */ po),\n/* harmony export */   version_core: () => (/* binding */ gd),\n/* harmony export */   webgl: () => (/* binding */ yd),\n/* harmony export */   where: () => (/* binding */ ec),\n/* harmony export */   whereAsync: () => (/* binding */ nc),\n/* harmony export */   zeros: () => (/* binding */ Gn),\n/* harmony export */   zerosLike: () => (/* binding */ Xn)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nvar t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function n(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(i,s)}u((r=r.apply(t,e||[])).next())}))}function r(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError(\"Generator is already executing.\");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var o=function(){function t(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return t.prototype.setPlatform=function(t,e){null!=this.platform&&console.warn(\"Platform \"+this.platformName+\" has already been set. Overwriting the platform with \"+e+\".\"),this.platformName=t,this.platform=e},t.prototype.registerFlag=function(t,e,n){if(this.flagRegistry[t]={evaluationFn:e,setHook:n},null!=this.urlFlags[t]){var r=this.urlFlags[t];console.warn(\"Setting feature override from URL \"+t+\": \"+r+\".\"),this.set(t,r)}},t.prototype.get=function(t){return t in this.flags?this.flags[t]:(this.flags[t]=this.evaluateFlag(t),this.flags[t])},t.prototype.getNumber=function(t){return this.get(t)},t.prototype.getBool=function(t){return this.get(t)},t.prototype.getFlags=function(){return this.flags},Object.defineProperty(t.prototype,\"features\",{get:function(){return this.flags},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e){if(null==this.flagRegistry[t])throw new Error(\"Cannot set flag \"+t+\" as it has not been registered.\");this.flags[t]=e,null!=this.flagRegistry[t].setHook&&this.flagRegistry[t].setHook(e)},t.prototype.evaluateFlag=function(t){if(null==this.flagRegistry[t])throw new Error(\"Cannot evaluate flag '\"+t+\"': no evaluation function found.\");return this.flagRegistry[t].evaluationFn()},t.prototype.setFlags=function(t){this.flags=Object.assign({},t)},t.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},t.prototype.populateURLFlags=function(){var t=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var e,n,r=(e=this.global.location.search,n={},e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return a(n,e[0],e[1]),e.join(\"=\")})),n);if(\"tfjsflags\"in r)r.tfjsflags.split(\",\").forEach((function(e){var n=e.split(\":\"),r=n[0],o=n[1];t.urlFlags[r]=function(t,e){if(\"true\"===(e=e.toLowerCase())||\"false\"===e)return\"true\"===e;if(\"\"+ +e===e)return+e;throw new Error(\"Could not parse value flag value \"+e+\" for flag \"+t+\".\")}(r,o)}))}},t}();function a(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||\"\")}function i(){return s}var s=null;var u=new Map,c=new Map;function l(t,e){var n=g(t,e);return u.get(n)}function h(t){return c.get(t)}function f(t){for(var e=u.entries(),n=[];;){var r=e.next(),o=r.done,a=r.value;if(o)break;var i=a[0],s=a[1];i.split(\"_\")[0]===t&&n.push(s)}return n}function d(t){var e=t.kernelName,n=t.backendName,r=g(e,n);if(u.has(r))throw new Error(\"The kernel '\"+e+\"' for backend '\"+n+\"' is already registered\");u.set(r,t)}function p(t){var e=t.kernelName;c.has(e)&&console.warn(\"Overriding the gradient for '\"+e+\"'\"),c.set(e,t)}function v(t,e){var n=g(t,e);if(!u.has(n))throw new Error(\"The kernel '\"+t+\"' for backend '\"+e+\"' is not registered\");u.delete(n)}function m(t){if(!c.has(t))throw new Error(\"The gradient '\"+t+\"' for backend is not registered\");c.delete(t)}function g(t,e){return e+\"_\"+t}function y(t){for(var e=t.length,n=0,r=0;e>0;)r=Math.random()*e|0,n=t[--e],t[e]=t[r],t[r]=n}function x(t,e,n){return Math.max(t,Math.min(e,n))}function b(t){return t%2==0?t:t+1}function w(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function C(t,e){if(!t)throw new Error(\"string\"==typeof e?e:e())}function E(t,e,n){void 0===n&&(n=\"\"),C(S(t,e),(function(){return n+\" Shapes \"+t+\" and \"+e+\" must match\"}))}function R(t){C(null!=t,(function(){return\"The input to the tensor constructor must be a non-null value.\"}))}function I(t,e,n){if(void 0===e&&(e=[]),void 0===n&&(n=!1),null==e&&(e=[]),Array.isArray(t)||V(t)&&!n)for(var r=0;r<t.length;++r)I(t[r],e,n);else e.push(t);return e}function k(t){if(0===t.length)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e}function S(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function A(t){return t%1==0}function D(t){if(null!=Math.tanh)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var e=Math.exp(2*t);return(e-1)/(e+1)}function T(t){var e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function N(t,e){return e<=t.length?t:t+\" \".repeat(e-t.length)}function F(t,e,n){return void 0===e&&(e=function(t){return 0}),new Promise((function(r,o){var a=0,i=function(){if(t())r();else{a++;var s=e(a);null!=n&&a>=n?o():setTimeout(i,s)}};i()}))}function _(t,e){for(var n=1,r=-1,o=0;o<t.length;++o)if(t[o]>=0)n*=t[o];else if(-1===t[o]){if(-1!==r)throw Error(\"Shapes can only have 1 implicit size. Found -1 at dim \"+r+\" and dim \"+o);r=o}else if(t[o]<0)throw Error(\"Shapes can not be < 0. Found \"+t[o]+\" at dim \"+o);if(-1===r){if(e>0&&e!==n)throw Error(\"Size(\"+e+\") must match the product of shape \"+t);return t}if(0===n)throw Error(\"Cannot infer the missing size in [\"+t+\"] when there are 0 elements\");if(e%n!=0)throw Error(\"The implicit shape can't be a fractional number. Got \"+e+\" / \"+n);var a=t.slice();return a[r]=e/n,a}function O(t,e){var n=e.length;return C((t=null==t?e.map((function(t,e){return e})):[].concat(t)).every((function(t){return t>=-n&&t<n})),(function(){return\"All values in axis param must be in range [-\"+n+\", \"+n+\") but got axis \"+t})),C(t.every((function(t){return A(t)})),(function(){return\"All values in axis param must be integers but got axis \"+t})),t.map((function(t){return t<0?n+t:t}))}function M(t,e){for(var n=[],r=[],o=null!=e&&Array.isArray(e)&&0===e.length,a=null==e||o?null:O(e,t).sort(),i=0,s=0;s<t.length;++s){if(null!=a){if(a[i]===s&&1!==t[s])throw new Error(\"Can't squeeze axis \"+s+\" since its dim '\"+t[s]+\"' is not 1\");(null==a[i]||a[i]>s)&&1===t[s]&&(n.push(t[s]),r.push(s)),a[i]<=s&&i++}1!==t[s]&&(n.push(t[s]),r.push(s))}return{newShape:n,keptDims:r}}function B(t,e){var n=null;if(null==t||\"float32\"===t)n=new Float32Array(e);else if(\"int32\"===t)n=new Int32Array(e);else{if(\"bool\"!==t)throw new Error(\"Unknown data type \"+t);n=new Uint8Array(e)}return n}function P(t,e){var n=null;if(null==t||\"float32\"===t)n=new Float32Array(e);else if(\"int32\"===t)n=new Int32Array(e);else if(\"bool\"===t)n=new Uint8Array(e);else{if(\"string\"!==t)throw new Error(\"Unknown data type \"+t);n=new Array(e)}return n}function L(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(isNaN(r)||!isFinite(r))throw Error(\"A tensor of type \"+e+\" being uploaded contains \"+r+\".\")}}function W(t){return\"bool\"===t||\"complex64\"===t||\"float32\"===t||\"int32\"===t||\"string\"===t}function U(t,e){return\"complex64\"!==e&&((\"float32\"!==e||\"complex64\"===t)&&((\"int32\"!==e||\"float32\"===t||\"complex64\"===t)&&(\"bool\"!==e||\"bool\"!==t)))}function V(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function z(t){if(\"float32\"===t||\"int32\"===t)return 4;if(\"complex64\"===t)return 8;if(\"bool\"===t)return 1;throw new Error(\"Unknown dtype \"+t)}function G(t){if(null==t)return 0;var e=0;return t.forEach((function(t){return e+=t.length})),e}function H(t){return\"string\"==typeof t||t instanceof String}function q(t){return\"boolean\"==typeof t}function K(t){return\"number\"==typeof t}function j(t){return Array.isArray(t)?j(t[0]):t instanceof Float32Array?\"float32\":t instanceof Int32Array||t instanceof Uint8Array?\"int32\":K(t)?\"float32\":H(t)?\"string\":q(t)?\"bool\":\"float32\"}function X(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Y(t,e){for(var n=e;n<t;++n)if(t%n==0)return n;return t}function $(t){var e=t.length;if(e<2)return[];var n=new Array(e-1);n[e-2]=t[e-1];for(var r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function Q(t,e,n){if(\"string\"===e)throw new Error(\"Cannot convert a string[] to a TypedArray\");if(Array.isArray(t)&&(t=I(t)),n&&L(t,e),function(t,e){return t instanceof Float32Array&&\"float32\"===e||t instanceof Int32Array&&\"int32\"===e||t instanceof Uint8Array&&\"bool\"===e}(t,e))return t;if(null==e||\"float32\"===e||\"complex64\"===e)return new Float32Array(t);if(\"int32\"===e)return new Int32Array(t);if(\"bool\"===e){for(var r=new Uint8Array(t.length),o=0;o<r.length;++o)0!==Math.round(t[o])&&(r[o]=1);return r}throw new Error(\"Unknown data type \"+e)}function J(t,e){if(0===t.length)return e[0];var n=t.reduce((function(t,e){return t*e}));if(0===n)return[];if(n!==e.length)throw new Error(\"[\"+t+\"] does not match the input size.\");return function t(e,n,r){var o=new Array;if(1===n.length)for(var a=n[0],i=0;i<a;i++)o[i]=r[e+i];else{a=n[0];var s=n.slice(1),u=s.reduce((function(t,e){return t*e}));for(i=0;i<a;i++)o[i]=t(e+i*u,s,r)}return o}(0,t,e)}function Z(t,e){for(var n=tt(t,e),r=0;r<n.length;r++)n[r]=1;return n}function tt(t,e){if(null==e||\"float32\"===e||\"complex64\"===e)return new Float32Array(t);if(\"int32\"===e)return new Int32Array(t);if(\"bool\"===e)return new Uint8Array(t);throw new Error(\"Unknown data type \"+e)}function et(){return i().platform.now()}function nt(t){t.forEach((function(e){C(Number.isInteger(e)&&e>=0,(function(){return\"Tensor must have a shape comprised of positive integers but got shape [\"+t+\"].\"}))}))}function rt(t,e){return void 0===e&&(e=\"utf-8\"),e=e||\"utf-8\",i().platform.encode(t,e)}function ot(t,e){return void 0===e&&(e=\"utf-8\"),e=e||\"utf-8\",i().platform.decode(t,e)}function at(t,e,n){if(0===e)return 0;if(1===e)return t[0];for(var r=t[t.length-1],o=0;o<t.length-1;++o)r+=n[o]*t[o];return r}function it(t,e,n){if(0===e)return[];if(1===e)return[t];for(var r=new Array(e),o=0;o<r.length-1;++o)r[o]=Math.floor(t/n[o]),t-=r[o]*n[o];return r[r.length-1]=t,r}var st=Object.freeze({shuffle:y,clamp:x,nearestLargerEven:b,sum:w,randUniform:function(t,e){var n=Math.random();return e*n+(1-n)*t},distSquared:function(t,e){for(var n=0,r=0;r<t.length;r++){var o=Number(t[r])-Number(e[r]);n+=o*o}return n},assert:C,assertShapesMatch:E,assertNonNull:R,flatten:I,sizeFromShape:k,isScalarShape:function(t){return 0===t.length},arraysEqual:S,isInt:A,tanh:D,sizeToSquarishShape:T,createShuffledIndices:function(t){for(var e=new Uint32Array(t),n=0;n<t;++n)e[n]=n;return y(e),e},rightPad:N,repeatedTry:F,inferFromImplicitShape:_,parseAxisParam:O,squeezeShape:M,getTypedArrayFromDType:B,getArrayFromDType:P,checkConversionForErrors:L,isValidDtype:W,hasEncodingLoss:U,isTypedArray:V,bytesPerElement:z,bytesFromStringArray:G,isString:H,isBoolean:q,isNumber:K,inferDtype:j,isFunction:X,nearestDivisor:Y,computeStrides:$,toTypedArray:Q,toNestedArray:J,makeOnesTypedArray:Z,makeZerosTypedArray:tt,now:et,assertNonNegativeIntegerDimensions:nt,fetch:function(t,e){return i().platform.fetch(t,e)},encodeString:rt,decodeString:ot,locToIndex:at,indexToLoc:it}),ut=function(){function t(t,e){this.backendTimer=t,this.logger=e,null==e&&(this.logger=new ct)}return t.prototype.profileKernel=function(t,e,n){var r,o=this,a=this.backendTimer.time((function(){r=n()}));return r.forEach((function(n){n.data().then((function(r){!function(t,e,n){if(\"float32\"!==e)return!1;for(var r=0;r<t.length;r++){var o=t[r];if(isNaN(o)||!isFinite(o))return console.warn(\"Found \"+o+\" in the result of '\"+n+\"'\"),!0}}(r,n.dtype,t),a.then((function(a){var i=\"\";null!=a.getExtraProfileInfo&&(i=a.getExtraProfileInfo()),o.logger.logKernelProfile(t,n,r,a.kernelMs,e,i)}))}))})),r},t}();var ct=function(){function t(){}return t.prototype.logKernelProfile=function(t,e,n,r,o,a){var i=\"number\"==typeof r?N(r+\"ms\",9):r.error,s=N(t,25),u=e.rank,c=e.size,l=N(e.shape.toString(),14),h=\"\";for(var f in o){var d=o[f].shape||e.shape,p=d.length;h+=f+\": \"+p+\"D \"+(p>0?d:\"\")+\" \"}console.log(\"%c\"+s+\"\\t%c\"+i+\"\\t%c\"+u+\"D \"+l+\"\\t%c\"+c+\"\\t%c\"+h+\"\\t%c\"+a,\"font-weight:bold\",\"color:red\",\"color:blue\",\"color: orange\",\"color: green\",\"color: steelblue\")},t}();var lt=20,ht=3,ft=7;function dt(t,e,n,r){var o=$(e),a=function(t,e,n,r){var o=k(e),a=r[r.length-1],i=new Array(a).fill(0),s=e.length,u=\"complex64\"===n?mt(t):t;if(s>1)for(var c=0;c<o/a;c++)for(var l=c*a,h=0;h<a;h++)i[h]=Math.max(i[h],pt(u[l+h],0,n).length);return i}(t,e,n,o),i=e.length,s=function t(e,n,r,o,a,i){void 0===i&&(i=!0);var s=\"complex64\"===r?2:1,u=n[0],c=n.length;if(0===c){return\"complex64\"===r?[pt(mt(e)[0],0,r)]:\"bool\"===r?[vt(e[0])]:[e[0].toString()]}if(1===c){if(u>lt){var l=ht*s,h=Array.from(e.slice(0,l)),f=Array.from(e.slice((u-ht)*s,u*s));return\"complex64\"===r&&(h=mt(h),f=mt(f)),[\"[\"+h.map((function(t,e){return pt(t,a[e],r)})).join(\", \")+\", ..., \"+f.map((function(t,e){return pt(t,a[u-ht+e],r)})).join(\", \")+\"]\"]}return[\"[\"+(\"complex64\"===r?mt(e):Array.from(e)).map((function(t,e){return pt(t,a[e],r)})).join(\", \")+\"]\"]}var d=n.slice(1),p=o.slice(1),v=o[0]*s,m=[];if(u>lt){for(var g=0;g<ht;g++){var y=(x=g*v)+v;m.push.apply(m,t(e.slice(x,y),d,r,p,a,!1))}m.push(\"...\");for(g=u-ht;g<u;g++){y=(x=g*v)+v;m.push.apply(m,t(e.slice(x,y),d,r,p,a,g===u-1))}}else for(g=0;g<u;g++){var x;y=(x=g*v)+v;m.push.apply(m,t(e.slice(x,y),d,r,p,a,g===u-1))}var b=2===c?\",\":\"\";m[0]=\"[\"+m[0]+b;for(g=1;g<m.length-1;g++)m[g]=\" \"+m[g]+b;var w=\",\\n\";for(g=2;g<c;g++)w+=\"\\n\";return m[m.length-1]=\" \"+m[m.length-1]+\"]\"+(i?\"\":w),m}(t,e,n,o,a),u=[\"Tensor\"];return r&&(u.push(\"  dtype: \"+n),u.push(\"  rank: \"+i),u.push(\"  shape: [\"+e+\"]\"),u.push(\"  values:\")),u.push(s.map((function(t){return\"    \"+t})).join(\"\\n\")),u.join(\"\\n\")}function pt(t,e,n){return N(Array.isArray(t)?parseFloat(t[0].toFixed(ft))+\" + \"+parseFloat(t[1].toFixed(ft))+\"j\":H(t)?\"'\"+t+\"'\":\"bool\"===n?vt(t):parseFloat(t.toFixed(ft)).toString(),e)}function vt(t){return 0===t?\"false\":\"true\"}function mt(t){for(var e=[],n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}var gt=function(){function t(t,e,n){var r=this;if(this.dtype=e,this.shape=t.slice(),this.size=k(t),null!=n){var o=n.length;C(o===this.size,(function(){return\"Length of values '\"+o+\"' does not match the size inferred by the shape '\"+r.size+\"'.\"}))}if(\"complex64\"===e)throw new Error(\"complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).\");this.values=n||P(e,this.size),this.strides=$(t)}return t.prototype.set=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),C(n.length===this.rank,(function(){return\"The number of provided coordinates (\"+n.length+\") must match the rank (\"+e.rank+\")\"}));var o=this.locToIndex(n);this.values[o]=t},t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0===t.length&&(t=[0]);for(var n=0,r=0,o=t;r<o.length;r++){var a=o[r];if(a<0||a>=this.shape[n]){var i=\"Requested out of range element at \"+t+\".   Buffer shape=\"+this.shape;throw new Error(i)}n++}for(var s=t[t.length-1],u=0;u<t.length-1;++u)s+=this.strides[u]*t[u];return this.values[s]},t.prototype.locToIndex=function(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];for(var e=t[t.length-1],n=0;n<t.length-1;++n)e+=this.strides[n]*t[n];return e},t.prototype.indexToLoc=function(t){if(0===this.rank)return[];if(1===this.rank)return[t];for(var e=new Array(this.shape.length),n=0;n<e.length-1;++n)e[n]=Math.floor(t/this.strides[n]),t-=e[n]*this.strides[n];return e[e.length-1]=t,e},Object.defineProperty(t.prototype,\"rank\",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return yt().makeTensor(this.values,this.shape,this.dtype)},t}(),yt=null,xt=null,bt=null;var wt=function(){function t(t,e,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=e||\"float32\",this.size=k(t),this.strides=$(t),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():\"higher\"}return t.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},t.prototype.asScalar=function(){return this.throwIfDisposed(),C(1===this.size,(function(){return\"The array must have only 1 element.\"})),this.reshape([])},t.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},t.prototype.as2D=function(t,e){return this.throwIfDisposed(),this.reshape([t,e])},t.prototype.as3D=function(t,e,n){return this.throwIfDisposed(),this.reshape([t,e,n])},t.prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),this.reshape([t,e,n,r])},t.prototype.as5D=function(t,e,n,r,o){return this.throwIfDisposed(),this.reshape([t,e,n,r,o])},t.prototype.asType=function(t){return this.throwIfDisposed(),xt.cast(this,t)},Object.defineProperty(t.prototype,\"rank\",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.buffer=function(){return n(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return[4,this.data()];case 1:return t=e.sent(),[2,xt.buffer(this.shape,this.dtype,t)]}}))}))},t.prototype.bufferSync=function(){return xt.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.array=function(){return n(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return[4,this.data()];case 1:return t=e.sent(),[2,J(this.shape,t)]}}))}))},t.prototype.arraySync=function(){return J(this.shape,this.dataSync())},t.prototype.data=function(){return n(this,void 0,void 0,(function(){var t,e;return r(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),t=yt().read(this.dataId),\"string\"!==this.dtype?[3,2]:[4,t];case 1:e=n.sent();try{return[2,e.map((function(t){return ot(t)}))]}catch(t){throw new Error(\"Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().\")}n.label=2;case 2:return[2,t]}}))}))},t.prototype.dataSync=function(){this.throwIfDisposed();var t=yt().readSync(this.dataId);if(\"string\"===this.dtype)try{return t.map((function(t){return ot(t)}))}catch(t){throw new Error(\"Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().\")}return t},t.prototype.bytes=function(){return n(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return this.throwIfDisposed(),[4,yt().read(this.dataId)];case 1:return t=e.sent(),\"string\"===this.dtype?[2,t]:[2,new Uint8Array(t.buffer)]}}))}))},t.prototype.dispose=function(){this.isDisposed||(yt().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,\"isDisposed\",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error(\"Tensor is disposed.\")},t.prototype.toFloat=function(){return this.asType(\"float32\")},t.prototype.toInt=function(){return this.asType(\"int32\")},t.prototype.toBool=function(){return this.asType(\"bool\")},t.prototype.print=function(t){return void 0===t&&(t=!1),xt.print(this,t)},t.prototype.reshape=function(t){return this.throwIfDisposed(),xt.reshape(this,t)},t.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},t.prototype.expandDims=function(t){return void 0===t&&(t=0),xt.expandDims(this,t)},t.prototype.cumsum=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=!1),void 0===n&&(n=!1),xt.cumsum(this,t,e,n)},t.prototype.squeeze=function(t){return this.throwIfDisposed(),xt.squeeze(this,t)},t.prototype.clone=function(){return this.throwIfDisposed(),xt.clone(this)},t.prototype.oneHot=function(t,e,n){return this.throwIfDisposed(),xt.oneHot(this,t,e,n)},t.prototype.toString=function(t){return void 0===t&&(t=!1),dt(this.dataSync(),this.shape,this.dtype,t)},t.prototype.tile=function(t){return this.throwIfDisposed(),xt.tile(this,t)},t.prototype.gather=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),xt.gather(this,t,e)},t.prototype.matMul=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),this.throwIfDisposed(),xt.matMul(this,t,e,n)},t.prototype.dot=function(t){return this.throwIfDisposed(),xt.dot(this,t)},t.prototype.norm=function(t,e,n){return void 0===t&&(t=\"euclidean\"),void 0===e&&(e=null),void 0===n&&(n=!1),this.throwIfDisposed(),xt.norm(this,t,e,n)},t.prototype.slice=function(t,e){return this.throwIfDisposed(),xt.slice(this,t,e)},t.prototype.reverse=function(t){return this.throwIfDisposed(),xt.reverse(this,t)},t.prototype.concat=function(e,n){return void 0===n&&(n=0),this.throwIfDisposed(),e instanceof t&&(e=[e]),xt.concat([this].concat(e),n)},t.prototype.split=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),xt.split(this,t,e)},t.prototype.stack=function(t,e){return void 0===e&&(e=0),xt.stack([this,t],e)},t.prototype.unstack=function(t){return void 0===t&&(t=0),xt.unstack(this,t)},t.prototype.pad=function(t,e){return void 0===e&&(e=0),xt.pad(this,t,e)},t.prototype.batchNormalization=function(t,e,n,r,o){return void 0===n&&(n=.001),bt(\"tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon\"),this.batchNorm(t,e,o,r,n)},t.prototype.batchNorm=function(t,e,n,r,o){return void 0===o&&(o=.001),this.throwIfDisposed(),xt.batchNorm(this,t,e,n,r,o)},t.prototype.all=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.all(this,t,e)},t.prototype.any=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.any(this,t,e)},t.prototype.logSumExp=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.logSumExp(this,t,e)},t.prototype.sum=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.sum(this,t,e)},t.prototype.prod=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.prod(this,t,e)},t.prototype.mean=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.mean(this,t,e)},t.prototype.min=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.min(this,t,e)},t.prototype.max=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),xt.max(this,t,e)},t.prototype.argMin=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),xt.argMin(this,t)},t.prototype.argMax=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),xt.argMax(this,t)},t.prototype.cast=function(t){return this.throwIfDisposed(),xt.cast(this,t)},t.prototype.add=function(t){return this.throwIfDisposed(),xt.add(this,t)},t.prototype.addStrict=function(t){return this.throwIfDisposed(),xt.addStrict(this,t)},t.prototype.atan2=function(t){return this.throwIfDisposed(),xt.atan2(this,t)},t.prototype.sub=function(t){return this.throwIfDisposed(),xt.sub(this,t)},t.prototype.subStrict=function(t){return this.throwIfDisposed(),xt.subStrict(this,t)},t.prototype.pow=function(t){return this.throwIfDisposed(),xt.pow(this,t)},t.prototype.powStrict=function(t){return this.throwIfDisposed(),xt.powStrict(this,t)},t.prototype.mul=function(t){return this.throwIfDisposed(),xt.mul(this,t)},t.prototype.mulStrict=function(t){return this.throwIfDisposed(),xt.mulStrict(this,t)},t.prototype.div=function(t){return this.throwIfDisposed(),xt.div(this,t)},t.prototype.divNoNan=function(t){return this.throwIfDisposed(),xt.divNoNan(this,t)},t.prototype.floorDiv=function(t){return this.throwIfDisposed(),xt.floorDiv(this,t)},t.prototype.divStrict=function(t){return this.throwIfDisposed(),xt.divStrict(this,t)},t.prototype.minimum=function(t){return this.throwIfDisposed(),xt.minimum(this,t)},t.prototype.minimumStrict=function(t){return this.throwIfDisposed(),xt.minimumStrict(this,t)},t.prototype.maximum=function(t){return this.throwIfDisposed(),xt.maximum(this,t)},t.prototype.maximumStrict=function(t){return this.throwIfDisposed(),xt.maximumStrict(this,t)},t.prototype.mod=function(t){return this.throwIfDisposed(),xt.mod(this,t)},t.prototype.modStrict=function(t){return this.throwIfDisposed(),xt.modStrict(this,t)},t.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),xt.squaredDifferenceStrict(this,t)},t.prototype.transpose=function(t){return this.throwIfDisposed(),xt.transpose(this,t)},t.prototype.notEqual=function(t){return this.throwIfDisposed(),xt.notEqual(this,t)},t.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),xt.notEqualStrict(this,t)},t.prototype.less=function(t){return this.throwIfDisposed(),xt.less(this,t)},t.prototype.lessStrict=function(t){return this.throwIfDisposed(),xt.lessStrict(this,t)},t.prototype.equal=function(t){return this.throwIfDisposed(),xt.equal(this,t)},t.prototype.equalStrict=function(t){return this.throwIfDisposed(),xt.equalStrict(this,t)},t.prototype.lessEqual=function(t){return this.throwIfDisposed(),xt.lessEqual(this,t)},t.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),xt.lessEqualStrict(this,t)},t.prototype.greater=function(t){return this.throwIfDisposed(),xt.greater(this,t)},t.prototype.greaterStrict=function(t){return this.throwIfDisposed(),xt.greaterStrict(this,t)},t.prototype.greaterEqual=function(t){return this.throwIfDisposed(),xt.greaterEqual(this,t)},t.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),xt.greaterEqualStrict(this,t)},t.prototype.logicalAnd=function(t){return this.throwIfDisposed(),xt.logicalAnd(this,t)},t.prototype.logicalOr=function(t){return this.throwIfDisposed(),xt.logicalOr(this,t)},t.prototype.logicalNot=function(){return this.throwIfDisposed(),xt.logicalNot(this)},t.prototype.logicalXor=function(t){return this.throwIfDisposed(),xt.logicalXor(this,t)},t.prototype.where=function(t,e){return this.throwIfDisposed(),xt.where(t,this,e)},t.prototype.neg=function(){return this.throwIfDisposed(),xt.neg(this)},t.prototype.ceil=function(){return this.throwIfDisposed(),xt.ceil(this)},t.prototype.floor=function(){return this.throwIfDisposed(),xt.floor(this)},t.prototype.sign=function(){return this.throwIfDisposed(),xt.sign(this)},t.prototype.isNaN=function(){return this.throwIfDisposed(),xt.isNaN(this)},t.prototype.isInf=function(){return this.throwIfDisposed(),xt.isInf(this)},t.prototype.isFinite=function(){return this.throwIfDisposed(),xt.isFinite(this)},t.prototype.exp=function(){return this.throwIfDisposed(),xt.exp(this)},t.prototype.expm1=function(){return this.throwIfDisposed(),xt.expm1(this)},t.prototype.log=function(){return this.throwIfDisposed(),xt.log(this)},t.prototype.log1p=function(){return this.throwIfDisposed(),xt.log1p(this)},t.prototype.sqrt=function(){return this.throwIfDisposed(),xt.sqrt(this)},t.prototype.rsqrt=function(){return this.throwIfDisposed(),xt.rsqrt(this)},t.prototype.square=function(){return this.throwIfDisposed(),xt.square(this)},t.prototype.reciprocal=function(){return this.throwIfDisposed(),xt.reciprocal(this)},t.prototype.abs=function(){return this.throwIfDisposed(),xt.abs(this)},t.prototype.clipByValue=function(t,e){return this.throwIfDisposed(),xt.clipByValue(this,t,e)},t.prototype.relu=function(){return this.throwIfDisposed(),xt.relu(this)},t.prototype.relu6=function(){return this.throwIfDisposed(),xt.relu6(this)},t.prototype.elu=function(){return this.throwIfDisposed(),xt.elu(this)},t.prototype.selu=function(){return this.throwIfDisposed(),xt.selu(this)},t.prototype.leakyRelu=function(t){return void 0===t&&(t=.2),this.throwIfDisposed(),xt.leakyRelu(this,t)},t.prototype.prelu=function(t){return this.throwIfDisposed(),xt.prelu(this,t)},t.prototype.sigmoid=function(){return this.throwIfDisposed(),xt.sigmoid(this)},t.prototype.logSigmoid=function(){return this.throwIfDisposed(),xt.logSigmoid(this)},t.prototype.softplus=function(){return this.throwIfDisposed(),xt.softplus(this)},t.prototype.zerosLike=function(){return this.throwIfDisposed(),xt.zerosLike(this)},t.prototype.onesLike=function(){return this.throwIfDisposed(),xt.onesLike(this)},t.prototype.sin=function(){return this.throwIfDisposed(),xt.sin(this)},t.prototype.cos=function(){return this.throwIfDisposed(),xt.cos(this)},t.prototype.tan=function(){return this.throwIfDisposed(),xt.tan(this)},t.prototype.asin=function(){return this.throwIfDisposed(),xt.asin(this)},t.prototype.acos=function(){return this.throwIfDisposed(),xt.acos(this)},t.prototype.atan=function(){return this.throwIfDisposed(),xt.atan(this)},t.prototype.sinh=function(){return this.throwIfDisposed(),xt.sinh(this)},t.prototype.cosh=function(){return this.throwIfDisposed(),xt.cosh(this)},t.prototype.tanh=function(){return this.throwIfDisposed(),xt.tanh(this)},t.prototype.asinh=function(){return this.throwIfDisposed(),xt.asinh(this)},t.prototype.acosh=function(){return this.throwIfDisposed(),xt.acosh(this)},t.prototype.atanh=function(){return this.throwIfDisposed(),xt.atanh(this)},t.prototype.erf=function(){return this.throwIfDisposed(),xt.erf(this)},t.prototype.round=function(){return this.throwIfDisposed(),xt.round(this)},t.prototype.step=function(t){return void 0===t&&(t=0),this.throwIfDisposed(),xt.step(this,t)},t.prototype.softmax=function(t){return void 0===t&&(t=-1),this.throwIfDisposed(),xt.softmax(this,t)},t.prototype.logSoftmax=function(t){return void 0===t&&(t=-1),this.throwIfDisposed(),xt.logSoftmax(this,t)},t.prototype.resizeBilinear=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),xt.image.resizeBilinear(this,t,e)},t.prototype.resizeNearestNeighbor=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),xt.image.resizeNearestNeighbor(this,t,e)},t.prototype.conv1d=function(t,e,n,r,o,a){return void 0===r&&(r=\"NWC\"),void 0===o&&(o=1),this.throwIfDisposed(),xt.conv1d(this,t,e,n,r,o,a)},t.prototype.conv2d=function(t,e,n,r,o,a){return void 0===r&&(r=\"NHWC\"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),xt.conv2d(this,t,e,n,r,o,a)},t.prototype.conv2dTranspose=function(t,e,n,r,o){return this.throwIfDisposed(),xt.conv2dTranspose(this,t,e,n,r,o)},t.prototype.depthwiseConv2D=function(t,e,n,r,o,a){return void 0===r&&(r=\"NHWC\"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),xt.depthwiseConv2d(this,t,e,n,r,o,a)},t.prototype.separableConv2d=function(t,e,n,r,o,a){return void 0===o&&(o=[1,1]),void 0===a&&(a=\"NHWC\"),this.throwIfDisposed(),xt.separableConv2d(this,t,e,n,r,o,a)},t.prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),xt.avgPool(this,t,e,n,r)},t.prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),xt.maxPool(this,t,e,n,r)},t.prototype.localResponseNormalization=function(t,e,n,r){return void 0===t&&(t=5),void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=.5),xt.localResponseNormalization(this,t,e,n,r)},t.prototype.pool=function(t,e,n,r,o){return this.throwIfDisposed(),xt.pool(this,t,e,n,r,o)},t.prototype.variable=function(t,e,n){return void 0===t&&(t=!0),this.throwIfDisposed(),yt().makeVariable(this,t,e,n)},t.prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),xt.unsortedSegmentSum(this,t,e)},t.prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),xt.batchToSpaceND(this,t,e)},t.prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),xt.spaceToBatchND(this,t,e)},t.prototype.topk=function(t,e){return void 0===t&&(t=1),void 0===e&&(e=!0),this.throwIfDisposed(),xt.topk(this,t,e)},t.prototype.stridedSlice=function(t,e,n,r,o,a,i,s){return void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===i&&(i=0),void 0===s&&(s=0),this.throwIfDisposed(),xt.stridedSlice(this,t,e,n,r,o,a,i,s)},t.prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),xt.depthToSpace(this,t,e)},t.prototype.fft=function(){return this.throwIfDisposed(),xt.spectral.fft(this)},t.prototype.ifft=function(){return this.throwIfDisposed(),xt.spectral.ifft(this)},t.prototype.rfft=function(){return this.throwIfDisposed(),xt.spectral.rfft(this)},t.prototype.irfft=function(){return this.throwIfDisposed(),xt.spectral.irfft(this)},t}();Object.defineProperty(wt,Symbol.hasInstance,{value:function(t){return!!t&&null!=t.dataId&&null!=t.shape&&null!=t.dtype}});var Ct,Et,Rt,It,kt,St=function(t){function n(e,n,r,o){var a=t.call(this,e.shape,e.dtype,e.dataId,o)||this;return a.trainable=n,a.name=r,a}return e(n,t),n.prototype.assign=function(t){if(t.dtype!==this.dtype)throw new Error(\"dtype of the new value (\"+t.dtype+\") and previous value (\"+this.dtype+\") must match\");if(!S(t.shape,this.shape))throw new Error(\"shape of the new value (\"+t.shape+\") and previous value (\"+this.shape+\") must match\");yt().disposeTensor(this),this.dataId=t.dataId,yt().incRef(this,null)},n.prototype.dispose=function(){yt().disposeVariable(this),this.isDisposedInternal=!0},n}(wt);Object.defineProperty(St,Symbol.hasInstance,{value:function(t){return t instanceof wt&&null!=t.assign&&t.assign instanceof Function}}),function(t){t.R0=\"R0\",t.R1=\"R1\",t.R2=\"R2\",t.R3=\"R3\",t.R4=\"R4\",t.R5=\"R5\",t.R6=\"R6\"}(Ct||(Ct={})),function(t){t.float32=\"float32\",t.int32=\"int32\",t.bool=\"int32\",t.complex64=\"complex64\"}(Et||(Et={})),function(t){t.float32=\"float32\",t.int32=\"int32\",t.bool=\"bool\",t.complex64=\"complex64\"}(Rt||(Rt={})),function(t){t.float32=\"float32\",t.int32=\"float32\",t.bool=\"float32\",t.complex64=\"complex64\"}(It||(It={})),function(t){t.float32=\"complex64\",t.int32=\"complex64\",t.bool=\"complex64\",t.complex64=\"complex64\"}(kt||(kt={}));var At={float32:It,int32:Et,bool:Rt,complex64:kt};function Dt(t,e){if(\"string\"===t||\"string\"===e){if(\"string\"===t&&\"string\"===e)return\"string\";throw new Error(\"Can not upcast \"+t+\" with \"+e)}return At[t][e]}function Tt(t){return Dt(t,\"int32\")}function Nt(t,e){if(t.dtype===e.dtype)return[t,e];var n=Dt(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function Ft(t,e){C(t.dtype===e.dtype,(function(){return\"The dtypes of the first(\"+t.dtype+\") and second(\"+e.dtype+\") input must match\"}))}function _t(t){var e=[];return function t(e,n,r){if(null==e)return;if(e instanceof wt)return void n.push(e);if(o=e,!Array.isArray(o)&&\"object\"!=typeof o)return;var o;var a=e;for(var i in a){var s=a[i];r.has(s)||(r.add(s),t(s,n,r))}}(t,e,new Set),e}var Ot,Mt=Object.freeze({makeTypesMatch:Nt,assertTypesMatch:Ft,isTensorInList:function(t,e){return e.some((function(e){return e.id===t.id}))},getTensorsInContainer:_t}),Bt=function(){function t(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return t.prototype.dispose=function(){for(var t in this.registeredVariables)this.registeredVariables[t].dispose()},t}(),Pt=function(){function t(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Bt}return t.prototype.ready=function(){return n(this,void 0,void 0,(function(){var t,e,n;return r(this,(function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then((function(){}))];if(null!=this.backendInstance)return[2];t=this.getSortedBackends(),e=0,r.label=1;case 1:return e<t.length?(n=t[e],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return e++,[3,1];case 5:throw new Error(\"Could not initialize any backends, all backend initializations failed.\")}}))}))},Object.defineProperty(t.prototype,\"backend\",{get:function(){if(null!=this.pendingBackendInit)throw new Error(\"Backend '\"+this.backendName+\"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods\");if(null==this.backendInstance){var t=this.initializeBackendsAndReturnBest(),e=t.name;if(t.asyncInit)throw new Error(\"The highest priority backend '\"+e+\"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods\");this.setBackend(e)}return this.backendInstance},enumerable:!0,configurable:!0}),t.prototype.backendNames=function(){return Object.keys(this.registryFactory)},t.prototype.findBackend=function(t){if(!(t in this.registry)){if(!(t in this.registryFactory))return null;if(this.initializeBackend(t).asyncInit)return null}return this.registry[t]},t.prototype.findBackendFactory=function(t){return t in this.registryFactory?this.registryFactory[t].factory:null},t.prototype.registerBackend=function(t,e,n){return void 0===n&&(n=1),t in this.registryFactory?(console.warn(t+\" backend was already registered. Reusing existing backend factory.\"),!1):(this.registryFactory[t]={factory:e,priority:n},!0)},t.prototype.setBackend=function(t){return n(this,void 0,void 0,(function(){var e,n,o;return r(this,(function(r){switch(r.label){case 0:if(null==this.registryFactory[t])throw new Error(\"Backend name '\"+t+\"' not found in registry\");return this.backendName=t,null!=this.registry[t]?[3,4]:(this.backendInstance=null,e=this.initializeBackend(t),n=e.success,e.asyncInit?[4,n]:[3,2]);case 1:return o=r.sent(),[3,3];case 2:o=n,r.label=3;case 3:if(!o)return[2,!1];r.label=4;case 4:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new ut(this.backendInstance),[2,!0]}}))}))},t.prototype.setupRegisteredKernels=function(){var t=this;f(this.backendName).forEach((function(e){null!=e.setupFunc&&e.setupFunc(t.backendInstance)}))},t.prototype.disposeRegisteredKernels=function(t){var e=this;f(t).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(e.registry[t])}))},t.prototype.initializeBackend=function(t){var e=this,n=this.registryFactory[t];if(null==n)throw new Error(\"Cannot initialize backend \"+t+\", no registration found.\");try{var r=n.factory();if(Promise.resolve(r)===r){var o=++this.pendingBackendInitId,a=r.then((function(n){return!(o<e.pendingBackendInitId)&&(e.registry[t]=n,e.pendingBackendInit=null,!0)})).catch((function(n){return!(o<e.pendingBackendInitId)&&(e.pendingBackendInit=null,console.warn(\"Initialization of backend \"+t+\" failed\"),console.warn(n.stack||n.message),!1)}));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}return this.registry[t]=r,{success:!0,asyncInit:!1}}catch(e){return console.warn(\"Initialization of backend \"+t+\" failed\"),console.warn(e.stack||e.message),{success:!1,asyncInit:!1}}},t.prototype.removeBackend=function(t){if(!(t in this.registryFactory))throw new Error(t+\" backend not found in registry\");this.backendName===t&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},t.prototype.getSortedBackends=function(){var t=this;if(0===Object.keys(this.registryFactory).length)throw new Error(\"No backend found in registry.\");return Object.keys(this.registryFactory).sort((function(e,n){return t.registryFactory[n].priority-t.registryFactory[e].priority}))},t.prototype.initializeBackendsAndReturnBest=function(){for(var t=this.getSortedBackends(),e=0;e<t.length;e++){var n=t[e],r=this.initializeBackend(n),o=r.success,a=r.asyncInit;if(a||o)return{name:n,asyncInit:a}}throw new Error(\"Could not initialize any backends, all backend initializations failed.\")},t.prototype.moveData=function(t,e){var n=this.state.tensorInfo.get(e),r=n.backend,o=this.readSync(e);r.disposeData(e),n.backend=t,t.move(e,o,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},t.prototype.tidy=function(t,e){var n,r=this,o=null;if(null==e){if(\"function\"!=typeof t)throw new Error(\"Please provide a function to tidy()\");e=t}else{if(\"string\"!=typeof t&&!(t instanceof String))throw new Error(\"When calling with two arguments, the first argument to tidy() must be a string\");if(\"function\"!=typeof e)throw new Error(\"When calling with two arguments, the 2nd argument to tidy() must be a function\");o=t}return this.scopedRun((function(){return r.startScope(o)}),(function(){return r.endScope(n)}),(function(){return(n=e())instanceof Promise&&console.error(\"Cannot return a Promise inside of tidy.\"),n}))},t.prototype.scopedRun=function(t,e,n){t();try{var r=n();return e(),r}catch(t){throw e(),t}},t.prototype.nextTensorId=function(){return t.nextTensorId++},t.prototype.nextVariableId=function(){return t.nextVariableId++},t.prototype.clone=function(t){var e=this.makeTensorFromDataId(t.dataId,t.shape,t.dtype),n={x:t};return this.addTapeNode(this.state.activeScope.name,n,[e],(function(t){return{x:function(){return t.toFloat()}}}),[]),e},t.prototype.runKernel=function(t,e,n,r,o){return this.runKernelFunc(null,e,null,t,n,r,o)},t.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool(\"IS_TEST\")},t.prototype.checkKernelForMemLeak=function(t,e,n){var r=this.backend.numDataIds(),o=0;n.forEach((function(t){o+=\"complex64\"===t.dtype?3:1}));var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-e-o-a;if(i>0)throw new Error(\"Backend '\"+this.backendName+\"' has an internal memory leak (\"+i+\" data ids) after running '\"+t+\"'\")},t.prototype.runKernelFunc=function(t,e,n,r,o,a,i){var s,u=this;void 0===a&&(a=[]),void 0===i&&(i=[]);var c=[],h=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:\"\");var f,d=function(t){h&&(c=t.map((function(t){return u.keep(u.clone(t))})))},p=this.state.numBytes,v=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var m,g=l(r,this.backendName);return f=null!=g?function(){var t=u.backend.numDataIds();m=g.kernelFunc({inputs:e,attrs:o,backend:u.backend});var n=Array.isArray(m)?m:[m];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,t,n);var s=n.map((function(t){var e=t.dataId,n=t.shape,r=t.dtype;return u.makeTensorFromDataId(e,n,r)})),c=s.filter((function(t,e){return i[e]}));return d((a||[]).slice().concat(c)),s}:function(){var e=u.backend.numDataIds();m=u.tidy((function(){return t(u.backend,d)}));var n=Array.isArray(m)?m:[m];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,e,n),n},this.scopedRun((function(){return u.state.kernelDepth++}),(function(){return u.state.kernelDepth--}),(function(){s=u.ENV.getBool(\"DEBUG\")?u.profiler.profileKernel(r,e,(function(){return f()})):f()})),h&&this.addTapeNode(r,e,s,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-p,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-v,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(e).map((function(t){return e[t].shape})),outputShapes:s.map((function(t){return t.shape}))}),Array.isArray(m)?s:s[0]},t.prototype.makeTensor=function(t,e,n,r){if(null==t)throw new Error(\"Values passed to engine.makeTensor() are null\");n=n||\"float32\",r=r||this.backend;var o=t;\"string\"===n&&H(t[0])&&(o=t.map((function(t){return rt(t)})));var a=r.write(o,e,n),i=new wt(e,n,a,this.nextTensorId());if(this.incRef(i,r),\"string\"===n){var s=this.state.tensorInfo.get(a),u=G(o);this.state.numBytes+=u-s.bytes,s.bytes=u}return i},t.prototype.makeTensorFromDataId=function(t,e,n,r){var o=new wt(e,n=n||\"float32\",t,this.nextTensorId());return this.incRef(o,r),o},t.prototype.makeVariable=function(t,e,n,r){void 0===e&&(e=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==t.dtype&&(t=t.asType(r));var o=new St(t,e,n,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error(\"Variable with name \"+o.name+\" was already registered\");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},t.prototype.incRef=function(t,e){var n=this.state.tensorInfo.has(t.dataId)?this.state.tensorInfo.get(t.dataId).refCount:0;if(this.state.numTensors++,\"string\"===t.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;\"complex64\"!==t.dtype&&\"string\"!==t.dtype&&(r=t.size*z(t.dtype)),this.state.tensorInfo.set(t.dataId,{backend:e||this.backend,dtype:t.dtype,shape:t.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(t.dataId).refCount++,t instanceof St||this.track(t)},t.prototype.disposeTensor=function(t){if(this.state.tensorInfo.has(t.dataId)){this.state.numTensors--,\"string\"===t.dtype&&this.state.numStringTensors--;var e=this.state.tensorInfo.get(t.dataId);e.refCount<=1?(\"complex64\"!==t.dtype&&(this.state.numBytes-=e.bytes),this.state.numDataBuffers--,e.backend.disposeData(t.dataId),this.state.tensorInfo.delete(t.dataId)):this.state.tensorInfo.get(t.dataId).refCount--}},t.prototype.disposeVariables=function(){for(var t in this.state.registeredVariables){var e=this.state.registeredVariables[t];this.disposeVariable(e)}},t.prototype.disposeVariable=function(t){this.disposeTensor(t),null!=this.state.registeredVariables[t.name]&&delete this.state.registeredVariables[t.name]},t.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,null==t.reasons&&(t.reasons=[]),t.reasons.push(\"Memory usage by string tensors is approximate (2 bytes per character)\")),t},t.prototype.profile=function(t){return n(this,void 0,void 0,(function(){var e,n;return r(this,(function(r){return this.state.profiling=!0,e=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(t){return t.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-e,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]}))}))},t.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},t.prototype.addTapeNode=function(t,e,n,r,o){var a=this,i={id:this.state.nextTapeNodeId++,kernelName:t,inputs:e,outputs:n,saved:o},s=h(t);null!=s&&(r=s.gradFunc),null!=r&&(i.gradient=function(t){return t=t.map((function(t,e){if(null==t){var r=n[e],o=tt(r.size,r.dtype);return a.makeTensor(o,r.shape,r.dtype)}return t})),r(t.length>1?t:t[0],o)}),this.state.activeTape.push(i)},t.prototype.keep=function(t){return t.kept=!0,t},t.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},t.prototype.endTape=function(){this.state.gradientDepth--},t.prototype.startScope=function(t){var e={track:[],name:\"unnamed scope\",id:this.state.nextScopeId++};t&&(e.name=t),this.state.scopeStack.push(e),this.state.activeScope=e},t.prototype.endScope=function(t){for(var e=this,n=_t(t),r=new Set(n.map((function(t){return t.id}))),o=0;o<this.state.activeScope.track.length;o++){var a=this.state.activeScope.track[o];a.kept||r.has(a.id)||a.dispose()}var i=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(t){t.kept||t.scopeId!==i.id||e.track(t)}))},t.prototype.gradients=function(t,e,n,r){var o=this;if(void 0===r&&(r=!1),C(e.length>0,(function(){return\"gradients() received an empty list of xs.\"})),null!=n&&\"float32\"!==n.dtype)throw new Error(\"dy must have 'float32' dtype, but has '\"+n.dtype+\"'\");var a=this.scopedRun((function(){return o.startTape()}),(function(){return o.endTape()}),(function(){return o.tidy(\"forward\",t)}));C(a instanceof wt,(function(){return\"The result y returned by f() must be a tensor.\"}));var i=function(t,e,n){for(var r={},o={},a=0;a<e.length;a++)r[e[a].id]=!0;for(a=0;a<t.length;a++){var i=(p=t[a]).inputs;for(var s in i){for(var u=i[s],c=!1,l=0;l<e.length;l++)if(r[u.id]){p.outputs.forEach((function(t){return r[t.id]=!0})),c=!0,o[p.id]=!0;break}if(c)break}}var h={};h[n.id]=!0;var f={};for(a=t.length-1;a>=0;a--)for(i=(p=t[a]).inputs,l=0;l<p.outputs.length;l++)if(h[p.outputs[l].id]){for(var s in i)h[i[s].id]=!0,f[p.id]=!0;break}var d=[];for(a=0;a<t.length;a++){var p;if(o[(p=t[a]).id]&&f[p.id]){var v={};for(var s in p.inputs){var m=p.inputs[s];r[m.id]&&(v[s]=m)}var g=Object.assign({},p);g.inputs=v,g.outputs=p.outputs,d.push(g)}}return d}(this.state.activeTape,e,a);if(!r&&0===i.length&&e.length>0)throw new Error(\"Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.\");return this.tidy(\"backward\",(function(){var t,r,s={};s[a.id]=null==n?(t=a.shape,r=Z(k(t),\"float32\"),Lt.makeTensor(r,t,\"float32\")):n,function(t,e,n){for(var r=function(r){var o=e[r],a=[];if(o.outputs.forEach((function(e){var n=t[e.id];null!=n?a.push(n):a.push(null)})),null==o.gradient)throw new Error(\"Cannot compute gradient: gradient function not found for \"+o.kernelName+\".\");var i=o.gradient(a),s=function(e){if(!(e in i))throw new Error(\"Cannot backprop through input \"+e+\". Available gradients found: \"+Object.keys(i)+\".\");var r=n((function(){return i[e]()}));if(\"float32\"!==r.dtype)throw new Error(\"Error in gradient for op \"+o.kernelName+\". The gradient of input \"+e+\" must have 'float32' dtype, but has '\"+r.dtype+\"'\");var a=o.inputs[e];if(!S(r.shape,a.shape))throw new Error(\"Error in gradient for op \"+o.kernelName+\". The gradient of input '\"+e+\"' has shape '\"+r.shape+\"', which does not match the shape of the input '\"+a.shape+\"'\");if(null==t[a.id])t[a.id]=r;else{var s=t[a.id];t[a.id]=s.add(r),s.dispose()}};for(var u in o.inputs)s(u)},o=e.length-1;o>=0;o--)r(o)}(s,i,(function(t){return o.tidy(t)}));var u=e.map((function(t){return s[t.id]}));return 0===o.state.gradientDepth&&(o.state.activeTape.forEach((function(t){for(var e=0,n=t.saved;e<n.length;e++){n[e].dispose()}})),o.state.activeTape=null),{value:a,grads:u}}))},t.prototype.customGrad=function(t){var e=this;return C(X(t),(function(){return\"The f passed in customGrad(f) must be a function.\"})),function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];C(r.every((function(t){return t instanceof wt})),(function(){return\"The args passed in customGrad(f)(x1, x2,...) must all be tensors\"}));var a={};return r.forEach((function(t,e){a[e]=t})),e.runKernelFunc((function(e,o){return C((n=t.apply(void 0,r.concat([o]))).value instanceof wt,(function(){return\"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor\"})),C(X(n.gradFunc),(function(){return\"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.\"})),n.value}),a,(function(t,e){var o=n.gradFunc(t,e),a=Array.isArray(o)?o:[o];C(a.length===r.length,(function(){return\"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).\"})),C(a.every((function(t){return t instanceof wt})),(function(){return\"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.\"}));var i={};return a.forEach((function(t,e){i[e]=function(){return t}})),i}))}},t.prototype.readSync=function(t){return this.state.tensorInfo.get(t).backend.readSync(t)},t.prototype.read=function(t){return this.state.tensorInfo.get(t).backend.read(t)},t.prototype.time=function(t){return n(this,void 0,void 0,(function(){var e,n;return r(this,(function(r){switch(r.label){case 0:return e=et(),[4,this.backend.time(t)];case 1:return(n=r.sent()).wallMs=et()-e,[2,n]}}))}))},t.prototype.track=function(t){return null!=this.state.activeScope&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t},Object.defineProperty(t.prototype,\"registeredVariables\",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),t.prototype.reset=function(){for(var t in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Bt,this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},t.nextTensorId=0,t.nextVariableId=0,t}();var Lt=function(){var t=function(){if(null==Ot){var t=void 0;if(\"undefined\"!=typeof window)t=window;else if(\"undefined\"!=typeof global)t=global;else if(\"undefined\"!=typeof process)t=process;else{if(\"undefined\"==typeof self)throw new Error(\"Could not find a global object\");t=self}Ot=t}return Ot}();if(null==t._tfengine){var e=new o(t);t._tfengine=new Pt(e)}return function(t){s=t}(t._tfengine.ENV),yt=function(){return t._tfengine},t._tfengine}();function Wt(){return\"undefined\"!=typeof window&&null!=window.document||\"undefined\"!=typeof WorkerGlobalScope}var Ut=i();Ut.registerFlag(\"DEBUG\",(function(){return!1}),(function(t){t&&console.warn(\"Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.\")})),Ut.registerFlag(\"IS_BROWSER\",(function(){return Wt()})),Ut.registerFlag(\"IS_NODE\",(function(){return\"undefined\"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node})),Ut.registerFlag(\"IS_CHROME\",(function(){return\"undefined\"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),Ut.registerFlag(\"PROD\",(function(){return!1})),Ut.registerFlag(\"TENSORLIKE_CHECK_SHAPE_CONSISTENCY\",(function(){return Ut.getBool(\"DEBUG\")})),Ut.registerFlag(\"DEPRECATION_WARNINGS_ENABLED\",(function(){return!0})),Ut.registerFlag(\"IS_TEST\",(function(){return!1}));var Vt,zt,Gt,Ht={},qt={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Kt(t,e){Ht[t]=e}function jt(t){t in Ht||(Ht[t]=function(t){if(1!==t&&2!==t)throw new Error(\"Cannot get WebGL rendering context, WebGL is disabled.\");var e=function(t){if(\"undefined\"!=typeof OffscreenCanvas&&2===t)return new OffscreenCanvas(300,150);if(\"undefined\"!=typeof document)return document.createElement(\"canvas\");throw new Error(\"Cannot create a canvas in this context\")}(t);if(e.addEventListener(\"webglcontextlost\",(function(e){e.preventDefault(),delete Ht[t]}),!1),1===t)return e.getContext(\"webgl\",qt)||e.getContext(\"experimental-webgl\",qt);return e.getContext(\"webgl2\",qt)}(t));var e=Ht[t];return e.isContextLost()?(delete Ht[t],jt(t)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),Ht[t])}function Xt(t,e){return[e,t]}function Yt(t){var e=k(t);return T(Math.ceil(e/4))}function $t(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function Qt(t,e){var n,r,o,a,s,u,c,l,h,f=t;return 2===i().getNumber(\"WEBGL_VERSION\")?(n=f.R32F,r=f.R16F,o=f.RGBA16F,a=f.RGBA32F,s=f.RED,u=4,c=1,l=f.HALF_FLOAT,h=f.FLOAT):(n=t.RGBA,r=t.RGBA,o=t.RGBA,a=f.RGBA,s=t.RGBA,u=4,c=4,l=null!=e?e.HALF_FLOAT_OES:null,h=t.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:a,textureFormatFloat:s,downloadTextureFormat:t.RGBA,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:l,textureTypeFloat:h}}function Jt(t,e,n){var r=n();return e&&function(t){var e=t.getError();if(e!==t.NO_ERROR)throw new Error(\"WebGL Error: \"+ne(t,e))}(t),r}!function(t){t[t.DENSE=0]=\"DENSE\",t[t.SHARED_BATCH=1]=\"SHARED_BATCH\"}(Vt||(Vt={})),function(t){t[t.RENDER=0]=\"RENDER\",t[t.UPLOAD=1]=\"UPLOAD\",t[t.PIXELS=2]=\"PIXELS\",t[t.DOWNLOAD=3]=\"DOWNLOAD\"}(zt||(zt={})),function(t){t[t.UNPACKED_FLOAT16=0]=\"UNPACKED_FLOAT16\",t[t.UNPACKED_FLOAT32=1]=\"UNPACKED_FLOAT32\",t[t.PACKED_4X1_UNSIGNED_BYTE=2]=\"PACKED_4X1_UNSIGNED_BYTE\",t[t.PACKED_2X2_FLOAT32=3]=\"PACKED_2X2_FLOAT32\",t[t.PACKED_2X2_FLOAT16=4]=\"PACKED_2X2_FLOAT16\"}(Gt||(Gt={}));var Zt=5.96e-8,te=65504;function ee(t){return!!(i().getBool(\"WEBGL_RENDER_FLOAT32_ENABLED\")||0===t||Zt<Math.abs(t)&&Math.abs(t)<te)}function ne(t,e){switch(e){case t.NO_ERROR:return\"NO_ERROR\";case t.INVALID_ENUM:return\"INVALID_ENUM\";case t.INVALID_VALUE:return\"INVALID_VALUE\";case t.INVALID_OPERATION:return\"INVALID_OPERATION\";case t.INVALID_FRAMEBUFFER_OPERATION:return\"INVALID_FRAMEBUFFER_OPERATION\";case t.OUT_OF_MEMORY:return\"OUT_OF_MEMORY\";case t.CONTEXT_LOST_WEBGL:return\"CONTEXT_LOST_WEBGL\";default:return\"Unknown error code \"+e}}function re(t,e,n){return ke(t,e,(function(){return t.getExtension(n)}),'Extension \"'+n+'\" not supported on this browser.')}function oe(t,e,n){var r=ke(t,e,(function(){return t.createShader(t.VERTEX_SHADER)}),\"Unable to create vertex WebGLShader.\");if(Jt(t,e,(function(){return t.shaderSource(r,n)})),Jt(t,e,(function(){return t.compileShader(r)})),!1===t.getShaderParameter(r,t.COMPILE_STATUS))throw console.log(t.getShaderInfoLog(r)),new Error(\"Failed to compile vertex shader.\");return r}function ae(t,e,n){var r=ke(t,e,(function(){return t.createShader(t.FRAGMENT_SHADER)}),\"Unable to create fragment WebGLShader.\");if(Jt(t,e,(function(){return t.shaderSource(r,n)})),Jt(t,e,(function(){return t.compileShader(r)})),!1===t.getShaderParameter(r,t.COMPILE_STATUS))throw function(t,e){var n=ue.exec(e);if(null==n)return console.log(\"Couldn't parse line number in error: \"+e),void console.log(t);for(var r=+n[1],o=t.split(\"\\n\"),a=o.length.toString().length+2,i=o.map((function(t,e){return N((e+1).toString(),a)+t})),s=0,u=0;u<i.length;u++)s=Math.max(i[u].length,s);var c=i.slice(0,r-1),l=i.slice(r-1,r),h=i.slice(r);console.log(c.join(\"\\n\")),console.log(e.split(\"\\n\")[0]),console.log(\"%c \"+N(l[0],s),\"border:1px solid red; background-color:#e3d2d2; color:#a61717\"),console.log(h.join(\"\\n\"))}(n,t.getShaderInfoLog(r)),new Error(\"Failed to compile fragment shader.\");return r}var ie,se,ue=/ERROR: [0-9]+:([0-9]+):/g;function ce(t,e){return ke(t,e,(function(){return t.createProgram()}),\"Unable to create WebGLProgram.\")}function le(t,e,n){if(Jt(t,e,(function(){return t.linkProgram(n)})),!1===t.getProgramParameter(n,t.LINK_STATUS))throw console.log(t.getProgramInfoLog(n)),new Error(\"Failed to link vertex and fragment shaders.\")}function he(t,e,n){if(Jt(t,e,(function(){return t.validateProgram(n)})),!1===t.getProgramParameter(n,t.VALIDATE_STATUS))throw console.log(t.getProgramInfoLog(n)),new Error(\"Shader program validation failed.\")}function fe(t,e,n){var r=ke(t,e,(function(){return t.createBuffer()}),\"Unable to create WebGLBuffer\");return Jt(t,e,(function(){return t.bindBuffer(t.ARRAY_BUFFER,r)})),Jt(t,e,(function(){return t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)})),r}function de(t,e,n){var r=ke(t,e,(function(){return t.createBuffer()}),\"Unable to create WebGLBuffer\");return Jt(t,e,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r)})),Jt(t,e,(function(){return t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW)})),r}function pe(t,e){return ke(t,e,(function(){return t.createTexture()}),\"Unable to create WebGLTexture.\")}function ve(t,e){var n=i().getNumber(\"WEBGL_MAX_TEXTURE_SIZE\");if(t<=0||e<=0){var r=\"[\"+t+\"x\"+e+\"]\";throw new Error(\"Requested texture size \"+r+\" is invalid.\")}if(t>n||e>n){r=\"[\"+t+\"x\"+e+\"]\";throw new Error(\"Requested texture size \"+r+\" greater than WebGL maximum on this browser / GPU \"+(\"[\"+n+\"x\"+n+\"]\")+\".\")}}function me(t,e){return ke(t,e,(function(){return t.createFramebuffer()}),\"Unable to create WebGLFramebuffer.\")}function ge(t,e,n,r,o,a,i,s){var u=t.getAttribLocation(n,r);return-1!==u&&(Jt(t,e,(function(){return t.bindBuffer(t.ARRAY_BUFFER,o)})),Jt(t,e,(function(){return t.vertexAttribPointer(u,a,t.FLOAT,!1,i,s)})),Jt(t,e,(function(){return t.enableVertexAttribArray(u)})),!0)}function ye(t,e,n,r){Se(t,r),Jt(t,e,(function(){return t.activeTexture(t.TEXTURE0+r)})),Jt(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,n)}))}function xe(t,e,n,r){return ke(t,e,(function(){return t.getUniformLocation(n,r)}),'uniform \"'+r+'\" not present in program.')}function be(t,e,n){return t.getUniformLocation(e,n)}function we(t,e,n,r,o,a){Jt(t,e,(function(){return ye(t,e,r,a)})),Jt(t,e,(function(){return t.uniform1i(o,a)}))}function Ce(t,e,n,r){Jt(t,e,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,r)})),Jt(t,e,(function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0)}))}function Ee(t,e,n){Jt(t,e,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,n)})),Jt(t,e,(function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)}))}function Re(t){var e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error(\"Error binding framebuffer: \"+Ie(t,e))}function Ie(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return\"FRAMEBUFFER_INCOMPLETE_ATTACHMENT\";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return\"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT\";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return\"FRAMEBUFFER_INCOMPLETE_DIMENSIONS\";case t.FRAMEBUFFER_UNSUPPORTED:return\"FRAMEBUFFER_UNSUPPORTED\";default:return\"unknown error \"+e}}function ke(t,e,n,r){var o=Jt(t,e,(function(){return n()}));if(null==o)throw new Error(r);return o}function Se(t,e){var n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n)throw new Error(\"textureUnit must be in \"+(\"[gl.TEXTURE0, gl.TEXTURE\"+n+\"]\")+\".\")}function Ae(t,e){return void 0===e&&(e=2),k(t.slice(0,t.length-e))}function De(t){if(0===t.length)throw Error(\"Cannot get rows and columns of an empty shape array.\");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function Te(t){var e=[1,1,1];return 0===t.length||1===t.length&&1===t[0]||(e=[Ae(t)].concat(De(t))),e}function Ne(t,e){var n;void 0===e&&(e=!1);var r=i().getNumber(\"WEBGL_MAX_TEXTURE_SIZE\");if(e&&(r*=2,1===(t=t.map((function(e,n){return n>=t.length-2?b(t[n]):t[n]}))).length&&(t=[2,t[0]])),2!==t.length){var o=M(t);t=o.newShape}var a=k(t);if(t.length<=1&&a<=r)return[1,a];if(2===t.length&&t[0]<=r&&t[1]<=r)return t;if(3===t.length&&t[0]*t[1]<=r&&t[2]<=r)return[t[0]*t[1],t[2]];if(3===t.length&&t[0]<=r&&t[1]*t[2]<=r)return[t[0],t[1]*t[2]];if(4===t.length&&t[0]*t[1]*t[2]<=r&&t[3]<=r)return[t[0]*t[1]*t[2],t[3]];if(4===t.length&&t[0]<=r&&t[1]*t[2]*t[3]<=r)return[t[0],t[1]*t[2]*t[3]];if(e){var s=Ae(t),u=2,c=2;return t.length&&(u=(n=De(t))[0],c=n[1]),T(a=s*(u/2)*(c/2)).map((function(t){return 2*t}))}return T(a)}function Fe(t){return t%2==0}function _e(t,e){if(S(t=t.slice(-2),e=e.slice(-2)))return!0;if(!t.length||!e.length)return!0;if(0===t[0]||0===t[1]||0===e[0]||0===e[1])return!0;if(t.length!==e.length){var n=t.slice(-1)[0],r=e.slice(-1)[0];if(n===r)return!0;if(Fe(n)&&Fe(r)&&(1===t[0]||1===e[0]))return!0}return t[1]===e[1]&&Fe(t[0])&&Fe(e[0])}function Oe(t){if(null==ie){var e=jt(t);ie=e.getParameter(e.MAX_TEXTURE_SIZE)}return ie}function Me(t){if(null==se){var e=jt(t);se=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,se)}function Be(t){if(0===t)return 0;var e=jt(t);return Pe(e,\"EXT_disjoint_timer_query_webgl2\")&&2===t?2:Pe(e,\"EXT_disjoint_timer_query\")?1:0}function Pe(t,e){return null!=t.getExtension(e)}function Le(t){try{if(null!=jt(t))return!0}catch(t){return!1}return!1}function We(t){if(0===t)return!1;var e=jt(t);if(1===t){if(!Pe(e,\"OES_texture_float\"))return!1}else if(!Pe(e,\"EXT_color_buffer_float\"))return!1;return Ve(e)}function Ue(t){if(0===t)return!1;var e=jt(t);if(1!==t){if(Pe(e,\"EXT_color_buffer_float\"))return Ve(e);if(Pe(e,\"EXT_color_buffer_half_float\")){var n=e.getExtension(\"EXT_color_buffer_half_float\");return function(t,e){var n=Qt(t,e),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);var a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(r),t.deleteFramebuffer(o),a}(e,n)}return!1}return!!Pe(e,\"OES_texture_float\")&&(!!Pe(e,\"WEBGL_color_buffer_float\")&&Ve(e))}function Ve(t){var e=Qt(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n);t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);var r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);var o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(r),o}function ze(t){return 2===t&&null!=jt(t).fenceSync}var Ge=Object.freeze({callAndCheck:Jt,canBeRepresented:ee,getWebGLErrorMessage:ne,getExtensionOrThrow:re,createVertexShader:oe,createFragmentShader:ae,createProgram:ce,linkProgram:le,validateProgram:he,createStaticVertexBuffer:fe,createStaticIndexBuffer:de,getNumChannels:function(){return 2===i().getNumber(\"WEBGL_VERSION\")?1:4},createTexture:pe,validateTextureSize:ve,createFramebuffer:me,bindVertexBufferToProgramAttribute:ge,bindTextureUnit:ye,unbindTextureUnit:function(t,e,n){Se(t,n),Jt(t,e,(function(){return t.activeTexture(t.TEXTURE0+n)})),Jt(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,null)}))},getProgramUniformLocationOrThrow:xe,getProgramUniformLocation:be,bindTextureToProgramUniformSampler:we,bindCanvasToFramebuffer:function(t,e){Jt(t,e,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),Jt(t,e,(function(){return t.viewport(0,0,t.canvas.width,t.canvas.height)})),Jt(t,e,(function(){return t.scissor(0,0,t.canvas.width,t.canvas.height)}))},bindColorTextureToFramebuffer:Ce,unbindColorTextureFromFramebuffer:Ee,validateFramebuffer:Re,getFramebufferErrorMessage:Ie,getBatchDim:Ae,getRowsCols:De,getShapeAs3D:Te,getTextureShapeFromLogicalShape:Ne,isReshapeFree:_e,getWebGLMaxTextureSize:Oe,resetMaxTextureSize:function(){ie=null},resetMaxTexturesInShader:function(){se=null},getMaxTexturesInShader:Me,getWebGLDisjointQueryTimerVersion:Be,hasExtension:Pe,isWebGLVersionEnabled:Le,isCapableOfRenderingToFloatTexture:We,isDownloadFloatTextureEnabled:Ue,isWebGLFenceEnabled:ze}),He=i();function qe(){i().set(\"PROD\",!0)}function Ke(){i().set(\"DEBUG\",!0)}function je(){i().set(\"DEPRECATION_WARNINGS_ENABLED\",!1),console.warn(\"TensorFlow.js deprecation warnings have been disabled.\")}function Xe(t){i().getBool(\"DEPRECATION_WARNINGS_ENABLED\")&&console.warn(t+\" You can disable deprecation warnings with tf.disableDeprecationWarnings().\")}function Ye(){Lt.disposeVariables()}function $e(){return Lt}function Qe(){return Lt.memory()}function Je(t){return Lt.profile(t)}function Ze(t,e){return Lt.tidy(t,e)}function tn(t){_t(t).forEach((function(t){return t.dispose()}))}function en(t){return Lt.keep(t)}function nn(t){return Lt.time(t)}function rn(t){return Lt.setBackend(t)}function on(){return Lt.ready()}function an(){return Lt.backendName}function sn(t){Lt.removeBackend(t)}function un(t){return Lt.findBackend(t)}function cn(t){return Lt.findBackendFactory(t)}function ln(t,e,n){return void 0===n&&(n=1),Lt.registerBackend(t,e,n)}function hn(){return Lt.backend}function fn(t,e){i().setPlatform(t,e)}function dn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i().getBool(\"IS_TEST\")||console.warn.apply(console,t)}function pn(t,e){var n=t;if(V(t))return\"string\"===e?[]:[t.length];if(!Array.isArray(t))return[];for(var r=[];Array.isArray(n)||V(n)&&\"string\"!==e;)r.push(n.length),n=n[0];return Array.isArray(t)&&i().getBool(\"TENSORLIKE_CHECK_SHAPE_CONSISTENCY\")&&function t(e,n,r){if(r=r||[],!Array.isArray(e)&&!V(e))return void C(0===n.length,(function(){return\"Element arr[\"+r.join(\"][\")+\"] is a primitive, but should be an array/TypedArray of \"+n[0]+\" elements\"}));C(n.length>0,(function(){return\"Element arr[\"+r.join(\"][\")+\"] should be a primitive, but is an array of \"+e.length+\" elements\"})),C(e.length===n[0],(function(){return\"Element arr[\"+r.join(\"][\")+\"] should have \"+n[0]+\" elements, but has \"+e.length+\" elements\"}));for(var o=n.slice(1),a=0;a<e.length;++a)t(e[a],o,r.concat(a))}(t,r,[]),r}function vn(t,e,n,r){if(null!=t&&(\"numeric\"!==t&&t!==e||\"numeric\"===t&&\"string\"===e))throw new Error(\"Argument '\"+n+\"' passed to '\"+r+\"' must be \"+t+\" tensor, but got \"+e+\" tensor\")}function mn(t,e,n,r){if(void 0===r&&(r=\"numeric\"),t instanceof wt)return vn(r,t.dtype,e,n),t;var o=j(t);if(\"string\"!==o&&[\"bool\",\"int32\",\"float32\"].indexOf(r)>=0&&(o=r),vn(r,o,e,n),null==t||!V(t)&&!Array.isArray(t)&&\"number\"!=typeof t&&\"boolean\"!=typeof t&&\"string\"!=typeof t){var a=null==t?\"null\":t.constructor.name;throw new Error(\"Argument '\"+e+\"' passed to '\"+n+\"' must be a Tensor or TensorLike, but got '\"+a+\"'\")}var s=pn(t,o);V(t)||Array.isArray(t)||(t=[t]);var u=\"string\"!==o?Q(t,o,i().getBool(\"DEBUG\")):I(t,[],!0);return Lt.makeTensor(u,s,o)}function gn(t,e,n,r){if(void 0===r&&(r=\"numeric\"),!Array.isArray(t))throw new Error(\"Argument \"+e+\" passed to \"+n+\" must be a `Tensor[]` or `TensorLike[]`\");return t.map((function(t,r){return mn(t,e+\"[\"+r+\"]\",n)}),r)}function yn(t,e){for(var n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function xn(t,e,n){for(var r=t.length+e.length,o=[],a=0,i=0,s=0;s<r;s++)-1===n.indexOf(s)?o.push(t[a++]):o.push(e[i++]);return o}function bn(t,e){for(var n=[],r=t.length,o=0;o<r;o++)-1===e.indexOf(o)&&n.push(t[o]);return[n,e.map((function(e){return t[e]}))]}function wn(t,e){return xn(t,e.map((function(t){return 1})),e)}function Cn(t,e,n){C(yn(e,n),(function(){return t+\" supports only inner-most axes for now. Got axes \"+e+\" and rank-\"+n+\" input.\"}))}function En(t,e){if(yn(t,e))return null;for(var n=[],r=0;r<e;++r)-1===t.indexOf(r)&&n.push(r);return t.forEach((function(t){return n.push(t)})),n}function Rn(t){return t.map((function(t,e){return[e,t]})).sort((function(t,e){return t[1]-e[1]})).map((function(t){return t[0]}))}function In(t,e){for(var n=[],r=e-t;r<e;++r)n.push(r);return n}function kn(t,e){var n=t[0].length;t.forEach((function(t,e){C(t.length===n,(function(){return\"Error in concat\"+n+\"D: rank of tensors[\"+e+\"] must be the same as the rank of the rest (\"+n+\")\"}))})),C(e>=0&&e<n,(function(){return\"Error in concat\"+n+\"D: axis must be between 0 and \"+(n-1)+\".\"}));var r=t[0];t.forEach((function(t,o){for(var a=0;a<n;a++)C(a===e||t[a]===r[a],(function(){return\"Error in concat\"+n+\"D: Shape of tensors[\"+o+\"] (\"+t+\") does not match the shape of the rest (\"+r+\") along the non-concatenated axis \"+o+\".\"}))}))}function Sn(t,e){for(var n=t[0].slice(),r=1;r<t.length;r++)n[e]+=t[r][e];return n}function An(t){var e=Object.keys(t);if(1!==e.length)throw new Error(\"Please provide an object with a single key (operation name) mapping to a function. Got an object with \"+e.length+\" keys.\");var n=e[0],r=t[n];n.endsWith(\"_\")&&(n=n.substring(0,n.length-1));var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Lt.startScope(n);try{var o=r.apply(void 0,t);return o instanceof Promise&&console.error(\"Cannot return a Promise inside of tidy.\"),Lt.endScope(o),o}catch(t){throw Lt.endScope(null),t}};return Object.defineProperty(o,\"name\",{value:n,configurable:!0}),o}He.registerFlag(\"HAS_WEBGL\",(function(){return He.getNumber(\"WEBGL_VERSION\")>0})),He.registerFlag(\"WEBGL_VERSION\",(function(){return Le(2)?2:Le(1)?1:0})),He.registerFlag(\"WEBGL_BUFFER_SUPPORTED\",(function(){return 2===He.get(\"WEBGL_VERSION\")})),He.registerFlag(\"WEBGL_CPU_FORWARD\",(function(){return!0})),He.registerFlag(\"WEBGL_FORCE_F16_TEXTURES\",(function(){return!1})),He.registerFlag(\"WEBGL_PACK\",(function(){return He.getBool(\"HAS_WEBGL\")})),He.registerFlag(\"WEBGL_PACK_NORMALIZATION\",(function(){return He.getBool(\"WEBGL_PACK\")})),He.registerFlag(\"WEBGL_PACK_CLIP\",(function(){return He.getBool(\"WEBGL_PACK\")})),He.registerFlag(\"WEBGL_PACK_DEPTHWISECONV\",(function(){return!1})),He.registerFlag(\"WEBGL_PACK_BINARY_OPERATIONS\",(function(){return He.getBool(\"WEBGL_PACK\")})),He.registerFlag(\"WEBGL_PACK_UNARY_OPERATIONS\",(function(){return He.getBool(\"WEBGL_PACK\")})),He.registerFlag(\"WEBGL_PACK_ARRAY_OPERATIONS\",(function(){return He.getBool(\"WEBGL_PACK\")})),He.registerFlag(\"WEBGL_PACK_IMAGE_OPERATIONS\",(function(){return He.getBool(\"WEBGL_PACK\")})),He.registerFlag(\"WEBGL_PACK_REDUCE\",(function(){return He.getBool(\"WEBGL_PACK\")})),He.registerFlag(\"WEBGL_LAZILY_UNPACK\",(function(){return He.getBool(\"WEBGL_PACK\")})),He.registerFlag(\"WEBGL_CONV_IM2COL\",(function(){return He.getBool(\"WEBGL_PACK\")})),He.registerFlag(\"WEBGL_MAX_TEXTURE_SIZE\",(function(){return Oe(He.getNumber(\"WEBGL_VERSION\"))})),He.registerFlag(\"WEBGL_MAX_TEXTURES_IN_SHADER\",(function(){return Me(He.getNumber(\"WEBGL_VERSION\"))})),He.registerFlag(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\",(function(){var t=He.getNumber(\"WEBGL_VERSION\");return 0===t?0:Be(t)})),He.registerFlag(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE\",(function(){return He.getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\")>0&&(t=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(t.substr(0,4))));var t})),He.registerFlag(\"WEBGL_RENDER_FLOAT32_CAPABLE\",(function(){return We(He.getNumber(\"WEBGL_VERSION\"))})),He.registerFlag(\"WEBGL_RENDER_FLOAT32_ENABLED\",(function(){return!He.getBool(\"WEBGL_FORCE_F16_TEXTURES\")&&He.getBool(\"WEBGL_RENDER_FLOAT32_CAPABLE\")})),He.registerFlag(\"WEBGL_DOWNLOAD_FLOAT_ENABLED\",(function(){return Ue(He.getNumber(\"WEBGL_VERSION\"))})),He.registerFlag(\"WEBGL_FENCE_API_ENABLED\",(function(){return ze(He.getNumber(\"WEBGL_VERSION\"))})),He.registerFlag(\"WEBGL_SIZE_UPLOAD_UNIFORM\",(function(){return He.getBool(\"WEBGL_RENDER_FLOAT32_ENABLED\")?4:0})),bt=Xe;var Dn=An({complex_:function(t,e){var n=mn(t,\"real\",\"complex\"),r=mn(e,\"imag\",\"complex\");return E(n.shape,r.shape,\"real and imag shapes, \"+n.shape+\" and \"+r.shape+\", must match in call to tf.complex().\"),Lt.runKernelFunc((function(t){return t.complex(n,r)}),{$real:n,$imag:r})}}),Tn=An({real_:function(t){var e=mn(t,\"input\",\"real\");return Lt.runKernelFunc((function(t){return t.real(e)}),{$input:e})}}),Nn=An({imag_:function(t){var e=mn(t,\"input\",\"imag\");return Lt.runKernelFunc((function(t){return t.imag(e)}),{$input:e})}});function Fn(t,e,n){return _n(t,e,pn(t,n),n)}function _n(t,e,n,r){if(null==r&&(r=j(t)),\"complex64\"===r)throw new Error(\"Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).\");if(!V(t)&&!Array.isArray(t)&&\"number\"!=typeof t&&\"boolean\"!=typeof t&&\"string\"!=typeof t)throw new Error(\"values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray\");if(null!=e){nt(e);var o=k(e),a=k(n);C(o===a,(function(){return\"Based on the provided shape, [\"+e+\"], the tensor should have \"+o+\" values but has \"+a}));for(var s=0;s<n.length;++s){var u=n[s],c=s!==n.length-1||u!==k(e.slice(s));C(n[s]===e[s]||!c,(function(){return\"Error creating a new Tensor. Inferred shape (\"+n+\") does not match the provided shape (\"+e+\"). \"}))}}return V(t)||Array.isArray(t)||(t=[t]),e=e||n,t=\"string\"!==r?Q(t,r,i().getBool(\"DEBUG\")):I(t,[],!0),Lt.makeTensor(t,e,r)}function On(t,e){if((V(t)&&\"string\"!==e||Array.isArray(t))&&\"complex64\"!==e)throw new Error(\"Error creating a new Scalar: value must be a primitive (number|boolean|string)\");if(\"string\"===e&&V(t)&&!(t instanceof Uint8Array))throw new Error(\"When making a scalar from encoded string, the value must be `Uint8Array`.\");return _n(t,[],[],e)}function Mn(t,e){R(t);var n=pn(t,e);if(1!==n.length)throw new Error(\"tensor1d() requires values to be a flat/TypedArray\");return _n(t,null,n,e)}function Bn(t,e,n){if(R(t),null!=e&&2!==e.length)throw new Error(\"tensor2d() requires shape to have two numbers\");var r=pn(t,n);if(2!==r.length&&1!==r.length)throw new Error(\"tensor2d() requires values to be number[][] or flat/TypedArray\");if(1===r.length&&null==e)throw new Error(\"tensor2d() requires shape to be provided when `values` are a flat/TypedArray\");return _n(t,e,r,n)}function Pn(t,e,n){if(R(t),null!=e&&3!==e.length)throw new Error(\"tensor3d() requires shape to have three numbers\");var r=pn(t,n);if(3!==r.length&&1!==r.length)throw new Error(\"tensor3d() requires values to be number[][][] or flat/TypedArray\");if(1===r.length&&null==e)throw new Error(\"tensor3d() requires shape to be provided when `values` are a flat array\");return _n(t,e,r,n)}function Ln(t,e,n){if(R(t),null!=e&&4!==e.length)throw new Error(\"tensor4d() requires shape to have four numbers\");var r=pn(t,n);if(4!==r.length&&1!==r.length)throw new Error(\"tensor4d() requires values to be number[][][][] or flat/TypedArray\");if(1===r.length&&null==e)throw new Error(\"tensor4d() requires shape to be provided when `values` are a flat array\");return _n(t,e,r,n)}function Wn(t,e,n){if(R(t),null!=e&&5!==e.length)throw new Error(\"tensor5d() requires shape to have five numbers\");var r=pn(t,n);if(5!==r.length&&1!==r.length)throw new Error(\"tensor5d() requires values to be number[][][][][] or flat/TypedArray\");if(1===r.length&&null==e)throw new Error(\"tensor5d() requires shape to be provided when `values` are a flat array\");return _n(t,e,r,n)}function Un(t,e,n){if(R(t),null!=e&&6!==e.length)throw new Error(\"tensor6d() requires shape to have six numbers\");var r=pn(t,n);if(6!==r.length&&1!==r.length)throw new Error(\"tensor6d() requires values to be number[][][][][][] or flat/TypedArray\");if(1===r.length&&null==e)throw new Error(\"tensor6d() requires shape to be provided when `values` are a flat array\");return _n(t,e=e||r,r,n)}function Vn(t,e,n,r){return void 0===e&&(e=!0),Lt.makeVariable(t,e,n,r)}function zn(t,e){if(void 0===e&&(e=\"float32\"),\"complex64\"===e){var n=zn(t,\"float32\"),r=Gn(t,\"float32\");return Dn(n,r)}var o=Z(k(t),e);return Lt.makeTensor(o,t,e)}function Gn(t,e){if(void 0===e&&(e=\"float32\"),\"complex64\"===e){var n=Gn(t,\"float32\"),r=Gn(t,\"float32\");return Dn(n,r)}var o=tt(k(t),e);return Lt.makeTensor(o,t,e)}function Hn(t,e,n){return Lt.runKernelFunc((function(r){return r.fill(t,e,n)}),{})}function qn(t,e,n){if(n<=0)throw new Error(\"The number of values should be positive.\");return Lt.runKernelFunc((function(r){return r.linspace(t,e,n)}),{})}function Kn(t,e,n,r){if(void 0===n&&(n=1),void 0===r&&(r=\"float32\"),0===n)throw new Error(\"Cannot have a step of zero\");if(t===e||t<e&&n<0||e<t&&n>1)return Gn([0],r);var o=tt(Math.abs(Math.ceil((e-t)/n)),r);e<t&&1===n&&(n=-1),o[0]=t;for(var a=1;a<o.length;a++)o[a]=o[a-1]+n;return Mn(o,r)}var jn=An({onesLike_:function(t){var e=mn(t,\"x\",\"onesLike\");if(\"complex64\"===e.dtype){var n=jn(Tn(e)),r=Xn(Nn(e));return Dn(n,r)}return Lt.runKernelFunc((function(t){return t.onesLike(e)}),{$x:e},(function(t,e){return{$x:function(){return Xn(t)}}}))}}),Xn=An({zerosLike_:function(t){var e=mn(t,\"x\",\"zerosLike\");return Lt.runKernelFunc((function(t){return t.zerosLike(e)}),{$x:e},(function(t,e){return{$x:function(){return Xn(t)}}}))}});var Yn=An({concat_:function(t,e){void 0===e&&(e=0),C(t.length>=1,(function(){return\"Pass at least one tensor to concat\"}));var n=gn(t,\"tensors\",\"concat\");\"complex64\"===n[0].dtype&&n.forEach((function(t){if(\"complex64\"!==t.dtype)throw new Error(\"Cannot concatenate complex64 tensors with a tensor\\n          with dtype \"+t.dtype+\". \")})),e=O(e,n[0].shape)[0];var r=Sn(n.map((function(t){return t.shape})),e);if(0===k(r))return Fn([],r);if(1===(n=n.filter((function(t){return t.size>0}))).length)return n[0];var o=n.map((function(t){return t.shape}));kn(o,e);var a=n,i={axis:e};return Lt.runKernelFunc((function(t){return t.concat(n,e)}),a,(function(t){var n=o.map((function(t){return t[e]}));return tr(t,n,e).map((function(t){return function(){return t}}))}),\"Concat\",i)}}),$n=An({concat1d_:function(t){return Yn(t,0)}}),Qn=An({concat2d_:function(t,e){return Yn(t,e)}}),Jn=An({concat3d_:function(t,e){return Yn(t,e)}}),Zn=An({concat4d_:function(t,e){return Yn(t,e)}}),tr=An({split_:function(t,e,n){void 0===n&&(n=0);var r,o=mn(t,\"x\",\"split\");return n=O(n,o.shape)[0],\"number\"==typeof e?(C(o.shape[n]%e==0,(function(){return\"Number of splits must evenly divide the axis.\"})),r=new Array(e).fill(o.shape[n]/e)):(C(o.shape[n]===e.reduce((function(t,e){return t+e})),(function(){return\"The sum of sizes must match the size of the axis dimension.\"})),r=e),Lt.runKernelFunc((function(t){return t.split(o,r,n)}),{$x:o},(function(t){return{$x:function(){return Yn(t,n)}}}))}});\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self&&self;function er(t,e){return t(e={exports:{}},e.exports),e.exports}var nr=er((function(t){!function(t,e,n){function r(t){var e,n=this,r=(e=4022871197,function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(\" \"),n.s1=r(\" \"),n.s2=r(\" \"),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function o(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function a(t,e){var n=new r(t),a=e&&e.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,a&&(\"object\"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n((function(){return a})):this.alea=a}(0,t,!1)})),rr=er((function(t){!function(t,e,n){function r(t){var e=this,n=\"\";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function o(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function a(t,e){var n=new r(t),a=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,a&&(\"object\"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n((function(){return a})):this.xor128=a}(0,t,!1)})),or=er((function(t){!function(t,e,n){function r(t){var e=this,n=\"\";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function o(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function a(t,e){var n=new r(t),a=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,a&&(\"object\"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n((function(){return a})):this.xorwow=a}(0,t,!1)})),ar=er((function(t){!function(t,e,n){function r(t){var e=this;e.next=function(){var t,n,r=e.x,o=e.i;return t=r[o],n=(t^=t>>>7)^t<<24,n^=(t=r[o+1&7])^t>>>10,n^=(t=r[o+3&7])^t>>>3,n^=(t=r[o+4&7])^t<<7,t=r[o+7&7],n^=(t^=t<<13)^t<<9,r[o]=n,e.i=o+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=\"\"+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function o(t,e){return e.x=t.x.slice(),e.i=t.i,e}function a(t,e){null==t&&(t=+new Date);var n=new r(t),a=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,a&&(a.x&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n((function(){return a})):this.xorshift7=a}(0,t,!1)})),ir=er((function(t){!function(t,e,n){function r(t){var e=this;e.next=function(){var t,n,r=e.w,o=e.X,a=e.i;return e.w=r=r+1640531527|0,n=o[a+34&127],t=o[a=a+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=o[a]=n^t,e.i=a,n+(r^r>>>16)|0},function(t,e){var n,r,o,a,i,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+=\"\\0\",r=0,u=Math.max(u,e.length)),o=0,a=-32;a<u;++a)e&&(r^=e.charCodeAt((a+32)%e.length)),0===a&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(i=i+1640531527|0,o=0==(n=s[127&a]^=r+i)?o+1:0);for(o>=128&&(s[127&(e&&e.length||0)]=-1),o=127,a=512;a>0;--a)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;t.w=i,t.X=s,t.i=o}(e,t)}function o(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function a(t,e){null==t&&(t=+new Date);var n=new r(t),a=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,a&&(a.X&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n((function(){return a})):this.xor4096=a}(0,t,!1)})),sr=er((function(t){!function(t,e,n){function r(t){var e=this,n=\"\";e.next=function(){var t=e.b,n=e.c,r=e.d,o=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^o,e.a=o-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function o(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function a(t,e){var n=new r(t),a=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,a&&(\"object\"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n((function(){return a})):this.tychei=a}(0,t,!1)})),ur=er((function(t){!function(e,n){var r,o=this,a=256,i=6,s=\"random\",u=n.pow(a,i),c=n.pow(2,52),l=2*c,h=a-1;function f(t,h,f){var g=[],y=v(function t(e,n){var r,o=[],a=typeof e;if(n&&\"object\"==a)for(r in e)try{o.push(t(e[r],n-1))}catch(t){}return o.length?o:\"string\"==a?e:e+\"\\0\"}((h=1==h?{entropy:!0}:h||{}).entropy?[t,m(e)]:null==t?function(){try{var t;return r&&(t=r.randomBytes)?t=t(a):(t=new Uint8Array(a),(o.crypto||o.msCrypto).getRandomValues(t)),m(t)}catch(t){var n=o.navigator,i=n&&n.plugins;return[+new Date,o,i,o.screen,m(e)]}}():t,3),g),x=new d(g),b=function(){for(var t=x.g(i),e=u,n=0;t<c;)t=(t+n)*a,e*=a,n=x.g(1);for(;t>=l;)t/=2,e/=2,n>>>=1;return(t+n)/e};return b.int32=function(){return 0|x.g(4)},b.quick=function(){return x.g(4)/4294967296},b.double=b,v(m(x.S),e),(h.pass||f||function(t,e,r,o){return o&&(o.S&&p(o,x),t.state=function(){return p(x,{})}),r?(n[s]=t,e):t})(b,y,\"global\"in h?h.global:this==n,h.state)}function d(t){var e,n=t.length,r=this,o=0,i=r.i=r.j=0,s=r.S=[];for(n||(t=[n++]);o<a;)s[o]=o++;for(o=0;o<a;o++)s[o]=s[i=h&i+t[o%n]+(e=s[o])],s[i]=e;(r.g=function(t){for(var e,n=0,o=r.i,i=r.j,s=r.S;t--;)e=s[o=h&o+1],n=n*a+s[h&(s[o]=s[i=h&i+e])+(s[i]=e)];return r.i=o,r.j=i,n})(a)}function p(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function v(t,e){for(var n,r=t+\"\",o=0;o<r.length;)e[h&o]=h&(n^=19*e[h&o])+r.charCodeAt(o++);return m(e)}function m(t){return String.fromCharCode.apply(0,t)}if(n[\"seed\"+s]=f,v(n.random(),e),t.exports){t.exports=f;try{r=__webpack_require__(/*! crypto */ \"crypto\")}catch(t){}}}([],Math)}));ur.alea=nr,ur.xor128=rr,ur.xorwow=or,ur.xorshift7=ar,ur.xor4096=ir,ur.tychei=sr;var cr=ur.alea,lr=function(){function t(t,e,n,r,o){this.mean=t,this.stdDev=e,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var a=o||Math.random();this.random=cr(a.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var e,n,r=!1;!r;){var o=void 0,a=void 0,i=void 0;do{i=(o=2*this.random()-1)*o+(a=2*this.random()-1)*a}while(i>=1||0===i);var s=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*o*s,n=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(e)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(e)},t.prototype.convertValue=function(t){return null==this.dtype||\"float32\"===this.dtype?t:Math.round(t)},t.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},t}(),hr=function(){function t(t,e,n,r){this.alpha=t,this.beta=1/e,this.dtype=n;var o=r||Math.random();this.randu=cr(o.toString()),this.randn=new lr(0,1,n,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return t.prototype.nextValue=function(){for(var t,e,n,r,o,a;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,e=1-.331*(t=r*r)*t,n=.5*t+this.d*(1-a+Math.log(a)),(o=this.randu())<e||Math.log(o)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)},t.prototype.convertValue=function(t){return\"float32\"===this.dtype?t:Math.round(t)},t}(),fr=function(){function t(t,e,n,r){var o=this;if(void 0===t&&(t=0),void 0===e&&(e=1),this.canReturnFloat=function(){return null==o.dtype||\"float32\"===o.dtype},this.min=t,this.range=e-t,this.dtype=n,null==r&&(r=Math.random()),\"number\"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(\"The difference between \"+t+\" - \"+e+\" <= 1 and dtype is not float\");this.random=cr(r)}return t.prototype.convertValue=function(t){return this.canReturnFloat()?t:Math.round(t)},t.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},t}();function dr(t,e,n){return void 0===e&&(e=\"float32\"),e=e||\"float32\",nt(t),new gt(t,e,n)}function pr(t,e){void 0===e&&(e=!1),console.log(t.toString(e))}var vr=An({batchToSpaceND_:function(t,e,n){var r=mn(t,\"x\",\"batchToSpaceND\"),o=e.reduce((function(t,e){return t*e}));return C(r.rank>=1+e.length,(function(){return\"input rank is \"+r.rank+\" but should be > than blockShape.length \"+e.length})),C(n.length===e.length,(function(){return\"crops.length is \"+n.length+\" but should be equal to blockShape.length  \"+e.length})),C(r.shape[0]%o==0,(function(){return\"input tensor batch is \"+r.shape[0]+\" but is not divisible by the product of the elements of blockShape \"+e.join(\" * \")+\" === \"+o})),Lt.runKernelFunc((function(t){return t.batchToSpaceND(r,e,n)}),{$x:r},(function(t){return{$x:function(){return t.spaceToBatchND(e,n)}}}))}}),mr=An({broadcastTo_:function(t,e){var n=mn(t,\"broadcastTo\",\"x\"),r=n.shape;if(e.some((function(t){return!(t>0)||t%1!=0})))throw new Error(\"broadcastTo(): Invalid broadcast shape [\"+e+\"].\");if(e.length<n.rank)throw new Error(\"broadcastTo(): shape.length=\"+e.length+\" < input.rank=\"+n.rank+\".\");if(e.length>n.rank){for(var o=n.shape.slice();o.length<e.length;)o.unshift(1);n=n.reshape(o)}for(var a=Array.from(e),i=e.length-1;i>=0;i--)if(n.shape[i]===e[i])a[i]=1;else if(1!==n.shape[i])throw new Error(\"broadcastTo(): [\"+r+\"] cannot be broadcast to [\"+e+\"].\");var s=a.map((function(t,e){return t>1?e:-1})).filter((function(t){return t>=0}));return 0===s.length?n.clone():Lt.runKernelFunc((function(t){return t.tile(n,a)}),{input:n},(function(t){return{input:function(){return t.sum(s,!0)}}}))}}),gr=An({cast_:function(t,e){var n=mn(t,\"x\",\"cast\");if(!W(e))throw new Error(\"Failed to cast to unknown dtype \"+e);if(\"string\"===e&&\"string\"!==n.dtype||\"string\"!==e&&\"string\"===n.dtype)throw new Error(\"Only strings can be casted to strings\");var r={dtype:e};return Lt.runKernelFunc((function(t){return t.cast(n,e)}),{x:n},(function(t){return{x:function(){return t.clone()}}}),\"Cast\",r)}}),yr=An({clone_:function(t){var e=mn(t,\"x\",\"clone\",null);return Lt.runKernelFunc((function(){return Lt.makeTensorFromDataId(e.dataId,e.shape,e.dtype)}),{$x:e},(function(t){return{$x:function(){return t.toFloat()}}}))}}),xr=An({cumsum_:function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var o=mn(t,\"x\",\"cumsum\"),a=En([e|=0],o.rank),i=o;null!=a&&(i=o.transpose(a));var s=In(1,o.rank)[0],u=Lt.runKernelFunc((function(t){return t.cumsum(i,s,n,r)}),{permutedX:i},(function(t){return{permutedX:function(){return t.cumsum(e,n,!r)}}}));return null!=a&&(u=u.transpose(a)),u}}),br=An({depthToSpace_:function(t,e,n){void 0===n&&(n=\"NHWC\");var r=mn(t,\"x\",\"depthToSpace\"),o=\"NHWC\"===n?r.shape[1]:r.shape[2],a=\"NHWC\"===n?r.shape[2]:r.shape[3],i=\"NHWC\"===n?r.shape[3]:r.shape[1];return C(o*e>=0,(function(){return\"Negative dimension size caused by overflow when multiplying\\n      \"+o+\" and \"+e+\"  for depthToSpace with input shape\\n      \"+r.shape})),C(a*e>=0,(function(){return\"Negative dimension size caused by overflow when multiplying\\n      \"+a+\" and \"+e+\" for depthToSpace with input shape\\n          \"+r.shape})),C(i%(e*e)==0,(function(){return\"Dimension size must be evenly divisible by \"+e*e+\" but is \"+i+\" for depthToSpace with input shape \"+r.shape})),Lt.runKernelFunc((function(t){return t.depthToSpace(r,e,n)}),{$x:r})}}),wr=An({expandDims_:function(t,e){void 0===e&&(e=0);var n=mn(t,\"x\",\"expandDims\",null);C(e<=n.rank,(function(){return\"Axis must be <= rank of the tensor\"}));var r=n.shape.slice();return e<0&&(C(-(n.rank+1)<=e,(function(){return\"Axis must be in the interval [\"+-(n.rank+1)+\", \"+n.rank+\"]\"})),e=n.rank+e+1),r.splice(e,0,1),Or(n,r)}}),Cr=An({eye_:function(t,e,n,r){void 0===r&&(r=\"float32\"),null==e&&(e=t);for(var o=dr([t,e],r),a=t<=e?t:e,i=0;i<a;++i)o.set(1,i,i);var s=o.toTensor().as2D(t,e);if(null==n)return s;if(1===n.length)return Lr(wr(s,0),[n[0],1,1]);if(2===n.length)return Lr(wr(wr(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return Lr(wr(wr(wr(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(\"eye() currently supports only 1D and 2D batchShapes, but received \"+n.length+\"D.\")}}),Er=An({multinomial_:function(t,e,n,r){void 0===r&&(r=!1);var o=mn(t,\"logits\",\"multinomial\"),a=o.size,i=o.rank;if(a<2)throw new Error(\"Error in multinomial: you need at least 2 outcomes, but got \"+a+\".\");if(i>2)throw new Error(\"Rank of probabilities must be 1 or 2, but is \"+i);n=n||Math.random();var s=1===i?o.as2D(1,-1):o,u=Lt.runKernelFunc((function(t){return t.multinomial(s,r,e,n)}),{logits2D:s});return 1===i?u.as1D():u}}),Rr=An({oneHot_:function(t,e,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),e<2)throw new Error(\"Error in oneHot: depth must be >=2, but it is \"+e);var o=mn(t,\"indices\",\"oneHot\",\"int32\"),a=o.shape.concat([e]);return o=o.flatten(),Lt.runKernelFunc((function(t){return t.oneHot(o,e,n,r)}),{$indices:o},(function(t){return{$indices:function(){return Gn(o.shape,\"float32\")}}})).reshape(a)}}),Ir=An({pad_:function(t,e,n){void 0===n&&(n=0);var r=mn(t,\"x\",\"pad\");if(0===r.rank)throw new Error(\"pad(scalar) is not defined. Pass non-scalar to pad\");var o={paddings:e,constantValue:n};return Lt.runKernelFunc((function(t){return t.pad(r,e,n)}),{x:r},(function(t){var n=e.map((function(t){return t[0]}));return{x:function(){return t.slice(n,r.shape)}}}),\"PadV2\",o)}}),kr=An({pad1d_:function(t,e,n){return void 0===n&&(n=0),C(2===e.length,(function(){return\"Invalid number of paddings. Must be length of 2.\"})),Ir(t,[e],n)}}),Sr=An({pad2d_:function(t,e,n){return void 0===n&&(n=0),C(2===e.length&&2===e[0].length&&2===e[1].length,(function(){return\"Invalid number of paddings. Must be length of 2 each.\"})),Ir(t,e,n)}}),Ar=An({pad3d_:function(t,e,n){return void 0===n&&(n=0),C(3===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length,(function(){return\"Invalid number of paddings. Must be length of 2 each.\"})),Ir(t,e,n)}}),Dr=An({pad4d_:function(t,e,n){return void 0===n&&(n=0),C(4===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length&&2===e[3].length,(function(){return\"Invalid number of paddings. Must be length of 2 each.\"})),Ir(t,e,n)}}),Tr=An({rand_:function(t,e,n){var r=k(t),o=null;if(null==n||\"float32\"===n)o=new Float32Array(r);else if(\"int32\"===n)o=new Int32Array(r);else{if(\"bool\"!==n)throw new Error(\"Unknown data type \"+n);o=new Uint8Array(r)}for(var a=0;a<r;a++)o[a]=e();return Lt.makeTensor(o,t,n)}}),Nr=An({randomNormal_:function(t,e,n,r,o){if(void 0===e&&(e=0),void 0===n&&(n=1),null!=r&&\"bool\"===r)throw new Error(\"Unsupported data type \"+r);for(var a=new lr(e,n,r,!1,o),i=dr(t,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),Fr=An({randomGamma_:function(t,e,n,r,o){if(void 0===n&&(n=1),void 0===r&&(r=\"float32\"),null==n&&(n=1),null==r&&(r=\"float32\"),\"float32\"!==r&&\"int32\"!==r)throw new Error(\"Unsupported data type \"+r);for(var a=new hr(e,n,r,o),i=dr(t,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),_r=An({randomUniform_:function(t,e,n,r,o){void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r=\"float32\");for(var a=dr(t,r),i=new fr(e,n,null,o),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),Or=An({reshape_:function(t,e){var n=mn(t,\"x\",\"reshape\",null);e=_(e,n.size),C(n.size===k(e),(function(){return\"new shape and old shape must have the same number of elements.\"}));var r={shape:e};return Lt.runKernelFunc((function(t){return t.reshape(n,e)}),{x:n},(function(t){return{x:function(){return t.reshape(n.shape)}}}),\"Reshape\",r)}}),Mr=An({spaceToBatchND_:function(t,e,n){var r=mn(t,\"x\",\"spaceToBatchND\");return C(r.rank>=1+e.length,(function(){return\"input rank \"+r.rank+\" should be > than [blockShape] \"+e.length})),C(n.length===e.length,(function(){return\"paddings.shape[0] \"+n.length+\" must be equal to [blockShape] \"+e.length})),C(r.shape.reduce((function(t,r,o){return o>0&&o<=e.length?t&&(r+n[o-1][0]+n[o-1][1])%e[o-1]==0:t}),!0),(function(){return\"input spatial dimensions \"+r.shape.slice(1)+\" with paddings \"+n.toString()+\" must be divisible by blockShapes \"+e.toString()})),Lt.runKernelFunc((function(t){return t.spaceToBatchND(r,e,n)}),{$x:r},(function(t){return{$x:function(){return t.batchToSpaceND(e,n)}}}))}}),Br=An({squeeze_:function(t,e){var n=mn(t,\"x\",\"squeeze\");return Or(n,M(n.shape,e).newShape)}}),Pr=An({stack_:function(t,e){void 0===e&&(e=0);var n=gn(t,\"tensors\",\"stack\");if(C(n.length>=1,(function(){return\"Pass at least one tensor to tf.stack\"})),1===n.length)return n[0].expandDims(e);var r=n[0].rank,o=n[0].shape,a=n[0].dtype;C(e<=r,(function(){return\"Axis must be <= rank of the tensor\"})),n.forEach((function(t){E(o,t.shape,\"All tensors passed to stack must have matching shapes\")})),n.forEach((function(t){C(a===t.dtype,(function(){return\"All tensors passed to stack must have matching dtypes\"}))}));var i=n.map((function(t){return t.expandDims(e)}));return Yn(i,e)}}),Lr=An({tile_:function(t,e){var n=mn(t,\"x\",\"tile\",null);C(n.rank===e.length,(function(){return\"Error in transpose: rank of input \"+n.rank+\" must match length of reps \"+e+\".\"}));var r=[n],o={reps:e};return Lt.runKernelFunc((function(t,r){var o=t.tile(n,e);return r([n]),o}),{x:n},(function(t,n){var r=n[0];return{x:function(){var n=Xn(r);if(1===r.rank)for(var o=0;o<e[0];++o)n=n.add(t.slice([o*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(o=0;o<e[0];++o)for(var a=0;a<e[1];++a)n=n.add(t.slice([o*r.shape[0],a*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(o=0;o<e[0];++o)for(a=0;a<e[1];++a)for(var i=0;i<e[2];++i)n=n.add(t.slice([o*r.shape[0],a*r.shape[1],i*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error(\"Gradient for tile operation is not implemented for rank-\"+r.rank+\" tensors yet.\");for(o=0;o<e[0];++o)for(a=0;a<e[1];++a)for(i=0;i<e[2];++i)for(var s=0;s<e[3];++s)n=n.add(t.slice([o*r.shape[0],a*r.shape[1],i*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}}),\"Tile\",o,r)}}),Wr=An({truncatedNormal_:function(t,e,n,r,o){if(void 0===e&&(e=0),void 0===n&&(n=1),null!=r&&\"bool\"===r)throw new Error(\"Unsupported data type \"+r);for(var a=new lr(e,n,r,!0,o),i=dr(t,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),Ur=An({unstack_:function(t,e){void 0===e&&(e=0),e=e||0;var n=mn(t,\"x\",\"unstack\");C(e>=-n.shape.length&&e<n.shape.length,(function(){return\"Axis = \"+e+\" is not in [-\"+n.shape.length+\", \"+n.shape.length+\")\"})),e<0&&(e+=n.shape.length);var r={axis:e};return Lt.runKernelFunc((function(t){return t.unstack(n,e)}),{x:n},(function(t){return{x:function(){return Pr(t,e)}}}),\"Unpack\",r)}}),Vr=function(t,e){return n(this,void 0,void 0,(function(){var n,o,a,i,s,u,c,l,h,f;return r(this,(function(r){switch(r.label){case 0:return n=mn(t,\"x\",\"setdiff1d\"),o=mn(e,\"y\",\"setdiff1d\"),C(n.dtype===o.dtype,(function(){return\"x and y should have the same dtype, but got x (\"+n.dtype+\") and y (\"+o.dtype+\").\"})),C(1===n.rank,(function(){return\"x should be 1D tensor, but got x (\"+n.shape+\").\"})),C(1===o.rank,(function(){return\"y should be 1D tensor, but got y (\"+o.shape+\").\"})),[4,n.data()];case 1:return a=r.sent(),[4,o.data()];case 2:for(i=r.sent(),s=new Set(i),u=0,h=0;h<a.length;h++)s.has(a[h])||u++;for(c=new gt([u],n.dtype),l=new gt([u],\"int32\"),h=0,f=0;h<a.length;h++)s.has(a[h])||(c.values[f]=a[h],l.values[f]=h,f++);return[2,[c.toTensor(),l.toTensor()]]}}))}))};function zr(t,e,n,r){void 0===r&&(r=!0);var o=[];if(r)(o=o.concat(e.slice(0))).push(t[0]/n),o=o.concat(t.slice(1));else{o=o.concat(t[0]);for(var a=e.length,i=0;i<a;++i)o=o.concat([t[i+1]/e[i],e[i]]);o=o.concat(t.slice(a+1))}return o}function Gr(t,e,n){void 0===n&&(n=!0);var r=[];if(n){r.push(e);for(var o=e+1;o<t;++o)o<=2*e?(r.push(o),r.push(o-(e+1))):r.push(o)}else{var a=[],i=[];for(o=1;o<t;++o)o>=2*e+1||o%2==1?i.push(o):a.push(o);r.push.apply(r,a),r.push(0),r.push.apply(r,i)}return r}function Hr(t,e,n,r){void 0===r&&(r=!0);var o=[];r?o.push(t[0]/n):o.push(t[0]*n);for(var a=1;a<t.length;++a)a<=e.length?r?o.push(e[a-1]*t[a]):o.push(t[a]/e[a-1]):o.push(t[a]);return o}function qr(t,e){for(var n=[0],r=0;r<e;++r)n.push(t[r][0]);return n}function Kr(t,e,n){for(var r=t.slice(0,1),o=0;o<n;++o)r.push(t[o+1]-e[o][0]-e[o][1]);return r}function jr(t,e){if(t.rank<1)throw new Error(\"tf.gatherND() expects the input to be rank 1 or higher, but the rank was \"+t.rank+\".\");if(e.rank<1)throw new Error(\"tf.gatherND() expects the indices to be rank 1 or higher, but the rank was \"+e.rank+\".\");if(\"int32\"!==e.dtype)throw new Error(\"tf.gatherND() expects the indices to be int32 type, but the dtype was \"+e.dtype+\".\");if(e.shape[e.rank-1]>t.rank)throw new Error(\"index innermost dimension length must be <= tensor rank; saw: \"+e.shape[e.rank-1]+\" vs. \"+t.rank);if(0===t.size)throw new Error(\"Requested more than 0 entries, but input is empty. Input shape: \"+t.shape+\".\");for(var n=e.shape,r=n[n.length-1],o=1,a=0;a<n.length-1;++a)o*=n[a];var i=t.shape,s=n.slice();s.pop();var u=1;for(a=r;a<t.rank;++a)u*=i[a],s.push(i[a]);var c=$(t.shape).map((function(t){return t/u})).concat([1]).slice(0,r);return[s,o,u,c]}var Xr=Object.freeze({prepareAndValidate:jr}),Yr=30;function $r(t){return t<=Yr?t:Y(t,Math.floor(Math.sqrt(t)))}function Qr(t,e,n){var r=e.rank>1?e.shape[e.rank-1]:1,o=e.rank>1?e.rank-1:1,a=\"Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: \"+n.shape+\", indices.shape: \"+e.shape+\", shape: \"+t+\", sliceDim: \"+r+\", and batchDim: \"+o+\".\";if(n.rank<o)throw new Error(a+\" update.rank < \"+o+\". \");if(t.length<r+(n.rank-o))throw new Error(a+\" Output shape length < \"+(r+(n.rank-o)));if(n.rank!==o+t.length-r)throw new Error(a+\" update.rank != \"+(o+t.length-r));for(var i=0;i<o;++i)if(n.shape[i]!==e.shape[i])throw new Error(a+\" updates.shape[\"+i+\"] (\"+n.shape[i]+\") != indices.shape[\"+i+\"] (\"+e.shape[i]+\").\");for(i=0;i<n.rank-o;++i)if(n.shape[i+o]!==t[i+r])throw new Error(a+\" updates.shape[\"+(i+o)+\"] (\"+n.shape[i+o]+\") != shape[\"+(i+o)+\"] (\"+t[i+o]+\")\")}function Jr(t,e,n){if(e.rank<1)throw new Error(\"tf.scatterND() expects the indices to be rank 1 or higher, but the rank was \"+e.rank+\".\");if(t.rank<1)throw new Error(\"tf.scatterND() expects the updates to be rank 1 or higher, but the rank was \"+t.rank+\".\");if(\"int32\"!==e.dtype)throw new Error(\"The dtype of 'indices' should be int32, but got dtype: \"+e.dtype);if(n.length<1)throw new Error(\"Output rank must be greater or equal to 1, but got shape: \"+n);if(0===n.length){if(0===e.size)throw new Error(\"Indices specified for empty output. indices shape: \"+e.shape);if(0===t.size)throw new Error(\"Updates specified for empty output. updates shape: \"+t.shape)}Qr(n,e,t)}function Zr(t,e,n){for(var r=e.shape.length,o=r>1?e.shape[r-1]:1,a=n.length,i=1,s=o;s<a;++s)i*=n[s];var u=o<1?1:o;return{sliceRank:o,numUpdates:k(e.shape)/u,sliceSize:i,strides:$(n.slice(0,o)).concat([1]),outputSize:k(n)}}var to=Object.freeze({validateUpdateShape:Qr,validateInput:Jr,calculateShapes:Zr});function eo(t,e,n){C(t.rank===e.length,(function(){return\"Error in slice\"+t.rank+\"D: Length of begin \"+e+\" must match the rank of the array (\"+t.rank+\").\"})),C(t.rank===n.length,(function(){return\"Error in slice\"+t.rank+\"D: Length of size \"+n+\" must match the rank of the array (\"+t.rank+\").\"}));for(var r=function(r){C(e[r]+n[r]<=t.shape[r],(function(){return\"Error in slice\"+t.rank+\"D: begin[\"+r+\"] + size[\"+r+\"] (\"+(e[r]+n[r])+\") would overflow input.shape[\"+r+\"] (\"+t.shape[r]+\")\"}))},o=0;o<t.rank;++o)r(o)}function no(t){for(var e=[],n=0;t>0;)1&t&&e.push(n),t/=2,n++;return e}function ro(t,e,n){for(var r=[],o=0;o<t.length;o++)r[o]=Math.ceil((e[o]-t[o])/n[o]);return r}function oo(t,e,n,r,o){var a=e[o],i=n[o]||1;(t&1<<o||null==a)&&(a=i>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[o];return a<0&&(a+=s),a=x(0,a,s-1)}function ao(t,e,n,r,o){var a=e[o],i=n[o]||1;(t&1<<o||null==a)&&(a=i>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[o];return a<0&&(a+=s),a=i>0?x(0,a,s):x(-1,a,s-1)}function io(t,e,n){for(var r=n.length,o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(o=r+1;o<n.length;o++)if(e[o]>0||n[o]!==t[o])return!1;return!0}function so(t,e){for(var n=t.length>0?t[t.length-1]:1,r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}var uo=Object.freeze({assertParamsValid:eo,maskToAxes:no,computeOutShape:ro,startForAxis:oo,stopForAxis:ao,isSliceContinous:io,computeFlatOffset:so});function co(t){return C(X(t),(function(){return\"The f passed in grad(f) must be a function\"})),function(e,n){var r=mn(e,\"x\",\"tf.grad\",null),o=null!=n?mn(n,\"dy\",\"tf.grad\"):null;return Lt.tidy((function(){var e=Lt.gradients((function(){return t(r)}),[r],o),n=e.value,a=e.grads;return null!=o&&E(n.shape,o.shape,\"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)\"),mo(a),a[0]}))}}function lo(t){return C(X(t),(function(){return\"The f passed in grads(f) must be a function\"})),function(e,n){C(Array.isArray(e),(function(){return\"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s\"}));var r=gn(e,\"args\",\"tf.grads\",null),o=null!=n?mn(n,\"dy\",\"tf.grads\"):null;return Lt.tidy((function(){var e=Lt.gradients((function(){return t.apply(void 0,r)}),r,o),n=e.value,a=e.grads;return null!=o&&E(n.shape,o.shape,\"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])\"),mo(a),a}))}}function ho(t){return C(X(t),(function(){return\"The f passed in valueAndGrad(f) must be a function\"})),function(e,n){C(e instanceof wt,(function(){return\"The x passed in valueAndGrad(f)(x) must be a tensor\"})),C(null==n||n instanceof wt,(function(){return\"The dy passed in valueAndGrad(f)(x, dy) must be a tensor\"}));var r=Lt.gradients((function(){return t(e)}),[e],n),o=r.grads,a=r.value;return mo(o),{grad:o[0],value:a}}}function fo(t){return C(X(t),(function(){return\"The f passed in valueAndGrads(f) must be a function\"})),function(e,n){C(Array.isArray(e)&&e.every((function(t){return t instanceof wt})),(function(){return\"The args passed in valueAndGrads(f)(args) must be array of tensors\"})),C(null==n||n instanceof wt,(function(){return\"The dy passed in valueAndGrads(f)(args, dy) must be a tensor\"}));var r=Lt.gradients((function(){return t.apply(void 0,e)}),e,n);return null!=n&&E(r.value.shape,n.shape,\"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])\"),mo(r.grads),r}}function po(t,e){C(X(t),(function(){return\"The f passed in variableGrads(f) must be a function\"})),C(null==e||Array.isArray(e)&&e.every((function(t){return t instanceof St})),(function(){return\"The varList passed in variableGrads(f, varList) must be an array of variables\"}));var n=null!=e;if(!n)for(var r in e=[],Lt.registeredVariables)e.push(Lt.registeredVariables[r]);var o=n?e.filter((function(t){return!t.trainable})):null,a=e.length;C((e=e.filter((function(t){return t.trainable}))).length>0,(function(){return\"variableGrads() expects at least one of the input variables to be trainable, but none of the \"+a+\" variables is trainable.\"}));var i=Lt.gradients(t,e,null,!0),s=i.value,u=i.grads;C(u.some((function(t){return null!=t})),(function(){return\"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().\"})),C(0===s.rank,(function(){return\"The f passed in variableGrads(f) must return a scalar, but it returned a rank-\"+s.rank+\" tensor\"}));var c={};return e.forEach((function(t,e){null!=u[e]&&(c[t.name]=u[e])})),null!=o&&o.forEach((function(t){return c[t.name]=null})),{value:s,grads:c}}function vo(t){return Lt.customGrad(t)}function mo(t){if(t.filter((function(t){return null==t})).length>0)throw new Error(\"Cannot compute gradient of y=f(x) with respect to x. Make sure that\\n    the f you passed encloses all operations that lead from x to y.\")}var go=An({softmax_:function(t,e){void 0===e&&(e=-1);var n=mn(t,\"logits\",\"softmax\",\"float32\");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error(\"Softmax along a non-last dimension is not yet supported. Logits was rank \"+n.rank+\" and dim was \"+e);return Lt.runKernelFunc((function(t,r){var o=t.softmax(n,e);return r([o]),o}),{logits:n},(function(t,n){var r=n[0],o=t.mul(r);return{logits:function(){return o.sub(o.sum([e],!0).mul(r))}}}),\"Softmax\",{dim:e},[],[!0])}}),yo=An({logSoftmax_:function(t,e){void 0===e&&(e=-1);var n=mn(t,\"logits\",\"logSoftmax\");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error(\"Log Softmax along a non-last dimension is not yet supported. Logits was rank \"+n.rank+\" and axis was \"+e);return vo((function(t,n){var r=t.max(e,!0),o=t.sub(r),a=o.toFloat().sub(o.exp().sum(e,!0).log());n([a]);return{value:a,gradFunc:function(t,n){var r=n[0].exp();return t.sub(t.sum(e,!0).mul(r))}}}))(n)}}),xo=function(){function t(t,e){this.backend=t,this.dataMover=e,this.data=new WeakMap,this.dataIdsCount=0}return t.prototype.get=function(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)},t.prototype.set=function(t,e){this.dataIdsCount++,this.data.set(t,e)},t.prototype.has=function(t){return this.data.has(t)},t.prototype.delete=function(t){return this.dataIdsCount--,this.data.delete(t)},t.prototype.numDataIds=function(){return this.dataIdsCount},t}(),bo=function(){function t(){}return t.prototype.time=function(t){return wo(\"time\")},t.prototype.read=function(t){return wo(\"read\")},t.prototype.readSync=function(t){return wo(\"readSync\")},t.prototype.numDataIds=function(){return wo(\"numDataIds\")},t.prototype.disposeData=function(t){return wo(\"disposeData\")},t.prototype.write=function(t,e,n){return wo(\"write\")},t.prototype.move=function(t,e,n,r){return wo(\"move\")},t.prototype.memory=function(){return wo(\"memory\")},t.prototype.floatPrecision=function(){return wo(\"floatPrecision\")},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.batchMatMul=function(t,e,n,r){return wo(\"batchMatMul\")},t.prototype.fusedBatchMatMul=function(t){t.a,t.b,t.transposeA,t.transposeB,t.bias,t.activation,t.preluActivationWeights;return wo(\"fusedBatchMatMul\")},t.prototype.slice=function(t,e,n){return wo(\"slice\")},t.prototype.stridedSlice=function(t,e,n,r){return wo(\"stridedSlice\")},t.prototype.unstack=function(t,e){return wo(\"unstack\")},t.prototype.reverse=function(t,e){return wo(\"reverse\")},t.prototype.concat=function(t,e){return wo(\"concat\")},t.prototype.neg=function(t){return wo(\"neg\")},t.prototype.add=function(t,e){return wo(\"add\")},t.prototype.addN=function(t){return wo(\"addN\")},t.prototype.subtract=function(t,e){return wo(\"subtract\")},t.prototype.multiply=function(t,e){return wo(\"multiply\")},t.prototype.realDivide=function(t,e){return wo(\"realDivide\")},t.prototype.floorDiv=function(t,e){return wo(\"floorDiv\")},t.prototype.sum=function(t,e){return wo(\"sum\")},t.prototype.prod=function(t,e){return wo(\"prod\")},t.prototype.unsortedSegmentSum=function(t,e,n){return wo(\"unsortedSegmentSum\")},t.prototype.argMin=function(t,e){return wo(\"argMin\")},t.prototype.argMax=function(t,e){return wo(\"argMax\")},t.prototype.equal=function(t,e){return wo(\"equal\")},t.prototype.notEqual=function(t,e){return wo(\"notEqual\")},t.prototype.less=function(t,e){return wo(\"less\")},t.prototype.lessEqual=function(t,e){return wo(\"lessEqual\")},t.prototype.greater=function(t,e){return wo(\"greater\")},t.prototype.greaterEqual=function(t,e){return wo(\"greaterEqual\")},t.prototype.logicalNot=function(t){return wo(\"logicalNot\")},t.prototype.logicalAnd=function(t,e){return wo(\"logicalAnd\")},t.prototype.logicalOr=function(t,e){return wo(\"logicalOr\")},t.prototype.where=function(t){return wo(\"where\")},t.prototype.select=function(t,e,n){return wo(\"select\")},t.prototype.topk=function(t,e,n){return wo(\"topk\")},t.prototype.min=function(t,e){return wo(\"min\")},t.prototype.minimum=function(t,e){return wo(\"minimum\")},t.prototype.mod=function(t,e){return wo(\"mod\")},t.prototype.max=function(t,e){return wo(\"max\")},t.prototype.maximum=function(t,e){return wo(\"maximum\")},t.prototype.all=function(t,e){return wo(\"all\")},t.prototype.any=function(t,e){return wo(\"any\")},t.prototype.squaredDifference=function(t,e){return wo(\"squaredDifference\")},t.prototype.ceil=function(t){return wo(\"ceil\")},t.prototype.floor=function(t){return wo(\"floor\")},t.prototype.round=function(t){return wo(\"round\")},t.prototype.sign=function(t){return wo(\"sign\")},t.prototype.isNaN=function(t){return wo(\"isNaN\")},t.prototype.isInf=function(t){return wo(\"isInf\")},t.prototype.isFinite=function(t){return wo(\"isFinite\")},t.prototype.pow=function(t,e){return wo(\"pow\")},t.prototype.exp=function(t){return wo(\"exp\")},t.prototype.expm1=function(t){return wo(\"expm1\")},t.prototype.softmax=function(t,e){return wo(\"softmax\")},t.prototype.log=function(t){return wo(\"log\")},t.prototype.log1p=function(t){return wo(\"log1p\")},t.prototype.sqrt=function(t){return wo(\"sqrt\")},t.prototype.rsqrt=function(t){return wo(\"rsqrt\")},t.prototype.square=function(t){return wo(\"square\")},t.prototype.reciprocal=function(t){return wo(\"reciprocal\")},t.prototype.relu=function(t){return wo(\"relu\")},t.prototype.relu6=function(t){return wo(\"relu6\")},t.prototype.prelu=function(t,e){return wo(\"prelu\")},t.prototype.elu=function(t){return wo(\"elu\")},t.prototype.eluDer=function(t,e){return wo(\"eluDer\")},t.prototype.selu=function(t){return wo(\"selu\")},t.prototype.int=function(t){return wo(\"int\")},t.prototype.clip=function(t,e,n){return wo(\"clip\")},t.prototype.abs=function(t){return wo(\"abs\")},t.prototype.complexAbs=function(t){return wo(\"complexAbs\")},t.prototype.sigmoid=function(t){return wo(\"sigmoid\")},t.prototype.softplus=function(t){return wo(\"softplus\")},t.prototype.sin=function(t){return wo(\"sin\")},t.prototype.cos=function(t){return wo(\"cos\")},t.prototype.tan=function(t){return wo(\"tan\")},t.prototype.asin=function(t){return wo(\"asin\")},t.prototype.acos=function(t){return wo(\"acos\")},t.prototype.atan=function(t){return wo(\"atan\")},t.prototype.atan2=function(t,e){return wo(\"atan2\")},t.prototype.sinh=function(t){return wo(\"sinh\")},t.prototype.cosh=function(t){return wo(\"cosh\")},t.prototype.tanh=function(t){return wo(\"tanh\")},t.prototype.asinh=function(t){return wo(\"asinh\")},t.prototype.acosh=function(t){return wo(\"acosh\")},t.prototype.atanh=function(t){return wo(\"atanh\")},t.prototype.erf=function(t){return wo(\"erf\")},t.prototype.step=function(t,e){return wo(\"step\")},t.prototype.fusedConv2d=function(t){t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights;return wo(\"fusedConv2d\")},t.prototype.conv2d=function(t,e,n){return wo(\"conv2d\")},t.prototype.conv2dDerInput=function(t,e,n){return wo(\"conv2dDerInput\")},t.prototype.conv2dDerFilter=function(t,e,n){return wo(\"conv2dDerFilter\")},t.prototype.fusedDepthwiseConv2D=function(t){t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights;return wo(\"fusedDepthwiseConv2D\")},t.prototype.depthwiseConv2D=function(t,e,n){return wo(\"depthwiseConv2D\")},t.prototype.depthwiseConv2DDerInput=function(t,e,n){return wo(\"depthwiseConv2DDerInput\")},t.prototype.depthwiseConv2DDerFilter=function(t,e,n){return wo(\"depthwiseConv2DDerFilter\")},t.prototype.conv3d=function(t,e,n){return wo(\"conv3d\")},t.prototype.conv3dDerInput=function(t,e,n){return wo(\"conv3dDerInput\")},t.prototype.conv3dDerFilter=function(t,e,n){return wo(\"conv3dDerFilter\")},t.prototype.maxPool=function(t,e){return wo(\"maxPool\")},t.prototype.maxPoolBackprop=function(t,e,n,r){return wo(\"maxPoolBackprop\")},t.prototype.avgPool=function(t,e){return wo(\"avgPool\")},t.prototype.avgPoolBackprop=function(t,e,n){return wo(\"avgPoolBackprop\")},t.prototype.avgPool3d=function(t,e){return wo(\"avgPool3d\")},t.prototype.avgPool3dBackprop=function(t,e,n){return wo(\"avgPool3dBackprop\")},t.prototype.maxPool3d=function(t,e){return wo(\"maxPool3d\")},t.prototype.maxPool3dBackprop=function(t,e,n,r){return wo(\"maxPool3dBackprop\")},t.prototype.reshape=function(t,e){return wo(\"reshape\")},t.prototype.cast=function(t,e){return wo(\"cast\")},t.prototype.tile=function(t,e){return wo(\"tile\")},t.prototype.pad=function(t,e,n){return wo(\"pad\")},t.prototype.transpose=function(t,e){return wo(\"transpose\")},t.prototype.gather=function(t,e,n){return wo(\"gather\")},t.prototype.gatherND=function(t,e){return wo(\"gatherND\")},t.prototype.scatterND=function(t,e,n){return wo(\"scatterND\")},t.prototype.batchToSpaceND=function(t,e,n){return wo(\"batchToSpaceND\")},t.prototype.spaceToBatchND=function(t,e,n){return wo(\"spaceToBatchND\")},t.prototype.resizeBilinear=function(t,e,n,r){return wo(\"resizeBilinear\")},t.prototype.resizeBilinearBackprop=function(t,e,n){return wo(\"resizeBilinearBackprop\")},t.prototype.resizeNearestNeighbor=function(t,e,n,r){return wo(\"resizeNearestNeighbor\")},t.prototype.resizeNearestNeighborBackprop=function(t,e,n){return wo(\"resizeNearestNeighborBackprop\")},t.prototype.batchNormalization=function(t,e,n,r,o,a){return wo(\"batchNormalization\")},t.prototype.localResponseNormalization4D=function(t,e,n,r,o){return wo(\"localResponseNormalization4D\")},t.prototype.LRNGrad=function(t,e,n,r,o,a,i){return wo(\"LRNGrad\")},t.prototype.multinomial=function(t,e,n,r){return wo(\"multinomial\")},t.prototype.oneHot=function(t,e,n,r){return wo(\"oneHot\")},t.prototype.cumsum=function(t,e,n,r){return wo(\"cumsum\")},t.prototype.nonMaxSuppression=function(t,e,n,r,o){return wo(\"nonMaxSuppression\")},t.prototype.fft=function(t){return wo(\"fft\")},t.prototype.ifft=function(t){return wo(\"ifft\")},t.prototype.complex=function(t,e){return wo(\"complex\")},t.prototype.real=function(t){return wo(\"real\")},t.prototype.imag=function(t){return wo(\"imag\")},t.prototype.cropAndResize=function(t,e,n,r,o,a){return wo(\"cropAndResize\")},t.prototype.depthToSpace=function(t,e,n){return wo(\"depthToSpace\")},t.prototype.split=function(t,e,n){return wo(\"split\")},t.prototype.sparseToDense=function(t,e,n,r){return wo(\"sparseToDense\")},t.prototype.diag=function(t){return wo(\"diag\")},t.prototype.fill=function(t,e,n){return wo(\"fill\")},t.prototype.onesLike=function(t){return wo(\"onesLike\")},t.prototype.zerosLike=function(t){return wo(\"zerosLike\")},t.prototype.linspace=function(t,e,n){return wo(\"linspace\")},t.prototype.dispose=function(){return wo(\"dispose\")},t}();function wo(t){throw new Error(\"'\"+t+\"' not yet implemented or not found in the registry. Did you forget to import the kernel?\")}function Co(t,e){for(var n=t.length,r=[],o=0;o<n;o++){var a=n-1-o,i=t[a]||1;(e[e.length-1-o]||1)>1&&1===i&&r.unshift(a)}return r}function Eo(t,e){for(var n=[],r=0;r<e.length;r++){var o=t[t.length-r-1],a=e.length-r-1,i=e[a];(null==o||1===o&&i>1)&&n.unshift(a)}return n}function Ro(t,e){for(var n=[],r=Math.max(t.length,e.length),o=0;o<r;o++){var a=t[t.length-o-1];null==a&&(a=1);var i=e[e.length-o-1];if(null==i&&(i=1),1===a)n.unshift(i);else if(1===i)n.unshift(a);else{if(a!==i)throw Error(\"Operands could not be broadcast together with shapes \"+t+\" and \"+e+\".\");n.unshift(a)}}return n}function Io(t,e,n,r,o,a,i){void 0===i&&(i=\"channelsLast\");var s,u=To(e),c=u[0],l=u[1];if(\"channelsLast\"===i)s=[c,l,t[3],t[3]];else{if(\"channelsFirst\"!==i)throw new Error(\"Unknown dataFormat \"+i);s=[c,l,t[1],t[1]]}return So(t,s,n,r,o,a,!1,i)}function ko(t,e,n,r,o,a,i){void 0===i&&(i=\"NDHWC\");var s,u,c=No(e),l=c[0],h=c[1],f=c[2];if(\"NDHWC\"===i)u=\"channelsLast\",s=[l,h,f,t[4],t[4]];else{if(\"NCDHW\"!==i)throw new Error(\"Unknown dataFormat \"+i);u=\"channelsFirst\",s=[l,h,f,t[1],t[1]]}return Ao(t,s,n,r,o,!1,u,a)}function So(t,e,n,r,o,a,i,s){void 0===i&&(i=!1),void 0===s&&(s=\"channelsLast\");var u=[-1,-1,-1,-1],c=u[0],l=u[1],h=u[2],f=u[3];if(\"channelsLast\"===s)c=t[0],l=t[1],h=t[2],f=t[3];else{if(\"channelsFirst\"!==s)throw new Error(\"Unknown dataFormat \"+s);c=t[0],f=t[1],l=t[2],h=t[3]}var d,p=e[0],v=e[1],m=e[3],g=To(n),y=g[0],x=g[1],b=To(r),w=b[0],E=b[1],R=Fo(p,w),I=Fo(v,E),k=function(t,e,n,r,o,a,i,s){var u,c,l;if(\"number\"==typeof t){u={top:t,bottom:t,left:t,right:t,type:0===t?\"VALID\":\"NUMBER\"};var h=function(t,e,n,r,o){null==r&&(r=Do(t,e,n));var a=t[0],i=t[1],s=_o((a-e+2*r)/n+1,o);C(A(s),(function(){return\"The output # of rows (\"+s+\") must be an integer. Change the stride and/or zero pad parameters\"}));var u=_o((i-e+2*r)/n+1,o);return C(A(u),(function(){return\"The output # of columns (\"+u+\") must be an integer. Change the stride and/or zero pad parameters\"})),[s,u]}([e,n],a,r,t,s);c=h[0],l=h[1]}else if(\"same\"===t){c=Math.ceil(e/r),l=Math.ceil(n/o);var f=Math.max(0,(c-1)*r+a-e),d=Math.max(0,(l-1)*o+i-n),p=Math.floor(f/2),v=f-p,m=Math.floor(d/2);u={top:p,bottom:v,left:m,right:d-m,type:\"SAME\"}}else{if(\"valid\"!==t)throw Error(\"Unknown padding parameter: \"+t);u={top:0,bottom:0,left:0,right:0,type:\"VALID\"},c=Math.ceil((e-a+1)/r),l=Math.ceil((n-i+1)/o)}return{padInfo:u,outHeight:c,outWidth:l}}(o,l,h,y,x,R,I,a),S=k.padInfo,D=k.outHeight,T=k.outWidth,N=i?m*f:m;return\"channelsFirst\"===s?d=[c,N,D,T]:\"channelsLast\"===s&&(d=[c,D,T,N]),{batchSize:c,dataFormat:s,inHeight:l,inWidth:h,inChannels:f,outHeight:D,outWidth:T,outChannels:N,padInfo:S,strideHeight:y,strideWidth:x,filterHeight:p,filterWidth:v,effectiveFilterHeight:R,effectiveFilterWidth:I,dilationHeight:w,dilationWidth:E,inShape:t,outShape:d,filterShape:e}}function Ao(t,e,n,r,o,a,i,s){void 0===a&&(a=!1),void 0===i&&(i=\"channelsLast\");var u=[-1,-1,-1,-1,-1],c=u[0],l=u[1],h=u[2],f=u[3],d=u[4];if(\"channelsLast\"===i)c=t[0],l=t[1],h=t[2],f=t[3],d=t[4];else{if(\"channelsFirst\"!==i)throw new Error(\"Unknown dataFormat \"+i);c=t[0],d=t[1],l=t[2],h=t[3],f=t[4]}var p,v=e[0],m=e[1],g=e[2],y=e[4],x=No(n),b=x[0],w=x[1],E=x[2],R=No(r),I=R[0],k=R[1],S=R[2],D=Fo(v,I),T=Fo(m,k),N=Fo(g,S),F=function(t,e,n,r,o,a,i,s,u,c,l){var h,f,d,p;if(\"number\"==typeof t){h={top:t,bottom:t,left:t,right:t,front:t,back:t,type:0===t?\"VALID\":\"NUMBER\"};var v=function(t,e,n,r,o,a){null==o&&(o=Do(t,e,r));var i=t[0],s=t[1],u=t[2],c=_o((i-e+2*o)/r+1,a);C(A(c),(function(){return\"The output # of depths (\"+c+\") must be an integer. Change the stride and/or zero pad parameters\"}));var l=_o((s-e+2*o)/r+1,a);C(A(l),(function(){return\"The output # of rows (\"+l+\") must be an integer. Change the stride and/or zero pad parameters\"}));var h=_o((u-e+2*o)/r+1,a);return C(A(h),(function(){return\"The output # of columns (\"+h+\") must be an integer. Change the stride and/or zero pad parameters\"})),[c,l,h,n]}([e,n,r,1],s,1,o,t,l);f=v[0],d=v[1],p=v[2]}else if(\"same\"===t){f=Math.ceil(e/o),d=Math.ceil(n/a),p=Math.ceil(r/i);var m=(f-1)*o+s-e,g=(d-1)*a+u-n,y=(p-1)*i+c-r,x=Math.floor(m/2),b=m-x,w=Math.floor(g/2),E=g-w,R=Math.floor(y/2);h={top:w,bottom:E,left:R,right:y-R,front:x,back:b,type:\"SAME\"}}else{if(\"valid\"!==t)throw Error(\"Unknown padding parameter: \"+t);h={top:0,bottom:0,left:0,right:0,front:0,back:0,type:\"VALID\"},f=Math.ceil((e-s+1)/o),d=Math.ceil((n-u+1)/a),p=Math.ceil((r-c+1)/i)}return{padInfo:h,outDepth:f,outHeight:d,outWidth:p}}(o,l,h,f,b,w,E,D,T,N,s),_=F.padInfo,O=F.outDepth,M=F.outHeight,B=F.outWidth,P=a?y*d:y;return\"channelsFirst\"===i?p=[c,P,O,M,B]:\"channelsLast\"===i&&(p=[c,O,M,B,P]),{batchSize:c,dataFormat:i,inDepth:l,inHeight:h,inWidth:f,inChannels:d,outDepth:O,outHeight:M,outWidth:B,outChannels:P,padInfo:_,strideDepth:b,strideHeight:w,strideWidth:E,filterDepth:v,filterHeight:m,filterWidth:g,effectiveFilterDepth:D,effectiveFilterHeight:T,effectiveFilterWidth:N,dilationDepth:I,dilationHeight:k,dilationWidth:S,inShape:t,outShape:p,filterShape:e}}function Do(t,e,n,r){void 0===r&&(r=1);var o=Fo(e,r);return Math.floor((t[0]*(n-1)-n+o)/2)}function To(t){return\"number\"==typeof t?[t,t,t]:2===t.length?[t[0],t[1],1]:t}function No(t){return\"number\"==typeof t?[t,t,t]:t}function Fo(t,e){return e<=1?t:t+(t-1)*(e-1)}function _o(t,e){if(!e)return t;switch(e){case\"round\":return Math.round(t);case\"ceil\":return Math.ceil(t);case\"floor\":return Math.floor(t);default:throw new Error(\"Unknown roundingMode \"+e)}}function Oo(t){var e=To(t),n=e[0],r=e[1],o=e[2];return 1===n&&1===r&&1===o}function Mo(t,e){return Oo(t)||Oo(e)}function Bo(t){if(\"NHWC\"===t)return\"channelsLast\";if(\"NCHW\"===t)return\"channelsFirst\";throw new Error(\"Unknown dataFormat \"+t)}function Po(t,e,n){if(\"complex64\"===e){if(\"complex64\"===t.dtype)return t.clone();var r=Gn(t.shape),o=t.toFloat(),a=n.complex(o,r);return r.dispose(),o.dispose(),a}if(!U(t.dtype,e))return Lt.makeTensorFromDataId(t.dataId,t.shape,e);if(\"complex64\"===t.dtype){var i=n.real(t);a=i.cast(e);return i.dispose(),a}if(\"int32\"===e)return n.int(t);if(\"bool\"===e){var s=On(0,t.dtype);a=n.notEqual(t,s);return s.dispose(),a}throw new Error(\"Error in Cast: failed to cast \"+t.dtype+\" to \"+e)}function Lo(t,e){return Lt.makeTensorFromDataId(t.dataId,e,t.dtype)}function Wo(t,e,n){var r=(e-t)/(n-1),o=tt(n,\"float32\");o[0]=t;for(var a=1;a<o.length;a++)o[a]=o[a-1]+r;return Mn(o,\"float32\")}var Uo=Object.freeze({castTensor:Po,reshapeTensor:Lo,linspaceImpl:Wo,upcastType:Dt,axesAreInnerMostDims:yn,combineLocations:xn,computeOutAndReduceShapes:bn,expandShapeToKeepDim:wn,assertAxesAreInnerMostDims:Cn,getAxesPermutation:En,getUndoAxesPermutation:Rn,getInnerMostAxes:In,getBroadcastDims:Co,getReductionAxes:Eo,assertAndGetBroadcastShape:Ro,assertParamsConsistent:kn,computeOutShape:Sn,computePool2DInfo:Io,computePool3DInfo:ko,computeConv2DInfo:So,computeConv3DInfo:Ao,computeDefaultPad:Do,tupleValuesAreOne:Oo,eitherStridesOrDilationsAreOne:Mo,convertConv2DDataFormat:Bo,PARALLELIZE_THRESHOLD:Yr,computeOptimalWindowSize:$r});function Vo(t,e){if(t.length!==e.length)throw new Error(\"Cannot merge real and imag arrays of different lengths. real:\"+t.length+\", imag: \"+e.length+\".\");for(var n=new Float32Array(2*t.length),r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function zo(t,e){return{real:t[2*e],imag:t[2*e+1]}}function Go(t,e,n,r){t[2*r]=e,t[2*r+1]=n}function Ho(t,e,n){var r=(n?2:-2)*Math.PI*(t/e);return{real:Math.cos(r),imag:Math.sin(r)}}function qo(t,e,n){var r=function(t,e,n){return function(t,e,n){var r=0,o=t.length,a=0,i=!1;for(;r<o;){var s=n(e,t[a=r+(o-r>>>1)]);s>0?r=a+1:(o=a,i=!s)}return i?r:-r-1}(t,e,n||Ko)}(t,e,n),o=r<0?-(r+1):r;t.splice(o,0,e)}function Ko(t,e){return t>e?1:t<e?-1:0}function jo(t,e,n,r,o){return Yo(t,e,n,r,o,0).selectedIndices}function Xo(t,e,n,r,o,a){var i=Yo(t,e,n,r,o,a,!0);return i.numValidOutputs.dispose(),{selectedIndices:i.selectedIndices,selectedScores:i.selectedScores}}function Yo(t,e,n,r,o,a,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1);for(var u=Array.from(e).map((function(t,e){return{score:t,boxIndex:e,suppressBeginIndex:0}})).filter((function(t){return t.score>o})).sort(Jo),c=a>0?-.5/a:0,l=[],h=[];l.length<n&&u.length>0;){var f=u.pop(),d=f.score,p=f.boxIndex,v=f.suppressBeginIndex;if(d<o)break;for(var m=!1,g=l.length-1;g>=v;--g){var y=$o(t,p,l[g]);if(y>=r){m=!0;break}if(f.score=f.score*Qo(r,c,y),f.score<=o)break}f.suppressBeginIndex=l.length,m||(f.score===d?(l.push(p),h.push(f.score)):f.score>o&&qo(u,f,Jo))}var x=l.length;return s&&(l.fill(0,x),h.fill(0,x)),{selectedIndices:Mn(l,\"int32\"),selectedScores:Mn(h,\"float32\"),numValidOutputs:On(x,\"int32\")}}function $o(t,e,n){var r=t.subarray(4*e,4*e+4),o=t.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(o[0],o[2]),l=Math.min(o[1],o[3]),h=Math.max(o[0],o[2]),f=Math.max(o[1],o[3]),d=(s-a)*(u-i),p=(h-c)*(f-l);if(d<=0||p<=0)return 0;var v=Math.max(a,c),m=Math.max(i,l),g=Math.min(s,h),y=Math.min(u,f),x=Math.max(g-v,0)*Math.max(y-m,0);return x/(d+p-x)}function Qo(t,e,n){var r=Math.exp(e*n*n);return n<=t?r:0}function Jo(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}function Zo(t,e,n){var r=new Array(t.rank).fill(0),o=t.shape.slice();return e.map((function(e){o[n]=e;var a=t.slice(r,o);return r[n]+=e,a}))}function ta(t,e){for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[r]*e[r];var o=dr(n,t.dtype);for(r=0;r<o.values.length;++r){for(var a=o.indexToLoc(r),i=new Array(t.rank),s=0;s<i.length;s++)i[s]=a[s]%t.shape[s];var u=t.locToIndex(i);o.values[r]=t.values[u]}return o.toTensor()}function ea(t,e,n,r,o){for(var a=e[e.length-1],i=[t.length/a,a],s=i[0],u=i[1],c=B(n,s*r),l=B(\"int32\",s*r),h=0;h<s;h++){for(var f=h*u,d=t.subarray(f,f+u),p=[],v=0;v<d.length;v++)p.push({value:d[v],index:v});p.sort((function(t,e){return e.value-t.value}));var m=h*r,g=c.subarray(m,m+r),y=l.subarray(m,m+r);for(v=0;v<r;v++)g[v]=p[v].value,y[v]=p[v].index}var x=e.slice();return x[x.length-1]=r,[Fn(c,x,n),Fn(l,x,\"int32\")]}function na(t,e){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(r);var o=dr(t,\"int32\"),a=dr([n.length,t.length],\"int32\");for(r=0;r<n.length;r++){var i=o.indexToLoc(n[r]),s=r*t.length;a.values.set(i,s)}return a.toTensor()}var ra=function(t,e){this.outputShape=[],this.outputShape=t,this.variableNames=e.map((function(t,e){return\"T\"+e}));var n=[];this.variableNames.forEach((function(t){n.push(\"float v\"+t+\" = get\"+t+\"AtOutCoords();\")}));var r=this.variableNames.map((function(t){return\"v\"+t})).join(\" + \");this.userCode=\"\\n      void main() {\\n        \"+n.join(\"\\n        \")+\"\\n\\n        float result = \"+r+\";\\n        setOutput(result);\\n      }\\n    \"},oa=function(t,e){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=e.map((function(t,e){return\"T\"+e}));var n=[];this.variableNames.forEach((function(t){n.push(\"vec4 v\"+t+\" = get\"+t+\"AtOutCoords();\")}));var r=this.variableNames.map((function(t){return\"v\"+t})).join(\" + \");this.userCode=\"\\n      void main() {\\n        \"+n.join(\"\\n        \")+\"\\n\\n        vec4 result = \"+r+\";\\n        setOutput(result);\\n      }\\n    \"},aa=function(t,e,n){this.variableNames=[\"A\"];var r=t.windowSize,o=t.batchSize,a=t.inSize,i=Math.ceil(a/r);n||this.variableNames.push(\"bestIndicesA\"),this.outputShape=[o,i];var s=\"max\"===e?\">\":\"<\",u=n?\"inOffset + i;\":\"round(getBestIndicesA(batch, inOffset + i));\";this.userCode=\"\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int outIdx = coords[1];\\n        int inOffset = outIdx * \"+r+\";\\n\\n        int bestIndex = inOffset;\\n        float bestValue = getA(batch, bestIndex);\\n\\n        for (int i = 0; i < \"+r+\"; i++) {\\n          int inIdx = \"+u+\";\\n          float candidate = getA(batch, inIdx);\\n          if (candidate \"+s+\" bestValue) {\\n            bestValue = candidate;\\n            bestIndex = inIdx;\\n          }\\n        }\\n        setOutput(float(bestIndex));\\n      }\\n    \"};function ia(t,e){return[\"x\",\"y\",\"z\",\"w\",\"u\",\"v\"].slice(0,e).map((function(e){return t+\".\"+e}))}function sa(t,e){return 1===e?[t]:ia(t,e)}function ua(){var t,e,n,r,o,a,s,u,c,l;return 2===i().getNumber(\"WEBGL_VERSION\")?(t=\"#version 300 es\",e=\"in\",n=\"out\",r=\"in\",o=\"texture\",a=\"outputColor\",s=\"out vec4 outputColor;\",u=\"\\n      bool isnan_custom(float val) {\\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\\n      }\\n\\n      bvec4 isnan_custom(vec4 val) {\\n        return bvec4(isnan_custom(val.x),\\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\\n      }\\n\\n      #define isnan(value) isnan_custom(value)\\n    \",c=\"\",l=\"\\n      #define round(value) newRound(value)\\n      int newRound(float value) {\\n        return int(floor(value + 0.5));\\n      }\\n\\n      ivec4 newRound(vec4 value) {\\n        return ivec4(floor(value + vec4(0.5)));\\n      }\\n    \"):(t=\"\",e=\"attribute\",n=\"varying\",r=\"varying\",o=\"texture2D\",a=\"gl_FragColor\",s=\"\",u=\"\\n      #define isnan(value) isnan_custom(value)\\n      bool isnan_custom(float val) {\\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\\n      }\\n      bvec4 isnan_custom(vec4 val) {\\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\\n      }\\n    \",c=\"\\n      uniform float INFINITY;\\n\\n      bool isinf(float val) {\\n        return abs(val) == INFINITY;\\n      }\\n      bvec4 isinf(vec4 val) {\\n        return equal(abs(val), vec4(INFINITY));\\n      }\\n    \",l=\"\\n      int round(float value) {\\n        return int(floor(value + 0.5));\\n      }\\n\\n      ivec4 round(vec4 value) {\\n        return ivec4(floor(value + vec4(0.5)));\\n      }\\n    \"),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:o,output:a,defineOutput:s,defineSpecialNaN:u,defineSpecialInf:c,defineRound:l}}function ca(t,e,n){void 0===n&&(n=\"index\");var r=$(e);return r.map((function(e,o){return\"int \"+t[o]+\" = \"+n+\" / \"+e+\"; \"+(o===r.length-1?\"int \"+t[o+1]+\" = \"+n+\" - \"+t[o]+\" * \"+e:\"index -= \"+t[o]+\" * \"+e)+\";\"})).join(\"\")}function la(t){var e=$(t).map((function(t){return t.toString()}));return\"\\n  int getFlatIndex(ivec3 coords) {\\n    return coords.x * \"+e[0]+\" + coords.y * \"+e[1]+\" + coords.z;\\n  }\\n\"}var ha=\"\\n  const float FLOAT_MAX = 1.70141184e38;\\n  const float FLOAT_MIN = 1.17549435e-38;\\n\\n  lowp vec4 encode_float(highp float v) {\\n    if (isnan(v)) {\\n      return vec4(255, 255, 255, 255);\\n    }\\n\\n    highp float av = abs(v);\\n\\n    if(av < FLOAT_MIN) {\\n      return vec4(0.0, 0.0, 0.0, 0.0);\\n    } else if(v > FLOAT_MAX) {\\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\\n    } else if(v < -FLOAT_MAX) {\\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\\n    }\\n\\n    highp vec4 c = vec4(0,0,0,0);\\n\\n    highp float e = floor(log2(av));\\n    highp float m = exp2(fract(log2(av))) - 1.0;\\n\\n    c[2] = floor(128.0 * m);\\n    m -= c[2] / 128.0;\\n    c[1] = floor(32768.0 * m);\\n    m -= c[1] / 32768.0;\\n    c[0] = floor(8388608.0 * m);\\n\\n    highp float ebias = e + 127.0;\\n    c[3] = floor(ebias / 2.0);\\n    ebias -= c[3] * 2.0;\\n    c[2] += floor(ebias) * 128.0;\\n\\n    c[3] += 128.0 * step(0.0, -v);\\n\\n    return c / 255.0;\\n  }\\n\";function fa(t,e,n,r){var o=[];t.forEach((function(t){var e=k(t.shapeInfo.logicalShape);t.shapeInfo.isUniform?o.push(\"uniform float \"+t.name+(e>1?\"[\"+e+\"]\":\"\")+\";\"):(o.push(\"uniform sampler2D \"+t.name+\";\"),o.push(\"uniform int offset\"+t.name+\";\"))}));var a,i,s=o.join(\"\\n\"),u=t.map((function(t){return function(t,e,n){void 0===n&&(n=!1);var r=\"\";r+=n?pa(t):da(t);var o=t.shapeInfo.logicalShape,a=e.logicalShape;o.length<=a.length&&(r+=n?function(t,e){var n,r=t.name,o=r.charAt(0).toUpperCase()+r.slice(1),a=\"get\"+o+\"AtOutCoords\",i=t.shapeInfo.logicalShape.length,s=e.logicalShape.length,u=Co(t.shapeInfo.logicalShape,e.logicalShape),c=wa(s),l=s-i,h=[\"x\",\"y\",\"z\",\"w\",\"u\",\"v\"];n=0===i?\"\":s<2&&u.length>=1?\"coords = 0;\":u.map((function(t){return\"coords.\"+h[t+l]+\" = 0;\"})).join(\"\\n\");var f=\"\";f=s<2&&i>0?\"coords\":t.shapeInfo.logicalShape.map((function(t,e){return\"coords.\"+h[e+l]})).join(\", \");var d=\"return outputValue;\",p=1===k(t.shapeInfo.logicalShape),v=1===k(e.logicalShape);if(1!==i||p||v){if(p&&!v)d=1===s?\"\\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\\n      \":\"\\n        return vec4(outputValue.x);\\n      \";else if(u.length){var m=i-2,g=i-1;u.indexOf(m)>-1&&u.indexOf(g)>-1?d=\"return vec4(outputValue.x);\":u.indexOf(m)>-1?d=\"return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);\":u.indexOf(g)>-1&&(d=\"return vec4(outputValue.xx, outputValue.zz);\")}}else d=\"\\n      return vec4(outputValue.xy, outputValue.xy);\\n    \";return\"\\n    vec4 \"+a+\"() {\\n      \"+c+\" coords = getOutputCoords();\\n      \"+n+\"\\n      vec4 outputValue = get\"+o+\"(\"+f+\");\\n      \"+d+\"\\n    }\\n  \"}(t,e):function(t,e){var n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),o=\"get\"+r+\"AtOutCoords\",a=e.texShape,i=t.shapeInfo.texShape,s=t.shapeInfo.logicalShape.length,u=e.logicalShape.length;if(!t.shapeInfo.isUniform&&s===u&&null==t.shapeInfo.flatOffset&&S(i,a))return\"\\n      float \"+o+\"() {\\n        return sampleTexture(\"+n+\", resultUV);\\n      }\\n    \";var c,l=wa(u),h=Co(t.shapeInfo.logicalShape,e.logicalShape),f=u-s,d=[\"x\",\"y\",\"z\",\"w\",\"u\",\"v\"];c=0===s?\"\":u<2&&h.length>=1?\"coords = 0;\":h.map((function(t){return\"coords.\"+d[t+f]+\" = 0;\"})).join(\"\\n\");var p=\"\";p=u<2&&s>0?\"coords\":t.shapeInfo.logicalShape.map((function(t,e){return\"coords.\"+d[e+f]})).join(\", \");return\"\\n    float \"+o+\"() {\\n      \"+l+\" coords = getOutputCoords();\\n      \"+c+\"\\n      return get\"+r+\"(\"+p+\");\\n    }\\n  \"}(t,e));return r}(t,e,r)})).join(\"\\n\"),c=e.texShape,l=ua(),h=function(t){return\"\\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\\n      return \"+t.texture2D+\"(textureSampler, uv).r;\\n    }\\n  \"}(l),f=function(t){return t.version+\"\\n    precision highp float;\\n    precision highp int;\\n    precision highp sampler2D;\\n    \"+t.varyingFs+\" vec2 resultUV;\\n    \"+t.defineOutput+\"\\n    const vec2 halfCR = vec2(0.5, 0.5);\\n\\n    struct ivec5\\n    {\\n      int x;\\n      int y;\\n      int z;\\n      int w;\\n      int u;\\n    };\\n\\n    struct ivec6\\n    {\\n      int x;\\n      int y;\\n      int z;\\n      int w;\\n      int u;\\n      int v;\\n    };\\n\\n    uniform float NAN;\\n    \"+t.defineSpecialNaN+\"\\n    \"+t.defineSpecialInf+\"\\n    \"+t.defineRound+\"\\n\\n    int imod(int x, int y) {\\n      return x - y * (x / y);\\n    }\\n\\n    int idiv(int a, int b, float sign) {\\n      int res = a / b;\\n      int mod = imod(a, b);\\n      if (sign < 0. && mod != 0) {\\n        res -= 1;\\n      }\\n      return res;\\n    }\\n\\n    //Based on the work of Dave Hoskins\\n    //https://www.shadertoy.com/view/4djSRW\\n    #define HASHSCALE1 443.8975\\n    float random(float seed){\\n      vec2 p = resultUV * seed;\\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\\n      p3 += dot(p3, p3.yzx + 19.19);\\n      return fract((p3.x + p3.y) * p3.z);\\n    }\\n\\n    \"+va+\"\\n    \"+ma+\"\\n    \"+ga+\"\\n  \"}(l);return e.isPacked?(a=function(t,e){switch(t.length){case 0:return\"\\n    int getOutputCoords() {\\n      return 0;\\n    }\\n  \";case 1:return function(t,e){var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(1===n[0])return\"\\n      int getOutputCoords() {\\n        return 2 * int(resultUV.x * \"+n[1]+\".0);\\n      }\\n    \";if(1===n[1])return\"\\n      int getOutputCoords() {\\n        return 2 * int(resultUV.y * \"+n[0]+\".0);\\n      }\\n    \";return\"\\n    int getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\"+n[0]+\", \"+n[1]+\"));\\n      return 2 * (resTexRC.x * \"+n[1]+\" + resTexRC.y);\\n    }\\n  \"}(0,e);case 2:return function(t,e){var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(S(t,e))return\"\\n      ivec2 getOutputCoords() {\\n        return 2 * ivec2(resultUV.yx * vec2(\"+n[0]+\", \"+n[1]+\"));\\n      }\\n    \";var r=Math.ceil(t[1]/2);return\"\\n    ivec2 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\"+n[0]+\", \"+n[1]+\"));\\n\\n      int index = resTexRC.x * \"+n[1]+\" + resTexRC.y;\\n      int r = 2 * (index / \"+r+\");\\n      int c = imod(index, \"+r+\") * 2;\\n\\n      return ivec2(r, c);\\n    }\\n  \"}(t,e);case 3:return n=t,r=e,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=Math.ceil(n[2]/2),i=a*Math.ceil(n[1]/2),\"\\n    ivec3 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\"+o[0]+\", \"+o[1]+\"));\\n      int index = resTexRC.x * \"+o[1]+\" + resTexRC.y;\\n\\n      int b = index / \"+i+\";\\n      index -= b * \"+i+\";\\n\\n      int r = 2 * (index / \"+a+\");\\n      int c = imod(index, \"+a+\") * 2;\\n\\n      return ivec3(b, r, c);\\n    }\\n  \";default:return function(t,e){for(var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[t.length-1]/2),o=r*Math.ceil(t[t.length-2]/2),a=o,i=\"\",s=\"b, r, c\",u=2;u<t.length-1;u++)a*=t[t.length-u-1],i=\"\\n      int b\"+u+\" = index / \"+a+\";\\n      index -= b\"+u+\" * \"+a+\";\\n    \"+i,s=\"b\"+u+\", \"+s;return\"\\n    ivec\"+t.length+\" getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\"+n[0]+\", \"+n[1]+\"));\\n      int index = resTexRC.x * \"+n[1]+\" + resTexRC.y;\\n\\n      \"+i+\"\\n\\n      int b = index / \"+o+\";\\n      index -= b * \"+o+\";\\n\\n      int r = 2 * (index / \"+r+\");\\n      int c = imod(index, \"+r+\") * 2;\\n\\n      return ivec\"+t.length+\"(\"+s+\");\\n    }\\n  \"}(t,e)}var n,r,o,a,i}(e.logicalShape,c),i=function(t){return\"\\n    void setOutput(vec4 val) {\\n      \"+t.output+\" = val;\\n    }\\n  \"}(l)):(a=function(t,e){switch(t.length){case 0:return\"\\n    int getOutputCoords() {\\n      return 0;\\n    }\\n  \";case 1:return function(t,e){if(1===e[0])return\"\\n      int getOutputCoords() {\\n        return int(resultUV.x * \"+e[1]+\".0);\\n      }\\n    \";if(1===e[1])return\"\\n      int getOutputCoords() {\\n        return int(resultUV.y * \"+e[0]+\".0);\\n      }\\n    \";return\"\\n    int getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\"+e[0]+\", \"+e[1]+\"));\\n      return resTexRC.x * \"+e[1]+\" + resTexRC.y;\\n    }\\n  \"}(0,e);case 2:return function(t,e){if(S(t,e))return\"\\n      ivec2 getOutputCoords() {\\n        return ivec2(resultUV.yx * vec2(\"+e[0]+\", \"+e[1]+\"));\\n      }\\n    \";if(1===t[1])return\"\\n      ivec2 getOutputCoords() {\\n        ivec2 resTexRC = ivec2(resultUV.yx *\\n                               vec2(\"+e[0]+\", \"+e[1]+\"));\\n        int index = resTexRC.x * \"+e[1]+\" + resTexRC.y;\\n        return ivec2(index, 0);\\n      }\\n    \";if(1===t[0])return\"\\n      ivec2 getOutputCoords() {\\n        ivec2 resTexRC = ivec2(resultUV.yx *\\n                               vec2(\"+e[0]+\", \"+e[1]+\"));\\n        int index = resTexRC.x * \"+e[1]+\" + resTexRC.y;\\n        return ivec2(0, index);\\n      }\\n    \";return\"\\n    ivec2 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\"+e[0]+\", \"+e[1]+\"));\\n      int index = resTexRC.x * \"+e[1]+\" + resTexRC.y;\\n      int r = index / \"+t[1]+\";\\n      int c = index - r * \"+t[1]+\";\\n      return ivec2(r, c);\\n    }\\n  \"}(t,e);case 3:return n=e,r=ca([\"r\",\"c\",\"d\"],t),\"\\n    ivec3 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\"+n[0]+\", \"+n[1]+\"));\\n      int index = resTexRC.x * \"+n[1]+\" + resTexRC.y;\\n      \"+r+\"\\n      return ivec3(r, c, d);\\n    }\\n  \";case 4:return function(t,e){var n=ca([\"r\",\"c\",\"d\",\"d2\"],t);return\"\\n    ivec4 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n        vec2(\"+e[0]+\", \"+e[1]+\"));\\n      int index = resTexRC.x * \"+e[1]+\" + resTexRC.y;\\n      \"+n+\"\\n      return ivec4(r, c, d, d2);\\n    }\\n  \"}(t,e);case 5:return function(t,e){var n=ca([\"r\",\"c\",\"d\",\"d2\",\"d3\"],t);return\"\\n    ivec5 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(\"+e[0]+\",\\n                             \"+e[1]+\"));\\n\\n      int index = resTexRC.x * \"+e[1]+\" + resTexRC.y;\\n\\n      \"+n+\"\\n\\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\\n      return outShape;\\n    }\\n  \"}(t,e);case 6:return function(t,e){var n=ca([\"r\",\"c\",\"d\",\"d2\",\"d3\",\"d4\"],t);return\"\\n    ivec6 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n        vec2(\"+e[0]+\", \"+e[1]+\"));\\n      int index = resTexRC.x * \"+e[1]+\" + resTexRC.y;\\n\\n      \"+n+\"\\n\\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\\n      return result;\\n    }\\n  \"}(t,e);default:throw new Error(t.length+\"-D output sampling is not yet supported\")}var n,r}(e.logicalShape,c),i=function(t){return\"\\n    void setOutput(float val) {\\n      \"+t.output+\" = vec4(val, 0, 0, 0);\\n    }\\n  \"}(l)),r&&(f+=ya),[f,h,i,s,a,u,n].join(\"\\n\")}function da(t){var e=t.shapeInfo.logicalShape;switch(e.length){case 0:return function(t){var e=t.name,n=\"get\"+e.charAt(0).toUpperCase()+e.slice(1);if(t.shapeInfo.isUniform)return\"float \"+n+\"() {return \"+e+\";}\";var r=t.shapeInfo.texShape,o=r[0],a=r[1];if(1===o&&1===a)return\"\\n      float \"+n+\"() {\\n        return sampleTexture(\"+e+\", halfCR);\\n      }\\n    \";var i=t.shapeInfo.texShape,s=i[0],u=i[1],c=xa(e);return\"\\n    float \"+n+\"() {\\n      vec2 uv = uvFromFlat(\"+s+\", \"+u+\", \"+c+\");\\n      return sampleTexture(\"+e+\", uv);\\n    }\\n  \"}(t);case 1:return function(t){var e=t.name,n=\"get\"+e.charAt(0).toUpperCase()+e.slice(1);if(t.shapeInfo.isUniform)return\"\\n      float \"+n+\"(int index) {\\n        \"+ba(t)+\"\\n      }\\n    \";var r=t.shapeInfo.texShape,o=r[0],a=r[1];if(1===a&&1===o)return\"\\n      float \"+n+\"(int index) {\\n        return sampleTexture(\"+e+\", halfCR);\\n      }\\n    \";var i=xa(e);if(1===a)return\"\\n      float \"+n+\"(int index) {\\n        vec2 uv = vec2(0.5, (float(index + \"+i+\") + 0.5) / \"+o+\".0);\\n        return sampleTexture(\"+e+\", uv);\\n      }\\n    \";if(1===o)return\"\\n      float \"+n+\"(int index) {\\n        vec2 uv = vec2((float(index + \"+i+\") + 0.5) / \"+a+\".0, 0.5);\\n        return sampleTexture(\"+e+\", uv);\\n      }\\n    \";return\"\\n    float \"+n+\"(int index) {\\n      vec2 uv = uvFromFlat(\"+o+\", \"+a+\", index + \"+i+\");\\n      return sampleTexture(\"+e+\", uv);\\n    }\\n  \"}(t);case 2:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r=\"get\"+n.charAt(0).toUpperCase()+n.slice(1),o=t.shapeInfo.texShape;if(null!=o&&S(e,o)){var a=o[0],i=o[1];return\"\\n    float \"+r+\"(int row, int col) {\\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(\"+i+\".0, \"+a+\".0);\\n      return sampleTexture(\"+n+\", uv);\\n    }\\n  \"}var s=M(e),u=s.newShape,c=s.keptDims,l=u;if(l.length<e.length){var h=Ca(t,l);return\"\\n      \"+da(h)+\"\\n      float \"+r+\"(int row, int col) {\\n        return \"+r+\"(\"+Ea([\"row\",\"col\"],c)+\");\\n      }\\n    \"}if(t.shapeInfo.isUniform)return\"\\n      float \"+r+\"(int row, int col) {\\n        int index = round(dot(vec2(row, col), vec2(\"+e[1]+\", 1)));\\n        \"+ba(t)+\"\\n      }\\n    \";var f=o[0],d=o[1],p=xa(n);if(1===d)return\"\\n    float \"+r+\"(int row, int col) {\\n      float index = dot(vec3(row, col, \"+p+\"), vec3(\"+e[1]+\", 1, 1));\\n      vec2 uv = vec2(0.5, (index + 0.5) / \"+f+\".0);\\n      return sampleTexture(\"+n+\", uv);\\n    }\\n  \";if(1===f)return\"\\n    float \"+r+\"(int row, int col) {\\n      float index = dot(vec3(row, col, \"+p+\"), vec3(\"+e[1]+\", 1, 1));\\n      vec2 uv = vec2((index + 0.5) / \"+d+\".0, 0.5);\\n      return sampleTexture(\"+n+\", uv);\\n    }\\n  \";return\"\\n  float \"+r+\"(int row, int col) {\\n    // Explicitly use integer operations as dot() only works on floats.\\n    int index = row * \"+e[1]+\" + col + \"+p+\";\\n    vec2 uv = uvFromFlat(\"+f+\", \"+d+\", index);\\n    return sampleTexture(\"+n+\", uv);\\n  }\\n\"}(t);case 3:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r=\"get\"+n.charAt(0).toUpperCase()+n.slice(1),o=e[1]*e[2],a=e[2],i=M(e),s=i.newShape,u=i.keptDims,c=s;if(c.length<e.length){var l=Ca(t,c);return\"\\n        \"+da(l)+\"\\n        float \"+r+\"(int row, int col, int depth) {\\n          return \"+r+\"(\"+Ea([\"row\",\"col\",\"depth\"],u)+\");\\n        }\\n      \"}if(t.shapeInfo.isUniform)return\"\\n      float \"+r+\"(int row, int col, int depth) {\\n        int index = round(dot(vec3(row, col, depth),\\n                          vec3(\"+o+\", \"+a+\", 1)));\\n        \"+ba(t)+\"\\n      }\\n    \";var h=t.shapeInfo.texShape,f=h[0],d=h[1],p=t.shapeInfo.flatOffset;if(d===o&&null==p)return\"\\n        float \"+r+\"(int row, int col, int depth) {\\n          float texR = float(row);\\n          float texC = dot(vec2(col, depth), vec2(\"+a+\", 1));\\n          vec2 uv = (vec2(texC, texR) + halfCR) /\\n                     vec2(\"+d+\".0, \"+f+\".0);\\n          return sampleTexture(\"+n+\", uv);\\n        }\\n      \";if(d===a&&null==p)return\"\\n    float \"+r+\"(int row, int col, int depth) {\\n      float texR = dot(vec2(row, col), vec2(\"+e[1]+\", 1));\\n      float texC = float(depth);\\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(\"+d+\".0, \"+f+\".0);\\n      return sampleTexture(\"+n+\", uv);\\n    }\\n  \";var v=xa(n);return\"\\n      float \"+r+\"(int row, int col, int depth) {\\n        // Explicitly use integer operations as dot() only works on floats.\\n        int index = row * \"+o+\" + col * \"+a+\" + depth + \"+v+\";\\n        vec2 uv = uvFromFlat(\"+f+\", \"+d+\", index);\\n        return sampleTexture(\"+n+\", uv);\\n      }\\n  \"}(t);case 4:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r=\"get\"+n.charAt(0).toUpperCase()+n.slice(1),o=e[3],a=e[2]*o,i=e[1]*a,s=M(e),u=s.newShape,c=s.keptDims;if(u.length<e.length){var l=Ca(t,u);return\"\\n      \"+da(l)+\"\\n      float \"+r+\"(int row, int col, int depth, int depth2) {\\n        return \"+r+\"(\"+Ea([\"row\",\"col\",\"depth\",\"depth2\"],c)+\");\\n      }\\n    \"}if(t.shapeInfo.isUniform)return\"\\n      float \"+r+\"(int row, int col, int depth, int depth2) {\\n        int index = round(dot(vec4(row, col, depth, depth2),\\n                          vec4(\"+i+\", \"+a+\", \"+o+\", 1)));\\n        \"+ba(t)+\"\\n      }\\n    \";var h=t.shapeInfo.flatOffset,f=t.shapeInfo.texShape,d=f[0],p=f[1];if(p===i&&null==h)return\"\\n      float \"+r+\"(int row, int col, int depth, int depth2) {\\n        float texR = float(row);\\n        float texC =\\n            dot(vec3(col, depth, depth2),\\n                vec3(\"+a+\", \"+o+\", 1));\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                   vec2(\"+p+\".0, \"+d+\".0);\\n        return sampleTexture(\"+n+\", uv);\\n      }\\n    \";if(p===o&&null==h)return\"\\n      float \"+r+\"(int row, int col, int depth, int depth2) {\\n        float texR = dot(vec3(row, col, depth),\\n                         vec3(\"+e[1]*e[2]+\", \"+e[2]+\", 1));\\n        float texC = float(depth2);\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                  vec2(\"+p+\".0, \"+d+\".0);\\n        return sampleTexture(\"+n+\", uv);\\n      }\\n    \";var v=xa(n);return\"\\n    float \"+r+\"(int row, int col, int depth, int depth2) {\\n      // Explicitly use integer operations as dot() only works on floats.\\n      int index = row * \"+i+\" + col * \"+a+\" +\\n          depth * \"+o+\" + depth2;\\n      vec2 uv = uvFromFlat(\"+d+\", \"+p+\", index + \"+v+\");\\n      return sampleTexture(\"+n+\", uv);\\n    }\\n  \"}(t);case 5:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r=\"get\"+n.charAt(0).toUpperCase()+n.slice(1),o=e[4],a=e[3]*o,i=e[2]*a,s=e[1]*i,u=M(e),c=u.newShape,l=u.keptDims;if(c.length<e.length){var h=Ca(t,c);return\"\\n      \"+da(h)+\"\\n      float \"+r+\"(int row, int col, int depth, int depth2, int depth3) {\\n        return \"+r+\"(\"+Ea([\"row\",\"col\",\"depth\",\"depth2\",\"depth3\"],l)+\");\\n      }\\n    \"}if(t.shapeInfo.isUniform)return\"\\n      float \"+r+\"(int row, int col, int depth, int depth2, int depth3) {\\n        float index = dot(\\n          vec4(row, col, depth, depth2),\\n          vec4(\"+s+\", \"+i+\", \"+a+\", \"+o+\")) +\\n          depth3;\\n        \"+ba(t)+\"\\n      }\\n    \";var f=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,p=d[0],v=d[1];if(v===s&&null==f)return\"\\n      float \"+r+\"(int row, int col, int depth, int depth2, int depth3) {\\n        int texR = row;\\n        float texC = dot(vec4(col, depth, depth2, depth3),\\n                         vec4(\"+i+\", \"+a+\", \"+o+\", 1));\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                   vec2(\"+v+\".0, \"+p+\".0);\\n        return sampleTexture(\"+n+\", uv);\\n      }\\n    \";if(v===o&&null==f)return\"\\n      float \"+r+\"(int row, int col, int depth, int depth2, int depth3) {\\n        float texR = dot(\\n          vec4(row, col, depth, depth2),\\n          vec4(\"+e[1]*e[2]*e[3]+\",\\n               \"+e[2]*e[3]+\", \"+e[3]+\", 1));\\n        int texC = depth3;\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                  vec2(\"+v+\".0, \"+p+\".0);\\n        return sampleTexture(\"+n+\", uv);\\n      }\\n    \";var m=xa(n);return\"\\n    float \"+r+\"(int row, int col, int depth, int depth2, int depth3) {\\n      // Explicitly use integer operations as dot() only works on floats.\\n      int index = row * \"+s+\" + col * \"+i+\" + depth * \"+a+\" +\\n          depth2 * \"+o+\" + depth3 + \"+m+\";\\n      vec2 uv = uvFromFlat(\"+p+\", \"+v+\", index);\\n      return sampleTexture(\"+n+\", uv);\\n    }\\n  \"}(t);case 6:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r=\"get\"+n.charAt(0).toUpperCase()+n.slice(1),o=M(e),a=o.newShape,i=o.keptDims;if(a.length<e.length){var s=Ca(t,a);return\"\\n      \"+da(s)+\"\\n      float \"+r+\"(int row, int col, int depth,\\n                    int depth2, int depth3, int depth4) {\\n        return \"+r+\"(\"+Ea([\"row\",\"col\",\"depth\",\"depth2\",\"depth3\",\"depth4\"],i)+\");\\n      }\\n    \"}var u=e[5],c=e[4]*u,l=e[3]*c,h=e[2]*l,f=e[1]*h;if(t.shapeInfo.isUniform)return\"\\n      float \"+r+\"(int row, int col, int depth,\\n                  int depth2, int depth3, int depth4) {\\n        int index = round(dot(\\n          vec4(row, col, depth, depth2),\\n          vec4(\"+f+\", \"+h+\", \"+l+\", \"+c+\")) +\\n          dot(\\n            vec2(depth3, depth4),\\n            vec2(\"+u+\", 1)));\\n        \"+ba(t)+\"\\n      }\\n    \";var d=t.shapeInfo.flatOffset,p=t.shapeInfo.texShape,v=p[0],m=p[1];if(m===f&&null==d)return\"\\n      float \"+r+\"(int row, int col, int depth,\\n                    int depth2, int depth3, int depth4) {\\n        int texR = row;\\n        float texC = dot(vec4(col, depth, depth2, depth3),\\n          vec4(\"+h+\", \"+l+\", \"+c+\", \"+u+\")) +\\n               float(depth4);\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                   vec2(\"+m+\".0, \"+v+\".0);\\n        return sampleTexture(\"+n+\", uv);\\n      }\\n    \";if(m===u&&null==d)return\"\\n      float \"+r+\"(int row, int col, int depth,\\n                    int depth2, int depth3, int depth4) {\\n        float texR = dot(vec4(row, col, depth, depth2),\\n          vec4(\"+e[1]*e[2]*e[3]*e[4]+\",\\n               \"+e[2]*e[3]*e[4]+\",\\n               \"+e[3]*e[4]+\",\\n               \"+e[4]+\")) + float(depth3);\\n        int texC = depth4;\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                  vec2(\"+m+\".0, \"+v+\".0);\\n        return sampleTexture(\"+n+\", uv);\\n      }\\n    \";var g=xa(n);return\"\\n    float \"+r+\"(int row, int col, int depth,\\n                  int depth2, int depth3, int depth4) {\\n      // Explicitly use integer operations as dot() only works on floats.\\n      int index = row * \"+f+\" + col * \"+h+\" + depth * \"+l+\" +\\n          depth2 * \"+c+\" + depth3 * \"+u+\" + depth4 + \"+g+\";\\n      vec2 uv = uvFromFlat(\"+v+\", \"+m+\", index);\\n      return sampleTexture(\"+n+\", uv);\\n    }\\n  \"}(t);default:throw new Error(e.length+\"-D input sampling is not yet supported\")}}function pa(t){var e,n,r;switch(t.shapeInfo.logicalShape.length){case 0:return e=t.name,n=\"get\"+e.charAt(0).toUpperCase()+e.slice(1),r=ua(),\"\\n    vec4 \"+n+\"() {\\n      return \"+r.texture2D+\"(\"+e+\", halfCR);\\n    }\\n  \";case 1:return function(t){var e=t.name,n=\"get\"+e.charAt(0).toUpperCase()+e.slice(1),r=t.shapeInfo.texShape,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=ua();return\"\\n    vec4 \"+n+\"(int index) {\\n      vec2 uv = packedUVfrom1D(\\n        \"+o[0]+\", \"+o[1]+\", index);\\n      return \"+a.texture2D+\"(\"+e+\", uv);\\n    }\\n  \"}(t);case 2:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r=\"get\"+n.charAt(0).toUpperCase()+n.slice(1),o=t.shapeInfo.texShape,a=o[0],i=o[1],s=ua();if(null!=o&&S(e,o))return\"\\n      vec4 \"+r+\"(int row, int col) {\\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(\"+i+\".0, \"+a+\".0);\\n\\n        return \"+s.texture2D+\"(\"+n+\", uv);\\n      }\\n    \";var u=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],c=Math.ceil(e[1]/2);return\"\\n    vec4 \"+r+\"(int row, int col) {\\n      vec2 uv = packedUVfrom2D(\"+c+\", \"+u[0]+\", \"+u[1]+\", row, col);\\n      return \"+s.texture2D+\"(\"+n+\", uv);\\n    }\\n  \"}(t);case 3:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r=\"get\"+n.charAt(0).toUpperCase()+n.slice(1),o=t.shapeInfo.texShape,a=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===e[0]){var i=e.slice(1),s=Ca(t,i);return\"\\n        \"+pa(s)+\"\\n        vec4 \"+r+\"(int b, int row, int col) {\\n          return \"+r+\"(\"+Ea([\"b\",\"row\",\"col\"],[1,2])+\");\\n        }\\n      \"}var u=a[0],c=a[1],l=Math.ceil(e[2]/2),h=l*Math.ceil(e[1]/2),f=ua();return\"\\n    vec4 \"+r+\"(int b, int row, int col) {\\n      vec2 uv = packedUVfrom3D(\\n        \"+u+\", \"+c+\", \"+h+\", \"+l+\", b, row, col);\\n      return \"+f.texture2D+\"(\"+n+\", uv);\\n    }\\n  \"}(t);default:return function(t){for(var e=t.shapeInfo.logicalShape,n=e.length,r=t.name,o=\"get\"+r.charAt(0).toUpperCase()+r.slice(1),a=t.shapeInfo.texShape,i=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],s=i[0],u=i[1],c=Math.ceil(e[n-1]/2),l=c*Math.ceil(e[n-2]/2),h=\"int b, int row, int col\",f=\"b * \"+l+\" + (row / 2) * \"+c+\" + (col / 2)\",d=2;d<n-1;d++)h=\"int b\"+d+\", \"+h,l*=e[n-d-1],f=\"b\"+d+\" * \"+l+\" + \"+f;var p=ua();return\"\\n    vec4 \"+o+\"(\"+h+\") {\\n      int index = \"+f+\";\\n      int texR = index / \"+u+\";\\n      int texC = index - texR * \"+u+\";\\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(\"+u+\", \"+s+\");\\n      return \"+p.texture2D+\"(\"+r+\", uv);\\n    }\\n  \"}(t)}}var va=\"\\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\\n  int texR = index / texNumC;\\n  int texC = index - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\\n  int texelIndex = index / 2;\\n  int texR = texelIndex / texNumC;\\n  int texC = texelIndex - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\n\",ma=\"\\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\\n  int texNumC, int row, int col) {\\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\\n  int texR = texelIndex / texNumC;\\n  int texC = texelIndex - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\n\",ga=\"\\nvec2 packedUVfrom3D(int texNumR, int texNumC,\\n    int texelsInBatch, int texelsInLogicalRow, int b,\\n    int row, int col) {\\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\\n  int texR = index / texNumC;\\n  int texC = index - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\n\",ya=\"\\n  float getChannel(vec4 frag, vec2 innerDims) {\\n    vec2 modCoord = mod(innerDims, 2.);\\n    return modCoord.x == 0. ?\\n      (modCoord.y == 0. ? frag.r : frag.g) :\\n      (modCoord.y == 0. ? frag.b : frag.a);\\n  }\\n  float getChannel(vec4 frag, int dim) {\\n    float modCoord = mod(float(dim), 2.);\\n    return modCoord == 0. ? frag.r : frag.g;\\n  }\\n\";function xa(t){return\"offset\"+t}function ba(t){var e=t.name,n=k(t.shapeInfo.logicalShape);return n<2?\"return \"+e+\";\":\"\\n    for (int i = 0; i < \"+n+\"; i++) {\\n      if (i == index) {\\n        return \"+e+\"[i];\\n      }\\n    }\\n  \"}function wa(t){if(t<=1)return\"int\";if(2===t)return\"ivec2\";if(3===t)return\"ivec3\";if(4===t)return\"ivec4\";if(5===t)return\"ivec5\";if(6===t)return\"ivec6\";throw Error(\"GPU for rank \"+t+\" is not yet supported\")}function Ca(t,e){var n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function Ea(t,e){return e.map((function(e){return t[e]})).join(\", \")}var Ra=function(t,e,n,r){this.variableNames=[\"A\"],this.packedInputs=!0,this.packedOutput=!0,C(t.length>2,(function(){return\"Packed arg\"+(n.charAt(0).toUpperCase()+n.slice(1))+\" supports only inputs with rank above 2.\"}));var o=t[t.length-1],a=Math.ceil(o/e);this.outputShape=t.slice(0,-1),a>1&&this.outputShape.push(a),r||this.variableNames.push(\"bestIndicesA\");var i,s,u=this.outputShape,c=u.length,l=wa(c),h=sa(\"coords\",c);if(1===a){var f=wa(s=c+1);i=\"\\n        \"+f+\" sourceLocR = \"+f+\"(\"+h.join()+\", 0);\\n        ++\"+h[c-1]+\";\\n        \"+f+\" sourceLocG = \"+f+\"(\"+h.join()+\", 0);\\n        ++\"+h[c-2]+\";\\n        \"+f+\" sourceLocA = \"+f+\"(\"+h.join()+\", 0);\\n        --\"+h[c-1]+\";\\n        \"+f+\" sourceLocB = \"+f+\"(\"+h.join()+\", 0);\\n        --\"+h[c-2]+\";\"}else s=c,i=\"\\n        \"+l+\" sourceLocR = coords;\\n        ++\"+h[c-1]+\";\\n        \"+l+\" sourceLocG = coords;\\n        ++\"+h[c-2]+\";\\n        \"+l+\" sourceLocA = coords;\\n        --\"+h[c-1]+\";\\n        \"+l+\" sourceLocB = coords;\\n        --\"+h[c-2]+\";\";var d=[\"x\",\"y\",\"z\",\"w\",\"u\",\"v\"].slice(0,s),p=\".\"+d[s-1],v=d.map((function(t){return\"int \"+t})),m=sa(\"sourceLocR\",s-1).concat(\"inIdx.r\"),g=sa(\"sourceLocG\",s-1).concat(\"inIdx.g\"),y=sa(\"sourceLocB\",s-1).concat(\"inIdx.b\"),x=sa(\"sourceLocA\",s-1).concat(\"inIdx.a\"),b=\"max\"===n?\"greaterThan\":\"lessThan\",w=r?\"\":\"\\n          inIdx = round(vec4(getBestIndicesAChannel(\"+m.join()+\"),\\n                             getBestIndicesAChannel(\"+g.join()+\"),\\n                             getBestIndicesAChannel(\"+y.join()+\"),\\n                             getBestIndicesAChannel(\"+x.join()+\")));\",E=\"vec4(\\n            getAChannel(\"+m.join()+\"),\\n            hasNextCol ? getAChannel(\"+g.join()+\") : 0.,\\n            hasNextRow ? getAChannel(\"+y.join()+\") : 0.,\\n            hasNextRow && hasNextCol ? getAChannel(\"+x.join()+\") : 0.)\",R=r?\"\":\"\\n      float getBestIndicesAChannel(\"+v.join()+\") {\\n        return getChannel(getBestIndicesA(\"+d.join()+\"),\\n                                          vec2(\"+d.slice(-2).join()+\"));\\n      }\";this.userCode=\"\\n      float getAChannel(\"+v.join()+\") {\\n        return getChannel(getA(\"+d.join()+\"),\\n                               vec2(\"+d.slice(-2).join()+\"));\\n      }\\n      \"+R+\"\\n      void main() {\\n        \"+l+\" coords = getOutputCoords();\\n        bool hasNextCol = \"+h[c-1]+\" < \"+(u[c-1]-1)+\";\\n        bool hasNextRow = \"+h[c-2]+\" < \"+(u[c-2]-1)+\";\\n        \"+i+\"\\n        ivec4 srcIdx = ivec4(sourceLocR\"+p+\", sourceLocG\"+p+\",\\n          sourceLocB\"+p+\", sourceLocA\"+p+\") * \"+e+\";\\n        ivec4 inIdx = srcIdx;\\n        vec4 bestIndex = vec4(inIdx);\\n        vec4 bestValue = \"+E+\";\\n\\n        for (int i = 0; i < \"+e+\"; i++) {\\n          inIdx = srcIdx;\\n          \"+w+\"\\n          vec4 candidate = \"+E+\";\\n          bvec4 nan = isnan(candidate);\\n          bvec4 replace = bvec4(\\n            vec4(\"+b+\"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\\n\\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\\n                           replace.y  ? candidate.y : bestValue.y,\\n                           replace.z  ? candidate.z : bestValue.z,\\n                           replace.w  ? candidate.w : bestValue.w);\\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\\n          srcIdx++;\\n        }\\n        setOutput(bestIndex);\\n      }\\n    \"},Ia=function(t){this.variableNames=[\"dy\"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,o=t.strideWidth,a=t.dilationHeight,i=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=s-1-t.padInfo.top,l=u-1-t.padInfo.left,h=1/(e*n);this.userCode=\"\\n      const ivec2 pads = ivec2(\"+c+\", \"+l+\");\\n      const float avgMultiplier = float(\"+h+\");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n\\n        ivec2 dyRCCorner = coords.yz - pads;\\n        int dyRCorner = dyRCCorner.x;\\n        int dyCCorner = dyRCCorner.y;\\n\\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int wR = 0; wR < \"+s+\";\\n            wR += \"+a+\") {\\n          float dyR = float(dyRCorner + wR) / \"+r+\".0;\\n\\n          if (dyR < 0.0 || dyR >= \"+t.outHeight+\".0 || fract(dyR) > 0.0) {\\n            continue;\\n          }\\n          int idyR = int(dyR);\\n\\n          for (int wC = 0; wC < \"+u+\";\\n            wC+= \"+i+\") {\\n            float dyC = float(dyCCorner + wC) / \"+o+\".0;\\n\\n            if (dyC < 0.0 || dyC >= \"+t.outWidth+\".0 ||\\n                fract(dyC) > 0.0) {\\n              continue;\\n            }\\n            int idyC = int(dyC);\\n\\n            float dyValue = getDy(b, idyR, idyC, d);\\n\\n            dotProd += dyValue * avgMultiplier;\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \"},ka=function(t){this.variableNames=[\"dy\"],this.outputShape=t.inShape;var e=t.filterDepth,n=t.filterHeight,r=t.filterWidth,o=t.strideDepth,a=t.strideHeight,i=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,l=t.effectiveFilterDepth,h=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=l-1-t.padInfo.front,p=h-1-t.padInfo.top,v=f-1-t.padInfo.left,m=1/(e*n*r);this.userCode=\"\\n      const ivec3 pads = ivec3(\"+d+\", \"+p+\", \"+v+\");\\n      const float avgMultiplier = float(\"+m+\");\\n\\n      void main() {\\n        ivec5 coords = getOutputCoords();\\n        int batch = coords.x;\\n        int ch = coords.u;\\n\\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\\n        int dyDCorner = dyCorner.x;\\n        int dyRCorner = dyCorner.y;\\n        int dyCCorner = dyCorner.z;\\n\\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\\n        // dx(xD, xR, xC, ch).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n\\n        for (int wD = 0; wD < \"+l+\";\\n            wD += \"+s+\") {\\n          float dyD = float(dyDCorner + wD) / \"+o+\".0;\\n\\n          if (dyD < 0.0 || dyD >= \"+t.outDepth+\".0 || fract(dyD) > 0.0) {\\n            continue;\\n          }\\n          int idyD = int(dyD);\\n\\n          for (int wR = 0; wR < \"+h+\";\\n              wR += \"+u+\") {\\n            float dyR = float(dyRCorner + wR) / \"+a+\".0;\\n\\n            if (dyR < 0.0 || dyR >= \"+t.outHeight+\".0 ||\\n                fract(dyR) > 0.0) {\\n              continue;\\n            }\\n            int idyR = int(dyR);\\n\\n            for (int wC = 0; wC < \"+f+\";\\n                wC += \"+c+\") {\\n              float dyC = float(dyCCorner + wC) / \"+i+\".0;\\n\\n              if (dyC < 0.0 || dyC >= \"+t.outWidth+\".0 ||\\n                  fract(dyC) > 0.0) {\\n                continue;\\n              }\\n              int idyC = int(dyC);\\n\\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\\n\\n              dotProd += dyValue * avgMultiplier;\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \"},Sa=function(t,e,n,r,o,a){this.outputShape=[],this.variableNames=[\"x\",\"mean\",\"variance\"],Ro(t,e),Ro(t,n);var i=\"0.0\";null!=r&&(Ro(t,r),this.variableNames.push(\"offset\"),i=\"getOffsetAtOutCoords()\");var s=\"1.0\";null!=o&&(Ro(t,o),this.variableNames.push(\"scale\"),s=\"getScaleAtOutCoords()\"),this.outputShape=t,this.userCode=\"\\n      void main() {\\n        float x = getXAtOutCoords();\\n        float mean = getMeanAtOutCoords();\\n        float variance = getVarianceAtOutCoords();\\n        float offset = \"+i+\";\\n        float scale = \"+s+\";\\n        float inv = scale * inversesqrt(variance + float(\"+a+\"));\\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\\n      }\\n    \"},Aa=function(t,e,n,r,o,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=[\"x\",\"mean\",\"variance\"],Ro(t,e),Ro(t,n);var i=\"vec4(0.0)\";null!=r&&(Ro(t,r),this.variableNames.push(\"offset\"),i=\"getOffsetAtOutCoords()\");var s=\"vec4(1.0)\";null!=o&&(Ro(t,o),this.variableNames.push(\"scale\"),s=\"getScaleAtOutCoords()\"),this.outputShape=t,this.userCode=\"\\n      void main() {\\n        vec4 offset = \"+i+\";\\n        vec4 scale = \"+s+\";\\n\\n        vec4 x = getXAtOutCoords();\\n        vec4 mean = getMeanAtOutCoords();\\n        vec4 variance = getVarianceAtOutCoords();\\n\\n        vec4 inv = scale * inversesqrt(variance + vec4(\"+a+\"));\\n\\n        setOutput((x - mean) * inv + offset);\\n      }\\n    \"},Da=\"return areal * breal - aimag * bimag;\",Ta=\"return areal * bimag + aimag * breal;\",Na=function(t,e,n){this.variableNames=[\"AReal\",\"AImag\",\"BReal\",\"BImag\"],this.outputShape=Ro(e,n),this.userCode=\"\\n      float binaryOpComplex(\\n          float areal, float aimag, float breal, float bimag) {\\n        \"+t+\"\\n      }\\n\\n      void main() {\\n        float areal = getARealAtOutCoords();\\n        float aimag = getAImagAtOutCoords();\\n        float breal = getBRealAtOutCoords();\\n        float bimag = getBImagAtOutCoords();\\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\\n      }\\n    \"},Fa=\"return a + b;\",_a=\"return a - b;\",Oa=\"return a * b;\",Ma=\"return (a < 0.) ? b * a : a;\",Ba=function(t,e,n){this.variableNames=[\"A\",\"B\"],this.outputShape=Ro(e,n),this.userCode=\"\\n      float binaryOperation(float a, float b) {\\n        \"+t+\"\\n      }\\n\\n      void main() {\\n        float a = getAAtOutCoords();\\n        float b = getBAtOutCoords();\\n        setOutput(binaryOperation(a, b));\\n      }\\n    \"},Pa=\"\\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\\n\",La=function(t,e,n,r){void 0===r&&(r=!1),this.variableNames=[\"A\",\"B\"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Ro(e,n);var o=this.outputShape.length,a=\"\";if(r)if(0===o||1===k(this.outputShape))a=\"\\n          result.y = 0.;\\n          result.z = 0.;\\n          result.w = 0.;\\n        \";else if(a=\"\\n          \"+wa(o)+\" coords = getOutputCoords();\\n        \",1===o)a+=\"\\n            result.y = (coords + 1) >= \"+this.outputShape[0]+\" ? 0. : result.y;\\n            result.z = 0.;\\n            result.w = 0.;\\n          \";else{var i=sa(\"coords\",o);a+=\"\\n            bool nextRowOutOfBounds =\\n              (\"+i[o-2]+\" + 1) >= \"+this.outputShape[o-2]+\";\\n            bool nextColOutOfBounds =\\n              (\"+i[o-1]+\" + 1) >= \"+this.outputShape[o-1]+\";\\n            result.y = nextColOutOfBounds ? 0. : result.y;\\n            result.z = nextRowOutOfBounds ? 0. : result.z;\\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\\n          \"}this.userCode=\"\\n      vec4 binaryOperation(vec4 a, vec4 b) {\\n        \"+t+\"\\n      }\\n\\n      void main() {\\n        vec4 a = getAAtOutCoords();\\n        vec4 b = getBAtOutCoords();\\n\\n        vec4 result = binaryOperation(a, b);\\n        \"+a+\"\\n\\n        setOutput(result);\\n      }\\n    \"},Wa=function(){function t(t){this.variableNames=[\"A\"],this.outputShape=t,this.userCode=\"\\n      uniform float minVal;\\n      uniform float maxVal;\\n\\n      void main() {\\n        float value = getAAtOutCoords();\\n        if (isnan(value)) {\\n          setOutput(value);\\n          return;\\n        }\\n\\n        setOutput(clamp(value, minVal, maxVal));\\n      }\\n    \"}return t.prototype.getCustomSetupFunc=function(t,e){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,\"minVal\"),n.maxLoc=r.getUniformLocationNoThrow(o,\"maxVal\")),r.gl.uniform1f(n.minLoc,t),r.gl.uniform1f(n.maxLoc,e)}},t}(),Ua=function(){function t(t){this.variableNames=[\"A\"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode=\"\\n      uniform float minVal;\\n      uniform float maxVal;\\n\\n      void main() {\\n        vec4 value = getAAtOutCoords();\\n\\n        if (any(isnan(value))) {\\n          setOutput(value);\\n          return;\\n        }\\n\\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\\n      }\\n    \"}return t.prototype.getCustomSetupFunc=function(t,e){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,\"minVal\"),n.maxLoc=r.getUniformLocationNoThrow(o,\"maxVal\")),r.gl.uniform1f(n.minLoc,t),r.gl.uniform1f(n.maxLoc,e)}},t}(),Va=function(t){this.variableNames=[\"real\",\"imag\"],this.outputShape=t,this.userCode=\"\\n      void main() {\\n        float re = abs(getRealAtOutCoords());\\n        float im = abs(getImagAtOutCoords());\\n        float mx = max(re, im);\\n\\n        // sadly the length function in glsl is not underflow-safe\\n        // (at least not on Intel GPUs). So the safe solution is\\n        // to ensure underflow-safety in all cases.\\n        setOutput(\\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\\n        );\\n      }\\n    \"},za=function(t){this.outputShape=[],this.outputShape=Sn(t,1),this.variableNames=t.map((function(t,e){return\"T\"+e}));var e=new Array(t.length-1);e[0]=t[0][1];for(var n=1;n<e.length;n++)e[n]=e[n-1]+t[n][1];var r=[\"if (yC < \"+e[0]+\") setOutput(getT0(yR, yC));\"];for(n=1;n<e.length;n++){var o=e[n-1];r.push(\"else if (yC < \"+e[n]+\") setOutput(getT\"+n+\"(yR, yC-\"+o+\"));\")}var a=e.length,i=e[e.length-1];r.push(\"else setOutput(getT\"+a+\"(yR, yC-\"+i+\"));\"),this.userCode=\"\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int yR = coords.x;\\n        int yC = coords.y;\\n\\n        \"+r.join(\"\\n        \")+\"\\n      }\\n    \"},Ga=function(t,e){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Sn(t,e);var n=this.outputShape,r=n.length,o=wa(r),a=sa(\"coords\",r),i=[\"x\",\"y\",\"z\",\"w\",\"u\",\"v\"].slice(0,r);this.variableNames=t.map((function(t,e){return\"T\"+e}));var s=new Array(t.length-1);s[0]=t[0][e];for(var u=1;u<s.length;u++)s[u]=s[u-1]+t[u][e];var c=i[e],l=i.slice(-2),h=i.join(),f=\"if (\"+c+\" < \"+s[0]+\") {\\n        return getChannel(\\n            getT0(\"+h+\"), vec2(\"+l.join()+\"));\\n        }\";for(u=1;u<s.length;u++){var d=s[u-1];f+=\"\\n        if (\"+c+\" < \"+s[u]+\"  && \"+c+\" >= \"+s[u-1]+\") {\\n          return getChannel(\\n            getT\"+u+\"(\"+Ha(i,c,d)+\"),\\n            vec2(\"+Ha(l,c,d)+\"));\\n        }\"}var p=s.length,v=s[s.length-1];f+=\"\\n        return getChannel(\\n          getT\"+p+\"(\"+Ha(i,c,v)+\"),\\n          vec2(\"+Ha(l,c,v)+\"));\",this.userCode=\"\\n      float getValue(\"+i.map((function(t){return\"int \"+t}))+\") {\\n        \"+f+\"\\n      }\\n\\n      void main() {\\n        \"+o+\" coords = getOutputCoords();\\n        vec4 result = vec4(getValue(\"+a+\"), 0., 0., 0.);\\n\\n        \"+a[r-1]+\" = \"+a[r-1]+\" + 1;\\n        if (\"+a[r-1]+\" < \"+n[r-1]+\") {\\n          result.g = getValue(\"+a+\");\\n        }\\n\\n        \"+a[r-2]+\" = \"+a[r-2]+\" + 1;\\n        if (\"+a[r-2]+\" < \"+n[r-2]+\") {\\n          result.a = getValue(\"+a+\");\\n        }\\n\\n        \"+a[r-1]+\" = \"+a[r-1]+\" - 1;\\n        if (\"+a[r-2]+\" < \"+n[r-2]+\" &&\\n            \"+a[r-1]+\" < \"+n[r-1]+\") {\\n          result.b = getValue(\"+a+\");\\n        }\\n        setOutput(result);\\n      }\\n    \"};function Ha(t,e,n){var r=t.indexOf(e);return t.map((function(t,e){return e===r?t+\" - \"+n:t})).join()}var qa=function(t){this.variableNames=[\"x\",\"dy\"],this.outputShape=t.filterShape;var e=t.strideHeight,n=t.strideWidth,r=t.padInfo.top,o=t.padInfo.left,a=\"channelsLast\"===t.dataFormat;this.userCode=\"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int wR = coords.x;\\n        int wC = coords.y;\\n        int d1 = coords.z;\\n        int d2 = coords.w;\\n\\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n\\n        for (int b = 0; b < \"+t.batchSize+\"; b++) {\\n          for (int yR = 0; yR < \"+t.outHeight+\"; yR++) {\\n            int xR = wR + yR * \"+e+\" - \"+r+\";\\n\\n            if (xR < 0 || xR >= \"+t.inHeight+\") {\\n              continue;\\n            }\\n\\n            for (int yC = 0; yC < \"+t.outWidth+\"; yC++) {\\n              int xC = wC + yC * \"+n+\" - \"+o+\";\\n\\n              if (xC < 0 || xC >= \"+t.inWidth+\") {\\n                continue;\\n              }\\n\\n              if (\"+a+\") {\\n                float dyValue = getDy(b, yR, yC, d2);\\n                float xValue = getX(b, xR, xC, d1);\\n                dotProd += (xValue * dyValue);\\n              } else {\\n                float dyValue = getDy(b, d2, yR, yC);\\n                float xValue = getX(b, d1, xR, xC);\\n                dotProd += (xValue * dyValue);\\n              }\\n\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \"},Ka=function(t){this.variableNames=[\"dy\",\"W\"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,o=t.strideWidth,a=\"channelsLast\"===t.dataFormat,i=e-1-t.padInfo.top,s=n-1-t.padInfo.left,u=a?1:2,c=a?2:3,l=a?3:1;this.userCode=\"\\n      const ivec2 pads = ivec2(\"+i+\", \"+s+\");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int d1 = coords[\"+l+\"];\\n\\n        ivec2 dyCorner = ivec2(coords[\"+u+\"], coords[\"+c+\"]) - pads;\\n        int dyRCorner = dyCorner.x;\\n        int dyCCorner = dyCorner.y;\\n\\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int wR = 0; wR < \"+e+\"; wR++) {\\n          float dyR = float(dyRCorner + wR) / \"+r+\".0;\\n\\n          if (dyR < 0.0 || dyR >= \"+t.outHeight+\".0 || fract(dyR) > 0.0) {\\n            continue;\\n          }\\n          int idyR = int(dyR);\\n\\n          int wRPerm = \"+e+\" - 1 - wR;\\n\\n          for (int wC = 0; wC < \"+n+\"; wC++) {\\n            float dyC = float(dyCCorner + wC) / \"+o+\".0;\\n\\n            if (dyC < 0.0 || dyC >= \"+t.outWidth+\".0 ||\\n                fract(dyC) > 0.0) {\\n              continue;\\n            }\\n            int idyC = int(dyC);\\n\\n            int wCPerm = \"+n+\" - 1 - wC;\\n\\n            for (int d2 = 0; d2 < \"+t.outChannels+\"; d2++) {\\n\\n              if (\"+a+\") {\\n                float xValue = getDy(batch, idyR, idyC, d2);\\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\\n                dotProd += xValue * wValue;\\n              } else {\\n                float xValue = getDy(batch, d2, idyR, idyC);\\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\\n                dotProd += xValue * wValue;\\n              }\\n\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \"},ja=function(t){this.variableNames=[\"x\",\"dy\"],this.outputShape=t.filterShape;var e=t.strideDepth,n=t.strideHeight,r=t.strideWidth,o=t.padInfo.front,a=t.padInfo.top,i=t.padInfo.left;this.userCode=\"\\n      void main() {\\n        ivec5 coords = getOutputCoords();\\n        int wF = coords.x;\\n        int wR = coords.y;\\n        int wC = coords.z;\\n        int d1 = coords.w;\\n        int d2 = coords.u;\\n\\n        float dotProd = 0.0;\\n\\n        for (int b = 0; b < \"+t.batchSize+\"; b++) {\\n          for (int yF = 0; yF < \"+t.outDepth+\"; yF++) {\\n            int xF = wF + yF * \"+e+\" - \"+o+\";\\n\\n            if (xF < 0 || xF >= \"+t.inDepth+\") {\\n              continue;\\n            }\\n\\n            for (int yR = 0; yR < \"+t.outHeight+\"; yR++) {\\n              int xR = wR + yR * \"+n+\" - \"+a+\";\\n\\n              if (xR < 0 || xR >= \"+t.inHeight+\") {\\n                continue;\\n              }\\n\\n              for (int yC = 0; yC < \"+t.outWidth+\"; yC++) {\\n                int xC = wC + yC * \"+r+\" - \"+i+\";\\n\\n                if (xC < 0 || xC >= \"+t.inWidth+\") {\\n                  continue;\\n                }\\n\\n                float dyValue = getDy(b, yF, yR, yC, d2);\\n                float xValue = getX(b, xF, xR, xC, d1);\\n                dotProd += (xValue * dyValue);\\n              }\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \"},Xa=function(t){this.variableNames=[\"dy\",\"W\"],this.outputShape=t.inShape;var e=t.filterDepth,n=t.filterHeight,r=t.filterWidth,o=t.strideDepth,a=t.strideHeight,i=t.strideWidth,s=e-1-t.padInfo.front,u=n-1-t.padInfo.top,c=r-1-t.padInfo.left;this.userCode=\"\\n      const ivec3 pads = ivec3(\"+s+\", \"+u+\", \"+c+\");\\n\\n      void main() {\\n        ivec5 coords = getOutputCoords();\\n        int batch = coords.x;\\n        int d1 = coords.u;\\n\\n\\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\\n        int dyFCorner = dyCorner.x;\\n        int dyRCorner = dyCorner.y;\\n        int dyCCorner = dyCorner.z;\\n\\n        float dotProd = 0.0;\\n        for (int wF = 0; wF < \"+e+\"; wF++) {\\n          float dyF = float(dyFCorner + wF) / \"+o+\".0;\\n\\n          if (dyF < 0.0 || dyF >= \"+t.outDepth+\".0 || fract(dyF) > 0.0) {\\n            continue;\\n          }\\n          int idyF = int(dyF);\\n\\n          int wFPerm = \"+e+\" - 1 - wF;\\n\\n          for (int wR = 0; wR < \"+n+\"; wR++) {\\n            float dyR = float(dyRCorner + wR) / \"+a+\".0;\\n\\n            if (dyR < 0.0 || dyR >= \"+t.outHeight+\".0 ||\\n              fract(dyR) > 0.0) {\\n              continue;\\n            }\\n            int idyR = int(dyR);\\n\\n            int wRPerm = \"+n+\" - 1 - wR;\\n\\n            for (int wC = 0; wC < \"+r+\"; wC++) {\\n              float dyC = float(dyCCorner + wC) / \"+i+\".0;\\n\\n              if (dyC < 0.0 || dyC >= \"+t.outWidth+\".0 ||\\n                  fract(dyC) > 0.0) {\\n                continue;\\n              }\\n              int idyC = int(dyC);\\n\\n              int wCPerm = \"+r+\" - 1 - wC;\\n\\n              for (int d2 = 0; d2 < \"+t.outChannels+\"; d2++) {\\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\\n                dotProd += xValue * wValue;\\n              }\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \"},Ya=function(t){this.variableNames=[\"x\",\"dy\"],this.outputShape=t.filterShape;var e=t.strideHeight,n=t.strideWidth,r=t.padInfo.top,o=t.padInfo.left,a=t.outChannels/t.inChannels;this.userCode=\"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int wR = coords.x;\\n        int wC = coords.y;\\n        int d1 = coords.z;\\n        int dm = coords.w;\\n        int d2 = d1 * \"+a+\" + dm;\\n\\n        float dotProd = 0.0;\\n\\n        // TO DO: Vec4 over the batch size\\n        for (int b = 0; b < \"+t.batchSize+\"; b++) {\\n          for (int yR = 0; yR < \"+t.outHeight+\"; yR++) {\\n            int xR = wR + yR * \"+e+\" - \"+r+\";\\n\\n            if (xR < 0 || xR >= \"+t.inHeight+\") {\\n              continue;\\n            }\\n\\n            for (int yC = 0; yC < \"+t.outWidth+\"; yC++) {\\n              int xC = wC + yC * \"+n+\" - \"+o+\";\\n\\n              if (xC < 0 || xC >= \"+t.inWidth+\") {\\n                continue;\\n              }\\n\\n              float dyValue = getDy(b, yR, yC, d2);\\n              float xValue = getX(b, xR, xC, d1);\\n              dotProd += (xValue * dyValue);\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \"},$a=function(t){this.variableNames=[\"dy\",\"W\"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,o=t.strideWidth,a=e-1-t.padInfo.top,i=n-1-t.padInfo.left,s=t.outChannels/t.inChannels;this.userCode=\"\\n      const ivec2 pads = ivec2(\"+a+\", \"+i+\");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int d1 = coords[3];\\n        ivec2 dyCorner = coords.yz - pads;\\n        int dyRCorner = dyCorner.x;\\n        int dyCCorner = dyCorner.y;\\n\\n        float dotProd = 0.0;\\n\\n        for (int wR = 0; wR < \"+e+\"; wR++) {\\n          float dyR = float(dyRCorner + wR) / \"+r+\".0;\\n\\n          if (dyR < 0.0 || dyR >= \"+t.outHeight+\".0 || fract(dyR) > 0.0) {\\n            continue;\\n          }\\n          int idyR = int(dyR);\\n\\n          int wRPerm = \"+e+\" - 1 - wR;\\n\\n          for (int wC = 0; wC < \"+n+\"; wC++) {\\n            float dyC = float(dyCCorner + wC) / \"+o+\".0;\\n\\n            if (dyC < 0.0 || dyC >= \"+t.outWidth+\".0 ||\\n                fract(dyC) > 0.0) {\\n              continue;\\n            }\\n            int idyC = int(dyC);\\n\\n            int wCPerm = \"+n+\" - 1 - wC;\\n\\n            // TO DO: Vec4 over the channelMul\\n            for (int dm = 0; dm < \"+s+\"; dm++) {\\n              int d2 = d1 * \"+s+\" + dm;\\n              float xValue = getDy(batch, idyR, idyC, d2);\\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\\n              dotProd += xValue * wValue;\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \"},Qa=function(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=[\"x\",\"W\"],this.outputShape=t.outShape;var o=t.padInfo.top,a=t.padInfo.left,i=t.strideHeight,s=t.strideWidth,u=t.dilationHeight,c=t.dilationWidth,l=t.filterHeight,h=t.filterWidth,f=4*Math.floor(t.inChannels/4),d=t.inChannels%4,p=\"channelsLast\"===t.dataFormat,v=p?1:2,m=p?2:3,g=p?3:1,y=\"\",x=\"\";n&&(y=r?\"float activation(float a) {\\n          float b = getPreluActivationWeightsAtOutCoords();\\n          \"+n+\"\\n        }\":\"\\n          float activation(float x) {\\n            \"+n+\"\\n          }\\n        \",x=\"result = activation(result);\");var b=e?\"result += getBiasAtOutCoords();\":\"\";e&&this.variableNames.push(\"bias\"),r&&this.variableNames.push(\"preluActivationWeights\"),this.userCode=\"\\n      \"+y+\"\\n\\n      const ivec2 strides = ivec2(\"+i+\", \"+s+\");\\n      const ivec2 pads = ivec2(\"+o+\", \"+a+\");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int d2 = coords[\"+g+\"];\\n\\n        ivec2 xRCCorner =\\n            ivec2(coords[\"+v+\"], coords[\"+m+\"]) * strides - pads;\\n        int xRCorner = xRCCorner.x;\\n        int xCCorner = xRCCorner.y;\\n\\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int wR = 0; wR < \"+l+\"; wR++) {\\n          int xR = xRCorner + wR * \"+u+\";\\n\\n          if (xR < 0 || xR >= \"+t.inHeight+\") {\\n            continue;\\n          }\\n\\n          for (int wC = 0; wC < \"+h+\"; wC++) {\\n            int xC = xCCorner + wC * \"+c+\";\\n\\n            if (xC < 0 || xC >= \"+t.inWidth+\") {\\n              continue;\\n            }\\n\\n            for (int d1 = 0; d1 < \"+f+\"; d1 += 4) {\\n              vec4 wValues = vec4(\\n                getW(wR, wC, d1, d2),\\n                getW(wR, wC, d1 + 1, d2),\\n                getW(wR, wC, d1 + 2, d2),\\n                getW(wR, wC, d1 + 3, d2)\\n              );\\n\\n              if (\"+p+\") {\\n                vec4 xValues = vec4(\\n                  getX(batch, xR, xC, d1),\\n                  getX(batch, xR, xC, d1 + 1),\\n                  getX(batch, xR, xC, d1 + 2),\\n                  getX(batch, xR, xC, d1 + 3)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              } else {\\n                vec4 xValues = vec4(\\n                  getX(batch, d1, xR, xC),\\n                  getX(batch, d1 + 1, xR, xC),\\n                  getX(batch, d1 + 2, xR, xC),\\n                  getX(batch, d1 + 3, xR, xC)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              }\\n            }\\n\\n            if (\"+(1===d)+\") {\\n\\n              if (\"+p+\") {\\n                dotProd +=\\n                    getX(batch, xR, xC, \"+f+\") *\\n                    getW(wR, wC, \"+f+\", d2);\\n              } else {\\n                dotProd +=\\n                    getX(batch, \"+f+\", xR, xC) *\\n                    getW(wR, wC, \"+f+\", d2);\\n              }\\n\\n            } else if (\"+(2===d)+\") {\\n              vec2 wValues = vec2(\\n                getW(wR, wC, \"+f+\", d2),\\n                getW(wR, wC, \"+f+\" + 1, d2)\\n              );\\n\\n              if (\"+p+\") {\\n                vec2 xValues = vec2(\\n                  getX(batch, xR, xC, \"+f+\"),\\n                  getX(batch, xR, xC, \"+f+\" + 1)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              } else {\\n                vec2 xValues = vec2(\\n                  getX(batch, \"+f+\", xR, xC),\\n                  getX(batch, \"+f+\" + 1, xR, xC)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              }\\n\\n            } else if (\"+(3===d)+\") {\\n              vec3 wValues = vec3(\\n                getW(wR, wC, \"+f+\", d2),\\n                getW(wR, wC, \"+f+\" + 1, d2),\\n                getW(wR, wC, \"+f+\" + 2, d2)\\n              );\\n\\n              if (\"+p+\") {\\n                vec3 xValues = vec3(\\n                  getX(batch, xR, xC, \"+f+\"),\\n                  getX(batch, xR, xC, \"+f+\" + 1),\\n                  getX(batch, xR, xC, \"+f+\" + 2)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              } else {\\n                vec3 xValues = vec3(\\n                  getX(batch, \"+f+\", xR, xC),\\n                  getX(batch, \"+f+\" + 1, xR, xC),\\n                  getX(batch, \"+f+\" + 2, xR, xC)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              }\\n\\n            }\\n          }\\n        }\\n\\n        float result = dotProd;\\n        \"+b+\"\\n        \"+x+\"\\n        setOutput(result);\\n      }\\n    \"},Ja=function(t){this.variableNames=[\"x\",\"W\"],this.outputShape=t.outShape;var e=t.padInfo.front,n=t.padInfo.top,r=t.padInfo.left,o=t.strideDepth,a=t.strideHeight,i=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,l=t.filterDepth,h=t.filterHeight,f=t.filterWidth,d=4*Math.floor(t.inChannels/4),p=t.inChannels%4;this.userCode=\"\\n      const ivec3 strides = ivec3(\"+o+\", \"+a+\", \"+i+\");\\n      const ivec3 pads = ivec3(\"+e+\", \"+n+\", \"+r+\");\\n\\n      void main() {\\n        ivec5 coords = getOutputCoords();\\n        int batch = coords.x;\\n        int d2 = coords.u;\\n\\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\\n        int xFCorner = xFRCCorner.x;\\n        int xRCorner = xFRCCorner.y;\\n        int xCCorner = xFRCCorner.z;\\n\\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\\n        // values in that axis.\\n        float dotProd = 0.0;\\n        for (int wF = 0; wF < \"+l+\"; wF++) {\\n          int xF = xFCorner + wF * \"+s+\";\\n\\n          if (xF < 0 || xF >= \"+t.inDepth+\") {\\n            continue;\\n          }\\n\\n          for (int wR = 0; wR < \"+h+\"; wR++) {\\n            int xR = xRCorner + wR * \"+u+\";\\n\\n            if (xR < 0 || xR >= \"+t.inHeight+\") {\\n              continue;\\n            }\\n\\n            for (int wC = 0; wC < \"+f+\"; wC++) {\\n              int xC = xCCorner + wC * \"+c+\";\\n\\n              if (xC < 0 || xC >= \"+t.inWidth+\") {\\n                continue;\\n              }\\n\\n              for (int d1 = 0; d1 < \"+d+\"; d1 += 4) {\\n                vec4 xValues = vec4(\\n                  getX(batch, xF, xR, xC, d1),\\n                  getX(batch, xF, xR, xC, d1 + 1),\\n                  getX(batch, xF, xR, xC, d1 + 2),\\n                  getX(batch, xF, xR, xC, d1 + 3)\\n                );\\n                vec4 wValues = vec4(\\n                  getW(wF, wR, wC, d1, d2),\\n                  getW(wF, wR, wC, d1 + 1, d2),\\n                  getW(wF, wR, wC, d1 + 2, d2),\\n                  getW(wF, wR, wC, d1 + 3, d2)\\n                );\\n\\n                dotProd += dot(xValues, wValues);\\n              }\\n\\n              if (\"+(1===p)+\") {\\n                dotProd +=\\n                  getX(batch, xF, xR, xC, \"+d+\") *\\n                  getW(wF, wR, wC, \"+d+\", d2);\\n              } else if (\"+(2===p)+\") {\\n                vec2 xValues = vec2(\\n                  getX(batch, xF, xR, xC, \"+d+\"),\\n                  getX(batch, xF, xR, xC, \"+d+\" + 1)\\n                );\\n                vec2 wValues = vec2(\\n                  getW(wF, wR, wC, \"+d+\", d2),\\n                  getW(wF, wR, wC, \"+d+\" + 1, d2)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              } else if (\"+(3===p)+\") {\\n                vec3 xValues = vec3(\\n                  getX(batch, xF, xR, xC, \"+d+\"),\\n                  getX(batch, xF, xR, xC, \"+d+\" + 1),\\n                  getX(batch, xF, xR, xC, \"+d+\" + 2)\\n                );\\n                vec3 wValues = vec3(\\n                  getW(wF, wR, wC, \"+d+\", d2),\\n                  getW(wF, wR, wC, \"+d+\" + 1, d2),\\n                  getW(wF, wR, wC, \"+d+\" + 2, d2)\\n                );\\n                dotProd += dot(xValues, wValues);\\n              }\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \"},Za=function(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=[\"x\",\"W\"],this.outputShape=t.outShape;var o=t.inHeight,a=t.inWidth,i=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,c=t.strideWidth,l=t.dilationHeight,h=t.dilationWidth,f=t.filterHeight,d=t.filterWidth,p=t.outChannels/t.inChannels,v=\"\",m=\"\";n&&(v=r?\"float activation(float a) {\\n          float b = getPreluActivationWeightsAtOutCoords();\\n          \"+n+\"\\n        }\":\"\\n          float activation(float x) {\\n            \"+n+\"\\n          }\\n        \",m=\"result = activation(result);\");var g=e?\"result += getBiasAtOutCoords();\":\"\";e&&this.variableNames.push(\"bias\"),r&&this.variableNames.push(\"preluActivationWeights\"),this.userCode=\"\\n      \"+v+\"\\n\\n      const ivec2 strides = ivec2(\"+u+\", \"+c+\");\\n      const ivec2 pads = ivec2(\"+i+\", \"+s+\");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords.x;\\n        ivec2 xRCCorner = coords.yz * strides - pads;\\n        int d2 = coords.w;\\n        int d1 = d2 / \"+p+\";\\n        int q = d2 - d1 * \"+p+\";\\n\\n        int xRCorner = xRCCorner.x;\\n        int xCCorner = xRCCorner.y;\\n\\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\\n        for (int wR = 0; wR < \"+f+\"; wR++) {\\n          int xR = xRCorner + wR * \"+l+\";\\n\\n          if (xR < 0 || xR >= \"+o+\") {\\n            continue;\\n          }\\n\\n          for (int wC = 0; wC < \"+d+\"; wC++) {\\n            int xC = xCCorner + wC * \"+h+\";\\n\\n            if (xC < 0 || xC >= \"+a+\") {\\n              continue;\\n            }\\n\\n            float xVal = getX(batch, xR, xC, d1);\\n            float wVal = getW(wR, wC, d1, q);\\n            dotProd += xVal * wVal;\\n          }\\n        }\\n\\n        float result = dotProd;\\n        \"+g+\"\\n        \"+m+\"\\n        setOutput(result);\\n      }\\n    \"},ti=function(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=[\"x\",\"W\"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.outShape;for(var o=t.inHeight,a=t.inWidth,i=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,c=t.strideWidth,l=t.dilationHeight,h=t.dilationWidth,f=t.filterHeight,d=t.filterWidth,p=d,v=\"int xR; int xC; int xCOffset;\",m=0;m<f;m++)for(var g=0;g<d;g++)v+=\"\\n          vec4 xTexelR\"+m+\"C\"+2*g+\" = vec4(0.);\\n          vec4 wR\"+m+\"C\"+g+\" = vec4(0.);\\n          vec4 xR\"+m+\"C\"+g+\" = vec4(0.);\";for(m=0;m<f;m++)for(var y=0;y<p;y++){if(v+=\"\\n          xR = xRCorner + \"+m*l+\";\\n          xC = xCCorner + \"+(g=2*y)*h+\";\\n        \",1===c){if(g<d&&(v+=s%2==1?\"\\n                xCOffset = xC + 1;\\n                if(xR >= 0 && xR < \"+o+\" && xCOffset >= 0 && xCOffset < \"+a+\") {\\n                  xTexelR\"+m+\"C\"+g+\" = getX(batch, xR, xCOffset, d1);\\n\\n                  // Need to manually clear unused channels in case\\n                  // we're reading from recycled texture.\\n                  if(xCOffset + 1 >= \"+a+\") {\\n                    xTexelR\"+m+\"C\"+g+\".zw = vec2(0.);\\n                  }\\n                } else {\\n                  xTexelR\"+m+\"C\"+g+\" = vec4(0.);\\n                }\\n\\n                xCOffset = xC + 1 - 2;\\n                if(xR >= 0 && xR < \"+o+\" && xCOffset >= 0 && xCOffset < \"+a+\") {\\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\\n\\n                  // Need to manually clear unused channels in case\\n                  // we're reading from recycled texture.\\n                  if(xCOffset + 1 >= \"+a+\") {\\n                    previous.zw = vec2(0.);\\n                  }\\n\\n                  xR\"+m+\"C\"+g+\" = vec4(previous.zw, xTexelR\"+m+\"C\"+g+\".xy);\\n                } else {\\n                  xR\"+m+\"C\"+g+\" = vec4(0, 0, xTexelR\"+m+\"C\"+g+\".xy);\\n                }\\n              \":\"\\n                if(xR >= 0 && xR < \"+o+\" && xC >= 0 && xC < \"+a+\") {\\n                  xTexelR\"+m+\"C\"+g+\" = getX(batch, xR, xC, d1);\\n                } else {\\n                  xTexelR\"+m+\"C\"+g+\" = vec4(0.);\\n                }\\n\\n                xR\"+m+\"C\"+g+\" = xTexelR\"+m+\"C\"+g+\";\\n              \",g+1<d)){var x=s%2==0?b(h):h;h%2==0&&s%2==1||h%2!=0&&s%2!=1?(v+=\"\\n                  xCOffset = xC + \"+s%2+\" + \"+x+\";\\n\\n                  if(xR >= 0 && xR < \"+o+\" &&\\n                    xCOffset >= 0 && xCOffset < \"+a+\") {\\n                    xTexelR\"+m+\"C\"+(g+2)+\" = getX(batch, xR, xCOffset, d1);\\n                  }\\n                \",h>1&&(v+=\"\\n                    xCOffset -= 2;\\n                    if(xR >= 0 && xR < \"+o+\" &&\\n                      xCOffset >= 0 && xCOffset < \"+a+\") {\\n                      xTexelR\"+m+\"C\"+g+\" = getX(batch, xR, xCOffset, d1);\\n                    } else {\\n                      xTexelR\"+m+\"C\"+g+\" = vec4(0.);\\n                    }\\n                  \"),v+=\"\\n                  xR\"+m+\"C\"+(g+1)+\" = vec4(\\n                    xTexelR\"+m+\"C\"+g+\".zw, xTexelR\"+m+\"C\"+(g+2)+\".xy);\\n                \"):v+=\"\\n                  xCOffset = xC + \"+x+\";\\n\\n                  if(xR >= 0 && xR < \"+o+\" &&\\n                    xCOffset >= 0 && xCOffset < \"+a+\") {\\n                    xTexelR\"+m+\"C\"+(g+2)+\" = getX(batch, xR, xCOffset, d1);\\n                  }\\n\\n                  xR\"+m+\"C\"+(g+1)+\" = xTexelR\"+m+\"C\"+(g+2)+\";\\n                \"}}else g<d&&(v+=\"\\n              if(xR >= 0 && xR < \"+o+\") {\\n            \",s%2==1?(v+=\"\\n                xCOffset = xC + 1 - \"+c+\";\\n                if(xCOffset >= 0 && xCOffset < \"+a+\") {\\n                  xTexelR\"+m+\"C\"+g+\" = getX(batch, xR, xCOffset, d1);\\n                } else {\\n                  xTexelR\"+m+\"C\"+g+\" = vec4(0.);\\n                }\\n\\n                if(xC + 1 >= 0 && xC + 1 < \"+a+\") {\\n                  xTexelR\"+m+\"C\"+(g+2)+\" = getX(batch, xR, xC + 1, d1);\\n                } else {\\n                  xTexelR\"+m+\"C\"+(g+2)+\" = vec4(0.);\\n                }\\n\\n                xR\"+m+\"C\"+g+\" = vec4(\\n                  xTexelR\"+m+\"C\"+g+\".zw, xTexelR\"+m+\"C\"+(g+2)+\".zw);\\n              \",g+1<d&&(v+=\"\\n                  vec4 final = vec4(0.);\\n                  xCOffset = xC + 1 + \"+c+\";\\n                  if(xCOffset >= 0 && xCOffset < \"+a+\") {\\n                    final = getX(batch, xR, xCOffset, d1);\\n                  }\\n                  xR\"+m+\"C\"+(g+1)+\" = vec4(xTexelR\"+m+\"C\"+(g+2)+\".xy, final.xy);\\n                \")):(v+=\"\\n                if(xC >= 0 && xC < \"+a+\") {\\n                  xTexelR\"+m+\"C\"+g+\" = getX(batch, xR, xC, d1);\\n                } else {\\n                  xTexelR\"+m+\"C\"+g+\" = vec4(0.);\\n                }\\n\\n                xCOffset = xC + \"+c+\";\\n                if(xCOffset >= 0 && xCOffset < \"+a+\") {\\n                  xTexelR\"+m+\"C\"+(g+2)+\" = getX(batch, xR, xCOffset, d1);\\n                } else {\\n                  xTexelR\"+m+\"C\"+(g+2)+\" = vec4(0.);\\n                }\\n\\n                xR\"+m+\"C\"+g+\" = vec4(\\n                  xTexelR\"+m+\"C\"+g+\".xy, xTexelR\"+m+\"C\"+(g+2)+\".xy);\\n              \",g+1<d&&(v+=\"\\n                  xR\"+m+\"C\"+(g+1)+\" = vec4(\\n                    xTexelR\"+m+\"C\"+g+\".zw, xTexelR\"+m+\"C\"+(g+2)+\".zw);\\n                \")),v+=\"}\");g<d&&(v+=\"\\n            vec4 wTexelR\"+m+\"C\"+g+\" = getW(\"+m+\", \"+g+\", d1, q);\\n            wR\"+m+\"C\"+g+\" = vec4(wTexelR\"+m+\"C\"+g+\".xz, wTexelR\"+m+\"C\"+g+\".xz);\\n          \",g+1<d&&(v+=\"\\n              vec4 wTexelR\"+m+\"C\"+(g+1)+\" = getW(\"+m+\", \"+(g+1)+\", d1, q);\\n              wR\"+m+\"C\"+(g+1)+\" =\\n                vec4(wTexelR\"+m+\"C\"+(g+1)+\".xz, wTexelR\"+m+\"C\"+(g+1)+\".xz);\"))}for(m=0;m<f;m++)for(g=0;g<d;g++)v+=\"dotProd += xR\"+m+\"C\"+g+\" * wR\"+m+\"C\"+g+\";\";var w=\"\",C=\"\";n&&(w=r?\"vec4 activation(vec4 a) {\\n          vec4 b = getPreluActivationWeightsAtOutCoords();\\n          \"+n+\"\\n        }\":\"vec4 activation(vec4 x) {\\n          \"+n+\"\\n        }\",C=\"result = activation(result);\");var E=e?\"result += getBiasAtOutCoords();\":\"\";e&&this.variableNames.push(\"bias\"),r&&this.variableNames.push(\"preluActivationWeights\"),this.userCode=\"\\n      \"+w+\"\\n\\n      const ivec2 strides = ivec2(\"+u+\", \"+c+\");\\n      const ivec2 pads = ivec2(\"+i+\", \"+s+\");\\n\\n      void main() {\\n\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords.x;\\n        ivec2 xRCCorner = coords.yz * strides - pads;\\n        int d2 = coords.w;\\n        int d1 = d2;\\n        int q = 0;\\n        int xRCorner = xRCCorner.x;\\n        int xCCorner = xRCCorner.y;\\n\\n        vec4 dotProd = vec4(0.);\\n\\n        \"+v+\"\\n\\n        vec4 result = dotProd;\\n        \"+E+\"\\n        \"+C+\"\\n        setOutput(result);\\n      }\\n    \"},ei=function(t,e,n,r,o){this.variableNames=[\"Image\",\"Boxes\",\"BoxInd\"],this.outputShape=[];var a=t[0],i=t[1],s=t[2],u=t[3],c=e[0],l=n[0],h=n[1];this.outputShape=[c,l,h,u];var f=\"bilinear\"===r?1:0,d=[i-1+\".0\",s-1+\".0\"],p=d[0],v=d[1],m=l>1?[\"\"+(i-1)/(l-1),\"(y2-y1) * height_ratio\",\"y1*\"+p+\" + float(y)*(height_scale)\"]:[\"0.0\",\"0.0\",\"0.5 * (y1+y2) * \"+p],g=m[0],y=m[1],x=m[2],b=h>1?[\"\"+(s-1)/(h-1),\"(x2-x1) * width_ratio\",\"x1*\"+v+\" + float(x)*(width_scale)\"]:[\"0.0\",\"0.0\",\"0.5 * (x1+x2) * \"+v],w=b[0],C=b[1],E=b[2];this.userCode=\"\\n      const float height_ratio = float(\"+g+\");\\n      const float width_ratio = float(\"+w+\");\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int y = coords[1];\\n        int x = coords[2];\\n        int d = coords[3];\\n\\n        // get box vals\\n        float y1 = getBoxes(b,0);\\n        float x1 = getBoxes(b,1);\\n        float y2 = getBoxes(b,2);\\n        float x2 = getBoxes(b,3);\\n\\n        // get image in batch index\\n        int bInd = round(getBoxInd(b));\\n        if(bInd < 0 || bInd >= \"+a+\") {\\n          return;\\n        }\\n\\n        float height_scale = \"+y+\";\\n        float width_scale = \"+C+\";\\n\\n        float in_y = \"+x+\";\\n        if( in_y < 0.0 || in_y > \"+p+\" ) {\\n          setOutput(float(\"+o+\"));\\n          return;\\n        }\\n        float in_x = \"+E+\";\\n        if( in_x < 0.0 || in_x > \"+v+\" ) {\\n          setOutput(float(\"+o+\"));\\n          return;\\n        }\\n\\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\\n        if(\"+f+\" == 1) {\\n          // Compute the four integer indices.\\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\\n\\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\\n\\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\\n\\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\\n          float newValue = top + (bottom - top) * fracCR.y;\\n          setOutput(newValue);\\n        } else {\\n          // Compute the coordinators of nearest neighbor point.\\n          ivec2 sourceNearestCR = ivec2(floor(\\n            sourceFracIndexCR + vec2(0.5,0.5)));\\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\\n          setOutput(newValue);\\n        }\\n      }\\n    \"},ni=function(t,e,n){this.variableNames=[\"x\"],this.outputShape=t;var r=t.length,o=t[t.length-1],a=n?\"<\":\">\";this.userCode=\"\\n      int getIndex(int i) {\\n        \"+(n?\"return \"+o+\" -i - 1;\":\"return i;\")+\"\\n      }\\n\\n      void main() {\\n        \"+wa(r)+\" coords = getOutputCoords();\\n        int end = \"+ri(r,\"coords\")+\";\\n        float val = 0.0;\\n        for (int i = \"+o+\" - 1; i >= 0; i -= 1) {\\n          int idx = getIndex(i);\\n          if (idx \"+a+\" end) {\\n            continue;\\n          }\\n          if (idx == end && \"+e+\") {\\n            continue;\\n          }\\n          \"+ri(r,\"coords\")+\" = idx;\\n          val += getX(\"+function(t,e){if(1===t)return\"\"+e;if(2===t)return e+\".x, \"+e+\".y\";if(3===t)return e+\".x, \"+e+\".y, \"+e+\".z\";if(4===t)return e+\".x, \"+e+\".y, \"+e+\".z, \"+e+\".w\";throw Error(\"Cumulative sum for rank \"+t+\" is not yet supported\")}(r,\"coords\")+\");\\n        }\\n        setOutput(val);\\n      }\\n    \"};function ri(t,e){if(1===t)return\"\"+e;if(2===t)return e+\".y\";if(3===t)return e+\".z\";if(4===t)return e+\".w\";throw Error(\"Cumulative sum for rank \"+t+\" is not yet supported\")}var oi=function(t){this.variableNames=[\"A\"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Vt.DENSE;var e=Yt(t),n=ua();this.outputShape=t,this.userCode=\"\\n      ivec3 outCoordsFromFlatIndex(int index) {\\n        \"+ca([\"r\",\"c\",\"d\"],t)+\"\\n        return ivec3(r, c, d);\\n      }\\n\\n      void main() {\\n        ivec2 resTexRC = ivec2(resultUV.yx *\\n          vec2(\"+e[0]+\", \"+e[1]+\"));\\n        int index = 4 * (resTexRC.x * \"+e[1]+\" + resTexRC.y);\\n\\n        vec4 result = vec4(0.);\\n\\n        for (int i=0; i<4; i++) {\\n          int flatIndex = index + i;\\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\\n          result[i] = getA(rc.x, rc.y, rc.z);\\n        }\\n\\n        \"+n.output+\" = result;\\n      }\\n    \"},ai=function(t){this.variableNames=[\"A\"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Vt.DENSE;var e=Yt(t),n=ua();this.outputShape=t,this.userCode=\"\\n      ivec3 outCoordsFromFlatIndex(int index) {\\n        \"+ca([\"r\",\"c\",\"d\"],t)+\"\\n        return ivec3(r, c, d);\\n      }\\n\\n      void main() {\\n        ivec2 resTexRC = ivec2(resultUV.yx *\\n          vec2(\"+e[0]+\", \"+e[1]+\"));\\n        int index = 4 * (resTexRC.x * \"+e[1]+\" + resTexRC.y);\\n\\n        vec4 result = vec4(0.);\\n\\n        for (int i=0; i<4; i++) {\\n          int flatIndex = index + i;\\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\\n        }\\n\\n        \"+n.output+\" = result;\\n      }\\n    \"},ii=function(){function t(t,e,n){this.variableNames=[\"x\"],this.outputShape=[],this.outputShape=t,this.blockSize=e,this.dataFormat=n,this.userCode=\"\\n    void main() {\\n      ivec4 coords = getOutputCoords();\\n      int b = coords[0];\\n      int h = \"+this.getHeightCoordString()+\";\\n      int w = \"+this.getWidthCoordString()+\";\\n      int d = \"+this.getDepthCoordString()+\";\\n\\n      int in_h = h / \"+e+\";\\n      int offset_h = imod(h, \"+e+\");\\n      int in_w = w / \"+e+\";\\n      int offset_w = imod(w, \"+e+\");\\n      int offset_d = (offset_h * \"+e+\" + offset_w) *\\n        \"+this.getOutputDepthSize()+\";\\n      int in_d = d + offset_d;\\n\\n      float result = \"+this.getInputSamplingString()+\";\\n      setOutput(result);\\n    }\\n  \"}return t.prototype.getHeightCoordString=function(){return\"NHWC\"===this.dataFormat?\"coords[1]\":\"coords[2]\"},t.prototype.getWidthCoordString=function(){return\"NHWC\"===this.dataFormat?\"coords[2]\":\"coords[3]\"},t.prototype.getDepthCoordString=function(){return\"NHWC\"===this.dataFormat?\"coords[3]\":\"coords[1]\"},t.prototype.getOutputDepthSize=function(){return\"NHWC\"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},t.prototype.getInputSamplingString=function(){return\"NHWC\"===this.dataFormat?\"getX(b, in_h, in_w, in_d)\":\"getX(b, in_d, in_h, in_w)\"},t}(),si=function(t){this.variableNames=[\"X\"],this.outputShape=[t,t],this.userCode=\"\\n      void main() {\\n          ivec2 coords = getOutputCoords();\\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\\n          setOutput(val);\\n      }\\n    \"},ui=function(t){this.variableNames=[\"A\"],this.outTexUsage=zt.DOWNLOAD;var e=ua();this.outputShape=t,this.userCode=\"\\n      \"+ha+\"\\n\\n      void main() {\\n        float x = getAAtOutCoords();\\n        \"+e.output+\" = encode_float(x);\\n      }\\n    \"},ci=function(t){this.variableNames=[\"A\"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=zt.DOWNLOAD;var e=ua();this.outputShape=t,this.userCode=\"\\n      \"+ha+\"\\n\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\\n        \"+e.output+\" = encode_float(x);\\n      }\\n    \"},li=function(t,e,n){void 0===n&&(n=!1),this.variableNames=[\"A\"];var r=ua(),o=e[0],a=e[1];this.outputShape=t;var i=\"result\";n&&(i=\"floor(result * 255. + 0.5)\"),this.userCode=\"\\n      \"+la(t)+\"\\n\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n\\n        int flatIndex = getFlatIndex(coords);\\n        int offset = imod(flatIndex, 4);\\n\\n        flatIndex = idiv(flatIndex, 4, 1.);\\n        \\n        int r = flatIndex / \"+a+\";\\n        int c = imod(flatIndex, \"+a+\");\\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(\"+a+\".0, \"+o+\".0);\\n        vec4 values = \"+r.texture2D+\"(A, uv);\\n\\n        float result;\\n\\n        if(offset == 0) {\\n          result = values[0];\\n        } else if(offset == 1) {\\n          result = values[1];\\n        } else if(offset == 2) {\\n          result = values[2];\\n        } else {\\n          result = values[3];\\n        }\\n\\n        \"+r.output+\" = vec4(\"+i+\", 0., 0., 0.);\\n      }\\n    \"},hi=function(t,e,n){void 0===n&&(n=!1),this.variableNames=[\"A\"],this.packedInputs=!1,this.packedOutput=!0;var r=ua(),o=e[0],a=e[1];this.outputShape=t;var i=\"\",s=\"result\";n&&(s=\"floor(result * 255. + 0.5)\");for(var u=0;u<=1;u++)for(var c=0;c<=1;c++){var l=2*u+c;i+=\"\\n          localCoords = coords;\\n          if(localCoords[2] + \"+c+\" < \"+t[2]+\") {\\n            localCoords[2] += \"+c+\";\\n            if(localCoords[1] + \"+u+\" < \"+t[1]+\") {\\n              localCoords[1] += \"+u+\";\\n\\n              flatIndex = getFlatIndex(localCoords);\\n              offset = imod(flatIndex, 4);\\n\\n              flatIndex = idiv(flatIndex, 4, 1.);\\n\\n              r = flatIndex / \"+a+\";\\n              c = imod(flatIndex, \"+a+\");\\n              uv = (vec2(c, r) + halfCR) / vec2(\"+a+\".0, \"+o+\".0);\\n              values = \"+r.texture2D+\"(A, uv);\\n\\n              if(offset == 0) {\\n                result[\"+l+\"] = values[0];\\n              } else if(offset == 1) {\\n                result[\"+l+\"] = values[1];\\n              } else if(offset == 2) {\\n                result[\"+l+\"] = values[2];\\n              } else {\\n                result[\"+l+\"] = values[3];\\n              }\\n            }\\n          }\\n        \"}this.userCode=\"\\n      \"+la(t)+\"\\n\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n\\n        vec4 result = vec4(0.);\\n        int flatIndex, r, c, offset;\\n        ivec3 localCoords;\\n        vec2 uv;\\n        vec4 values;\\n\\n        \"+i+\"\\n\\n        \"+r.output+\" = \"+s+\";\\n      }\\n    \"},fi=\"return real * expR - imag * expI;\",di=\"return real * expI + imag * expR;\",pi=function(t,e,n){this.variableNames=[\"real\",\"imag\"];var r=e[1];this.outputShape=e;var o=n?\"2.0 * \"+Math.PI:\"-2.0 * \"+Math.PI,a=n?r+\".0\":\"1.0\";this.userCode=\"\\n      const float exponentMultiplier = \"+o+\";\\n\\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\\n        \"+t+\"\\n      }\\n\\n      float mulMatDFT(int batch, int index) {\\n        float indexRatio = float(index) / float(\"+r+\");\\n        float exponentMultiplierTimesIndexRatio =\\n            exponentMultiplier * indexRatio;\\n\\n        float result = 0.0;\\n\\n        for (int i = 0; i < \"+r+\"; i++) {\\n          // x = (-2|2 * PI / N) * index * i;\\n          float x = exponentMultiplierTimesIndexRatio * float(i);\\n          float expR = cos(x);\\n          float expI = sin(x);\\n          float real = getReal(batch, i);\\n          float imag = getImag(batch, i);\\n\\n          result +=\\n              unaryOpComplex(real, expR, imag, expI) / \"+a+\";\\n        }\\n\\n        return result;\\n      }\\n\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        setOutput(mulMatDFT(coords[0], coords[1]));\\n      }\\n    \"},vi=function(){function t(t,e){this.outputShape=[],this.variableNames=[\"x\"],this.outputShape=t,this.userCode=\"\\n      uniform float value;\\n      void main() {\\n        // Input can be obtained from uniform value.\\n        setOutput(value);\\n      }\\n    \"}return t.prototype.getCustomSetupFunc=function(t){var e=this;return function(n,r){null==e.valueLoc&&(e.valueLoc=n.getUniformLocationNoThrow(r,\"value\")),n.gl.uniform1f(e.valueLoc,t)}},t}(),mi=function(t,e,n){this.variableNames=[\"A\",\"indices\"];var r=t.slice();r[n]=e,this.outputShape=r,this.rank=r.length;var o=wa(this.rank),a=function(t,e){var n=t.length;if(n>4)throw Error(\"Gather for rank \"+n+\" is not yet supported\");if(1===n)return\"int(getIndices(resRC))\";for(var r=[\"resRC.x\",\"resRC.y\",\"resRC.z\",\"resRC.w\"],o=[],a=0;a<t.length;a++)a===e?o.push(\"int(getIndices(\"+r[a]+\"))\"):o.push(\"\"+r[a]);return o.join()}(t,n);this.userCode=\"\\n      void main() {\\n        \"+o+\" resRC = getOutputCoords();\\n        setOutput(getA(\"+a+\"));\\n      }\\n    \"};var gi=function(t,e,n){this.sliceDim=t,this.strides=e,this.variableNames=[\"x\",\"indices\"],this.outputShape=n;var r=wa(e.length),o=wa(n.length),a=this.sliceDim>1?\"strides[j]\":\"strides\";this.userCode=\"\\n        \"+r+\" strides = \"+r+\"(\"+this.strides+\");\\n         void main() {\\n          \"+o+\" coords = getOutputCoords();\\n          int flattenIndex = 0;\\n          for (int j = 0; j < \"+this.sliceDim+\"; j++) {\\n            int index = round(getIndices(coords[0], j));\\n            flattenIndex += index * \"+a+\";\\n          }\\n          setOutput(getX(flattenIndex, coords[1]));\\n        }\\n      \"};function yi(t,e){var n=ua();return oe(t,e,n.version+\"\\n    precision highp float;\\n    \"+n.attribute+\" vec3 clipSpacePos;\\n    \"+n.attribute+\" vec2 uv;\\n    \"+n.varyingVs+\" vec2 resultUV;\\n\\n    void main() {\\n      gl_Position = vec4(clipSpacePos, 1);\\n      resultUV = uv;\\n    }\")}function xi(t,e){return fe(t,e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function bi(t,e){return de(t,e,new Uint16Array([0,1,2,2,1,3]))}function wi(t,e,n,r,o,a,i){ve(n,r);var s=pe(t,e),u=t.TEXTURE_2D;return Jt(t,e,(function(){return t.bindTexture(u,s)})),Jt(t,e,(function(){return t.texParameteri(u,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)})),Jt(t,e,(function(){return t.texParameteri(u,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)})),Jt(t,e,(function(){return t.texParameteri(u,t.TEXTURE_MIN_FILTER,t.NEAREST)})),Jt(t,e,(function(){return t.texParameteri(u,t.TEXTURE_MAG_FILTER,t.NEAREST)})),Jt(t,e,(function(){return t.texImage2D(u,0,o,n,r,0,a,i,null)})),Jt(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,null)})),s}function Ci(t,e,n,r,o){var a=Xt(n,r);return wi(t,e,a[0],a[1],o.internalFormatFloat,o.textureFormatFloat,t.FLOAT)}function Ei(t,e,n,r,o){var a=Xt(n,r);return wi(t,e,a[0],a[1],o.internalFormatHalfFloat,o.textureFormatFloat,o.textureTypeHalfFloat)}function Ri(t,e,n,r,o){var a=Xt(n,r);return wi(t,e,a[0],a[1],t.RGBA,t.RGBA,t.UNSIGNED_BYTE)}function Ii(t,e,n,r,o){var a=$t(n,r);return wi(t,e,a[0],a[1],o.internalFormatPackedFloat,t.RGBA,t.FLOAT)}function ki(t,e,n,r,o){var a=$t(n,r);return wi(t,e,a[0],a[1],o.internalFormatPackedHalfFloat,t.RGBA,o.textureTypeHalfFloat)}function Si(t,e,n,r){return Jt(t,e,(function(){return t.bindBuffer(t.ARRAY_BUFFER,r)})),ge(t,e,n,\"clipSpacePos\",r,3,20,0)&&ge(t,e,n,\"uv\",r,2,20,12)}function Ai(t,e,n,r,o,a,i){var s,u,c;Jt(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,n)})),a instanceof Uint8Array?(s=new Uint8Array(r*o*4),u=t.UNSIGNED_BYTE,c=t.RGBA):(s=new Float32Array(r*o*4),u=t.FLOAT,c=i.internalFormatPackedFloat),s.set(a),Jt(t,e,(function(){return t.texImage2D(t.TEXTURE_2D,0,c,r,o,0,t.RGBA,u,s)})),Jt(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,null)}))}function Di(t,e,n,r){Jt(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,n)})),r.data instanceof Uint8Array?Jt(t,e,(function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r.width,r.height,0,t.RGBA,t.UNSIGNED_BYTE,r.data)})):Jt(t,e,(function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r)})),Jt(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,null)}))}function Ti(t,e,n,r,o){var a=t.createBuffer();Jt(t,e,(function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,a)}));var i=16*n*r;return Jt(t,e,(function(){return t.bufferData(t.PIXEL_PACK_BUFFER,i,t.STREAM_READ)})),Jt(t,e,(function(){return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,0)})),Jt(t,e,(function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,null)})),a}function Ni(t,e,n){var r=t,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}function Fi(t,e,n,r,o){var a=Xt(n,r),i=a[0],s=a[1],u=new Uint8Array(n*r*4);return Jt(t,e,(function(){return t.readPixels(0,0,i,s,o.downloadTextureFormat,t.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function _i(t,e,n,r,o,a,i,s){var u=t,c=new Float32Array(function(t,e){var n=$t(t,e);return n[0]*n[1]*4}(a,i));return u.bindBuffer(u.PIXEL_PACK_BUFFER,e),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}function Oi(t,e,n,r){var o=new Float32Array(n*r*4);return Jt(t,e,(function(){return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,o)})),o}var Mi=Object.freeze({createVertexShader:yi,createVertexBuffer:xi,createIndexBuffer:bi,createFloat32MatrixTexture:Ci,createFloat16MatrixTexture:Ei,createUnsignedBytesMatrixTexture:Ri,createPackedMatrixTexture:Ii,createFloat16PackedMatrixTexture:ki,bindVertexProgramAttributeStreams:Si,uploadDenseMatrixToTexture:Ai,uploadPixelDataToTexture:Di,createBufferFromOutputTexture:Ti,downloadFloat32MatrixFromBuffer:Ni,downloadByteEncodedFloatMatrixFromOutputTexture:Fi,downloadPackedMatrixFromBuffer:_i,downloadMatrixFromPackedOutputTexture:Oi}),Bi=function(){function t(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var e=i().getNumber(\"WEBGL_VERSION\");null!=t?(this.gl=t,Kt(e,t)):this.gl=jt(e);var n=\"WEBGL_color_buffer_float\";if(1===i().getNumber(\"WEBGL_VERSION\")){if(this.textureFloatExtension=re(this.gl,this.debug,\"OES_texture_float\"),Pe(this.gl,\"OES_texture_half_float\"))this.textureHalfFloatExtension=re(this.gl,this.debug,\"OES_texture_half_float\");else if(i().get(\"WEBGL_FORCE_F16_TEXTURES\"))throw new Error(\"GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.\");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Pe(this.gl,\"EXT_color_buffer_half_float\"))this.colorBufferHalfFloatExtension=re(this.gl,this.debug,\"EXT_color_buffer_half_float\");else if(i().get(\"WEBGL_FORCE_F16_TEXTURES\"))throw new Error(\"GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.\")}else if(n=\"EXT_color_buffer_float\",Pe(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!Pe(this.gl,\"EXT_color_buffer_half_float\"))throw new Error(\"GL context does not support color renderable floats\");this.colorBufferHalfFloatExtension=this.gl.getExtension(\"EXT_color_buffer_half_float\")}this.vertexBuffer=xi(this.gl,this.debug),this.indexBuffer=bi(this.gl,this.debug),this.framebuffer=me(this.gl,this.debug),this.textureConfig=Qt(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(t.prototype,\"debug\",{get:function(){return i().getBool(\"DEBUG\")},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;if(!this.disposed){null!=this.program&&console.warn(\"Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing.\"),null!=this.outputTexture&&console.warn(\"Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.\");var e=this.gl;Jt(e,this.debug,(function(){return e.finish()})),Jt(e,this.debug,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),Jt(e,this.debug,(function(){return e.deleteFramebuffer(t.framebuffer)})),Jt(e,this.debug,(function(){return e.bindBuffer(e.ARRAY_BUFFER,null)})),Jt(e,this.debug,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)})),Jt(e,this.debug,(function(){return e.deleteBuffer(t.indexBuffer)})),this.disposed=!0}},t.prototype.createFloat32MatrixTexture=function(t,e){return this.throwIfDisposed(),Ci(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.createFloat16MatrixTexture=function(t,e){return this.throwIfDisposed(),Ei(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.createUnsignedBytesMatrixTexture=function(t,e){return this.throwIfDisposed(),Ri(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.uploadPixelDataToTexture=function(t,e){this.throwIfDisposed(),Di(this.gl,this.debug,t,e)},t.prototype.uploadDenseMatrixToTexture=function(t,e,n,r){this.throwIfDisposed(),Ai(this.gl,this.debug,t,e,n,r,this.textureConfig)},t.prototype.createFloat16PackedMatrixTexture=function(t,e){return this.throwIfDisposed(),ki(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.createPackedMatrixTexture=function(t,e){return this.throwIfDisposed(),Ii(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.deleteMatrixTexture=function(t){var e=this;this.throwIfDisposed(),this.outputTexture===t&&(Ee(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Jt(this.gl,this.debug,(function(){return e.gl.deleteTexture(t)}))},t.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,(function(){return Fi(r.gl,r.debug,e,n,r.textureConfig)}))},t.prototype.downloadPackedMatrixFromBuffer=function(t,e,n,r,o,a){return _i(this.gl,t,0,0,0,o,a,this.textureConfig)},t.prototype.downloadFloat32MatrixFromBuffer=function(t,e){return Ni(this.gl,t,e)},t.prototype.createBufferFromTexture=function(t,e,n){this.bindTextureToFrameBuffer(t);var r=Ti(this.gl,this.debug,e,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},t.prototype.createAndWaitForFence=function(){var t=this.createFence(this.gl);return this.pollFence(t)},t.prototype.createFence=function(t){var e,n,r=this;if(i().getBool(\"WEBGL_FENCE_API_ENABLED\")){var o=t,a=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),n=function(){var t=o.clientWaitSync(a,0,0);return t===o.ALREADY_SIGNALED||t===o.CONDITION_SATISFIED},e=a}else i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\")>0?(e=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(e,i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\"))}):n=function(){return!0};return{query:e,isFencePassed:n}},t.prototype.downloadMatrixFromPackedTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,(function(){return Oi(r.gl,r.debug,e,n)}))},t.prototype.createProgram=function(t){this.throwIfDisposed();var e=this.gl,n=ae(e,this.debug,t),r=yi(e,this.debug),o=ce(e,this.debug);return Jt(e,this.debug,(function(){return e.attachShader(o,r)})),Jt(e,this.debug,(function(){return e.attachShader(o,n)})),le(e,this.debug,o),this.debug&&he(e,this.debug,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=Si(e,this.debug,this.program,this.vertexBuffer)),o},t.prototype.deleteProgram=function(t){var e=this;this.throwIfDisposed(),t===this.program&&(this.program=null),null!=t&&Jt(this.gl,this.debug,(function(){return e.gl.deleteProgram(t)}))},t.prototype.setProgram=function(t){var e=this;this.throwIfDisposed(),this.program=t,null!=this.program&&this.debug&&he(this.gl,this.debug,this.program),Jt(this.gl,this.debug,(function(){return e.gl.useProgram(t)}))},t.prototype.getUniformLocation=function(t,e,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?xe(this.gl,this.debug,t,e):be(this.gl,t,e)},t.prototype.getAttributeLocation=function(t,e){var n=this;return this.throwIfDisposed(),Jt(this.gl,this.debug,(function(){return n.gl.getAttribLocation(t,e)}))},t.prototype.getUniformLocationNoThrow=function(t,e){return this.throwIfDisposed(),this.gl.getUniformLocation(t,e)},t.prototype.setInputMatrixTexture=function(t,e,n){this.throwIfDisposed(),this.throwIfNoProgram(),we(this.gl,this.debug,this.program,t,e,n)},t.prototype.setOutputMatrixTexture=function(t,e,n){this.setOutputMatrixTextureDriver(t,n,e)},t.prototype.setOutputPackedMatrixTexture=function(t,e,n){this.throwIfDisposed();var r=$t(e,n),o=r[0],a=r[1];this.setOutputMatrixTextureDriver(t,o,a)},t.prototype.setOutputMatrixWriteRegion=function(t,e,n,r){this.setOutputMatrixWriteRegionDriver(n,t,r,e)},t.prototype.setOutputPackedMatrixWriteRegion=function(t,e,n,r){throw new Error(\"setOutputPackedMatrixWriteRegion not implemented.\")},t.prototype.debugValidate=function(){null!=this.program&&he(this.gl,this.debug,this.program),Re(this.gl)},t.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.debug&&this.debugValidate(),Jt(t,this.debug,(function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)}))},t.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),Jt(this.gl,this.debug,(function(){return t.gl.finish()}))},t.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=re(this.gl,this.debug,2===i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\")?\"EXT_disjoint_timer_query_webgl2\":\"EXT_disjoint_timer_query\")),this.disjointQueryTimerExtension},t.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},t.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},t.prototype.beginQuery=function(){if(2===i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\")){var t=this.gl,e=this.getQueryTimerExtensionWebGL2(),n=t.createQuery();return t.beginQuery(e.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),o=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,o),o},t.prototype.endQuery=function(){if(2!==i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\")){var t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}else{var e=this.gl,n=this.getQueryTimerExtensionWebGL2();e.endQuery(n.TIME_ELAPSED_EXT)}},t.prototype.waitForQueryAndGetTime=function(t){return n(this,void 0,void 0,(function(){var e=this;return r(this,(function(n){switch(n.label){case 0:return[4,F((function(){return e.disposed||e.isQueryAvailable(t,i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\"))}))];case 1:return n.sent(),[2,this.getQueryTime(t,i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION\"))]}}))}))},t.prototype.getQueryTime=function(t,e){if(0===e)return null;if(2===e){var n=this.gl;return n.getQueryParameter(t,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(t,r.QUERY_RESULT_EXT)/1e6},t.prototype.isQueryAvailable=function(t,e){if(0===e)return!0;if(2===e){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),o=n.getQueryParameter(t,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint}o=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(t,r.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint},t.prototype.pollFence=function(t){var e=this;return new Promise((function(n){e.addItemToPoll((function(){return t.isFencePassed()}),(function(){return n()}))}))},t.prototype.pollItems=function(){for(var t=function(t){for(var e=0;e<t.length;++e){if(!t[e]())break}return e-1}(this.itemsToPoll.map((function(t){return t.isDoneFn}))),e=0;e<=t;++e){(0,this.itemsToPoll[e].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(t+1)},t.prototype.addItemToPoll=function(t,e){var n=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:e}),this.itemsToPoll.length>1||F((function(){return n.pollItems(),0===n.itemsToPoll.length}))},t.prototype.bindTextureToFrameBuffer=function(t){this.throwIfDisposed(),Ce(this.gl,this.debug,t,this.framebuffer),this.debug&&Re(this.gl)},t.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(Ce(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&Re(this.gl)):Ee(this.gl,this.debug,this.framebuffer)},t.prototype.downloadMatrixDriver=function(t,e){this.bindTextureToFrameBuffer(t);var n=e();return this.unbindTextureToFrameBuffer(),n},t.prototype.setOutputMatrixTextureDriver=function(t,e,n){this.throwIfDisposed();var r=this.gl;Ce(r,this.debug,t,this.framebuffer),this.debug&&Re(r),this.outputTexture=t,Jt(r,this.debug,(function(){return r.viewport(0,0,e,n)})),Jt(r,this.debug,(function(){return r.scissor(0,0,e,n)}))},t.prototype.setOutputMatrixWriteRegionDriver=function(t,e,n,r){var o=this;this.throwIfDisposed(),Jt(this.gl,this.debug,(function(){return o.gl.scissor(t,e,n,r)}))},t.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error(\"Attempted to use disposed GPGPUContext.\")},t.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error(\"No GPU program is currently set.\")},t}();function Pi(t,e){if(t.length!==e.length)throw Error(\"Binary was compiled with \"+t.length+\" inputs, but was executed with \"+e.length+\" inputs\");t.forEach((function(t,n){var r=t.logicalShape,o=e[n],a=o.shape;if(!S(r,a))throw Error(\"Binary was compiled with different shapes than the current args. Shapes \"+r+\" and \"+a+\" must match\");if(!t.isUniform||!o.isUniform){var i=t.texShape,s=o.isUniform?null:o.texData.texShape;if(!S(i,s))throw Error(\"Binary was compiled with different texture shapes than the current args. Shape \"+i+\" and \"+s+\" must match\")}}))}var Li=function(t,e,n){this.variableNames=[\"A\"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var r=n.filterWidth,o=n.inChannels,a=n.strideWidth,i=n.strideHeight,s=n.padInfo,u=n.outWidth,c=n.dilationWidth,l=n.dilationHeight,h=n.dataFormat,f=s.left,d=s.top,p=o*r,v=ua(),m=\"channelsLast\"===h,g=m?0:1,y=m?1:2,x=\"\",b=0;b<=1;b++)for(var w=0;w<=1;w++)x+=\"\\n          blockIndex = rc.y + \"+w+\";\\n          pos = rc.x + \"+b+\";\\n\\n          if(blockIndex < \"+t[1]+\" && pos < \"+t[0]+\") {\\n            offsetY = int(blockIndex / (\"+u+\")) * \"+i+\" - \"+d+\";\\n            d0 = offsetY + \"+l+\" * (pos / \"+p+\");\\n\\n            if(d0 < \"+e[g]+\" && d0 >= 0) {\\n\\n              offsetX = int(mod(float(blockIndex), \"+u+\".) * \"+a+\". - \"+f+\".);\\n              d1 = offsetX + \"+c+\" * (int(mod(float(pos), \"+p+\".) / \"+o+\".));\\n\\n              if(d1 < \"+e[y]+\" && d1 >= 0) {\\n\\n                ch = int(mod(float(pos), \"+o+\".));\\n\\n                if (\"+m+\") {\\n                  innerDims = vec2(d1, ch);\\n                  result[\"+(2*b+w)+\"] = getChannel(\\n                    getA(d0, int(innerDims.x),\\n                    int(innerDims.y)), innerDims);\\n                } else {\\n                  innerDims = vec2(d0, d1);\\n                  result[\"+(2*b+w)+\"] = getChannel(\\n                    getA(ch, int(innerDims.x),\\n                    int(innerDims.y)), innerDims);\\n                }\\n              }\\n            }\\n          }\\n        \";this.userCode=\"\\n      void main() {\\n        ivec2 rc = getOutputCoords();\\n\\n        vec4 result = vec4(0);\\n\\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\\n        vec2 innerDims;\\n\\n        \"+x+\"\\n\\n        \"+v.output+\" = result;\\n      }\\n    \"},Wi=function(t,e,n,r,o){this.variableNames=[\"x\"],this.outputShape=[];var a,i=e,s=t[3]-1;this.outputShape=t;var u=\"float(\"+n+\") + float(\"+r+\") * sum\";a=.5===o?\"inversesqrt(\"+u+\")\":1===o?\"1.0/(\"+u+\")\":\"exp(log(\"+u+\") * float(-\"+o+\"));\",this.userCode=\"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int r = coords[1];\\n        int c = coords[2];\\n        int d = coords[3];\\n        float x = getX(b, r, c, d);\\n        float sum = 0.0;\\n        for (int j = -\"+i+\"; j <= \"+i+\"; j++) {\\n          int idx = d + j;\\n          if (idx >= 0 && idx <=  \"+s+\") {\\n            float z = getX(b, r, c, idx);\\n            sum += z * z;\\n          }\\n        }\\n        float val = x * \"+a+\";\\n        setOutput(val);\\n      }\\n    \"},Ui=function(t,e,n,r,o){this.variableNames=[\"inputImage\",\"outputImage\",\"dy\"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=e,this.bias=n,this.alpha=r,this.beta=o,this.userCode=\"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int r = coords[1];\\n        int c = coords[2];\\n\\n        float result = 0.0;\\n        for (int d = 0; d < \"+this.depth+\"; ++d) {\\n          int depthBegin = int(max(0.0, float(d - \"+e+\")));\\n          int depthEnd = int(min(float(\"+this.depth+\"),\\n              float(d + \"+e+\" + 1)));\\n\\n          const int MIN_DEPTH_BEGIN = 0;\\n          const int MAX_DEPTH_END = \"+this.depth+\";\\n\\n          float norm = 0.0;\\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\\n            if (k < depthBegin){\\n              continue;\\n            }\\n            else if (k >= depthBegin && k < depthEnd) {\\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\\n            }\\n            else {\\n              break;\\n            }\\n          }\\n\\n          norm = float(\"+r+\") * norm + float(\"+n+\");\\n\\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\\n            if (k < depthBegin){\\n              continue;\\n            }\\n            else if (k >= depthBegin && k < depthEnd){\\n              float dyi = -2.0 * float(\"+r+\")\\n                * float(\"+o+\")\\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\\n                / norm;\\n              if (k == d) {\\n                dyi += pow(norm, -1.0 * \"+o+\");\\n              }\\n              if (k == coords[3]) {\\n                dyi *= getDy(b, r, c, d);\\n                result += dyi;\\n              }\\n            }\\n            else {\\n              break;\\n            }\\n          }\\n      }\\n      setOutput(result);\\n      }\\n    \"},Vi=function(t,e,n,r,o){this.variableNames=[\"x\"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var a,i=e,s=t[3]-1;this.outputShape=t;var u=\"float(\"+n+\") + float(\"+r+\") * sum\";a=.5===o?\"inversesqrt(\"+u+\")\":1===o?\"1.0/(\"+u+\")\":\"exp(log(\"+u+\") * float(-\"+o+\"));\",this.userCode=\"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords.x;\\n        int r = coords.y;\\n        int c = coords.z;\\n        int d = coords.w;\\n\\n        bool hasNextCol = d < \"+this.outputShape[3]+\";\\n        bool hasNextRow = c < \"+this.outputShape[2]+\";\\n\\n        vec4 sum = vec4(0.);\\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\\n\\n        vec4 xAtOutputCoords = vec4(\\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\\n          hasNextCol ?\\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\\n          hasNextRow ?\\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\\n          (hasNextRow && hasNextCol) ?\\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\\n        );\\n\\n        int firstChannel = d - \"+i+\";\\n        vec2 cache = vec2(0.);\\n        if(firstChannel >= 0){\\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\\n            if(hasNextRow){\\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\\n            }\\n        }\\n\\n        ivec2 depth = ivec2(d, d + 1);\\n        for (int j = - \"+i+\"; j <= \"+i+\"; j++) {\\n          ivec2 idx = depth + j;\\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(\"+s+\"));\\n\\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\\n\\n          if(depthInRange || depthPlusOneInRange){\\n            vec4 z = vec4(0.);\\n            vec4 xFragAtCurrentDepth;\\n            z.xz = cache.xy;\\n            if(depthPlusOneInRange && hasNextCol){\\n              xFragAtCurrentDepth = idx.y != d ?\\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\\n              if(hasNextRow){\\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\\n              }\\n            }\\n            cache.xy = z.yw;\\n            sum += z * z;\\n          }\\n        }\\n        vec4 result = xAtOutputCoords * \"+a+\";\\n        setOutput(result);\\n      }\\n    \"},zi=function(t){this.variableNames=[\"dy\",\"maxPos\"],this.outputShape=t.inShape;var e=t.strideHeight,n=t.strideWidth,r=t.dilationHeight,o=t.effectiveFilterHeight,a=t.effectiveFilterWidth,i=o-1-t.padInfo.top,s=a-1-t.padInfo.left,u=o*a-1;this.userCode=\"\\n      const ivec2 pads = ivec2(\"+i+\", \"+s+\");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n\\n        ivec2 dyRCCorner = coords.yz - pads;\\n        int dyRCorner = dyRCCorner.x;\\n        int dyCCorner = dyRCCorner.y;\\n\\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int wR = 0; wR < \"+o+\";\\n          wR += \"+r+\") {\\n          float dyR = float(dyRCorner + wR) / \"+e+\".0;\\n\\n          if (dyR < 0.0 || dyR >= \"+t.outHeight+\".0 || fract(dyR) > 0.0) {\\n            continue;\\n          }\\n          int idyR = int(dyR);\\n\\n          for (int wC = 0; wC < \"+a+\"; wC++) {\\n            float dyC = float(dyCCorner + wC) / \"+n+\".0;\\n\\n            if (dyC < 0.0 || dyC >= \"+t.outWidth+\".0 ||\\n                fract(dyC) > 0.0) {\\n              continue;\\n            }\\n            int idyC = int(dyC);\\n\\n            float dyValue = getDy(b, idyR, idyC, d);\\n            int maxPosValue = \"+u+\" - int(getMaxPos(b, idyR, idyC, d));\\n\\n            // Get the current value, check it against the value from the\\n            // position matrix.\\n            int curPosValue = wR * \"+a+\" + wC;\\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\\n\\n            dotProd += dyValue * mask;\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \"},Gi=function(t){this.variableNames=[\"dy\",\"maxPos\"],this.outputShape=t.inShape;var e=t.strideDepth,n=t.strideHeight,r=t.strideWidth,o=t.dilationDepth,a=t.dilationHeight,i=t.dilationWidth,s=t.effectiveFilterDepth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,l=s-1-t.padInfo.front,h=u-1-t.padInfo.top,f=c-1-t.padInfo.left,d=s*u*c-1;this.userCode=\"\\n      const ivec3 pads = ivec3(\"+l+\", \"+h+\", \"+f+\");\\n\\n      void main() {\\n        ivec5 coords = getOutputCoords();\\n        int batch = coords.x;\\n        int ch = coords.u;\\n\\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\\n        int dyDCorner = dyCorner.x;\\n        int dyRCorner = dyCorner.y;\\n        int dyCCorner = dyCorner.z;\\n\\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\\n        // dx(xD, xR, xC, ch).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n\\n        for (int wD = 0; wD < \"+s+\";\\n           wD += \"+o+\") {\\n          float dyD = float(dyDCorner + wD) / \"+e+\".0;\\n\\n          if (dyD < 0.0 || dyD >= \"+t.outDepth+\".0 || fract(dyD) > 0.0) {\\n            continue;\\n          }\\n          int idyD = int(dyD);\\n\\n          for (int wR = 0; wR < \"+u+\";\\n              wR += \"+a+\") {\\n            float dyR = float(dyRCorner + wR) / \"+n+\".0;\\n\\n            if (dyR < 0.0 || dyR >= \"+t.outHeight+\".0 ||\\n                fract(dyR) > 0.0) {\\n              continue;\\n            }\\n            int idyR = int(dyR);\\n\\n            for (int wC = 0; wC < \"+c+\";\\n                wC += \"+i+\") {\\n              float dyC = float(dyCCorner + wC) / \"+r+\".0;\\n\\n              if (dyC < 0.0 || dyC >= \"+t.outWidth+\".0 ||\\n                  fract(dyC) > 0.0) {\\n                continue;\\n              }\\n              int idyC = int(dyC);\\n\\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\\n              int maxPosValue = \"+d+\" -\\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\\n\\n              // Get the current value, check it against the value from the\\n              // position matrix.\\n              int curPosValue =\\n                  wD * \"+u+\" * \"+c+\" +\\n                  wR * \"+c+\" + wC;\\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\\n\\n              dotProd += dyValue * mask;\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \"},Hi=function(t,e,n,r,o,a,i){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===a&&(a=null),void 0===i&&(i=!1),this.variableNames=[\"matrixA\",\"matrixB\"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;var s=n?t[1]:t[2],u=Math.ceil(s/2),c=n?\"i * 2, rc.y\":\"rc.y, i * 2\",l=r?\"rc.z, i * 2\":\"i * 2, rc.z\",h=n?[\"a.xxyy\",\"a.zzww\"]:[\"a.xxzz\",\"a.yyww\"],f=r?[\"b.xzxz\",\"b.ywyw\"]:[\"b.xyxy\",\"b.zwzw\"],d=\"\",p=\"\";a&&(d=i?\"vec4 activation(vec4 a) {\\n          vec4 b = getPreluActivationWeightsAtOutCoords();\\n          \"+a+\"\\n        }\":\"vec4 activation(vec4 x) {\\n          \"+a+\"\\n        }\",p=\"result = activation(result);\");var v=o?\"result += getBiasAtOutCoords();\":\"\";o&&this.variableNames.push(\"bias\"),i&&this.variableNames.push(\"preluActivationWeights\"),this.userCode=\"\\n      \"+d+\"\\n\\n      const float sharedDimension = \"+u+\".0;\\n\\n      vec4 dot2x2ARowBCol(ivec3 rc) {\\n        vec4 result = vec4(0);\\n        for (int i = 0; i < \"+u+\"; i++) {\\n          vec4 a = getMatrixA(rc.x, \"+c+\");\\n          vec4 b = getMatrixB(rc.x, \"+l+\");\\n\\n          // These swizzled products need to be separately added.\\n          // See: https://github.com/tensorflow/tfjs/issues/1735\\n          result += (\"+h[0]+\" * \"+f[0]+\");\\n          result += (\"+h[1]+\" * \"+f[1]+\");\\n        }\\n        return result;\\n      }\\n\\n      void main() {\\n        ivec3 rc = getOutputCoords();\\n        vec4 result = dot2x2ARowBCol(rc);\\n\\n        \"+v+\"\\n\\n        \"+p+\"\\n\\n        setOutput(result);\\n      }\\n    \"},qi=function(){function t(t,e,n){this.variableNames=[\"probs\"],this.outputShape=[t,n],this.userCode=\"\\n      uniform float seed;\\n\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int batch = coords[0];\\n\\n        float r = random(seed);\\n        float cdf = 0.0;\\n\\n        for (int i = 0; i < \"+(e-1)+\"; i++) {\\n          cdf += getProbs(batch, i);\\n\\n          if (r < cdf) {\\n            setOutput(float(i));\\n            return;\\n          }\\n        }\\n\\n        // If no other event happened, last event happened.\\n        setOutput(float(\"+(e-1)+\"));\\n      }\\n    \"}return t.prototype.getCustomSetupFunc=function(t){var e=this;return function(n,r){null==e.seedLoc&&(e.seedLoc=n.getUniformLocation(r,\"seed\")),n.gl.uniform1f(e.seedLoc,t)}},t}(),Ki=function(t,e,n,r){this.variableNames=[\"indices\"],this.outputShape=[t,e],this.userCode=\"\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int index = round(getIndices(coords.x));\\n        setOutput(mix(float(\"+r+\"), float(\"+n+\"),\\n                      float(index == coords.y)));\\n      }\\n    \"},ji=function(t){this.variableNames=[\"A\"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t;var e=t.length;if(0===e)this.userCode=\"\\n        void main() {\\n          setOutput(vec4(getA(), 0., 0., 0.));\\n        }\\n      \";else{var n=sa(\"rc\",e),r=wa(e),o=function(t,e,n){if(1===t)return\"rc > \"+e[0];for(var r=\"\",o=t-2;o<t;o++)r+=n[o]+\" >= \"+e[o],o<t-1&&(r+=\"||\");return r}(e,t,n),a=function(t,e,n,r){if(1===t)return\"\";var o=r.slice(-2);return\"\\n    int r = \"+o[0]+\";\\n    int c = \"+o[1]+\";\\n    int rp1 = r + 1;\\n    int cp1 = c + 1;\\n\\n    bool cEdge = cp1 >= \"+e+\";\\n    bool rEdge = rp1 >= \"+n+\";\\n  \"}(e,t[t.length-1],t[t.length-2],n),i=function(t,e){var n=t.length,r=function(t,e){for(var n=[],r=0;r<=1;r++)for(var o=0;o<=1;o++){for(var a=(0===r?\"r\":\"rp1\")+\", \"+(0===o?\"c\":\"cp1\"),i=2;i<t;i++)a=e[e.length-1-i]+\",\"+a;n.push(a)}return n}(n,e);return 1===n?\"getA(rc),\\n            rc + 1 >= \"+t[0]+\" ? 0. : getA(rc + 1),\\n            0, 0\":\"getA(\"+r[0]+\"),\\n          cEdge ? 0. : getA(\"+r[1]+\"),\\n          rEdge ? 0. : getA(\"+r[2]+\"),\\n          rEdge || cEdge ? 0. : getA(\"+r[3]+\")\"}(t,n);this.userCode=\"\\n        void main() {\\n          \"+r+\" rc = getOutputCoords();\\n\\n          if(\"+o+\") {\\n            setOutput(vec4(0));\\n          } else {\\n            \"+a+\"\\n\\n            setOutput(vec4(\"+i+\"));\\n          }\\n        }\\n      \"}};var Xi=function(t,e,n){this.variableNames=[\"x\"],this.outputShape=e.map((function(e,n){return e[0]+t[n]+e[1]}));var r=t.length,o=wa(r),a=e.map((function(t){return t[0]})).join(\",\"),i=e.map((function(e,n){return e[0]+t[n]})).join(\",\"),s=[\"coords[0]\",\"coords[1]\",\"coords[2]\",\"coords[3]\"].slice(0,r);this.userCode=1!==r?\"\\n      \"+o+\" start = \"+o+\"(\"+a+\");\\n      \"+o+\" end = \"+o+\"(\"+i+\");\\n\\n      void main() {\\n        \"+o+\" outC = getOutputCoords();\\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\\n          setOutput(float(\"+n+\"));\\n        } else {\\n          \"+o+\" coords = outC - start;\\n          setOutput(getX(\"+s+\"));\\n        }\\n      }\\n    \":\"\\n        int start = \"+a+\";\\n        int end = \"+i+\";\\n\\n        void main() {\\n          int outC = getOutputCoords();\\n          if (outC < start || outC >= end) {\\n            setOutput(float(\"+n+\"));\\n          } else {\\n            setOutput(getX(outC - start));\\n          }\\n        }\\n      \"},Yi=function(t,e,n){this.variableNames=[\"x\"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.map((function(e,n){return e[0]+t[n]+e[1]}));for(var r=t.length,o=wa(r),a=e.map((function(t){return t[0]})).join(\",\"),i=e.map((function(e,n){return e[0]+t[n]})).join(\",\"),s=sa(\"rc\",r),u=sa(\"source\",r),c=s[r-1]+\" < \"+this.outputShape[r-1],l=1===r?\"source\":\"vec2(\"+u.slice(-2).join()+\")\",h=[o+\" rc = outputLoc;\",s[r-1]+\" += 1;\\n       if(\"+c+\") {\\n      \",1===r?\"\":\"}\\n       rc = outputLoc;\\n       \"+s[r-2]+\" += 1;\\n       if(\"+s[r-2]+\" < \"+this.outputShape[r-2]+\") {\",1===r?\"\":\"  \"+s[r-1]+\" += 1;\\n         if(\"+c+\") {\"],f=1===r?\"rc < start || rc >= end\":\"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))\",d=\"\",p=0,v=1===r?2:4;p<v;p++)d+=\"\\n        \"+h[p]+\"\\n        if (\"+f+\") {\\n          result[\"+p+\"] = float(\"+n+\");\\n        } else {\\n          \"+o+\" source = rc - start;\\n          result[\"+p+\"] = getChannel(getX(\"+u.join()+\"), \"+l+\");\\n        }\\n      \";d+=1===r?\"} \":\"}}\",this.userCode=\"\\n      const \"+o+\" start = \"+o+\"(\"+a+\");\\n      const \"+o+\" end = \"+o+\"(\"+i+\");\\n\\n      void main() {\\n        \"+o+\" outputLoc = getOutputCoords();\\n        vec4 result = vec4(0.);\\n        \"+d+\"\\n        setOutput(result);\\n      }\\n    \"},$i=function(t,e,n){if(this.variableNames=[\"x\"],\"avg\"===e&&n)throw new Error(\"Cannot compute positions for average pool.\");var r=t.filterWidth,o=t.strideHeight,a=t.strideWidth,i=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,l=t.padInfo.top,h=t.padInfo.left;this.outputShape=t.outShape;var f=\"avg\"===e,d=\"0.0\";if(f||(d=\"-1.0 / 1e-20\"),n)this.userCode=\"\\n        const ivec2 strides = ivec2(\"+o+\", \"+a+\");\\n        const ivec2 pads = ivec2(\"+l+\", \"+h+\");\\n\\n        void main() {\\n          ivec4 coords = getOutputCoords();\\n          int batch = coords[0];\\n          int d = coords[3];\\n\\n          ivec2 xRCCorner = coords.yz * strides - pads;\\n          int xRCorner = xRCCorner.x;\\n          int xCCorner = xRCCorner.y;\\n\\n          // max/min x(?, ?, d) to get y(yR, yC, d).\\n          // ? = to be determined\\n          float minMaxValue = 0.0;\\n          float minMaxValueFound = 0.0;\\n          int minMaxPosition = 0;\\n          float avgValue = 0.0;\\n\\n          for (int wR = 0; wR < \"+u+\";\\n              wR += \"+i+\") {\\n            int xR = xRCorner + wR;\\n\\n            if (xR < 0 || xR >= \"+t.inHeight+\") {\\n              continue;\\n            }\\n\\n            for (int wC = 0; wC < \"+c+\";\\n                wC += \"+s+\") {\\n              int xC = xCCorner + wC;\\n\\n              if (xC < 0 || xC >= \"+t.inWidth+\") {\\n                continue;\\n              }\\n\\n              float value = getX(batch, xR, xC, d);\\n\\n              // If a min / max value has already been found, use it. If not,\\n              // use the current value.\\n              float currMinMaxValue = mix(\\n                  value, minMaxValue, minMaxValueFound);\\n              if (value >= currMinMaxValue) {\\n                minMaxValue = value;\\n                minMaxValueFound = 1.0;\\n                minMaxPosition = wR * \"+c+\" + wC;\\n              }\\n            }\\n          }\\n          setOutput(float(minMaxPosition));\\n        }\\n      \";else{var p=e+\"(\"+e+\"(\"+e+\"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])\";\"avg\"===e&&(p=\"avgValue / count\");var v=4*Math.floor(r/4),m=r%4,g=\"\\n      if (\"+f+\") {\\n        avgValue += dot(values, ones);\\n      } else {\\n        minMaxValue = max(values, minMaxValue);\\n      }\\n    \";this.userCode=\"\\n      const ivec2 strides = ivec2(\"+o+\", \"+a+\");\\n      const ivec2 pads = ivec2(\"+l+\", \"+h+\");\\n      const float initializationValue = \"+d+\";\\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\\n\\n      float count = 0.0;\\n\\n      float getValue(int batch, int xR, int xC, int d) {\\n        if (xC < 0 || xC >= \"+t.inWidth+\") {\\n          return initializationValue;\\n        }\\n        count += 1.0;\\n        return getX(batch, xR, xC, d);\\n      }\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int d = coords[3];\\n\\n        ivec2 xRCCorner = coords.yz * strides - pads;\\n        int xRCorner = xRCCorner.x;\\n        int xCCorner = xRCCorner.y;\\n\\n        // max/min x(?, ?, d) to get y(yR, yC, d).\\n        // ? = to be determined\\n        vec4 minMaxValue = vec4(\"+d+\");\\n        float avgValue = 0.0;\\n        count = 0.0;\\n\\n        for (int wR = 0; wR < \"+u+\";\\n            wR += \"+i+\") {\\n          int xR = xRCorner + wR;\\n\\n          if (xR < 0 || xR >= \"+t.inHeight+\") {\\n            continue;\\n          }\\n\\n          for (int wC = 0; wC < \"+v+\"; wC += 4) {\\n            int xC = xCCorner + wC * \"+s+\";\\n\\n            vec4 values = vec4(\\n              getValue(batch, xR, xC, d),\\n              getValue(batch, xR, xC + \"+s+\", d),\\n              getValue(batch, xR, xC + 2 * \"+s+\", d),\\n              getValue(batch, xR, xC + 3 * \"+s+\", d)\\n            );\\n\\n            \"+g+\"\\n          }\\n\\n          int xC = xCCorner + \"+v+\";\\n          if (\"+(1===m)+\") {\\n            vec4 values = vec4(\\n              getValue(batch, xR, xC, d),\\n              initializationValue,\\n              initializationValue,\\n              initializationValue\\n            );\\n\\n            \"+g+\"\\n          } else if (\"+(2===m)+\") {\\n            vec4 values = vec4(\\n              getValue(batch, xR, xC, d),\\n              getValue(batch, xR, xC + \"+s+\", d),\\n              initializationValue,\\n              initializationValue\\n            );\\n\\n            \"+g+\"\\n          } else if (\"+(3===m)+\") {\\n            vec4 values = vec4(\\n              getValue(batch, xR, xC, d),\\n              getValue(batch, xR, xC + \"+s+\", d),\\n              getValue(batch, xR, xC + 2 * \"+s+\", d),\\n              initializationValue\\n            );\\n\\n            \"+g+\"\\n          }\\n        }\\n        setOutput(\"+p+\");\\n      }\\n    \"}},Qi=function(t,e,n){if(this.variableNames=[\"x\"],\"avg\"===e&&n)throw new Error(\"Cannot compute positions for average pool.\");var r=t.filterWidth,o=t.strideDepth,a=t.strideHeight,i=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,l=t.effectiveFilterDepth,h=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,p=t.padInfo.top,v=t.padInfo.left;this.outputShape=t.outShape;var m=\"avg\"===e,g=\"0.0\";if(m||(g=\"-1.0 / 1e-20\"),n)this.userCode=\"\\n        const ivec3 strides =\\n            ivec3(\"+o+\", \"+a+\", \"+i+\");\\n        const ivec3 pads = ivec3(\"+d+\", \"+p+\", \"+v+\");\\n\\n        void main() {\\n          ivec5 coords = getOutputCoords();\\n          int batch = coords.x;\\n          int ch = coords.u;\\n\\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\\n          int xDCorner = xCorner.x;\\n          int xRCorner = xCorner.y;\\n          int xCCorner = xCorner.z;\\n\\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\\n          // ? = to be determined\\n          float minMaxValue = 0.0;\\n          float minMaxValueFound = 0.0;\\n          int minMaxPosition = 0;\\n\\n          for (int wD = 0; wD < \"+l+\";\\n              wD += \"+s+\") {\\n            int xD = xDCorner + wD;\\n\\n            if (xD < 0 || xD >= \"+t.inDepth+\") {\\n              continue;\\n            }\\n\\n            for (int wR = 0; wR < \"+h+\";\\n                wR += \"+u+\") {\\n              int xR = xRCorner + wR;\\n\\n              if (xR < 0 || xR >= \"+t.inHeight+\") {\\n                continue;\\n              }\\n\\n              for (int wC = 0; wC < \"+f+\";\\n                  wC += \"+c+\") {\\n                int xC = xCCorner + wC;\\n\\n                if (xC < 0 || xC >= \"+t.inWidth+\") {\\n                  continue;\\n                }\\n\\n                float value = getX(batch, xD, xR, xC, ch);\\n\\n                // If a min / max value has already been found, use it. If not,\\n                // use the current value.\\n                float currMinMaxValue = mix(\\n                    value, minMaxValue, minMaxValueFound);\\n                if (value >= currMinMaxValue) {\\n                  minMaxValue = value;\\n                  minMaxValueFound = 1.0;\\n                  minMaxPosition =\\n                      wD * \"+h+\" * \"+f+\" +\\n                      wR * \"+f+\" + wC;;\\n                }\\n              }\\n            }\\n          }\\n          setOutput(float(minMaxPosition));\\n        }\\n      \";else{var y=e+\"(\"+e+\"(\"+e+\"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])\";\"avg\"===e&&(y=\"avgValue / count\");var x=4*Math.floor(r/4),b=r%4,w=\"\\n      if (\"+m+\") {\\n        avgValue += dot(values, ones);\\n      } else {\\n        minMaxValue = max(values, minMaxValue);\\n      }\\n    \";this.userCode=\"\\n      const ivec3 strides =\\n        ivec3(\"+o+\", \"+a+\", \"+i+\");\\n      const ivec3 pads = ivec3(\"+d+\", \"+p+\", \"+v+\");\\n      const float initializationValue = \"+g+\";\\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\\n\\n      float count = 0.0;\\n\\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\\n        if (xC < 0 || xC >= \"+t.inWidth+\") {\\n          return initializationValue;\\n        }\\n        count += 1.0;\\n        return getX(batch, xD, xR, xC, ch);\\n      }\\n\\n      void main() {\\n        ivec5 coords = getOutputCoords();\\n        int batch = coords.x;\\n        int ch = coords.u;\\n\\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\\n        int xDCorner = xCorner.x;\\n        int xRCorner = xCorner.y;\\n        int xCCorner = xCorner.z;\\n\\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\\n        // ? = to be determined\\n        vec4 minMaxValue = vec4(\"+g+\");\\n        float avgValue = 0.0;\\n        count = 0.0;\\n\\n        for (int wD = 0; wD < \"+l+\";\\n            wD += \"+s+\") {\\n          int xD = xDCorner + wD;\\n\\n          if (xD < 0 || xD >= \"+t.inDepth+\") {\\n            continue;\\n          }\\n\\n          for (int wR = 0; wR < \"+h+\";\\n            wR += \"+u+\") {\\n            int xR = xRCorner + wR;\\n\\n            if (xR < 0 || xR >= \"+t.inHeight+\") {\\n              continue;\\n            }\\n\\n            for (int wC = 0; wC < \"+x+\"; wC += 4) {\\n              int xC = xCCorner + wC * \"+c+\";\\n\\n              vec4 values = vec4(\\n                getValue(batch, xD, xR, xC, ch),\\n                getValue(batch, xD, xR, xC + \"+c+\", ch),\\n                getValue(batch, xD, xR, xC + 2 * \"+c+\", ch),\\n                getValue(batch, xD, xR, xC + 3 * \"+c+\", ch)\\n              );\\n\\n              \"+w+\"\\n            }\\n\\n            int xC = xCCorner + \"+x+\";\\n            if (\"+(1===b)+\") {\\n              vec4 values = vec4(\\n                getValue(batch, xD, xR, xC, ch),\\n                initializationValue,\\n                initializationValue,\\n                initializationValue\\n              );\\n\\n              \"+w+\"\\n            } else if (\"+(2===b)+\") {\\n              vec4 values = vec4(\\n                getValue(batch, xD, xR, xC, ch),\\n                getValue(batch, xD, xR, xC + \"+c+\", ch),\\n                initializationValue,\\n                initializationValue\\n              );\\n\\n              \"+w+\"\\n            } else if (\"+(3===b)+\") {\\n              vec4 values = vec4(\\n                getValue(batch, xD, xR, xC, ch),\\n                getValue(batch, xD, xR, xC + \"+c+\", ch),\\n                getValue(batch, xD, xR, xC + 2 * \"+c+\", ch),\\n                initializationValue\\n              );\\n\\n              \"+w+\"\\n            }\\n          }\\n          setOutput(\"+y+\");\\n        }\\n      }\\n    \"}},Ji=function(t,e){this.variableNames=[\"x\"];var n=t.windowSize,r=t.batchSize,o=t.inSize,a=Math.ceil(o/n);this.outputShape=[r,a];var i=\"0.0\",s=\"\";\"prod\"===e?i=\"1.0\":\"min\"===e?(i=\"1.0 / 1e-20\",s=\"min\"):\"max\"===e&&(i=\"-1.0 / 1e-20\",s=\"max\");var u=e+\"(\"+e+\"(\"+e+\"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])\";\"sum\"===e?u=\"sumValue\":\"prod\"===e?u=\"prodValue\":\"all\"===e?u=\"allValue\":\"any\"===e&&(u=\"anyValue\");var c=4*Math.floor(n/4),l=n%4,h=\"\\n      if (\"+(\"sum\"===e)+\") {\\n        sumValue += dot(values, ones);\\n      } else if (\"+(\"prod\"===e)+\") {\\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\\n        prodValue *= tmp[0] * tmp[1];\\n      } else {\\n        minMaxValue = \"+s+\"(values, minMaxValue);\\n      }\\n    \",f=\"vec4\";\"all\"===e?(i=\"1.0\",h=\"\\n        bool reducedAllValue = all(values);\\n        float floatedReducedAllValue = float(reducedAllValue);\\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\\n      \",f=\"bvec4\"):\"any\"===e&&(i=\"0.0\",h=\"\\n        bool reducedAnyValue = any(values);\\n        float floatedReducedAnyValue = float(reducedAnyValue);\\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\\n      \",f=\"bvec4\");var d=\"\";o%n>0&&(d=\"\\n        if (inIdx < 0 || inIdx >= \"+o+\") {\\n          return initializationValue;\\n        }\\n      \"),this.userCode=\"\\n      const float initializationValue = \"+i+\";\\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\\n\\n      float getValue(int batch, int inIdx) {\\n        \"+d+\"\\n        return getX(batch, inIdx);\\n      }\\n\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int outIdx = coords[1];\\n        int inOffset = outIdx * \"+n+\";\\n\\n        vec4 minMaxValue = vec4(\"+i+\");\\n        float prodValue = 1.0;\\n        float sumValue = 0.0;\\n        float allValue = 1.0;\\n        float anyValue = 0.0;\\n\\n        for (int i = 0; i < \"+c+\"; i += 4) {\\n          int inIdx = inOffset + i;\\n          \"+f+\" values = \"+f+\"(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            getValue(batch, inIdx + 2),\\n            getValue(batch, inIdx + 3)\\n          );\\n\\n          \"+h+\"\\n        }\\n\\n        int inIdx = inOffset + \"+c+\";\\n        if (\"+(1===l)+\") {\\n          \"+f+\" values = \"+f+\"(\\n            getValue(batch, inIdx),\\n            initializationValue,\\n            initializationValue,\\n            initializationValue\\n          );\\n\\n          \"+h+\"\\n        } else if (\"+(2===l)+\") {\\n          \"+f+\" values = \"+f+\"(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            initializationValue,\\n            initializationValue\\n          );\\n\\n          \"+h+\"\\n        } else if (\"+(3===l)+\") {\\n          \"+f+\" values = \"+f+\"(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            getValue(batch, inIdx + 2),\\n            initializationValue\\n          );\\n\\n          \"+h+\"\\n        }\\n        setOutput(\"+u+\");\\n      }\\n    \"},Zi=function(t,e){this.variableNames=[\"A\"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var n=\"\",r=0;r<4;r++){var o=\"thisRC = rc;\";r%2==1&&(o+=\"thisRC.z += 1;\"),r>1&&(o+=\"thisRC.y += 1;\"),n+=\"\\n        \"+o+\"\\n        \"+(r>0?\"if(thisRC.y < rows && thisRC.z < cols){\":\"\")+\"\\n          int flatIndex = getFlatIndex(thisRC);\\n\\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\\n\\n          result[\"+r+\"] =\\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\\n        \"+(r>0?\"}\":\"\")+\"\\n      \"}this.userCode=\"\\n      \\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\\n      \"+ca([\"r\",\"c\",\"d\"],e)+\"\\n      return ivec3(r, c, d);\\n    }\\n  \\n      \"+la(t)+\"\\n\\n      void main() {\\n        ivec3 rc = getOutputCoords();\\n\\n        vec4 result = vec4(0.);\\n\\n        ivec3 thisRC;\\n        int rows = \"+t[1]+\";\\n        int cols = \"+t[2]+\";\\n\\n        \"+n+\"\\n\\n        setOutput(result);\\n      }\\n    \"};var ts=function(t,e,n){this.variableNames=[\"dy\"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,o=r[1],a=r[2],i=t.shape,s=i[1],u=i[2],c=[n&&s>1?o-1:o,n&&u>1?a-1:a],l=[n&&s>1?s-1:s,n&&u>1?u-1:u],h=c[0]/l[0],f=c[1]/l[1],d=1/h,p=1/f,v=2*Math.ceil(d)+2,m=2*Math.ceil(p)+2;this.userCode=\"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n        int r = coords[1];\\n        int c = coords[2];\\n\\n        float accumulator = 0.0;\\n\\n        const float heightScale = float(\"+h+\");\\n        const float widthScale = float(\"+f+\");\\n\\n        const float invHeightScale = float(\"+d+\");\\n        const float invWidthScale = float(\"+p+\");\\n\\n        const int winHeight = int(\"+v+\");\\n        const int winWidth = int(\"+m+\");\\n\\n        // Compute bounds for where in dy we will look\\n        float startRLerp = floor(float(r) * invHeightScale);\\n        int startDyR = int(startRLerp - float(winHeight / 2));\\n\\n        float startCLerp = floor(float(c) * invWidthScale);\\n        int startDyC = int(startCLerp - float(winWidth / 2));\\n\\n        // Loop over dy\\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\\n          int dyR = dyROffset + startDyR;\\n\\n          // Guard against the window exceeding the bounds of dy\\n          if (dyR < 0 || dyR >= \"+s+\") {\\n            continue;\\n          }\\n\\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\\n            int dyC = dyCOffset + startDyC;\\n\\n            // Guard against the window exceeding the bounds of dy\\n            if (dyC < 0 || dyC >= \"+u+\") {\\n              continue;\\n            }\\n\\n            float dxR = float(dyR) * heightScale;\\n            int topDxRIndex = int(floor(dxR));\\n            int bottomDxRIndex = int(min(ceil(dxR), \"+(o-1)+\".0));\\n            float dxRLerp = dxR - float(topDxRIndex);\\n            float inverseDxRLerp = 1.0 - dxRLerp;\\n\\n            float dxC = float(dyC) * widthScale;\\n            int leftDxCIndex = int(floor(dxC));\\n            int rightDxCIndex = int(min(ceil(dxC), \"+(a-1)+\".0));\\n            float dxCLerp = dxC - float(leftDxCIndex);\\n            float inverseDxCLerp = 1.0 - dxCLerp;\\n\\n            if (r == topDxRIndex && c == leftDxCIndex) {\\n              // topLeft\\n              accumulator +=\\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\\n            }\\n\\n            if (r == topDxRIndex && c == rightDxCIndex) {\\n              // topRight\\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\\n            }\\n\\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\\n              // bottomLeft\\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\\n            }\\n\\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\\n              // bottomRight\\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\\n            }\\n          }\\n        }\\n        // End loop over dy\\n\\n        setOutput(accumulator);\\n      }\\n    \"},es=function(t,e,n,r){this.variableNames=[\"A\"],this.outputShape=[];var o=t[0],a=t[1],i=t[2],s=t[3];this.outputShape=[o,e,n,s];var u=[r&&e>1?a-1:a,r&&n>1?i-1:i],c=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode=\"\\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\\n          \"+u[0]/c[0]+\",\\n          \"+u[1]/c[1]+\");\\n      const vec2 inputShapeRC = vec2(\"+a+\".0, \"+i+\".0);\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n        ivec2 yRC = coords.yz;\\n\\n        // Fractional source index.\\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\\n\\n        // Compute the four integer indices.\\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\\n        ivec2 sourceCeilRC = ivec2(\\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\\n\\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\\n\\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\\n\\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\\n        float newValue = top + (bottom - top) * fracRC.x;\\n\\n        setOutput(newValue);\\n      }\\n    \"},ns=function(t,e,n,r){this.variableNames=[\"A\"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=t[0],a=t[1],i=t[2],s=t[3];this.outputShape=[o,e,n,s];var u=[r&&e>1?a-1:a,r&&n>1?i-1:i],c=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode=\"\\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\\n          \"+u[0]/c[0]+\",\\n          \"+u[1]/c[1]+\",\\n          \"+u[1]/c[1]+\");\\n      const vec3 inputShapeRC = vec3(\"+a+\".0, \"+i+\".0,\\n                                     \"+i+\".0);\\n\\n      float getAValue(int b, int r, int c, int d) {\\n        return getChannel(getA(b, r, c, d), vec2(c, d));\\n      }\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n        // Calculate values for next column in yRC.z.\\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\\n\\n        // Fractional source index.\\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\\n\\n        // Compute the four integer indices.\\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\\n        ivec3 sourceCeilRC = ivec3(\\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\\n\\n        // Should we calculate next column and row elements in 2x2 packed cell.\\n        bool hasNextCol = d < \"+(s-1)+\";\\n        bool hasNextRow = coords.z < \"+(n-1)+\";\\n\\n        // In parallel, construct four corners for all four components in\\n        // packed 2x2 cell.\\n        vec4 topLeft = vec4(\\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\\n                     : 0.0,\\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\\n                     : 0.0,\\n          (hasNextRow && hasNextCol) ?\\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\\n\\n        vec4 bottomLeft = vec4(\\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\\n                     : 0.0,\\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\\n                     : 0.0,\\n          (hasNextRow && hasNextCol) ?\\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\\n\\n        vec4 topRight = vec4(\\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\\n                     : 0.0,\\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\\n                     : 0.0,\\n          (hasNextRow && hasNextCol) ?\\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\\n\\n        vec4 bottomRight = vec4(\\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\\n                     : 0.0,\\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\\n                     : 0.0,\\n          (hasNextRow && hasNextCol) ?\\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\\n\\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\\n\\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\\n        vec4 newValue = mix(top, bottom, fracRC.x);\\n\\n        setOutput(newValue);\\n      }\\n    \"},rs=function(t,e,n){this.variableNames=[\"dy\"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,o=r[1],a=r[2],i=t.shape,s=i[1],u=i[2],c=[n&&s>1?o-1:o,n&&u>1?a-1:a],l=[n&&s>1?s-1:s,n&&u>1?u-1:u],h=c[0]/l[0],f=c[1]/l[1],d=1/h,p=1/f,v=2*Math.ceil(d)+2,m=2*Math.ceil(p)+2;this.userCode=\"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n        int r = coords[1];\\n        int c = coords[2];\\n\\n        float accumulator = 0.0;\\n\\n        const float heightScale = float(\"+h+\");\\n        const float widthScale = float(\"+f+\");\\n\\n        const float invHeightScale = float(\"+d+\");\\n        const float invWidthScale = float(\"+p+\");\\n\\n        const int winHeight = int(\"+v+\");\\n        const int winWidth = int(\"+m+\");\\n\\n        // Compute bounds for where in dy we will look\\n        float startRLerp = floor(float(r) * invHeightScale);\\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\\n\\n        float startCLerp = floor(float(c) * invWidthScale);\\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\\n\\n        // Loop over dy\\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\\n          int dyR = dyROffset + startDyR;\\n\\n          // Guard against the window exceeding the bounds of dy\\n          if (dyR < 0 || dyR >= \"+s+\") {\\n            continue;\\n          }\\n\\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\\n            int dyC = dyCOffset + startDyC;\\n\\n            // Guard against the window exceeding the bounds of dy\\n            if (dyC < 0 || dyC >= \"+u+\") {\\n              continue;\\n            }\\n\\n            float sourceFracRow =\\n              float(\"+c[0]+\") *\\n                (float(dyR) / float(\"+l[0]+\"));\\n\\n            float sourceFracCol =\\n                float(\"+c[1]+\") *\\n                  (float(dyC) / float(\"+l[1]+\"));\\n\\n            int sourceNearestRow = int(min(\\n                float(int(\"+o+\") - 1),\\n                \"+n+\" ? float(round(sourceFracRow)) :\\n                                  float(floor(sourceFracRow))));\\n\\n            int sourceNearestCol = int(min(\\n                float(int(\"+a+\") - 1),\\n                \"+n+\" ? float(round(sourceFracCol)) :\\n                                  float(floor(sourceFracCol))));\\n\\n            if (r == sourceNearestRow && c == sourceNearestCol) {\\n              accumulator += getDy(b, dyR, dyC, d);\\n            }\\n          }\\n        }\\n        // End loop over dy\\n\\n        setOutput(accumulator);\\n      }\\n    \"},os=function(t,e,n,r){this.variableNames=[\"A\"],this.outputShape=[];var o=t[0],a=t[1],i=t[2],s=t[3];this.outputShape=[o,e,n,s];var u=[r&&e>1?a-1:a,r&&n>1?i-1:i],c=[r&&e>1?e-1:e,r&&n>1?n-1:n],l=r?\"0.5\":\"0.0\";this.userCode=\"\\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\\n          \"+u[0]/c[0]+\",\\n          \"+u[1]/c[1]+\");\\n      const vec2 inputShapeRC = vec2(\"+a+\".0, \"+i+\".0);\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n        ivec2 yRC = coords.yz;\\n\\n        // Fractional source index.\\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\\n\\n        // Compute the coordinators of nearest neighbor point.\\n        ivec2 sourceNearestRC = ivec2(\\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + \"+l+\")));\\n\\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\\n\\n        setOutput(newValue);\\n      }\\n    \"},as=function(t,e){this.variableNames=[\"x\"];var n=t.length;if(n>4)throw new Error(\"WebGL backend: Reverse of rank-\"+n+\" tensor is not yet supported\");if(this.outputShape=t,1!==n){var r=t.map((function(n,r){return function(n){return-1!==e.indexOf(n)&&1!==t[n]?t[n]+\" - coords[\"+n+\"] - 1\":\"coords[\"+n+\"]\"}(r)})).join(\",\"),o=wa(n);this.userCode=\"\\n      void main() {\\n        \"+o+\" coords = getOutputCoords();\\n        setOutput(getX(\"+r+\"));\\n      }\\n    \"}else this.userCode=\"\\n        void main() {\\n          int coord = getOutputCoords();\\n          setOutput(getX(\"+t[0]+\" - coord - 1));\\n        }\\n      \"},is=function(t,e){this.variableNames=[\"x\"],this.packedInputs=!0,this.packedOutput=!0;var n=t.length;if(n>4)throw new Error(\"WebGL backend: Reverse of rank-\"+n+\" tensor is not yet supported\");this.outputShape=t;var r=sa(\"rc\",n),o=r[n-1]+\" + 1 < \"+this.outputShape[n-1],a=r[n-2]+\" + 1 < \"+this.outputShape[n-2],i=wa(n);function s(n){var r=t.map((function(r,o){return function(n,r){return-1!==e.indexOf(n)&&1!==t[n]?t[n]+\" - \"+r[n]+\" - 1\":\"\"+r[n]}(o,n)}));return\"getChannel(getX(\"+r.join(\",\")+\"), vec2(\"+r.slice(-2).join(\",\")+\"))\"}this.userCode=1===n?\"\\n        void main(){\\n          int rc = getOutputCoords();\\n          vec4 result = vec4(0.);\\n          result.r = getChannel(getX(\"+t[0]+\" - rc - 1),\\n            \"+t[0]+\" - rc - 1);\\n          if(\"+o+\"){\\n              result.g = getChannel(getX(\"+t[0]+\" - (rc  + 1) - 1),\\n                \"+t[0]+\" - (rc  + 1) - 1);\\n          }\\n          setOutput(result);\\n        }\\n      \":\"\\n        void main() {\\n          \"+i+\" rc = getOutputCoords();\\n          vec4 result = vec4(0.);\\n          result.r = \"+function(t){return s(t)}(r.slice())+\";\\n          if(\"+o+\"){\\n            result.g = \"+function(t){return t[n-1]=\"(\"+t[n-1]+\" + 1)\",s(t)}(r.slice())+\";\\n          }\\n          if(\"+a+\") {\\n            result.b = \"+function(t){return t[n-2]=\"(\"+t[n-2]+\" + 1)\",s(t)}(r.slice())+\";\\n            if(\"+o+\") {\\n              result.a = \"+function(t){return t[n-1]=\"(\"+t[n-1]+\" + 1)\",t[n-2]=\"(\"+t[n-2]+\" + 1)\",s(t)}(r.slice())+\";\\n            }\\n          }\\n          setOutput(result);\\n        }\\n    \"},ss=function(t,e,n,r,o,a,i){void 0===i&&(i=!0),this.variableNames=[\"updates\",\"indices\",\"defaultValue\"],this.outputShape=a;var s=wa(o.length),u=wa(a.length),c=\"\";1===n?c=\"i\":2===n&&(c=\"i, j\");var l=\"getIndices(\"+c+\")\",h=\"\";1===r?h=\"i\":2===r&&(h=\"i, coords[1]\");var f=\"getUpdates(\"+h+\")\",d=e>1?\"strides[j]\":\"strides\";this.userCode=\"\\n        \"+s+\" strides = \"+s+\"(\"+o+\");\\n\\n        void main() {\\n          \"+u+\" coords = getOutputCoords();\\n          float sum = 0.0;\\n          bool found = false;\\n          for (int i = 0; i < \"+t+\"; i++) {\\n            int flattenedIndex = 0;\\n            for (int j = 0; j < \"+e+\"; j++) {\\n              int index = round(\"+l+\");\\n              flattenedIndex += index * \"+d+\";\\n            }\\n            if (flattenedIndex == coords[0]) {\\n              sum += \"+f+\";\\n              found = true;\\n            }\\n          }\\n          setOutput(mix(getDefaultValue(), sum, float(found)));\\n        }\\n      \"},us=function(t,e){this.variableNames=[\"x\",\"segmentIds\"];var n=t.windowSize,r=t.batchSize,o=t.inSize,a=t.numSegments,i=a*Math.ceil(o/n);this.outputShape=[r,i];var s=4*Math.floor(n/4),u=n%4,c=\"\\n        sumValue += dot(values, segFilter);\\n    \",l=\"\";o%n>0&&(l=\"\\n        if (inIdx < 0 || inIdx >= \"+o+\") {\\n          return initializationValue;\\n        }\\n      \");var h=\"\";o%n>0&&(h=\"\\n        if (inIdx < 0 || inIdx >= \"+o+\") {\\n          return -1.0;\\n        }\\n      \"),this.userCode=\"\\n      const float initializationValue = 0.0;\\n\\n      float getValue(int batch, int inIdx) {\\n        \"+l+\"\\n        return getX(batch, inIdx);\\n      }\\n\\n      float getSegmentIdAtIndex(int inIdx) {\\n        \"+h+\"\\n        return getSegmentIds(inIdx);\\n      }\\n\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int outIdx = coords[1];\\n        int inOffset = int(floor(float(outIdx) / float(\\n          \"+a+\")) * float(\"+n+\"));\\n        int currentSeg = int(mod(float(outIdx), float(\"+a+\")));\\n\\n        float sumValue = 0.0;\\n\\n        for (int i = 0; i < \"+s+\"; i += 4) {\\n          int inIdx = inOffset + i;\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            getValue(batch, inIdx + 2),\\n            getValue(batch, inIdx + 3)\\n          );\\n\\n          vec4 segFilter = vec4(\\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\\n          );\\n\\n          \"+c+\"\\n        }\\n\\n        int inIdx = inOffset + \"+s+\";\\n        if (\"+(1===u)+\") {\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            initializationValue,\\n            initializationValue,\\n            initializationValue\\n          );\\n\\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\\n\\n          vec4 segFilter = vec4(\\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\\n            0,\\n            0,\\n            0\\n          );\\n\\n          \"+c+\"\\n        } else if (\"+(2===u)+\") {\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            initializationValue,\\n            initializationValue\\n          );\\n\\n          vec4 segFilter = vec4(\\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\\n              0,\\n              0\\n          );\\n\\n          \"+c+\"\\n        } else if (\"+(3===u)+\") {\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            getValue(batch, inIdx + 2),\\n            initializationValue\\n          );\\n\\n          vec4 segFilter = vec4(\\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\\n            0\\n          );\\n\\n          \"+c+\"\\n        }\\n        setOutput(sumValue);\\n      }\\n    \"},cs=function(t,e,n){var r,o;if(this.variableNames=[\"c\",\"a\",\"b\"],this.outputShape=e,n>4)throw Error(\"Where for rank \"+n+\" is not yet supported\");if(1===n)o=\"resRC\",r=\"resRC\";else{for(var a=[\"resRC.x\",\"resRC.y\",\"resRC.z\",\"resRC.w\"],i=[],s=[],u=0;u<e.length;u++)s.push(\"\"+a[u]),u<t&&i.push(\"\"+a[u]);r=i.join(),o=s.join()}var c=wa(n);this.userCode=\"\\n      void main() {\\n        \"+c+\" resRC = getOutputCoords();\\n        float cVal = getC(\"+r+\");\\n        if (cVal >= 1.0) {\\n          setOutput(getA(\"+o+\"));\\n        } else {\\n          setOutput(getB(\"+o+\"));\\n        }\\n      }\\n    \"},ls=function(){function t(t){this.variableNames=[\"source\"],this.outputShape=t,this.rank=t.length;var e,n=wa(this.rank),r=\"uniform int start[\"+this.rank+\"];\",o=function(t){if(1===t)return\"sourceLoc\";if(t<=6)return hs.slice(0,t).map((function(t){return\"sourceLoc.\"+t})).join(\",\");throw Error(\"Slicing for rank \"+t+\" is not yet supported\")}(this.rank);e=\"\\n        \"+n+\" sourceLoc;\\n        \"+n+\" coords = getOutputCoords();\\n        \"+t.map((function(t,e){return\"sourceLoc.\"+hs[e]+\" = start[\"+e+\"] + coords.\"+hs[e]+\";\"})).join(\"\\n\")+\"\\n      \",this.userCode=\"\\n      \"+r+\"\\n      void main() {\\n        \"+e+\"\\n        setOutput(getSource(\"+o+\"));\\n      }\\n    \"}return t.prototype.getCustomSetupFunc=function(t){var e=this;if(t.length!==this.rank)throw Error(\"The rank (\"+this.rank+\") of the program must match the length of start (\"+t.length+\")\");return function(n,r){null==e.startLoc&&(e.startLoc=n.getUniformLocationNoThrow(r,\"start\"),null==e.startLoc)||n.gl.uniform1iv(e.startLoc,t)}},t}(),hs=[\"x\",\"y\",\"z\",\"w\",\"u\",\"v\"];var fs=function(){function t(t){this.variableNames=[\"source\"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length;var e=wa(this.rank),n=sa(\"coords\",this.rank),r=sa(\"sourceLoc\",this.rank),o=1===this.rank?\"sourceLoc\":\"vec2(\"+r.slice(-2).join()+\")\",a=\"getChannel(getSource(\"+r.join()+\"), \"+o+\")\",i=\"\\n      result.x = \"+a+\";\\n      if (++\"+n[this.rank-1]+\" < \"+t[this.rank-1]+\") {\\n        ++\"+r[this.rank-1]+\";\\n        result.y = \"+a+\";\\n        --\"+r[this.rank-1]+\";\\n      }\\n    \",s=1===this.rank?\"\":\"\\n      --\"+n[this.rank-1]+\";\\n      if (++\"+n[this.rank-2]+\" < \"+t[this.rank-2]+\") {\\n        ++\"+r[this.rank-2]+\";\\n        result.z = \"+a+\";\\n        if (++\"+n[this.rank-1]+\" < \"+t[this.rank-1]+\") {\\n          ++\"+r[this.rank-1]+\";\\n          result.w = \"+a+\";\\n        }\\n      }\\n    \",u=this.rank<=4?\"sourceLoc = coords +\\n            \"+e+\"(\"+t.map((function(t,e){return\"start[\"+e+\"]\"})).join()+\");\":t.map((function(t,e){return r[e]+\" = \"+n[e]+\" + start[\"+e+\"];\"})).join(\"\\n\");this.userCode=\"\\n      uniform int start[\"+this.rank+\"];\\n      void main() {\\n        \"+e+\" coords = getOutputCoords();\\n        \"+e+\" sourceLoc;\\n        \"+u+\"\\n        vec4 result = vec4(0.);\\n        \"+i+\"\\n        \"+s+\"\\n        setOutput(result);\\n      }\\n    \"}return t.prototype.getCustomSetupFunc=function(t){var e=this;if(t.length!==this.rank)throw Error(\"The rank (\"+this.rank+\") of the program must match the length of start (\"+t.length+\")\");return function(n,r){null==e.startLoc&&(e.startLoc=n.getUniformLocationNoThrow(r,\"start\"),null==e.startLoc)||n.gl.uniform1iv(e.startLoc,t)}},t}(),ds=function(t,e,n){this.variableNames=[\"x\"],this.outputShape=n;var r=n.length,o=wa(n.length),a=wa(n.length),i=\"\";if(1===r)i=\"coords * strides + begin\";else{var s=0;i=n.map((function(t,e){return s++,1===n.length?\"coords * strides[\"+e+\"] + begin[\"+e+\"]\":\"coords[\"+(s-1)+\"] * strides[\"+e+\"] + begin[\"+e+\"]\"})).join(\",\")}this.userCode=\"\\n      \"+o+\" begin = \"+o+\"(\"+t+\");\\n      \"+o+\" strides = \"+o+\"(\"+e+\");\\n\\n      void main() {\\n        \"+a+\" coords = getOutputCoords();\\n        setOutput(getX(\"+i+\"));\\n      }\\n    \"},ps=function(){function t(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return t.prototype.acquireTexture=function(t,e,n){var r,o=vs(e,n),a=ms(t,o,n);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var i=this.freeTextures[a].shift();return this.usedTextures[a].push(i),i}return this.numUsedTextures++,this.log(),o===Gt.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):o===Gt.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):o===Gt.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):o===Gt.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):o===Gt.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[a].push(r),r},t.prototype.releaseTexture=function(t,e,n,r){if(null!=this.freeTextures){var o=ms(e,vs(n,r),r);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(t),this.numFreeTextures++,this.numUsedTextures--;var a=this.usedTextures[o],i=a.indexOf(t);if(i<0)throw new Error(\"Cannot release a texture that was never provided by this texture manager\");a.splice(i,1),this.log()}},t.prototype.log=function(){if(this.logEnabled){var t=this.numFreeTextures+this.numUsedTextures;console.log(\"Free/Used\",this.numFreeTextures+\" / \"+this.numUsedTextures,\"(\"+t+\")\")}},t.prototype.getNumUsedTextures=function(){return this.numUsedTextures},t.prototype.getNumFreeTextures=function(){return this.numFreeTextures},t.prototype.dispose=function(){var t=this;if(null!=this.freeTextures){for(var e in this.freeTextures)this.freeTextures[e].forEach((function(e){t.gpgpu.deleteMatrixTexture(e)}));for(var e in this.usedTextures)this.usedTextures[e].forEach((function(e){t.gpgpu.deleteMatrixTexture(e)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},t}();function vs(t,e){if(t===zt.UPLOAD)return Gt.PACKED_2X2_FLOAT32;if(t===zt.RENDER||null==t)return function(t){return i().getBool(\"WEBGL_RENDER_FLOAT32_ENABLED\")?t?Gt.PACKED_2X2_FLOAT32:Gt.UNPACKED_FLOAT32:t?Gt.PACKED_2X2_FLOAT16:Gt.UNPACKED_FLOAT16}(e);if(t===zt.DOWNLOAD||t===zt.PIXELS)return Gt.PACKED_4X1_UNSIGNED_BYTE;throw new Error(\"Unknown logical texture type \"+t)}function ms(t,e,n){return t[0]+\"_\"+t[1]+\"_\"+e+\"_\"+n}var gs=function(t,e){this.variableNames=[\"A\"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[r]*e[r];this.outputShape=n,this.rank=n.length;var o=wa(this.rank),a=function(t){var e=t.length;if(e>5)throw Error(\"Tile for rank \"+e+\" is not yet supported\");if(1===e)return\"imod(resRC, \"+t[0]+\")\";for(var n=[\"resRC.x\",\"resRC.y\",\"resRC.z\",\"resRC.w\",\"resRC.u\"],r=[],o=0;o<t.length;o++)r.push(\"imod(\"+n[o]+\", \"+t[o]+\")\");return r.join()}(t);this.userCode=\"\\n      void main() {\\n        \"+o+\" resRC = getOutputCoords();\\n        setOutput(getA(\"+a+\"));\\n      }\\n    \"};var ys=function(t,e){this.variableNames=[\"A\"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];this.outputShape=n,this.rank=n.length;var o=wa(this.rank),a=function(t){var e=t.length;if(e>6)throw Error(\"Transpose for rank \"+e+\" is not yet supported\");for(var n=[\"resRC.x\",\"resRC.y\",\"resRC.z\",\"resRC.w\",\"resRC.u\",\"resRC.v\"],r=new Array(e),o=0;o<t.length;o++)r[t[o]]=n[o];return r.join()}(e);this.userCode=\"\\n    void main() {\\n      \"+o+\" resRC = getOutputCoords();\\n      setOutput(getA(\"+a+\"));\\n    }\\n    \"};var xs=function(t,e){this.variableNames=[\"A\"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(\"Packed transpose for rank \"+this.rank+\" is not yet supported.\");var o=wa(this.rank),a=ia(\"rc\",this.rank),i=new Array(this.rank);for(r=0;r<e.length;r++)i[e[r]]=a[r];var s=\"vec2(\"+i.slice(-2).join()+\")\",u=\"++\"+a[this.rank-1]+\" < \"+n[this.rank-1],c=\"getChannel(getA(\"+i.join()+\"), \"+s+\")\";this.userCode=\"\\n    void main() {\\n      \"+o+\" rc = getOutputCoords();\\n      vec4 result = vec4(0.);\\n      result[0] = \"+c+\";\\n      if(\"+u+\") {\\n        result[1] = \"+c+\";\\n      }\\n      --\"+a[this.rank-1]+\";\\n      if(++\"+a[this.rank-2]+\" < \"+n[this.rank-2]+\") {\\n        result[2] = \"+c+\";\\n        if(\"+u+\") {\\n          result[3] = \"+c+\";\\n        }\\n      }\\n      setOutput(result);\\n    }\\n    \"},bs=1.7580993408473768,ws=1.0507009873554805,Cs=function(t,e){this.variableNames=[\"A\"],this.outputShape=t,this.userCode=\"\\n      float unaryOperation(float x) {\\n        \"+e+\"\\n      }\\n\\n      void main() {\\n        float x = getAAtOutCoords();\\n        float y = unaryOperation(x);\\n\\n        setOutput(y);\\n      }\\n    \"},Es=\"if (isnan(x)) return x;\",Rs=\"return x;\",Is=\"return abs(x);\",ks=Es+\"\\n  return (x < 0.0) ? 0.0 : x;\\n\",Ss=Es+\"\\n  return (x < 0.0) ? 0.0 : min(6.0, x);\\n\",As=\"return (x >= 0.0) ? x : (exp(x) - 1.0);\",Ds=\"\\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\\n  // see: https://arxiv.org/abs/1706.02515\\n  float scaleAlpha = \"+bs+\";\\n  float scale = \"+ws+\";\\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\\n\";var Ts=\"return -x;\",Ns=\"return ceil(x);\",Fs=\"return floor(x);\",_s=\"return exp(x);\",Os=\"return exp(x) - 1.0;\",Ms=Es+\"\\n  return sin(x);\\n\",Bs=Es+\"\\n  return cos(x);\\n\",Ps=Es+\"\\n  if (abs(x) > 1.) {\\n    return NAN;\\n  }\\n  return asin(x);\\n\",Ls=Es+\"\\n  if (abs(x) > 1.) {\\n    return NAN;\\n  }\\n  return acos(x);\\n\",Ws=Es+\"\\n  return atan(x);\\n\",Us=Es+\"return log(x + sqrt(x * x + 1.0));\",Vs=Es+\"\\n  if (x < 1.0) return NAN;\\n  return log(x + sqrt(x * x - 1.0));\",zs=Es+\"\\n  if ((x < -1.0) || (x > 1.0)) return NAN;\\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;\",Gs=\"return x;\",Hs=\"return x;\",qs=\"\\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\\n  bvec4 isNaN = isnan(x);\\n\\n  result.r = isNaN.r ? x.r : result.r;\\n  result.g = isNaN.g ? x.g : result.g;\\n  result.b = isNaN.b ? x.b : result.b;\\n  result.a = isNaN.a ? x.a : result.a;\\n\\n  return result;\\n\",Ks=\"\\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\\n  bvec4 isNaN = isnan(x);\\n\\n  result.r = isNaN.r ? x.r : result.r;\\n  result.g = isNaN.g ? x.g : result.g;\\n  result.b = isNaN.b ? x.b : result.b;\\n  result.a = isNaN.a ? x.a : result.a;\\n\\n  return result;\\n\",js=\"\\n  vec4 result;\\n\\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\\n\\n  return result;\\n\",Xs=function(t,e){this.variableNames=[\"A\"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode=\"\\n      vec4 unaryOperation(vec4 x) {\\n        \"+e+\"\\n      }\\n\\n      void main() {\\n        vec4 x = getAAtOutCoords();\\n        vec4 y = unaryOperation(x);\\n\\n        setOutput(y);\\n      }\\n    \"},Ys=function(t){this.variableNames=[\"A\"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t;var e=t.length,n=sa(\"rc\",e),r=wa(e),o=function(t,e){if(1===t)return\"rc\";for(var n=\"\",r=0;r<t;r++)n+=e[r],r<t-1&&(n+=\",\");return n}(e,n),a=n.slice(-2),i=e<=1?\"rc\":\"vec2(\"+a.join(\",\")+\")\";this.userCode=\"\\n      void main() {\\n        \"+r+\" rc = getOutputCoords();\\n        vec4 packedInput = getA(\"+o+\");\\n\\n        setOutput(getChannel(packedInput, \"+i+\"));\\n      }\\n    \"},$s={};function Qs(t,e){if(void 0===e&&(e=!1),\"linear\"===t)return e?Hs:Rs;if(\"relu\"===t)return e?qs:ks;if(\"elu\"===t)return e?js:As;if(\"relu6\"===t)return e?Ks:Ss;if(\"prelu\"===t)return e?Pa:Ma;throw new Error(\"Activation \"+t+\" has not been implemented for the WebGL backend.\")}var Js=600;var Zs=function(t){function o(e){var n,r=t.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!i().getBool(\"HAS_WEBGL\"))throw new Error(\"WebGL is not supported on this device\");if(null==e){var o=jt(i().getNumber(\"WEBGL_VERSION\"));r.binaryCache=(n=i().getNumber(\"WEBGL_VERSION\"))in $s?$s[n]:($s[n]={},$s[n]),r.gpgpu=new Bi(o),r.canvas=o.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=e,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=e.gl.canvas;return r.textureManager=new ps(r.gpgpu),r.numMBBeforeWarning=null==i().global.screen?1024:i().global.screen.height*i().global.screen.width*window.devicePixelRatio*Js/1024/1024,r.texData=new xo(r,Lt),r}return e(o,t),o.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},o.prototype.write=function(t,e,n){if(i().getBool(\"DEBUG\")&&this.checkNumericalProblems(t),\"complex64\"===n&&null!=t)throw new Error(\"Cannot write to a complex64 dtype. Please use tf.complex(real, imag).\");var r={};return this.texData.set(r,{shape:e,dtype:n,values:t,usage:zt.UPLOAD}),r},o.prototype.move=function(t,e,n,r){if(i().getBool(\"DEBUG\")&&this.checkNumericalProblems(e),\"complex64\"===r)throw new Error(\"Cannot write to a complex64 dtype. Please use tf.complex(real, imag).\");this.texData.set(t,{shape:n,dtype:r,values:e,usage:zt.UPLOAD})},o.prototype.readSync=function(t){var e=this.texData.get(t),n=e.values,r=e.dtype,o=e.complexTensors,a=e.slice,i=e.shape,s=e.isPacked;if(null!=a){var u=void 0;u=s?new Xs(i,Gs):new Cs(i,Gs);var c=this.runWebGLProgram(u,[{dataId:t,shape:i,dtype:r}],r),l=this.readSync(c.dataId);return this.disposeData(c.dataId),l}if(null!=n)return this.convertAndCacheOnCPU(t);if(\"string\"===r)return n;var h,f,d=null!=this.activeTimers;(d&&(h=et()),\"complex64\"===r)?f=Vo(o.real.dataSync(),o.imag.dataSync()):f=this.getValuesFromTexture(t);return d&&(this.downloadWaitMs+=et()-h),this.convertAndCacheOnCPU(t,f)},o.prototype.read=function(t){return n(this,void 0,void 0,(function(){var e,n,o,a,s,u,c,l,h,f,d,p,v,m,g,y,x,b,w,C,E,R;return r(this,(function(r){switch(r.label){case 0:if(this.pendingRead.has(t))return e=this.pendingRead.get(t),[2,new Promise((function(t){return e.push(t)}))];if(n=this.texData.get(t),o=n.values,a=n.shape,s=n.slice,u=n.dtype,c=n.complexTensors,l=n.isPacked,null!=s)return h=void 0,h=l?new Xs(a,Gs):new Cs(a,Gs),f=this.runWebGLProgram(h,[{dataId:t,shape:a,dtype:u}],u),d=this.read(f.dataId),this.disposeData(f.dataId),[2,d];if(null!=o)return[2,this.convertAndCacheOnCPU(t)];if(!i().getBool(\"WEBGL_DOWNLOAD_FLOAT_ENABLED\")&&2===i().getNumber(\"WEBGL_VERSION\"))throw new Error(\"tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.\");return p=null,\"complex64\"!==u&&i().get(\"WEBGL_BUFFER_SUPPORTED\")&&(v=this.decode(t),m=this.texData.get(v.dataId),p=(R=this.gpgpu).createBufferFromTexture.apply(R,[m.texture].concat(Yt(a)))),this.pendingRead.set(t,[]),\"complex64\"===u?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:r.sent(),r.label=2;case 2:return\"complex64\"!==u?[3,4]:[4,Promise.all([c.real.data(),c.imag.data()])];case 3:return y=r.sent(),x=y[0],b=y[1],g=Vo(x,b),[3,5];case 4:null==p?g=this.getValuesFromTexture(t):(w=k(a),g=this.gpgpu.downloadFloat32MatrixFromBuffer(p,w)),r.label=5;case 5:return null!=v&&this.disposeData(v.dataId),C=this.convertAndCacheOnCPU(t,g),E=this.pendingRead.get(t),this.pendingRead.delete(t),E.forEach((function(t){return t(C)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t),this.pendingDeletes--),[2,C]}}))}))},o.prototype.checkNumericalProblems=function(t){if(null!=t)for(var e=0;e<t.length;e++){var n=t[e];if(!ee(n)){if(i().getBool(\"WEBGL_RENDER_FLOAT32_CAPABLE\"))throw Error(\"The value \"+n+\" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'\");throw Error(\"The value \"+n+\" cannot be represented on this device.\")}}},o.prototype.getValuesFromTexture=function(t){var e,n=this.texData.get(t),r=n.shape,o=n.dtype,a=n.isPacked,s=k(r);if(i().getBool(\"WEBGL_DOWNLOAD_FLOAT_ENABLED\")){var u=this.decode(t),c=this.texData.get(u.dataId),l=(e=this.gpgpu).downloadMatrixFromPackedTexture.apply(e,[c.texture].concat(Yt(r))).subarray(0,s);return this.disposeData(u.dataId),l}var h=i().getBool(\"WEBGL_PACK\")&&!0===a,f=h?Te(r):r,d=h?new ci(f):new ui(f),p=this.runWebGLProgram(d,[{shape:f,dtype:o,dataId:t}],\"float32\"),v=this.texData.get(p.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture,v.texShape[0],v.texShape[1]).subarray(0,s);return this.disposeData(p.dataId),m},o.prototype.time=function(t){return n(this,void 0,void 0,(function(){var e,n,o,a,s,u,c;return r(this,(function(r){switch(r.label){case 0:return e=this.activeTimers,n=[],o=!1,null==this.programTimersStack?(this.programTimersStack=n,o=!0):this.activeTimers.push(n),this.activeTimers=n,t(),a=I(this.activeTimers.map((function(t){return t.query}))).filter((function(t){return null!=t})),s=I(this.activeTimers.map((function(t){return t.name}))).filter((function(t){return null!=t})),this.activeTimers=e,o&&(this.programTimersStack=null),u={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE\")>0?[4,Promise.all(a)]:[3,2];case 1:return c=r.sent(),u.kernelMs=w(c),u.getExtraProfileInfo=function(){return c.map((function(t,e){return{name:s[e],ms:t}})).map((function(t){return t.name+\": \"+t.ms})).join(\", \")},[3,3];case 2:u.kernelMs={error:\"WebGL query timers are not supported in this environment.\"},r.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,u]}}))}))},o.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},o.prototype.startTimer=function(){return i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE\")>0?this.gpgpu.beginQuery():{startMs:et(),endMs:null}},o.prototype.endTimer=function(t){return i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE\")>0?(this.gpgpu.endQuery(),t):(t.endMs=et(),t)},o.prototype.getQueryTime=function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(n){return i().getNumber(\"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE\")>0?[2,this.gpgpu.waitForQueryAndGetTime(t)]:[2,(e=t).endMs-e.startMs]}))}))},o.prototype.disposeData=function(t){if(!this.pendingDisposal.has(t)){if(this.pendingRead.has(t))return this.pendingDisposal.add(t),void this.pendingDeletes++;if(this.texData.has(t)){this.releaseGPUData(t);var e=this.texData.get(t).complexTensors;null!=e&&(e.real.dispose(),e.imag.dispose()),this.texData.delete(t)}}},o.prototype.releaseGPUData=function(t){var e=this.texData.get(t),n=e.texture,r=e.dtype,o=e.texShape,a=e.usage,i=e.isPacked,s=e.slice,u=s&&s.origDataId||t,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(o,r),this.textureManager.releaseTexture(n,o,a,i)));var l=this.texData.get(t);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null},o.prototype.getTexture=function(t){return this.uploadToGPU(t),this.texData.get(t).texture},o.prototype.getDataInfo=function(t){return this.texData.get(t)},o.prototype.getCPUBackend=function(){return i().getBool(\"WEBGL_CPU_FORWARD\")?(null==this.cpuBackend&&(this.cpuBackend=Lt.findBackend(\"cpu\")),this.cpuBackend):null},o.prototype.shouldExecuteOnCPU=function(t,e){var n=this;return void 0===e&&(e=128),null!=this.getCPUBackend()&&t.every((function(t){return null==n.texData.get(t.dataId).texture&&t.size<e}))},o.prototype.getGPGPUContext=function(){return this.gpgpu},o.prototype.complex=function(t,e){var n=this.makeOutput(t.shape,\"complex64\");return this.texData.get(n.dataId).complexTensors={real:Lt.keep(t.clone()),imag:Lt.keep(e.clone())},n},o.prototype.real=function(t){return this.texData.get(t.dataId).complexTensors.real.clone()},o.prototype.imag=function(t){return this.texData.get(t.dataId).complexTensors.imag.clone()},o.prototype.slice=function(t,e,n){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.slice(t,e,n);if(0===k(n))return Fn([],n,t.dtype);var r=this.texData.get(t.dataId).isPacked,o=io(t.shape,e,n);if(r||!o){var a=i().getBool(\"WEBGL_PACK_ARRAY_OPERATIONS\")?new fs(n):new ls(n),s=a.getCustomSetupFunc(e);return this.compileAndRun(a,[t],null,s)}return this.uploadToGPU(t.dataId),this.shallowSlice(t,e,n)},o.prototype.shallowSlice=function(t,e,n){var r=this.texData.get(t.dataId),o=this.makeOutput(n,t.dtype),a=this.texData.get(o.dataId);Object.assign(a,r),a.shape=n,a.dtype=t.dtype;var i=so(e,t.strides);r.slice&&(i+=r.slice.flatOffset),a.slice={flatOffset:i,origDataId:r.slice&&r.slice.origDataId||t.dataId};var s=this.dataRefCount.get(a.slice.origDataId)||1;return this.dataRefCount.set(a.slice.origDataId,s+1),o},o.prototype.stridedSlice=function(t,e,n,r){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.stridedSlice(t,e,n,r);var o=ro(e,n,r);if(o.some((function(t){return 0===t})))return Fn([],o);var a=new ds(e,r,o);return this.compileAndRun(a,[t])},o.prototype.reverse=function(t,e){var n=i().getBool(\"WEBGL_PACK_ARRAY_OPERATIONS\")?new is(t.shape,e):new as(t.shape,e);return this.compileAndRun(n,[t])},o.prototype.concat=function(t,e){if(\"complex64\"===t[0].dtype){var n=t.map((function(t){return Tn(t)})),r=t.map((function(t){return Nn(t)}));return Dn(this.concat(n,e),this.concat(r,e))}if(this.shouldExecuteOnCPU(t))return this.cpuBackend.concat(t,e);if(1===t.length)return t[0];if(t.length>i().getNumber(\"WEBGL_MAX_TEXTURES_IN_SHADER\")){var o=Math.floor(t.length/2),a=this.concat(t.slice(0,o),e),s=this.concat(t.slice(o),e);return this.concat([a,s],e)}if(i().getBool(\"WEBGL_PACK_ARRAY_OPERATIONS\")&&t[0].rank>1){var u=new Ga(t.map((function(t){return t.shape})),e);return this.compileAndRun(u,t)}var c=Sn(t.map((function(t){return t.shape})),e),l=t.map((function(t){return t.as2D(-1,k(t.shape.slice(e)))})),h=new za(l.map((function(t){return t.shape})));return this.compileAndRun(h,l).reshape(c)},o.prototype.neg=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.neg(t);if(i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\"))return this.packedUnaryOp(t,Ts,t.dtype);var e=new Cs(t.shape,Ts);return this.compileAndRun(e,[t])},o.prototype.batchMatMul=function(t,e,n,r){var o=n?t.shape[2]:t.shape[1],a=r?e.shape[1]:e.shape[2],i=n?t.shape[1]:t.shape[2],s=t.shape[0];if((1===o||1===a)&&i>1e3){n&&(t=t.transpose([0,2,1])),r&&(e=e.transpose([0,2,1]));var u=1===a?t:t.as3D(s,i,1),c=1===a?2:1,l=1===a?e.as3D(s,1,i):e;return this.multiply(u,l).sum(c,!0)}var h=Dt(t.dtype,e.dtype),f=new Hi(t.shape,[s,o,a],n,r);return this.compileAndRun(f,[t,e],h)},o.prototype.fusedBatchMatMul=function(t){var e=t.a,n=t.b,r=t.transposeA,o=t.transposeB,a=t.bias,i=t.activation,s=t.preluActivationWeights,u=r?e.shape[2]:e.shape[1],c=o?n.shape[1]:n.shape[2],l=e.shape[0],h=Dt(e.dtype,n.dtype),f=null!=a,d=null!=s,p=i?Qs(i,!0):null,v=new Hi(e.shape,[l,u,c],r,o,f,p,d),m=[e,n];return a&&m.push(a),s&&m.push(s),this.compileAndRun(v,m,h)},o.prototype.multiply=function(t,e){if(\"complex64\"===t.dtype){var n=this.texData.get(t.dataId),r=this.texData.get(e.dataId),o=new Na(Da,t.shape,e.shape),a=new Na(Ta,t.shape,e.shape),s=[this.makeComplexComponentTensorInfo(t,n.complexTensors.real),this.makeComplexComponentTensorInfo(t,n.complexTensors.imag),this.makeComplexComponentTensorInfo(e,r.complexTensors.real),this.makeComplexComponentTensorInfo(e,r.complexTensors.imag)],u=this.compileAndRun(o,s),c=this.compileAndRun(a,s),l=this.complex(u,c);return u.dispose(),c.dispose(),l}if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.multiply(t,e);if(i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\"))return this.packedBinaryOp(t,e,Oa,t.dtype);var h=new Ba(Oa,t.shape,e.shape);return this.compileAndRun(h,[t,e],t.dtype)},o.prototype.batchNormalization=function(t,e,n,r,o,a){var s=[t,e,n],u=null;null!=a&&(u=a.shape,s.push(a));var c=null;if(null!=o&&(c=o.shape,s.push(o)),i().getBool(\"WEBGL_PACK_NORMALIZATION\")){var l=new Aa(t.shape,e.shape,n.shape,u,c,r);return this.compileAndRun(l,s)}var h=new Sa(t.shape,e.shape,n.shape,u,c,r);return this.compileAndRun(h,s)},o.prototype.localResponseNormalization4D=function(t,e,n,r,o){var a=i().getBool(\"WEBGL_PACK_NORMALIZATION\")?new Vi(t.shape,e,n,r,o):new Wi(t.shape,e,n,r,o);return this.compileAndRun(a,[t])},o.prototype.LRNGrad=function(t,e,n,r,o,a,i){var s=new Ui(e.shape,r,o,a,i);return this.compileAndRun(s,[e,n,t])},o.prototype.tile=function(t,e){if(\"string\"===t.dtype){var n=this.readSync(t.dataId).map((function(t){return ot(t)}));return ta(dr(t.shape,t.dtype,n),e)}var r=new gs(t.shape,e);return this.compileAndRun(r,[t])},o.prototype.pad=function(t,e,n){var r=i().getBool(\"WEBGL_PACK_ARRAY_OPERATIONS\")?new Yi(t.shape,e,n):new Xi(t.shape,e,n);return this.compileAndRun(r,[t])},o.prototype.transpose=function(t,e){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.transpose(t,e);var n=i().getBool(\"WEBGL_PACK_ARRAY_OPERATIONS\")?new xs(t.shape,e):new ys(t.shape,e);return this.compileAndRun(n,[t])},o.prototype.gather=function(t,e,n){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.gather(t,e,n);var r=new mi(t.shape,e.size,n);return this.compileAndRun(r,[t,e])},o.prototype.batchToSpaceND=function(t,e,n){C(t.rank<=4,(function(){return\"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet\"}));var r=e.reduce((function(t,e){return t*e})),o=zr(t.shape,e,r),a=Gr(o.length,e.length),i=Hr(t.shape,e,r),s=qr(n,e.length),u=Kr(i,n,e.length);return t.reshape(o).transpose(a).reshape(i).slice(s,u)},o.prototype.spaceToBatchND=function(t,e,n){C(t.rank<=4,(function(){return\"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet\"}));var r=e.reduce((function(t,e){return t*e})),o=[[0,0]];o.push.apply(o,n);for(var a=1+e.length;a<t.shape.length;++a)o.push([0,0]);var i=t.pad(o),s=zr(i.shape,e,r,!1),u=Gr(s.length,e.length,!1),c=Hr(i.shape,e,r,!1);return i.reshape(s).transpose(u).reshape(c)},o.prototype.reduce=function(t,e,n){var r=t.shape[0],o=t.shape[1],a=$r(o),i=new Ji({windowSize:a,inSize:o,batchSize:r},e),s=this.compileAndRun(i,[t],n);return 1===s.shape[1]?s:this.reduce(s,e,n)},o.prototype.argReduce=function(t,e,n){void 0===n&&(n=null);var r=t.shape[0],o=t.shape[1];null!=n&&(r=n.shape[0],o=n.shape[1]);var a=$r(o),i=new aa({windowSize:a,inSize:o,batchSize:r},e,null==n),s=[t];null!=n&&s.push(n);var u=this.compileAndRun(i,s,\"int32\");return 1===u.shape[1]?u:this.argReduce(t,e,u)},o.prototype.argReducePacked=function(t,e,n){void 0===n&&(n=null);var r=null!=n?n.shape:t.shape,o=$r(r[r.length-1]),a=new Ra(r,o,e,null==n),i=null==n?[t]:[t,n],s=this.compileAndRun(a,i,\"int32\");return s.rank===t.rank?this.argReducePacked(t,e,s):s},o.prototype.sum=function(t,e){Cn(\"sum\",e,t.rank);var n=bn(t.shape,e),r=n[0],o=k(n[1]),a=t.as2D(-1,o),i=Tt(t.dtype);return this.reduce(a,\"sum\",i).reshape(r)},o.prototype.prod=function(t,e){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.prod(t,e);var n=bn(t.shape,e),r=n[0],o=k(n[1]),a=t.as2D(-1,o),i=Tt(t.dtype);return this.reduce(a,\"prod\",i).reshape(r)},o.prototype.unsortedSegmentSum=function(t,e,n){var r=0,o=En([r],t.rank),a=t;null!=o&&(a=t.transpose(o),r=In(1,t.rank)[0]);var i=function(t,e,n){for(var r=[],o=t.length,a=0;a<o;a++)a!==e?r.push(t[a]):r.push(n);return r}(a.shape,r,n),s=k([a.shape[r]]),u=a.as2D(-1,s),c=Tt(t.dtype),l=this.segOpCompute(u,\"unsortedSegmentSum\",e,c,n).reshape(i);return null!=o&&(l=l.transpose(Rn(o))),l},o.prototype.segOpCompute=function(t,e,n,r,o){var a=t.shape[0],i=t.shape[1],s=function(t,e){var n,r=!1;for(t<=Yr?(n=t,r=!0):n=Y(t,Math.floor(Math.sqrt(t)));!r;)n>e||n===t?r=!0:n=Y(t,n+1);return n}(i,o),u=new us({windowSize:s,inSize:i,batchSize:a,numSegments:o},e),c=this.compileAndRun(u,[t,n],r);return c.shape[1]===o?c:(n=Kn(0,o).tile([i/s]),this.segOpCompute(c,e,n,r,o))},o.prototype.argMinMaxReduce=function(t,e,n){var r=[e];if(Cn(\"arg\"+n.charAt(0).toUpperCase()+n.slice(1),r,t.rank),!i().getBool(\"WEBGL_PACK_REDUCE\")||t.rank<=2){var o=bn(t.shape,r),a=o[0],s=k(o[1]),u=t.as2D(-1,s);return this.argReduce(u,n).reshape(a)}return this.argReducePacked(t,n)},o.prototype.argMin=function(t,e){return this.argMinMaxReduce(t,e,\"min\")},o.prototype.argMax=function(t,e){return this.argMinMaxReduce(t,e,\"max\")},o.prototype.cumsum=function(t,e,n,r){if(e!==t.rank-1)throw new Error(\"WebGL cumsum shader expects an inner-most axis=\"+(t.rank-1)+\" but got axis=\"+e);var o=new ni(t.shape,n,r);return this.compileAndRun(o,[t])},o.prototype.equal=function(t,e){if(i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\"))return this.packedBinaryOp(t,e,\"\\n  return vec4(equal(a, b));\\n\",\"bool\");var n=new Ba(\"return float(a == b);\",t.shape,e.shape);return this.compileAndRun(n,[t,e],\"bool\")},o.prototype.notEqual=function(t,e){if(i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\"))return this.packedBinaryOp(t,e,\"\\n  return vec4(notEqual(a, b));\\n\",\"bool\");var n=new Ba(\"return float(a != b);\",t.shape,e.shape);return this.compileAndRun(n,[t,e],\"bool\")},o.prototype.less=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.less(t,e);if(i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\"))return this.packedBinaryOp(t,e,\"\\n  return vec4(lessThan(a, b));\\n\",\"bool\");var n=new Ba(\"return float(a < b);\",t.shape,e.shape);return this.compileAndRun(n,[t,e],\"bool\")},o.prototype.lessEqual=function(t,e){if(i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\"))return this.packedBinaryOp(t,e,\"\\n  return vec4(lessThanEqual(a, b));\\n\",\"bool\");var n=new Ba(\"return float(a <= b);\",t.shape,e.shape);return this.compileAndRun(n,[t,e],\"bool\")},o.prototype.greater=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.greater(t,e);if(i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\"))return this.packedBinaryOp(t,e,\"\\n  return vec4(greaterThan(a, b));\\n\",\"bool\");var n=new Ba(\"return float(a > b);\",t.shape,e.shape);return this.compileAndRun(n,[t,e],\"bool\")},o.prototype.greaterEqual=function(t,e){if(i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\"))return this.packedBinaryOp(t,e,\"\\n  return vec4(greaterThanEqual(a, b));\\n\",\"bool\");var n=new Ba(\"return float(a >= b);\",t.shape,e.shape);return this.compileAndRun(n,[t,e],\"bool\")},o.prototype.logicalNot=function(t){var e=new Cs(t.shape,\"return float(!(x >= 1.0));\");return this.compileAndRun(e,[t])},o.prototype.logicalAnd=function(t,e){if(i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\"))return this.packedBinaryOp(t,e,\"\\n  return vec4(\\n    vec4(greaterThanEqual(a, vec4(1.0))) *\\n    vec4(greaterThanEqual(b, vec4(1.0))));\\n\",\"bool\");var n=new Ba(\"return float(a >= 1.0 && b >= 1.0);\",t.shape,e.shape);return this.compileAndRun(n,[t,e],\"bool\")},o.prototype.logicalOr=function(t,e){if(i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\"))return this.packedBinaryOp(t,e,\"\\n  return min(\\n    vec4(greaterThanEqual(a, vec4(1.0))) +\\n    vec4(greaterThanEqual(b, vec4(1.0))),\\n    vec4(1.0));\\n\",\"bool\");var n=new Ba(\"return float(a >= 1.0 || b >= 1.0);\",t.shape,e.shape);return this.compileAndRun(n,[t,e],\"bool\")},o.prototype.select=function(t,e,n){var r=new cs(t.rank,e.shape,e.rank);return this.compileAndRun(r,[t,e,n],Dt(e.dtype,n.dtype))},o.prototype.where=function(t){dn(\"tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead\");var e=t.dataSync();return na(t.shape,e)},o.prototype.topk=function(t,e,n){return ea(t.dataSync(),t.shape,t.dtype,e)},o.prototype.min=function(t,e){Cn(\"min\",e,t.rank);var n=bn(t.shape,e),r=n[0],o=k(n[1]),a=t.as2D(-1,o);return this.reduce(a,\"min\",a.dtype).reshape(r)},o.prototype.minimum=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.minimum(t,e);var n=i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")?new La(\"\\n  vec4 result = vec4(min(a, b));\\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\\n  \\n  result.r = isNaN.r > 0. ? NAN : result.r;\\n  result.g = isNaN.g > 0. ? NAN : result.g;\\n  result.b = isNaN.b > 0. ? NAN : result.b;\\n  result.a = isNaN.a > 0. ? NAN : result.a;\\n\\n  return result;\\n\",t.shape,e.shape):new Ba(\"\\n  if (isnan(a)) return a;\\n  if (isnan(b)) return b;\\n\\n  return min(a, b);\\n\",t.shape,e.shape);return this.compileAndRun(n,[t,e])},o.prototype.mod=function(t,e){var n=i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")?new La(\"\\n  vec4 result = mod(a, b);\\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\\n  \\n  result.r = isNaN.r > 0. ? NAN : result.r;\\n  result.g = isNaN.g > 0. ? NAN : result.g;\\n  result.b = isNaN.b > 0. ? NAN : result.b;\\n  result.a = isNaN.a > 0. ? NAN : result.a;\\n\\n  return result;\\n\",t.shape,e.shape):new Ba(\"if (b == 0.0) return NAN;\\n  return mod(a, b);\",t.shape,e.shape);return this.compileAndRun(n,[t,e])},o.prototype.max=function(t,e){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.max(t,e);Cn(\"max\",e,t.rank);var n=bn(t.shape,e),r=n[0],o=k(n[1]),a=t.as2D(-1,o);return this.reduce(a,\"max\",a.dtype).reshape(r)},o.prototype.maximum=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.maximum(t,e);var n=i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")?new La(\"\\n  vec4 result = vec4(max(a, b));\\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\\n  \\n  result.r = isNaN.r > 0. ? NAN : result.r;\\n  result.g = isNaN.g > 0. ? NAN : result.g;\\n  result.b = isNaN.b > 0. ? NAN : result.b;\\n  result.a = isNaN.a > 0. ? NAN : result.a;\\n\\n  return result;\\n\",t.shape,e.shape):new Ba(\"\\n  if (isnan(a)) return a;\\n  if (isnan(b)) return b;\\n\\n  return max(a, b);\\n\",t.shape,e.shape);return this.compileAndRun(n,[t,e])},o.prototype.all=function(t,e){Cn(\"all\",e,t.rank);var n=bn(t.shape,e),r=n[0],o=k(n[1]),a=t.as2D(-1,o);return this.reduce(a,\"all\",a.dtype).reshape(r)},o.prototype.any=function(t,e){Cn(\"any\",e,t.rank);var n=bn(t.shape,e),r=n[0],o=k(n[1]),a=t.as2D(-1,o);return this.reduce(a,\"any\",a.dtype).reshape(r)},o.prototype.realDivide=function(t,e){if(i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")){return this.packedBinaryOp(t,e,\"\\n  // vec4 one = vec4(equal(a, b));\\n  // return one + (vec4(1.0) - one) * a / b;\\n  vec4 result = a / b;\\n  if(a.x == b.x) {\\n    result.x = 1.;\\n  }\\n  if(a.y == b.y) {\\n    result.y = 1.;\\n  }\\n  if(a.z == b.z) {\\n    result.z = 1.;\\n  }\\n  if(a.w == b.w) {\\n    result.w = 1.;\\n  }\\n\\n  return result;\\n\",\"float32\",!0)}var n=new Ba(\"\\nif (a == b) {\\n  return 1.0;\\n};\\nreturn a / b;\",t.shape,e.shape);return this.compileAndRun(n,[t,e],\"float32\")},o.prototype.floorDiv=function(t,e){if(i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\"))return this.packedBinaryOp(t,e,\"\\n  ivec4 ia = round(a);\\n  ivec4 ib = round(b);\\n  bvec4 cond = notEqual(ib, ivec4(0));\\n  ivec4 result = ivec4(0);\\n  vec4 s = sign(a) * sign(b);\\n\\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\\n  if (cond[0]) {\\n    result[0] = idiv(ia[0], ib[0], s[0]);\\n  }\\n  if (cond[1]) {\\n    result[1] = idiv(ia[1], ib[1], s[1]);\\n  }\\n  if (cond[2]) {\\n    result[2] = idiv(ia[2], ib[2], s[2]);\\n  }\\n  if (cond[3]) {\\n    result[3] = idiv(ia[3], ib[3], s[3]);\\n  }\\n  return vec4(result);\\n\",\"int32\");var n=new Ba(\"\\n  float s = sign(a) * sign(b);\\n  int ia = round(a);\\n  int ib = round(b);\\n  if (ib != 0) {\\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\\n    return float(idiv(ia, ib, s));\\n  } else {\\n    return NAN;\\n  }\\n\",t.shape,e.shape);return this.compileAndRun(n,[t,e],\"int32\")},o.prototype.add=function(t,e){if(\"complex64\"===t.dtype&&\"complex64\"===e.dtype)return this.complexSeparableBinaryOp(t,e,Fa);if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.add(t,e);var n=Dt(t.dtype,e.dtype);if(i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\"))return this.packedBinaryOp(t,e,Fa,n);var r=new Ba(Fa,t.shape,e.shape);return this.compileAndRun(r,[t,e],n)},o.prototype.packedUnaryOp=function(t,e,n){var r=new Xs(t.shape,e);return this.compileAndRun(r,[t],n)},o.prototype.packedBinaryOp=function(t,e,n,r,o){void 0===o&&(o=!1);var a=new La(n,t.shape,e.shape,o);return this.compileAndRun(a,[t,e],r)},o.prototype.complexSeparableBinaryOp=function(t,e,n){var r=this,o=this.texData.get(t.dataId),a=this.texData.get(e.dataId),i=[[o.complexTensors.real,a.complexTensors.real],[o.complexTensors.imag,a.complexTensors.imag]].map((function(o){var a=o[0],i=o[1],s=r.makeComplexComponentTensorInfo(t,a),u=r.makeComplexComponentTensorInfo(e,i),c=new Ba(n,t.shape,e.shape);return r.compileAndRun(c,[s,u],Dt(a.dtype,i.dtype))})),s=i[0],u=i[1],c=this.complex(s,u);return s.dispose(),u.dispose(),c},o.prototype.makeComplexComponentTensorInfo=function(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}},o.prototype.addN=function(t){if(1===t.length)return t[0];if(t.length>i().get(\"WEBGL_MAX_TEXTURES_IN_SHADER\")){var e=Math.floor(t.length/2),n=this.addN(t.slice(0,e)),r=this.addN(t.slice(e));return this.addN([n,r])}var o=t.map((function(t){return t.dtype})).reduce((function(t,e){return Dt(t,e)})),a=t.map((function(t){return t.shape})),s=i().getBool(\"WEBGL_PACK\")?new oa(t[0].shape,a):new ra(t[0].shape,a);return this.compileAndRun(s,t,o)},o.prototype.subtract=function(t,e){if(\"complex64\"===t.dtype&&\"complex64\"===e.dtype)return this.complexSeparableBinaryOp(t,e,_a);if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.subtract(t,e);var n=Dt(t.dtype,e.dtype);if(i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\"))return this.packedBinaryOp(t,e,_a,t.dtype);var r=new Ba(_a,t.shape,e.shape);return this.compileAndRun(r,[t,e],n)},o.prototype.pow=function(t,e){var n=i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")?new La(\"\\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\\n  vec4 result = multiplier * pow(abs(a), b);\\n\\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\\n  bvec4 isExpZero = equal(b, vec4(0.0));\\n  result.r = isExpZero.r ? 1.0 : result.r;\\n  result.g = isExpZero.g ? 1.0 : result.g;\\n  result.b = isExpZero.b ? 1.0 : result.b;\\n  result.a = isExpZero.a ? 1.0 : result.a;\\n\\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\\n  \\n  result.r = isNaN.r > 0. ? NAN : result.r;\\n  result.g = isNaN.g > 0. ? NAN : result.g;\\n  result.b = isNaN.b > 0. ? NAN : result.b;\\n  result.a = isNaN.a > 0. ? NAN : result.a;\\n\\n  return result;\\n\",t.shape,e.shape):new Ba(\"\\nif(a < 0.0 && floor(b) < b){\\n  return NAN;\\n}\\nif (b == 0.0) {\\n  return 1.0;\\n}\\nreturn (round(mod(b, 2.0)) != 1) ?\\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\\n\",t.shape,e.shape),r=Dt(t.dtype,e.dtype);return this.compileAndRun(n,[t,e],r)},o.prototype.ceil=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.ceil(t);if(i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\"))return this.packedUnaryOp(t,Ns,t.dtype);var e=new Cs(t.shape,Ns);return this.compileAndRun(e,[t])},o.prototype.floor=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.floor(t);if(i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\"))return this.packedUnaryOp(t,Fs,t.dtype);var e=new Cs(t.shape,Fs);return this.compileAndRun(e,[t])},o.prototype.sign=function(t){var e=new Cs(t.shape,\"\\n  if (isnan(x)) { return 0.0; }\\n  return sign(x);\\n\");return this.compileAndRun(e,[t])},o.prototype.isNaN=function(t){var e=new Cs(t.shape,\"return float(isnan(x));\");return this.compileAndRun(e,[t],\"bool\")},o.prototype.isInf=function(t){var e=new Cs(t.shape,\"return float(isinf(x));\");return this.compileAndRun(e,[t],\"bool\")},o.prototype.isFinite=function(t){var e=new Cs(t.shape,\"return float(!isnan(x) && !isinf(x));\");return this.compileAndRun(e,[t],\"bool\")},o.prototype.round=function(t){var e=new Cs(t.shape,\"\\n  // OpenGL ES does not support round function.\\n  // The algorithm is based on banker's rounding.\\n  float base = floor(x);\\n  if ((x - base) < 0.5) {\\n    return floor(x);\\n  } else if ((x - base) > 0.5) {\\n    return ceil(x);\\n  } else {\\n    if (mod(base, 2.0) == 0.0) {\\n      return base;\\n    } else {\\n      return base + 1.0;\\n    }\\n  }\\n\");return this.compileAndRun(e,[t])},o.prototype.exp=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.exp(t);if(i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\"))return this.packedUnaryOp(t,_s,t.dtype);var e=new Cs(t.shape,_s);return this.compileAndRun(e,[t])},o.prototype.expm1=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.expm1(t);if(i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\"))return this.packedUnaryOp(t,Os,t.dtype);var e=new Cs(t.shape,Os);return this.compileAndRun(e,[t])},o.prototype.softmax=function(t,e){var n=O([e],t.shape),r=this.max(t,n),o=wn(r.shape,n),a=this.subtract(t,r.reshape(o)),i=this.exp(a),s=this.sum(i,n).reshape(o);return this.realDivide(i,s)},o.prototype.log=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.log(t);if(i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\"))return this.packedUnaryOp(t,\"\\n  vec4 result = log(x);\\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\\n\\n  return result;\\n\",t.dtype);var e=new Cs(t.shape,\"if (x < 0.0) return NAN;\\n  return log(x);\");return this.compileAndRun(e,[t])},o.prototype.log1p=function(t){var e=new Cs(t.shape,\"return log(1.0 + x);\");return this.compileAndRun(e,[t])},o.prototype.sqrt=function(t){var e=new Cs(t.shape,\"return sqrt(x);\");return this.compileAndRun(e,[t])},o.prototype.rsqrt=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.rsqrt(t);var e=new Cs(t.shape,\"return inversesqrt(x);\");return this.compileAndRun(e,[t])},o.prototype.reciprocal=function(t){var e=new Cs(t.shape,\"return 1.0 / x;\");return this.compileAndRun(e,[t])},o.prototype.relu=function(t){var e;return e=i().getBool(\"WEBGL_PACK\")?new Xs(t.shape,qs):new Cs(t.shape,ks),this.compileAndRun(e,[t])},o.prototype.relu6=function(t){var e;return e=i().getBool(\"WEBGL_PACK\")?new Xs(t.shape,Ks):new Cs(t.shape,Ss),this.compileAndRun(e,[t])},o.prototype.prelu=function(t,e){var n=i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")?new La(Pa,t.shape,e.shape):new Ba(Ma,t.shape,e.shape);return this.compileAndRun(n,[t,e])},o.prototype.elu=function(t){if(i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\"))return this.packedUnaryOp(t,js,t.dtype);var e=new Cs(t.shape,As);return this.compileAndRun(e,[t])},o.prototype.eluDer=function(t,e){var n=i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")?new La(\"\\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\\n\",t.shape,e.shape):new Ba(\"return (b >= 1.0) ? a : a * (b + 1.0);\",t.shape,e.shape);return this.compileAndRun(n,[t,e])},o.prototype.selu=function(t){var e=new Cs(t.shape,Ds);return this.compileAndRun(e,[t])},o.prototype.int=function(t){var e=new Cs(t.shape,\"return float(int(x));\");return this.compileAndRun(e,[t],\"int32\")},o.prototype.clip=function(t,e,n){var r,o=(r=i().getBool(\"WEBGL_PACK_CLIP\")?new Ua(t.shape):new Wa(t.shape)).getCustomSetupFunc(e,n);return this.compileAndRun(r,[t],null,o)},o.prototype.abs=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.abs(t);if(i().getBool(\"WEBGL_PACK_UNARY_OPERATIONS\"))return this.packedUnaryOp(t,Is,t.dtype);var e=new Cs(t.shape,Is);return this.compileAndRun(e,[t])},o.prototype.complexAbs=function(t){var e=this.texData.get(t.dataId),n=new Va(t.shape),r=[this.makeComplexComponentTensorInfo(t,e.complexTensors.real),this.makeComplexComponentTensorInfo(t,e.complexTensors.imag)];return this.compileAndRun(n,r)},o.prototype.sigmoid=function(t){var e=new Cs(t.shape,\"return 1.0 / (1.0 + exp(-1.0 * x));\");return this.compileAndRun(e,[t])},o.prototype.softplus=function(t){var e=new Cs(t.shape,\"\\n  float epsilon = 1.1920928955078125e-7;\\n  float threshold = log(epsilon) + 2.0;\\n\\n  bool too_large = x > -threshold;\\n  bool too_small = x < threshold;\\n\\n  float result;\\n  float exp_x = exp(x);\\n\\n  if (too_large){\\n    result = x;\\n  }\\n  else if (too_small){\\n    result = exp_x;\\n  }\\n  else{\\n    result = log(exp_x + 1.0);\\n  }\\n  return result;\\n\");return this.compileAndRun(e,[t])},o.prototype.sin=function(t){var e=new Cs(t.shape,Ms);return this.compileAndRun(e,[t])},o.prototype.cos=function(t){var e=new Cs(t.shape,Bs);return this.compileAndRun(e,[t])},o.prototype.tan=function(t){var e=new Cs(t.shape,\"return tan(x);\");return this.compileAndRun(e,[t])},o.prototype.asin=function(t){var e=new Cs(t.shape,Ps);return this.compileAndRun(e,[t])},o.prototype.acos=function(t){var e=new Cs(t.shape,Ls);return this.compileAndRun(e,[t])},o.prototype.atan=function(t){var e=new Cs(t.shape,Ws);return this.compileAndRun(e,[t])},o.prototype.atan2=function(t,e){var n=i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")?new La(\"\\n  vec4 result = atan(a, b);\\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\\n  \\n  result.r = isNaN.r > 0. ? NAN : result.r;\\n  result.g = isNaN.g > 0. ? NAN : result.g;\\n  result.b = isNaN.b > 0. ? NAN : result.b;\\n  result.a = isNaN.a > 0. ? NAN : result.a;\\n\\n  return result;\\n\",t.shape,e.shape):new Ba(\"\\n  if (isnan(a)) return a;\\n  if (isnan(b)) return b;\\n\\n  return atan(a, b);\\n\",t.shape,e.shape);return this.compileAndRun(n,[t,e])},o.prototype.sinh=function(t){var e=new Cs(t.shape,\"\\n  float e2x = exp(x);\\n  return (e2x - 1.0 / e2x) / 2.0;\\n\");return this.compileAndRun(e,[t])},o.prototype.cosh=function(t){var e=new Cs(t.shape,\"\\n  float e2x = exp(-x);\\n  return (e2x + 1.0 / e2x) / 2.0;\\n\");return this.compileAndRun(e,[t])},o.prototype.tanh=function(t){var e=new Cs(t.shape,\"\\n  float e2x = exp(-2.0 * abs(x));\\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\\n\");return this.compileAndRun(e,[t])},o.prototype.asinh=function(t){var e=new Cs(t.shape,Us);return this.compileAndRun(e,[t])},o.prototype.acosh=function(t){var e=new Cs(t.shape,Vs);return this.compileAndRun(e,[t])},o.prototype.atanh=function(t){var e=new Cs(t.shape,zs);return this.compileAndRun(e,[t])},o.prototype.erf=function(t){var e=new Cs(t.shape,'\\n  // Error function is calculated approximately with elementary function.\\n  // See \"Handbook of Mathematical Functions with Formulas,\\n  // Graphs, and Mathematical Tables\", Abramowitz and Stegun.\\n  float p = 0.3275911;\\n  float a1 = 0.254829592;\\n  float a2 = -0.284496736;\\n  float a3 = 1.421413741;\\n  float a4 = -1.453152027;\\n  float a5 = 1.061405429;\\n\\n  float sign = sign(x);\\n  x = abs(x);\\n  float t = 1.0 / (1.0 + p * x);\\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\\n');return this.compileAndRun(e,[t])},o.prototype.step=function(t,e){var n=new Cs(t.shape,function(t){return void 0===t&&(t=0),Es+\"\\n    return x > 0.0 ? 1.0 : float(\"+t+\");\\n  \"}(e));return this.compileAndRun(n,[t])},o.prototype.conv2dByMatMul=function(t,e,n,r,o,a){var s=t.shape,u=this.texData.get(t.dataId),c=n.inChannels,l=s[0]*s[1]*s[2],h=n.outChannels,f=\"channelsLast\"===n.dataFormat,d=(1===l||1===h)&&c>1e3,p=s[2]%2!=0&&!!u.isPacked;if(d||!i().getBool(\"WEBGL_LAZILY_UNPACK\")||!i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")||!p){var v=f?s[0]*s[1]*s[2]:s[0]*s[2]*s[3],m=this.reshape(t,[1,v,n.inChannels]),g=this.reshape(e,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:m,b:g,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:a}),n.outShape)}var y=f?s[0]*s[1]*(s[2]+1):s[0]*s[2]*(s[3]+1),x={dataId:t.dataId,shape:[1,y,n.inChannels],dtype:t.dtype},b=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,C(_e(u.shape,x.shape),(function(){return\"packed reshape \"+u.shape+\" to \"+x.shape+\" isn't free\"}));var w=this.reshape(e,[1,n.inChannels,n.outChannels]),E=this.fusedBatchMatMul({a:x,b:w,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:a}),R=this.texData.get(E.dataId);return C(R.isPacked,(function(){return\"batchMatMul result is expected to be packed\"})),u.shape=b,R.shape=n.outShape,Lt.makeTensorFromDataId(E.dataId,n.outShape,E.dtype)},o.prototype.conv2dWithIm2Row=function(t,e,n,r,o,a){var i=n.filterWidth,s=n.filterHeight,u=n.inChannels,c=n.outWidth,l=n.outHeight,h=\"channelsLast\"===n.dataFormat,f=i*s*u,d=l*c,p=[f,d],v=t.squeeze([0]),m=e.reshape([1,f,-1]),g=new Li(p,v.shape,n),y=this.compileAndRun(g,[v]).reshape([1,p[0],p[1]]),x=null!=r,b=null!=a,w=o?Qs(o,!0):null,C=new Hi(y.shape,[1,d,n.outChannels],!0,!1,x,w,b),E=[y,m];r&&E.push(r),b&&E.push(a);var R=this.compileAndRun(C,E);return h?R.reshape([1,l,c,n.outChannels]):R.reshape([1,n.outChannels,l,c])},o.prototype.fusedConv2d=function(t){var e=t.input,n=t.filter,r=t.convInfo,o=t.bias,a=t.activation,s=t.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&(\"SAME\"===r.padInfo.type||\"VALID\"===r.padInfo.type))return this.conv2dByMatMul(e,n,r,o,a,s);if(i().getBool(\"WEBGL_CONV_IM2COL\")&&1===e.shape[0])return this.conv2dWithIm2Row(e,n,r,o,a,s);var u=null!=o,c=null!=s,l=a?Qs(a,!1):null,h=new Qa(r,u,l,c),f=[e,n];return o&&f.push(o),s&&f.push(s),this.compileAndRun(h,f)},o.prototype.conv2d=function(t,e,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&(\"SAME\"===n.padInfo.type||\"VALID\"===n.padInfo.type))return this.conv2dByMatMul(t,e,n);if(i().getBool(\"WEBGL_CONV_IM2COL\")&&1===t.shape[0])return this.conv2dWithIm2Row(t,e,n);var r=new Qa(n);return this.compileAndRun(r,[t,e])},o.prototype.conv2dDerInput=function(t,e,n){var r=new Ka(n);return this.compileAndRun(r,[t,e])},o.prototype.conv2dDerFilter=function(t,e,n){var r=new qa(n);return this.compileAndRun(r,[t,e])},o.prototype.fusedDepthwiseConv2D=function(t){var e,n=t.input,r=t.filter,o=t.convInfo,a=t.bias,s=t.activation,u=t.preluActivationWeights,c=i().getBool(\"WEBGL_PACK_DEPTHWISECONV\")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1,l=s?Qs(s,c):null,h=[n,r],f=null!=a,d=null!=u;return f&&h.push(a),d&&h.push(u),c?(e=new ti(o,f,l,d),this.compileAndRun(e,h)):(e=new Za(o,f,l,d),this.compileAndRun(e,h))},o.prototype.depthwiseConv2D=function(t,e,n){var r;return i().getBool(\"WEBGL_PACK_DEPTHWISECONV\")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new ti(n),this.compileAndRun(r,[t,e])):(r=new Za(n),this.compileAndRun(r,[t,e]))},o.prototype.depthwiseConv2DDerInput=function(t,e,n){var r=new $a(n);return this.compileAndRun(r,[t,e])},o.prototype.depthwiseConv2DDerFilter=function(t,e,n){var r=new Ya(n);return this.compileAndRun(r,[t,e])},o.prototype.conv3d=function(t,e,n){var r=new Ja(n);return this.compileAndRun(r,[t,e])},o.prototype.conv3dDerInput=function(t,e,n){var r=new Xa(n);return this.compileAndRun(r,[t,e])},o.prototype.conv3dDerFilter=function(t,e,n){var r=new ja(n);return this.compileAndRun(r,[t,e])},o.prototype.maxPool=function(t,e){var n=new $i(e,\"max\",!1);return this.compileAndRun(n,[t])},o.prototype.avgPool=function(t,e){var n=new $i(e,\"avg\",!1);return this.compileAndRun(n,[t],\"float32\")},o.prototype.maxPoolBackprop=function(t,e,n,r){var o=new $i(r,\"max\",!0),a=this.compileAndRun(o,[e]),i=new zi(r),s=this.compileAndRun(i,[t,a],e.dtype);return a.dispose(),s},o.prototype.avgPoolBackprop=function(t,e,n){var r=new Ia(n);return this.compileAndRun(r,[t],e.dtype)},o.prototype.cast=function(t,e){return Po(t,e,this)},o.prototype.unstack=function(t,e){for(var n=t.shape[e],r=new Array(t.rank-1),o=0,a=0;a<t.rank;a++)a!==e&&(r[o++]=t.shape[a]);var i=new Array(t.rank).fill(0),s=t.shape.slice();s[e]=1;var u=new Array(n);for(a=0;a<u.length;a++)i[e]=a,u[a]=this.slice(t,i,s).reshape(r);return u},o.prototype.avgPool3d=function(t,e){var n=new Qi(e,\"avg\",!1);return this.compileAndRun(n,[t],\"float32\")},o.prototype.avgPool3dBackprop=function(t,e,n){var r=new ka(n);return this.compileAndRun(r,[t],e.dtype)},o.prototype.maxPool3d=function(t,e){var n=new Qi(e,\"max\",!1);return this.compileAndRun(n,[t],\"float32\")},o.prototype.maxPool3dBackprop=function(t,e,n,r){var o=new Qi(r,\"max\",!0),a=this.compileAndRun(o,[e]),i=new Gi(r),s=this.compileAndRun(i,[t,a],e.dtype);return a.dispose(),s},o.prototype.reshape=function(t,e){var n=this.texData.get(t.dataId);if(n.isPacked&&!_e(t.shape,e)&&(null===n.texture||!_e(n.shape,e))){var r=this.packedReshape(t,e);return Lt.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return Lo(t,e)},o.prototype.resizeBilinear=function(t,e,n,r){var o=i().getBool(\"WEBGL_PACK_IMAGE_OPERATIONS\")?new ns(t.shape,e,n,r):new es(t.shape,e,n,r);return this.compileAndRun(o,[t],\"float32\")},o.prototype.resizeBilinearBackprop=function(t,e,n){var r=new ts(t,e,n);return this.compileAndRun(r,[t])},o.prototype.resizeNearestNeighbor=function(t,e,n,r){var o=new os(t.shape,e,n,r);return this.compileAndRun(o,[t])},o.prototype.resizeNearestNeighborBackprop=function(t,e,n){var r=new rs(t,e,n);return this.compileAndRun(r,[t])},o.prototype.multinomial=function(t,e,n,r){var o=e?t:go(t),a=o.shape[0],i=o.shape[1],s=new qi(a,i,n),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[o],\"int32\",u)},o.prototype.oneHot=function(t,e,n,r){var o=new Ki(t.size,e,n,r);return this.compileAndRun(o,[t])},o.prototype.diag=function(t){var e=new si(t.size);return this.compileAndRun(e,[t])},o.prototype.nonMaxSuppression=function(t,e,n,r,o){return dn(\"tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead\"),jo(t.dataSync(),e.dataSync(),n,r,o)},o.prototype.cropAndResize=function(t,e,n,r,o,a){var i=new ei(t.shape,e.shape,r,o,a);return this.compileAndRun(i,[t,e,n],\"float32\")},o.prototype.depthToSpace=function(t,e,n){C(e>1,(function(){return\"blockSize should be > 1 for depthToSpace, but was: \"+e}));var r=t.shape[0],o=\"NHWC\"===n?t.shape[1]:t.shape[2],a=\"NHWC\"===n?t.shape[2]:t.shape[3],i=\"NHWC\"===n?t.shape[3]:t.shape[1],s=o*e,u=a*e,c=i/(e*e),l=new ii(\"NHWC\"===n?[r,s,u,c]:[r,c,s,u],e,n);return this.compileAndRun(l,[t])},o.prototype.split=function(t,e,n){return Zo(t,e,n)},o.prototype.scatterND=function(t,e,n){var r=Zr(0,t,n),o=r.sliceRank,a=r.numUpdates,i=r.sliceSize,s=r.strides,u=r.outputSize,c=[u/i,i],l=t.reshape([a,o]),h=e.reshape([a,i]);if(0===u)return Lo(Fn([]),n);var f=On(0),d=new ss(a,o,l.rank,h.rank,s,c);return this.compileAndRun(d,[h,l,f]).reshape(n)},o.prototype.sparseToDense=function(t,e,n,r){var o=Zr(0,t,n),a=o.sliceRank,i=o.numUpdates,s=o.strides,u=o.outputSize,c=new ss(i,a,t.rank,e.rank,s,[u,1],!1);return this.compileAndRun(c,[e,t,r]).reshape(n)},o.prototype.fft=function(t){return this.fftImpl(t,!1)},o.prototype.ifft=function(t){return this.fftImpl(t,!0)},o.prototype.fftImpl=function(t,e){var n=this.texData.get(t.dataId),r=new pi(fi,t.shape,e),o=new pi(di,t.shape,e),a=[this.makeComplexComponentTensorInfo(t,n.complexTensors.real),this.makeComplexComponentTensorInfo(t,n.complexTensors.imag)],i=this.compileAndRun(r,a),s=this.compileAndRun(o,a),u=this.complex(i,s).as2D(t.shape[0],t.shape[1]);return i.dispose(),s.dispose(),u},o.prototype.gatherND=function(t,e){var n=e.shape,r=n[n.length-1],o=jr(t,e),a=o[0],i=o[1],s=o[2],u=o[3],c=e.reshape([i,r]),l=t.reshape([t.size/s,s]),h=new gi(r,u,[i,s]);return this.compileAndRun(h,[l,c]).reshape(a)},o.prototype.fill=function(t,e,n){if(\"string\"===(n=n||j(e))){var r=P(n,k(t));return r.fill(e),Lt.makeTensor(r,t,n,this)}var o=new vi(t,e),a=o.getCustomSetupFunc(e);return this.compileAndRun(o,[],n,a)},o.prototype.onesLike=function(t){if(\"string\"===t.dtype)throw new Error(\"onesLike is not supported under string dtype\");return this.fill(t.shape,1,t.dtype)},o.prototype.zerosLike=function(t){return this.fill(t.shape,\"string\"===t.dtype?\"\":0,t.dtype)},o.prototype.linspace=function(t,e,n){return Wo(t,e,n)},o.prototype.makeTensorInfo=function(t,e){var n=this.write(null,t,e);return this.texData.get(n).usage=null,{dataId:n,shape:t,dtype:e}},o.prototype.makeOutput=function(t,e){var n=this.makeTensorInfo(t,e).dataId;return Lt.makeTensorFromDataId(n,t,e,this)},o.prototype.unpackTensor=function(t){var e=new Ys(t.shape);return this.runWebGLProgram(e,[t],t.dtype)},o.prototype.packTensor=function(t){var e=new ji(t.shape);return this.runWebGLProgram(e,[t],t.dtype,null,!0)},o.prototype.packedReshape=function(t,e){var n=[Ae(t.shape)].concat(De(t.shape)),r={dtype:t.dtype,shape:n,dataId:t.dataId},o=[Ae(e)].concat(De(e)),a=new Zi(o,n),i=this.runWebGLProgram(a,[r],t.dtype,null,!0);return{dataId:i.dataId,shape:e,dtype:i.dtype}},o.prototype.decode=function(t){var e,n=this.texData.get(t),r=n.isPacked,o=n.shape,a=n.dtype,i=Te(o);e=r?new ai(i):new oi(i);return{dtype:a,shape:o,dataId:this.runWebGLProgram(e,[{shape:i,dtype:a,dataId:t}],a,null,!0).dataId}},o.prototype.runWebGLProgram=function(t,e,n,r,o){var a=this;void 0===o&&(o=!1);var s=this.makeTensorInfo(t.outputShape,n),u=this.texData.get(s.dataId);if(t.packedOutput&&(u.isPacked=!0),t.outPackingScheme===Vt.DENSE){var c=Yt(t.outputShape);u.texShape=c.map((function(t){return 2*t}))}if(null!=t.outTexUsage&&(u.usage=t.outTexUsage),0===k(s.shape))return u.values=B(s.dtype,0),s;var l=[],h=e.map((function(e){if(\"complex64\"===e.dtype)throw new Error(\"GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.\");var n=a.texData.get(e.dataId);if(null==n.texture){if(!t.packedInputs&&k(e.shape)<=i().getNumber(\"WEBGL_SIZE_UPLOAD_UNIFORM\"))return{shape:e.shape,texData:null,isUniform:!0,uniformValues:n.values};t.packedInputs&&(n.isPacked=!0,n.shape=e.shape)}else if(!!n.isPacked!=!!t.packedInputs)e=n.isPacked?a.unpackTensor(e):a.packTensor(e),l.push(e),n=a.texData.get(e.dataId);else if(n.isPacked&&!_e(n.shape,e.shape)){var r=e,o=e.shape;e.shape=n.shape,e=a.packedReshape(e,o),l.push(e),n=a.texData.get(e.dataId),r.shape=o}return a.uploadToGPU(e.dataId),{shape:e.shape,texData:n,isUniform:!1}}));this.uploadToGPU(s.dataId);var f,d={shape:s.shape,texData:u,isUniform:!1},p=function(t,e,n){var r=\"\";e.concat(n).forEach((function(t){var e=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0,n=t.isUniform?\"uniform\":t.texData.texShape;r+=t.shape+\"_\"+n+\"_\"+e}));var o=t.userCode,a=t.constructor.name;return a+=\"_\"+r+\"_\"+o}(t,h,d),v=this.getAndSaveBinary(p,(function(){return function(t,e,n,r){var o=e.userCode,a=n.map((function(t,n){var r={logicalShape:t.shape,texShape:t.isUniform?null:t.texData.texShape,isUniform:t.isUniform,isPacked:!t.isUniform&&t.texData.isPacked,flatOffset:null};return null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0&&(r.flatOffset=t.texData.slice.flatOffset),{name:e.variableNames[n],shapeInfo:r}})),s=a.map((function(t){return t.shapeInfo})),u={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},c=fa(a,u,o,e.packedInputs),l=t.createProgram(c),h=null,f=t.getUniformLocation(l,\"NAN\",!1);1===i().getNumber(\"WEBGL_VERSION\")&&(h=t.getUniformLocation(l,\"INFINITY\",!1));for(var d={},p=0;p<e.variableNames.length;p++){var v=e.variableNames[p];d[v]=t.getUniformLocation(l,v,!1),d[\"offset\"+v]=t.getUniformLocation(l,\"offset\"+v,!1)}return{program:e,source:c,webGLProgram:l,uniformLocations:d,inShapeInfos:s,outShapeInfo:u,infLoc:h,nanLoc:f}}(a.gpgpu,t,h,d)})),m=null!=this.activeTimers;if(m&&(f=this.startTimer()),function(t,e,n,r,o){Pi(e.inShapeInfos,n),Pi([e.outShapeInfo],[r]);var a=r.texData.texture,s=r.texData.texShape;r.texData.isPacked?t.setOutputPackedMatrixTexture(a,s[0],s[1]):t.setOutputMatrixTexture(a,s[0],s[1]),t.setProgram(e.webGLProgram),1===i().getNumber(\"WEBGL_VERSION\")&&null!==e.infLoc&&t.gl.uniform1f(e.infLoc,1/0),null!==e.nanLoc&&t.gl.uniform1f(e.nanLoc,NaN),n.forEach((function(n,r){var o=e.program.variableNames[r],a=e.uniformLocations[o],i=e.uniformLocations[\"offset\"+o];if(null!=a)if(n.isUniform)if(k(n.shape)<2)t.gl.uniform1f(a,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),t.gl.uniform1fv(a,s)}else null!=n.texData.slice&&null!=i&&t.gl.uniform1i(i,n.texData.slice.flatOffset),t.setInputMatrixTexture(n.texData.texture,a,r)})),null!=o&&o(t,e.webGLProgram),t.executeProgram()}(this.gpgpu,v,h,d,r),l.forEach((function(t){return a.disposeData(t.dataId)})),m&&(f=this.endTimer(f),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(f)})),!i().getBool(\"WEBGL_LAZILY_UNPACK\")&&u.isPacked&&!1===o){var g=this.unpackTensor(s);return this.disposeData(s.dataId),g}return s},o.prototype.compileAndRun=function(t,e,n,r,o){void 0===o&&(o=!1),n=n||e[0].dtype;var a=this.runWebGLProgram(t,e,n,r,o);return Lt.makeTensorFromDataId(a.dataId,a.shape,a.dtype)},o.prototype.getAndSaveBinary=function(t,e){return t in this.binaryCache||(this.binaryCache[t]=e()),this.binaryCache[t]},o.prototype.getTextureManager=function(){return this.textureManager},o.prototype.dispose=function(){var t=this;if(!this.disposed){if(!i().getBool(\"IS_TEST\"))Object.keys(this.binaryCache).forEach((function(e){t.gpgpu.deleteProgram(t.binaryCache[e].webGLProgram),delete t.binaryCache[e]}));this.textureManager.dispose(),null!=this.canvas&&\"undefined\"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}},o.prototype.floatPrecision=function(){var t=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Ze((function(){if(!i().get(\"WEBGL_RENDER_FLOAT32_ENABLED\")){var e=i().getBool(\"DEBUG\");i().set(\"DEBUG\",!1);var n=t.abs(On(1e-8)).dataSync()[0];if(i().set(\"DEBUG\",e),n>0)return 32}return 16}))),this.floatPrecisionValue},o.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},o.prototype.uploadToGPU=function(t){var e,n=this.texData.get(t),r=n.shape,o=n.dtype,a=n.values,i=n.texture,s=n.usage,u=n.isPacked;if(null==i){var c,l=null!=this.activeTimers;l&&(c=et());var h=n.texShape;if(null==h&&(h=Ne(r,u),n.texShape=h),null!=a){var f=Te(r),d=void 0,p=h[1],v=h[0],m=a instanceof Uint8Array;u?(p=(e=$t(h[0],h[1]))[0],v=e[1],d=new hi(f,[v,p],m)):d=new li(f,[v,p],m);var g=this.makeTensorInfo([v,p],o);this.texData.get(g.dataId).usage=m?zt.PIXELS:zt.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(g.dataId),p,v,a);var y=this.runWebGLProgram(d,[g],o,null,!0),x=this.texData.get(y.dataId);n.texture=x.texture,n.texShape=x.texShape,n.isPacked=x.isPacked,n.usage=x.usage,this.disposeData(g.dataId),this.texData.delete(y.dataId),n.values=null,l&&(this.uploadWaitMs+=et()-c)}else{var b=this.acquireTexture(h,s,o,u);n.texture=b}}},o.prototype.convertAndCacheOnCPU=function(t,e){var n=this.texData.get(t),r=n.dtype;return this.releaseGPUData(t),null!=e&&(n.values=function(t,e){if(\"float32\"===e||\"complex64\"===e)return t;if(\"int32\"===e||\"bool\"===e){for(var n=\"int32\"===e?new Int32Array(t.length):new Uint8Array(t.length),r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}throw new Error(\"Unknown dtype \"+e)}(e,r)),n.values},o.prototype.acquireTexture=function(t,e,n,r){if(this.numBytesInGPU+=this.computeBytes(t,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(\"High memory usage in GPU: \"+o+\" MB, most likely due to a memory leak\")}return this.textureManager.acquireTexture(t,e,r)},o.prototype.computeBytes=function(t,e){return t[0]*t[1]*z(e)},o}(bo);Wt()&&Lt.registerBackend(\"webgl\",(function(){return new Zs}),2);var tu=An({square_:function(t){var e=mn(t,\"x\",\"square\"),n=[e];return Lt.runKernelFunc((function(t,n){return n([e]),t.square(e)}),{x:e},null,\"Square\",{},n,[])}}),eu=\"SquaredDifference\";var nu=An({squaredDifference_:function(t,e){var n,r=mn(t,\"a\",\"squaredDifference\"),o=mn(e,\"b\",\"squaredDifference\");n=Nt(r,o),r=n[0],o=n[1],Ro(r.shape,o.shape);var a={a:r,b:o},i=[r,o];return Lt.runKernelFunc((function(t,e){var n=t.squaredDifference(r,o);return e([r,o]),n}),a,(function(t,e){var n=e[0],r=e[1],o=On(2);return{a:function(){return t.mul(n.sub(r).mul(o))},b:function(){return t.mul(r.sub(n).mul(o))}}}),eu,{},i,[])}});var ru=An({abs_:function(t){var e=mn(t,\"x\",\"abs\");return\"complex64\"===e.dtype?Lt.runKernelFunc((function(t){return t.complexAbs(e)}),{$x:e}):Lt.runKernelFunc((function(t,n){var r=t.abs(e);return n([e]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return t.mul(n.toFloat().step(-1))}}}),\"Abs\")}}),ou=An({acos_:function(t){var e=mn(t,\"x\",\"acos\");return Lt.runKernelFunc((function(t,n){var r=t.acos(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.divStrict(On(1).sub(n.toFloat().square()).sqrt()).neg()}}}))}}),au=An({acosh_:function(t){var e=mn(t,\"x\",\"acosh\");return Lt.runKernelFunc((function(t,n){var r=t.acosh(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.divStrict(n.toFloat().square().sub(1).sqrt())}}}))}}),iu=An({asin_:function(t){var e=mn(t,\"x\",\"asin\");return Lt.runKernelFunc((function(t,n){var r=t.asin(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.divStrict(On(1).sub(n.toFloat().square()).sqrt())}}}))}}),su=An({asinh_:function(t){var e=mn(t,\"x\",\"asinh\");return Lt.runKernelFunc((function(t,n){var r=t.asinh(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.divStrict(On(1).add(n.toFloat().square()).sqrt())}}}))}}),uu=An({atan_:function(t){var e=mn(t,\"x\",\"atan\");return Lt.runKernelFunc((function(t,n){var r=t.atan(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.div(n.toFloat().square().add(1))}}}))}}),cu=An({atanh_:function(t){var e=mn(t,\"x\",\"atanh\");return Lt.runKernelFunc((function(t,n){var r=t.atanh(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.div(On(1).sub(n.toFloat().square()))}}}))}}),lu=An({ceil_:function(t){var e=mn(t,\"x\",\"ceil\");return Lt.runKernelFunc((function(t){return t.ceil(e)}),{$x:e},(function(t){return{$x:function(){return Xn(t)}}}))}}),hu=An({clipByValue_:function(t,e,n){var r=mn(t,\"x\",\"clipByValue\");C(e<=n,(function(){return\"Error in clip: min (\"+e+\") must be less than or equal to max (\"+n+\").\"}));var o=[r],a={min:e,max:n};return Lt.runKernelFunc((function(t,o){var a=t.clip(r,e,n);return o([r]),a}),{x:r},(function(t,r){var o=r[0];return{x:function(){return t.where(o.greaterEqual(e).logicalAnd(o.lessEqual(n)),Xn(t))}}}),\"ClipByValue\",a,o)}}),fu=An({cos_:function(t){var e=mn(t,\"x\",\"cos\"),n=[e];return Lt.runKernelFunc((function(t,n){var r=t.cos(e);return n([e]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return n.toFloat().sin().neg().mul(t)}}}),\"Cos\",{},n)}}),du=An({cosh_:function(t){var e=mn(t,\"x\",\"cosh\");return Lt.runKernelFunc((function(t,n){var r=t.cosh(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return n.toFloat().sinh().mulStrict(t)}}}))}}),pu=An({erf_:function(t){var e=mn(t,\"x\",\"erf\");return C(\"int32\"===e.dtype||\"float32\"===e.dtype,(function(){return\"Input dtype must be `int32` or `float32`.\"})),\"int32\"===e.dtype&&(e=e.toFloat()),Lt.runKernelFunc((function(t,n){var r=t.erf(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),vu=An({exp_:function(t){var e=mn(t,\"x\",\"exp\");return Lt.runKernelFunc((function(t,n){var r=t.exp(e);return n([r]),r}),{x:e},(function(t,e){return{x:function(){return t.mulStrict(e[0])}}}),\"Exp\",{},[],[!0])}}),mu=An({expm1_:function(t){var e=mn(t,\"x\",\"expm1\");return Lt.runKernelFunc((function(t,n){var r=t.expm1(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.mul(n.exp())}}}))}}),gu=An({floor_:function(t){var e=mn(t,\"x\",\"floor\");return Lt.runKernelFunc((function(t){return t.floor(e)}),{$x:e},(function(t){return{$x:function(){return Xn(t)}}}))}}),yu=An({log_:function(t){var e=mn(t,\"x\",\"log\"),n=[e];return Lt.runKernelFunc((function(t,n){var r=t.log(e);return n([e]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return t.div(n.toFloat())}}}),\"Log\",{},n)}}),xu=An({log1p_:function(t){var e=mn(t,\"x\",\"log1p\");return Lt.runKernelFunc((function(t,n){var r=t.log1p(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.div(n.add(1))}}}))}}),bu=An({logSigmoid_:function(t){var e=mn(t,\"x\",\"logSigmoid\");return Lt.runKernelFunc((function(t,n){var r=t.softplus(e.neg()).neg();return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.mul(n.neg().sigmoid())}}}))}}),wu=An({neg_:function(t){var e=mn(t,\"x\",\"neg\"),n=[e];return Lt.runKernelFunc((function(t){return t.neg(e)}),{x:e},(function(t){return{x:function(){return t.neg()}}}),\"Neg\",{},n)}}),Cu=An({reciprocal_:function(t){var e=mn(t,\"x\",\"reciprocal\");return Lt.runKernelFunc((function(t,n){var r=t.reciprocal(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.div(n.square().neg())}}}))}}),Eu=An({round_:function(t){var e=mn(t,\"x\",\"round\");return Lt.runKernelFunc((function(t){return t.round(e)}),{$x:e},(function(t){return{$x:function(){return Xn(t)}}}))}}),Ru=An({rsqrt_:function(t){var e=mn(t,\"x\",\"rsqrt\"),n=[e];return Lt.runKernelFunc((function(t,n){var r=t.rsqrt(e);return n([e]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return t.div(n.pow(1.5).mul(2)).neg()}}}),\"Rsqrt\",{},n)}}),Iu=An({sigmoid_:function(t){var e=mn(t,\"x\",\"sigmoid\");return Lt.runKernelFunc((function(t,n){var r=t.sigmoid(e);return n([r]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return t.mul(n.mul(On(1).sub(n)))}}}),\"Sigmoid\")}}),ku=An({sign_:function(t){var e=mn(t,\"x\",\"sign\");return Lt.runKernelFunc((function(t){return t.sign(e)}),{$x:e},(function(t){return{$x:function(){return Xn(t)}}}))}}),Su=An({isNaN_:function(t){var e=mn(t,\"x\",\"isNaN\");return Lt.runKernelFunc((function(t){return t.isNaN(e)}),{$x:e},(function(t){return{$x:function(){return Xn(t)}}}))}}),Au=An({isInf_:function(t){var e=mn(t,\"x\",\"isInf\");return Lt.runKernelFunc((function(t){return t.isInf(e)}),{$x:e},(function(t){return{$x:function(){return Xn(t)}}}))}}),Du=An({isFinite_:function(t){var e=mn(t,\"x\",\"isFinite\");return Lt.runKernelFunc((function(t){return t.isFinite(e)}),{$x:e},(function(t){return{$x:function(){return Xn(t)}}}))}}),Tu=An({sin_:function(t){var e=mn(t,\"x\",\"sin\"),n=[e];return Lt.runKernelFunc((function(t,n){var r=t.sin(e);return n([e]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return n.toFloat().cos().mul(t)}}}),\"Sin\",{},n)}}),Nu=An({sinh_:function(t){var e=mn(t,\"x\",\"sinh\");return Lt.runKernelFunc((function(t,n){var r=t.sinh(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return n.toFloat().cosh().mulStrict(t)}}}))}}),Fu=An({softplus_:function(t){var e=mn(t,\"x\",\"softplus\");return Lt.runKernelFunc((function(t,n){var r=t.softplus(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.mul(n.sigmoid())}}}))}}),_u=An({sqrt_:function(t){var e=mn(t,\"x\",\"sqrt\");return Lt.runKernelFunc((function(t,n){var r=t.sqrt(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.div(n.toFloat().sqrt().mul(2))}}}))}}),Ou=An({step_:function(t,e){void 0===e&&(e=0);var n=mn(t,\"x\",\"step\");return Lt.runKernelFunc((function(t){return t.step(n,e)}),{$x:n},(function(t){return{$x:function(){return Xn(t)}}}))}}),Mu=An({tan_:function(t){var e=mn(t,\"x\",\"tan\");return Lt.runKernelFunc((function(t,n){var r=t.tan(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return t.div(n.cos().square())}}}))}}),Bu=An({tanh_:function(t){var e=mn(t,\"x\",\"tanh\");return Lt.runKernelFunc((function(t,n){var r=t.tanh(e);return n([r]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return On(1).sub(n.square()).mulStrict(t)}}}),\"Tanh\",{},null,[!0])}});function Pu(t,e,n,r,o,a){var i,s,u=mn(t,\"x\",\"batchNorm\"),c=mn(e,\"mean\",\"batchNorm\"),l=mn(n,\"variance\",\"batchNorm\");return null!=o&&(i=mn(o,\"scale\",\"batchNorm\")),null!=r&&(s=mn(r,\"offset\",\"batchNorm\")),C(2===u.rank,(function(){return\"Error in batchNorm3D: x must be rank 3 but got rank \"+u.rank+\".\"})),C(2===c.rank||1===c.rank,(function(){return\"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank \"+c.rank+\".\"})),C(2===l.rank||1===l.rank,(function(){return\"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank \"+l.rank+\".\"})),null!=i&&C(2===i.rank||1===i.rank,(function(){return\"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank \"+i.rank+\".\"})),null!=s&&C(2===s.rank||1===s.rank,(function(){return\"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank \"+s.rank+\".\"})),Uu(u,c,l,s,i,a)}function Lu(t,e,n,r,o,a){var i,s,u=mn(t,\"x\",\"batchNorm\"),c=mn(e,\"mean\",\"batchNorm\"),l=mn(n,\"variance\",\"batchNorm\");return null!=o&&(i=mn(o,\"scale\",\"batchNorm\")),null!=r&&(s=mn(r,\"offset\",\"batchNorm\")),C(3===u.rank,(function(){return\"Error in batchNorm3D: x must be rank 3 but got rank \"+u.rank+\".\"})),C(3===c.rank||1===c.rank,(function(){return\"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank \"+c.rank+\".\"})),C(3===l.rank||1===l.rank,(function(){return\"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank \"+l.rank+\".\"})),null!=i&&C(3===i.rank||1===i.rank,(function(){return\"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank \"+i.rank+\".\"})),null!=s&&C(3===s.rank||1===s.rank,(function(){return\"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank \"+s.rank+\".\"})),Uu(u,c,l,s,i,a)}function Wu(t,e,n,r,o,a){var i,s,u=mn(t,\"x\",\"batchNorm\"),c=mn(e,\"mean\",\"batchNorm\"),l=mn(n,\"variance\",\"batchNorm\");return null!=o&&(i=mn(o,\"scale\",\"batchNorm\")),null!=r&&(s=mn(r,\"offset\",\"batchNorm\")),C(4===u.rank,(function(){return\"Error in batchNorm4D: x must be rank 4 but got rank \"+u.rank+\".\"})),C(4===c.rank||1===c.rank,(function(){return\"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank \"+c.rank+\".\"})),C(4===l.rank||1===l.rank,(function(){return\"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank \"+l.rank+\".\"})),null!=i&&C(4===i.rank||1===i.rank,(function(){return\"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank \"+i.rank+\".\"})),null!=s&&C(4===s.rank||1===s.rank,(function(){return\"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank \"+s.rank+\".\"})),Uu(u,c,l,s,i,a)}function Uu(t,e,n,r,o,a){null==a&&(a=.001);var i,s,u,c=mn(t,\"x\",\"batchNorm\"),l=mn(e,\"mean\",\"batchNorm\"),h=mn(n,\"variance\",\"batchNorm\");null!=o&&(i=mn(o,\"scale\",\"batchNorm\")),null!=r&&(s=mn(r,\"offset\",\"batchNorm\")),C(l.rank===h.rank,(function(){return\"Batch normalization gradient requires mean and variance to have equal ranks.\"})),C(null==s||l.rank===s.rank,(function(){return\"Batch normalization gradient requires mean and offset to have equal ranks.\"})),C(null==i||l.rank===i.rank,(function(){return\"Batch normalization gradient requires mean and scale to have equal ranks.\"})),u=0===c.rank||1===c.rank?c.as4D(1,1,1,c.size):2===c.rank?c.as4D(1,1,c.shape[0],c.shape[1]):3===c.rank?c.as4D(1,c.shape[0],c.shape[1],c.shape[2]):c;var f=[c,l,h,i];return Lt.runKernelFunc((function(t,e){var n=t.batchNormalization(u,Vu(l),Vu(h),a,Vu(i),Vu(s));return e([c,l,h,i]),n}),{x:c,mean:l,variance:h,scale:i,offset:s},(function(t,e){var n=e,r=n[0],o=n[1],i=n[2],s=n[3],c=null==s?On(1):s,l=Eo(o.shape,u.shape),h=[];if(1===o.rank){for(var f=0;f<u.shape.length-1;++f)h.push(u.shape[f]);h.push(1)}var d=r.sub(o),p=t.mul(c),v=Ru(i.add(On(a))),m=v.mul(v).mul(v).mul(On(-.5));return{x:function(){return 1===o.rank?t.mul(Lr(v.as4D(1,1,1,o.shape[0]),h)).mul(c).reshape(r.shape):t.mul(v).mul(c).reshape(r.shape)},mean:function(){var t=v.mul(On(-1)).mul(p);return 1===o.rank&&(t=t.sum(l)),t.reshape(o.shape)},variance:function(){var t=m.mul(d).mul(p);return 1===o.rank&&(t=t.sum(l)),t.reshape(o.shape)},scale:function(){var e=d.mul(v),n=t.mul(e);return 1===o.rank&&(n=n.sum(l)),n.reshape(o.shape)},offset:function(){var e=t;return 1===o.rank&&(e=e.sum(l)),e.reshape(o.shape)}}}),\"BatchNormalization\",{varianceEpsilon:a},f).reshape(c.shape)}function Vu(t){return null==t?null:0===t.rank?t.as1D():1===t.rank?t:2===t.rank?t.as4D(1,1,t.shape[0],t.shape[1]):3===t.rank?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t}function zu(){Xe(\"tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon\")}var Gu=An({batchNormalization2d_:function(t,e,n,r,o,a){return void 0===r&&(r=.001),zu(),Pu(t,e,n,a,o,r)}}),Hu=An({batchNormalization3d_:function(t,e,n,r,o,a){return void 0===r&&(r=.001),zu(),Lu(t,e,n,a,o,r)}}),qu=An({batchNormalization4d_:function(t,e,n,r,o,a){return void 0===r&&(r=.001),zu(),Wu(t,e,n,a,o,r)}}),Ku=An({batchNormalization_:function(t,e,n,r,o,a){return void 0===r&&(r=.001),zu(),Uu(t,e,n,a,o,r)}}),ju=An({batchNorm_:Uu}),Xu=An({batchNorm2d_:Pu}),Yu=An({batchNorm3d_:Lu}),$u=An({batchNorm4d_:Wu});var Qu=An({logicalAnd_:function(t,e){var n=mn(t,\"a\",\"logicalAnd\",\"bool\"),r=mn(e,\"b\",\"logicalAnd\",\"bool\");return Ro(n.shape,r.shape),Lt.runKernelFunc((function(t){return t.logicalAnd(n,r)}),{a:n,b:r},null,\"LogicalAnd\")}}),Ju=An({logicalNot_:function(t){var e=mn(t,\"x\",\"logicalNot\",\"bool\");return Lt.runKernelFunc((function(t){return t.logicalNot(e)}),{$x:e})}}),Zu=An({logicalOr_:function(t,e){var n=mn(t,\"a\",\"logicalOr\",\"bool\"),r=mn(e,\"b\",\"logicalOr\",\"bool\");return Ro(n.shape,r.shape),Lt.runKernelFunc((function(t){return t.logicalOr(n,r)}),{$a:n,$b:r})}}),tc=An({logicalXor_:function(t,e){var n=mn(t,\"a\",\"logicalXor\",\"bool\"),r=mn(e,\"b\",\"logicalXor\",\"bool\");return Ro(n.shape,r.shape),Zu(t,e).logicalAnd(Qu(t,e).logicalNot())}}),ec=An({where_:function(t,e,n){var r=mn(e,\"a\",\"where\"),o=mn(n,\"b\",\"where\"),a=mn(t,\"condition\",\"where\",\"bool\");return E(r.shape,o.shape,\"Error in where: \"),1===a.rank?C(a.shape[0]===r.shape[0],(function(){return\"The first dimension of `a` must match the size of `condition`.\"})):E(a.shape,o.shape,\"Error in where: \"),Lt.runKernelFunc((function(t,e){var n=t.select(a,r,o);return e([a]),n}),{$condition:a,$a:r,$b:o},(function(t,e){var n=e[0];return{$condition:function(){return Xn(n).toFloat()},$a:function(){return t.mul(n.cast(t.dtype))},$b:function(){return t.mul(n.logicalNot().cast(t.dtype))}}}))}}),nc=function(t){return n(this,void 0,void 0,(function(){var e,n,o;return r(this,(function(r){switch(r.label){case 0:return[4,(e=mn(t,\"condition\",\"whereAsync\",\"bool\")).data()];case 1:return n=r.sent(),o=na(e.shape,n),t!==e&&e.dispose(),[2,o]}}))}))};var rc=An({add_:function(t,e){var n,r=mn(t,\"a\",\"add\"),o=mn(e,\"b\",\"add\");n=Nt(r,o),r=n[0],o=n[1];var a=Ro(r.shape,o.shape);return Lt.runKernelFunc((function(t){return t.add(r,o)}),{a:r,b:o},(function(t){return{a:function(){var e=t,n=Eo(r.shape,a);return n.length>0&&(e=e.sum(n)),e.reshape(r.shape)},b:function(){var e=t,n=Eo(o.shape,a);return n.length>0&&(e=e.sum(n)),e.reshape(o.shape)}}}),\"Add\")}}),oc=An({addN_:function(t){C(Array.isArray(t),(function(){return\"The argument passed to tf.addN() must be a list of tensors\"})),C(t.length>=1,(function(){return\"Must pass at least one tensor to tf.addN(), but got \"+t.length}));var e=t.map((function(t,e){return mn(t,\"tensors\"+e,\"addN\")})),n=e[0];e.forEach((function(t){if(t.dtype!==n.dtype)throw new Error(\"All tensors passed to tf.addN() must have the same dtype\")})),e.forEach((function(t){if(!S(t.shape,n.shape))throw new Error(\"All tensors passed to tf.addN() must have the same shape\")}));var r=e;return Lt.runKernelFunc((function(t){return t.addN(e)}),r,(function(t){var n={};return e.forEach((function(e,r){n[r]=function(){return t.clone()}})),n}),\"AddN\")}}),ac=An({addStrict_:function(t,e){var n=mn(t,\"a\",\"addStrict\"),r=mn(e,\"b\",\"addStrict\");return E(n.shape,r.shape,\"Error in addStrict: \"),n.add(r)}}),ic=An({atan2_:function(t,e){var n,r=mn(t,\"a\",\"atan2\"),o=mn(e,\"b\",\"atan2\");n=Nt(r,o),r=n[0],o=n[1];var a=Ro(r.shape,o.shape);return Lt.runKernelFunc((function(t,e){var n=t.atan2(r,o);return e([r,o]),n}),{$a:r,$b:o},(function(t,e){var n=e[0],r=e[1];return{$a:function(){var e=rc(n.square(),r.square()),o=t.mul(r.div(e)),i=Eo(n.shape,a);return i.length>0&&(o=o.sum(i)),o.reshape(n.shape)},$b:function(){var e=rc(n.square(),r.square()),o=wu(t.mul(n.div(e))),i=Eo(r.shape,a);return i.length>0&&(o=o.sum(i)),o.reshape(r.shape)}}}))}}),sc=An({div_:function(t,e){var n,r=mn(t,\"a\",\"div\"),o=mn(e,\"b\",\"div\");if(n=Nt(r,o),r=n[0],o=n[1],\"int32\"===r.dtype&&\"int32\"===o.dtype)return lc(r,o);var a=Ro(r.shape,o.shape);return Lt.runKernelFunc((function(t,e){var n=t.realDivide(r,o);return e([r,o]),n}),{a:r,b:o},(function(t,e){var n=e[0],r=e[1];return{a:function(){var e=t.div(r.toFloat()),o=Eo(n.shape,a);return o.length>0?e.sum(o).reshape(n.shape):e},b:function(){var e=t.mul(n.toFloat()),o=Eo(r.shape,a);o.length>0&&(e=e.sum(o).reshape(r.shape));var i=r.square();return e.div(i.toFloat()).neg()}}}),\"Div\")}}),uc=An({divNoNan_:function(t,e){var n,r=mn(t,\"a\",\"div\"),o=mn(e,\"b\",\"div\");r=(n=Nt(r,o))[0],o=n[1];var a=sc(r,o),i=Xn(a),s=o.equal(i);return ec(s,i,a)}}),cc=An({divStrict_:function(t,e){var n=mn(t,\"a\",\"div\"),r=mn(e,\"b\",\"div\");return E(n.shape,r.shape,\"Error in divideStrict: \"),n.div(r)}}),lc=An({floorDiv_:function(t,e){var n,r=mn(t,\"a\",\"floorDiv\"),o=mn(e,\"b\",\"floorDiv\");n=Nt(r,o),r=n[0],o=n[1];var a=Ro(r.shape,o.shape);return Lt.runKernelFunc((function(t,e){var n=t.floorDiv(r,o);return e([r,o]),n}),{a:r,b:o},(function(t,e){var n=e[0],r=e[1];return{a:function(){var e=t.div(r.toFloat()),o=Eo(n.shape,a);return o.length>0?e.sum(o).reshape(n.shape):e},b:function(){var e=t.mul(n.toFloat()),o=Eo(r.shape,a);o.length>0&&(e=e.sum(o).reshape(r.shape));var i=r.square();return e.div(i.toFloat()).neg()}}}),\"FloorDiv\")}}),hc=An({maximum_:function(t,e){var n,r=mn(t,\"a\",\"maximum\"),o=mn(e,\"b\",\"maximum\");return n=Nt(r,o),r=n[0],o=n[1],\"bool\"===r.dtype&&(r=r.toInt(),o=o.toInt()),Ro(r.shape,o.shape),Lt.runKernelFunc((function(t,e){var n=t.maximum(r,o);return e([r,o]),n}),{a:r,b:o},(function(t,e){var n=e[0],r=e[1];return{a:function(){return t.mul(n.greaterEqual(r).toFloat())},b:function(){return t.mul(n.less(r).toFloat())}}}),\"Maximum\")}}),fc=An({maximumStrict_:function(t,e){var n=mn(t,\"a\",\"maximumStrict\"),r=mn(e,\"b\",\"maximumStrict\");return E(n.shape,r.shape,\"Error in maximumStrict: \"),n.maximum(r)}}),dc=An({minimum_:function(t,e){var n,r=mn(t,\"a\",\"minimum\"),o=mn(e,\"b\",\"minimum\");return n=Nt(r,o),r=n[0],o=n[1],\"bool\"===r.dtype&&(r=r.toInt(),o=o.toInt()),Ro(r.shape,o.shape),Lt.runKernelFunc((function(t,e){var n=t.minimum(r,o);return e([r,o]),n}),{a:r,b:o},(function(t,e){var n=e[0],r=e[1];return{a:function(){return t.mul(n.lessEqual(r).toFloat())},b:function(){return t.mul(n.greater(r).toFloat())}}}),\"Minimum\")}}),pc=An({minimumStrict_:function(t,e){var n=mn(t,\"a\",\"minimumStrict\"),r=mn(e,\"b\",\"minimumStrict\");return E(n.shape,r.shape,\"Error in minimumStrict: \"),n.minimum(r)}}),vc=An({mod_:function(t,e){var n,r=mn(t,\"a\",\"mod\"),o=mn(e,\"b\",\"mod\");n=Nt(r,o),r=n[0],o=n[1];var a=Ro(r.shape,o.shape);return Lt.runKernelFunc((function(t,e){var n=t.mod(r,o);return e([r,o]),n}),{$a:r,$b:o},(function(t,e){var n=e[0],r=e[1];return{$a:function(){var e=Eo(n.shape,a);return e.length>0?t.sum(e).reshape(n.shape):t},$b:function(){var e=t.mul(n.div(r).floor().neg()),o=Eo(r.shape,a);return o.length>0?e.sum(o).reshape(r.shape):e}}}))}}),mc=An({modStrict_:function(t,e){var n=mn(t,\"a\",\"modStrict\"),r=mn(e,\"b\",\"modStrict\");return E(n.shape,r.shape,\"Error in modStrict: \"),n.mod(r)}}),gc=An({mul_:function(t,e){var n,r=mn(t,\"a\",\"mul\"),o=mn(e,\"b\",\"mul\");n=Nt(r,o),r=n[0],o=n[1];var a=Ro(r.shape,o.shape);return Lt.runKernelFunc((function(t,e){var n=t.multiply(r,o);return e([r,o]),n}),{a:r,b:o},(function(t,e){var n=e[0],r=e[1];return{a:function(){var e=t.mul(r.toFloat()),o=Eo(n.shape,a);return o.length>0?e.sum(o).reshape(n.shape):e},b:function(){var e=t.mul(n.toFloat()),o=Eo(r.shape,a);return o.length>0?e.sum(o).reshape(r.shape):e}}}),\"Mul\")}}),yc=An({mulStrict_:function(t,e){var n=mn(t,\"a\",\"mul\"),r=mn(e,\"b\",\"mul\");return E(n.shape,r.shape,\"Error in multiplyStrict: \"),n.mul(r)}}),xc=An({pow_:function(t,e){var n,r=mn(t,\"base\",\"pow\"),o=mn(e,\"exp\",\"pow\");n=Nt(r,o),r=n[0],o=n[1];var a=Ro(r.shape,o.shape),i=[r,o];return Lt.runKernelFunc((function(t,e){var n=t.pow(r,o);return e([r,o,n]),n}),{a:r,b:o},(function(t,e){var n=e[0],r=e[1],o=e[2];return{a:function(){var e=r.toFloat(),o=t.mul(e.mul(n.pow(e.sub(On(1))))),i=Eo(n.shape,a);return i.length>0&&(o=o.sum(i)),o.reshape(n.shape)},b:function(){var e=n.greater(0),i=n.log().where(e,Xn(n)),s=t.mul(o.mul(i)),u=Eo(r.shape,a);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)}}}),\"Pow\",{},i,[!0])}}),bc=An({powStrict_:function(t,e){return E(t.shape,e.shape,\"Error in powStrict: \"),t.pow(e)}}),wc=An({squaredDifferenceStrict_:function(t,e){var n=mn(t,\"a\",\"squaredDifferenceStrict\"),r=mn(e,\"b\",\"squaredDifferenceStrict\");return E(n.shape,r.shape,\"Error in squaredDifferenceStrict: \"),n.squaredDifference(r)}}),Cc=An({sub_:function(t,e){var n,r=mn(t,\"a\",\"sub\"),o=mn(e,\"b\",\"sub\");n=Nt(r,o),r=n[0],o=n[1];var a=Ro(r.shape,o.shape);return Lt.runKernelFunc((function(t){return t.subtract(r,o)}),{a:r,b:o},(function(t){return{a:function(){var e=t,n=Eo(r.shape,a);return n.length>0&&(e=e.sum(n)),e.reshape(r.shape)},b:function(){var e=t,n=Eo(o.shape,a);return n.length>0&&(e=e.sum(n)),e.neg().reshape(o.shape)}}}),\"Sub\")}}),Ec=An({subStrict_:function(t,e){var n=mn(t,\"a\",\"subStrict\"),r=mn(e,\"b\",\"subStrict\");return E(n.shape,r.shape,\"Error in subStrict: \"),n.sub(r)}});var Rc=An({equal_:function(t,e){var n,r=mn(t,\"a\",\"equal\"),o=mn(e,\"b\",\"equal\");return n=Nt(r,o),r=n[0],o=n[1],Ro(r.shape,o.shape),Lt.runKernelFunc((function(t){return t.equal(r,o)}),{$a:r,$b:o})}}),Ic=An({equalStrict_:function(t,e){var n=mn(t,\"a\",\"equalStrict\"),r=mn(e,\"b\",\"equalStrict\");return E(n.shape,r.shape,\"Error in equalStrict: \"),n.equal(r)}}),kc=An({greater_:function(t,e){var n,r=mn(t,\"a\",\"greater\"),o=mn(e,\"b\",\"greater\");return n=Nt(r,o),r=n[0],o=n[1],Ro(r.shape,o.shape),Lt.runKernelFunc((function(t){return t.greater(r,o)}),{a:r,b:o},null,\"Greater\")}}),Sc=An({greaterEqual_:function(t,e){var n,r=mn(t,\"a\",\"greaterEqual\"),o=mn(e,\"b\",\"greaterEqual\");return n=Nt(r,o),r=n[0],o=n[1],Ro(r.shape,o.shape),Lt.runKernelFunc((function(t,e){var n=t.greaterEqual(r,o);return e([r,o]),n}),{a:r,b:o},(function(t,e){var n=e[0],r=e[1];return{a:function(){return Xn(n)},b:function(){return Xn(r)}}}),\"GreaterEqual\")}}),Ac=An({greaterEqualStrict_:function(t,e){var n=mn(t,\"a\",\"greaterEqualStrict\"),r=mn(e,\"b\",\"greaterEqualStrict\");return E(n.shape,r.shape,\"Error in greaterEqualStrict: \"),n.greaterEqual(r)}}),Dc=An({greaterStrict_:function(t,e){var n=mn(t,\"a\",\"greaterStrict\"),r=mn(e,\"b\",\"greaterStrict\");return E(n.shape,r.shape,\"Error in greaterStrict: \"),n.greater(r)}}),Tc=An({less_:function(t,e){var n,r=mn(t,\"a\",\"less\"),o=mn(e,\"b\",\"less\");return n=Nt(r,o),r=n[0],o=n[1],Ro(r.shape,o.shape),Lt.runKernelFunc((function(t){return t.less(r,o)}),{a:r,b:o},null,\"Less\")}}),Nc=An({lessEqual_:function(t,e){var n,r=mn(t,\"a\",\"lessEqual\"),o=mn(e,\"b\",\"lessEqual\");return n=Nt(r,o),r=n[0],o=n[1],Ro(r.shape,o.shape),Lt.runKernelFunc((function(t,e){var n=t.lessEqual(r,o);return e([r,o]),n}),{a:r,b:o},null,\"LessEqual\")}}),Fc=An({lessEqualStrict_:function(t,e){var n=mn(t,\"a\",\"lessEqualStrict\"),r=mn(e,\"b\",\"lessEqualStrict\");return E(n.shape,r.shape,\"Error in lessEqualStrict: \"),n.lessEqual(r)}}),_c=An({lessStrict_:function(t,e){var n=mn(t,\"a\",\"lessStrict\"),r=mn(e,\"b\",\"lessStrict\");return E(n.shape,r.shape,\"Error in lessStrict: \"),n.less(r)}}),Oc=An({notEqual_:function(t,e){var n,r=mn(t,\"a\",\"notEqual\"),o=mn(e,\"b\",\"notEqual\");return n=Nt(r,o),r=n[0],o=n[1],Ro(r.shape,o.shape),Lt.runKernelFunc((function(t){return t.notEqual(r,o)}),{a:r,b:o},null,\"NotEqual\")}}),Mc=An({notEqualStrict_:function(t,e){var n=mn(t,\"a\",\"notEqualStrict\"),r=mn(e,\"b\",\"notEqualStrict\");return E(n.shape,r.shape,\"Error in notEqualStrict: \"),n.notEqual(r)}});function Bc(t,e){for(var n=[],r=t;r<e;++r)n.push(r);return n}function Pc(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e.push(t[n][r]);return e}var Lc=An({gather_:function(t,e,n){void 0===n&&(n=0);var r=mn(t,\"x\",\"gather\"),o=mn(e,\"indices\",\"gather\",\"int32\");n=O(n,r.shape)[0];var a=function(t,e,n){for(var r=t.shape[n],o=[],a=1,i=1,s=0;s<n;s++)o.push(t.shape[s]),a*=t.shape[s];for(s=0;s<e.rank;s++)o.push(e.shape[s]);for(s=n+1;s<t.rank;s++)o.push(t.shape[s]),i*=t.shape[s];return{batchSize:a,sliceSize:i,dimSize:r,outputShape:o}}(r,o,n);return Lt.runKernelFunc((function(t,e){var a=t.gather(r,o.flatten(),n);return e([o]),a}),{x:r,indices:o},(function(t,e){var o=e[0];return{x:function(){var e=r.shape,a=o.size,i=e.slice(0,n),s=i.length,u=e.slice(n,e.length).slice(1),c=u.length,l=Bc(0,s),h=Bc(s+1,s+1+c),f=Pc([i,[a],u]),d=t.reshape(f),p=o.reshape([a]),v=Pc([[s],l,h]),m=d.transpose(v),g=Wc(m,p,r.shape[n]),y=Rn(v);return g=g.transpose(y)},indices:function(){return o}}}),\"Gather\",{axis:n}).reshape(a.outputShape)}}),Wc=An({unsortedSegmentSum_:function(t,e,n){var r=mn(t,\"x\",\"unsortedSegmentSum\"),o=mn(e,\"segmentIds\",\"unsortedSegmentSum\",\"int32\");return C(A(n),(function(){return\"numSegments must be of dtype int\"})),Lt.runKernelFunc((function(t,e){var a=t.unsortedSegmentSum(r,o,n);return e([o]),a}),{$x:r},(function(t,e){var n=e[0];return{$x:function(){return function(t,e){for(var n=hc(e,Xn(e)),r=Lc(t,n),o=Sc(e,On(0,\"int32\")),a=r.rank-o.rank,i=0;i<a;++i)o=wr(o,i+1);o=Qu(o,zn(r.shape,\"bool\"));var s=Xn(r);return ec(o,r,s)}(t,n)}}}))}});var Uc=function(t,e,o){return n(this,void 0,void 0,(function(){var n,a,i,s,u,c,l,h,f,d,p,v,m;return r(this,(function(r){switch(r.label){case 0:for(n=mn(t,\"tensor\",\"boolMask\"),a=mn(e,\"mask\",\"boolMask\",\"bool\"),i=null==o?0:o,s=a.rank,u=n.shape,C(s>0,(function(){return\"mask cannot be scalar\"})),E(u.slice(i,i+s),a.shape,\"mask's shape must match the first K dimensions of tensor's shape,\"),c=1,l=i;l<i+s;l++)c*=u[l];return h=u.slice(0,i).concat([c],u.slice(i+s)),f=n.reshape(h),d=a.reshape([-1]),[4,nc(d)];case 1:return p=r.sent(),v=p.squeeze([1]),m=Lc(f,v,i),t!==n&&n.dispose(),e!==a&&a.dispose(),v.dispose(),f.dispose(),d.dispose(),p.dispose(),[2,m]}}))}))};function Vc(t,e,n,r,o,a,i){void 0===a&&(a=\"NHWC\"),C(t.length===e.rank,(function(){return\"Length of inShape (\"+t.length+\") and rank of dy (\"+e.rank+\") must match\"}));var s=t,u=e,c=!1;3===e.rank&&(c=!0,u=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),s=[1,t[0],t[1],t[2]]),C(4===s.length,(function(){return\"Error in conv2dDerInput: inShape must be length 4, but got length \"+s.length+\".\"})),C(4===u.rank,(function(){return\"Error in conv2dDerInput: dy must be rank 4, but got rank \"+u.rank})),C(4===n.rank,(function(){return\"Error in conv2dDerInput: filter must be rank 4, but got rank \"+n.rank}));var l=\"NHWC\"===a?s[3]:s[1],h=\"NHWC\"===a?u.shape[3]:u.shape[1];C(l===n.shape[2],(function(){return\"Error in conv2dDerInput: depth of input (\"+l+\") must match input depth for filter \"+n.shape[2]+\".\"})),C(h===n.shape[3],(function(){return\"Error in conv2dDerInput: depth of output (\"+h+\") must match output depth for filter \"+n.shape[3]+\".\"})),null!=i&&C(A(o),(function(){return\"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode \"+i+\" but got pad \"+o+\".\"}));var f=Bo(a),d=So(s,n.shape,r,1,o,i,!1,f),p=Lt.runKernelFunc((function(t,e){var r=t.conv2dDerInput(u,n,d);return e([n,u]),r}),{dy4D:u,filter:n},(function(t,e){var n=e[0],s=e[1];return{dy4D:function(){return qc(t,n,r,o,a,1,i)},filter:function(){return jc(t,s,n.shape,r,o,a,i)}}}));return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function zc(t){var e=function(t){return\"number\"==typeof t?[t,t,t]:2===t.length?[t[0],t[1],1]:t}(t),n=e[0],r=e[1],o=e[2];return 1===n&&1===r&&1===o}function Gc(t,e,n,r,o){C(t.length===e.rank,(function(){return\"Length of inShape (\"+t.length+\") and rank of dy (\"+e.rank+\") must match\"}));var a=t,i=e,s=!1;4===e.rank&&(s=!0,i=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]),a=[1,t[0],t[1],t[2],t[3]]);var u=a[4],c=i.shape[4];C(5===a.length,(function(){return\"Error in conv3dDerInput: inShape must be length 5, but got length \"+a.length+\".\"})),C(5===i.rank,(function(){return\"Error in conv3dDerInput: dy must be rank 5, but got rank \"+i.rank})),C(5===n.rank,(function(){return\"Error in conv3dDerInput: filter must be rank 5, but got rank \"+n.rank})),C(u===n.shape[3],(function(){return\"Error in conv3dDerInput: depth of input (\"+u+\") must match input depth for filter \"+n.shape[3]+\".\"})),C(c===n.shape[4],(function(){return\"Error in conv3dDerInput: depth of output (\"+c+\") must match output depth for filter \"+n.shape[4]+\".\"}));var l=Ao(a,n.shape,r,1,o),h=Lt.runKernelFunc((function(t){return t.conv3dDerInput(i,n,l)}),{dy5D:i});return s?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}var Hc=An({conv1d_:function(t,e,n,r,o,a,i){void 0===o&&(o=\"NWC\"),void 0===a&&(a=1);var s=mn(t,\"x\",\"conv1d\"),u=mn(e,\"filter\",\"conv1d\"),c=s,l=!1;2===s.rank&&(l=!0,c=s.as3D(1,s.shape[0],s.shape[1])),C(3===c.rank,(function(){return\"Error in conv1d: input must be rank 3, but got rank \"+c.rank+\".\"})),C(3===u.rank,(function(){return\"Error in conv1d: filter must be rank 3, but got rank \"+u.rank+\".\"})),null!=i&&C(A(r),(function(){return\"Error in conv1d: pad must be an integer when using, dimRoundingMode \"+i+\" but got pad \"+r+\".\"})),C(c.shape[2]===u.shape[1],(function(){return\"Error in conv1d: depth of input (\"+c.shape[2]+\") must match input depth for filter \"+u.shape[1]+\".\"})),C(Mo(n,a),(function(){return\"Error in conv1D: Either stride or dilation must be 1. Got stride \"+n+\" and dilation '\"+a+\"'\"})),C(\"NWC\"===o,(function(){return\"Error in conv1d: got dataFormat of \"+o+\" but only NWC is currently supported.\"}));var h=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),f=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),d=qc(f,h,[1,n],r,\"NHWC\",[1,a],i);return l?d.as2D(d.shape[2],d.shape[3]):d.as3D(d.shape[0],d.shape[2],d.shape[3])}}),qc=An({conv2d_:function(t,e,n,r,o,a,i){void 0===o&&(o=\"NHWC\"),void 0===a&&(a=[1,1]);var s=mn(t,\"x\",\"conv2d\"),u=mn(e,\"filter\",\"conv2d\"),c=s,l=!1;3===s.rank&&(l=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),C(4===c.rank,(function(){return\"Error in conv2d: input must be rank 4, but got rank \"+c.rank+\".\"})),C(4===u.rank,(function(){return\"Error in conv2d: filter must be rank 4, but got rank \"+u.rank+\".\"})),null!=i&&C(A(r),(function(){return\"Error in conv2d: pad must be an integer when using, dimRoundingMode \"+i+\" but got pad \"+r+\".\"}));var h=\"NHWC\"===o?c.shape[3]:c.shape[1];C(h===u.shape[2],(function(){return\"Error in conv2d: depth of input (\"+h+\") must match input depth for filter \"+u.shape[2]+\".\"})),C(Mo(n,a),(function(){return\"Error in conv2D: Either strides or dilations must be 1. Got strides \"+n+\" and dilations '\"+a+\"'\"}));var f=Bo(o),d=So(c.shape,u.shape,n,a,r,i,!1,f),p=[u,c],v=Lt.runKernelFunc((function(t,e){var n=t.conv2d(c,u,d);return e([u,c]),n}),{x:c,filter:u},(function(t,e){var i=e,s=i[0],u=i[1];return C(Oo(a),(function(){return\"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '\"+a+\"'\"})),{x:function(){return Xc(u.shape,t,s,n,r,o)},filter:function(){return jc(u,t,s.shape,n,r,o)}}}),\"Conv2D\",d,p);return l?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}}),Kc=An({conv3d_:function(t,e,n,r,o,a){void 0===o&&(o=\"NDHWC\"),void 0===a&&(a=[1,1,1]);var i=mn(t,\"x\",\"conv3d\"),s=mn(e,\"filter\",\"conv3d\"),u=i,c=!1;4===i.rank&&(c=!0,u=i.as5D(1,i.shape[0],i.shape[1],i.shape[2],i.shape[3])),C(5===u.rank,(function(){return\"Error in conv3d: input must be rank 5, but got rank \"+u.rank+\".\"})),C(5===s.rank,(function(){return\"Error in conv3d: filter must be rank 5, but got rank \"+s.rank+\".\"})),C(u.shape[4]===s.shape[3],(function(){return\"Error in conv3d: depth of input (\"+u.shape[4]+\") must match input depth for filter \"+s.shape[3]+\".\"})),C(function(t,e){return zc(t)||zc(e)}(n,a),(function(){return\"Error in conv3D: Either strides or dilations must be 1. Got strides \"+n+\" and dilations '\"+a+\"'\"})),C(\"NDHWC\"===o,(function(){return\"Error in conv3d: got dataFormat of \"+o+\" but only NDHWC is currently supported.\"}));var l=Ao(u.shape,s.shape,n,a,r),h=Lt.runKernelFunc((function(t,e){var n=t.conv3d(u,s,l);return e([u,s]),n}),{x:u,$filter:s},(function(t,e){C(zc(a),(function(){return\"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '\"+a+\"'\"}));var o=e[0],i=e[1];return{x:function(){return Gc(o.shape,t,i,n,r)},$filter:function(){return function(t,e,n,r,o){var a=t;4===t.rank&&(a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]));var i=e;4===i.rank&&(i=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));C(5===a.rank,(function(){return\"Error in conv3dDerFilter: input must be rank 5, but got shape \"+a.shape+\".\"})),C(5===i.rank,(function(){return\"Error in conv3dDerFilter: dy must be rank 5, but got shape \"+i.shape+\".\"})),C(5===n.length,(function(){return\"Error in conv3dDerFilter: filterShape must be length 5, but got \"+n+\".\"})),C(a.shape[4]===n[3],(function(){return\"Error in conv3dDerFilter: depth of input \"+a.shape[4]+\") must match input depth in filter (\"+n[3]+\".\"})),C(i.shape[4]===n[4],(function(){return\"Error in conv3dDerFilter: depth of dy (\"+i.shape[4]+\") must match output depth for filter (\"+n[4]+\").\"}));var s=Ao(a.shape,n,r,1,o);return Lt.runKernelFunc((function(t){return t.conv3dDerFilter(a,i,s)}),{x5D:a,dy5D:i})}(o,t,i.shape,n,r)}}}));return c?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}}),jc=An({conv2dDerFilter_:function(t,e,n,r,o,a,i){void 0===a&&(a=\"NHWC\");var s=t;3===t.rank&&(s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var u=e;3===u.rank&&(u=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),C(4===s.rank,(function(){return\"Error in conv2dDerFilter: input must be rank 4, but got shape \"+s.shape+\".\"})),C(4===u.rank,(function(){return\"Error in conv2dDerFilter: dy must be rank 4, but got shape \"+u.shape+\".\"})),C(4===n.length,(function(){return\"Error in conv2dDerFilter: filterShape must be length 4, but got \"+n+\".\"}));var c=\"NHWC\"===a?s.shape[3]:s.shape[1],l=\"NHWC\"===a?u.shape[3]:u.shape[1];C(c===n[2],(function(){return\"Error in conv2dDerFilter: depth of input \"+c+\") must match input depth in filter (\"+n[2]+\".\"})),C(l===n[3],(function(){return\"Error in conv2dDerFilter: depth of dy (\"+l+\") must match output depth for filter (\"+n[3]+\").\"})),null!=i&&C(A(o),(function(){return\"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode \"+i+\" but got pad \"+o+\".\"}));var h=Bo(a),f=So(s.shape,n,r,1,o,i,!1,h);return Lt.runKernelFunc((function(t){return t.conv2dDerFilter(s,u,f)}),{x4D:s,dy4D:u})}}),Xc=An({conv2dDerInput_:Vc}),Yc=An({depthwiseConv2d_:function(t,e,n,r,o,a,i){void 0===o&&(o=\"NHWC\"),void 0===a&&(a=[1,1]);var s=mn(t,\"x\",\"depthwiseConv2d\"),u=mn(e,\"filter\",\"depthwiseConv2d\"),c=s,l=!1;3===s.rank&&(l=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),C(4===c.rank,(function(){return\"Error in depthwiseConv2d: input must be rank 4, but got rank \"+c.rank+\".\"})),C(4===u.rank,(function(){return\"Error in depthwiseConv2d: filter must be rank 4, but got rank \"+u.rank+\".\"})),C(c.shape[3]===u.shape[2],(function(){return\"Error in depthwiseConv2d: number of input channels (\"+c.shape[3]+\") must match the inChannels dimension in filter \"+u.shape[2]+\".\"})),null==a&&(a=[1,1]),C(Mo(n,a),(function(){return\"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides \"+n+\" and dilations '\"+a+\"'\"})),null!=i&&C(A(r),(function(){return\"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode \"+i+\" but got pad \"+r+\".\"}));var h=So(c.shape,u.shape,n,a,r,i,!0),f=[c,u],d=Lt.runKernelFunc((function(t,e){var n=t.depthwiseConv2D(c,u,h);return e([c,u]),n}),{x:c,filter:u},(function(t,e){C(Oo(a),(function(){return\"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '\"+a+\"'\"}));var n=e[0],r=e[1];return{x:function(){return $c(n.shape,t,r,h)},filter:function(){return Qc(n,t,r.shape,h)}}}),\"DepthwiseConv2dNative\",h,f);return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}}),$c=An({depthwiseConv2dDerInput_:function(t,e,n,r){var o=e,a=!1;3===e.rank&&(a=!0,o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=Lt.runKernelFunc((function(t){return t.depthwiseConv2DDerInput(o,n,r)}),{dy4D:o});return a?i.as3D(i.shape[1],i.shape[2],i.shape[3]):i}}),Qc=An({depthwiseConv2dDerFilter_:function(t,e,n,r){var o=t;3===t.rank&&(o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var a=e;return 3===a.rank&&(a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),Lt.runKernelFunc((function(t){return t.depthwiseConv2DDerFilter(o,a,r)}),{x4D:o,dy4D:a})}}),Jc=An({separableConv2d_:function(t,e,n,r,o,a,i){void 0===a&&(a=[1,1]),void 0===i&&(i=\"NHWC\");var s=mn(t,\"x\",\"separableConv2d\"),u=mn(e,\"depthwiseFilter\",\"separableConv2d\"),c=mn(n,\"pointwiseFilter\",\"separableConv2d\"),l=s,h=!1;if(3===s.rank&&(h=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),\"NCHW\"===i)throw new Error(\"separableConv2d currently does not support dataFormat NCHW; only NHWC is supported\");C(4===l.rank,(function(){return\"Error in separableConv2d: input must be rank 4, but got rank \"+l.rank+\".\"})),C(4===u.rank,(function(){return\"Error in separableConv2d: depthwise filter must be rank 4, but got rank \"+u.rank+\".\"})),C(4===c.rank,(function(){return\"Error in separableConv2d: pointwise filter must be rank 4, but got rank \"+u.rank+\".\"})),C(1===c.shape[0],(function(){return\"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got \"+c.shape[0]+\".\"})),C(1===c.shape[1],(function(){return\"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got \"+c.shape[1]+\".\"}));var f=u.shape[2],d=u.shape[3];C(c.shape[2]===f*d,(function(){return\"Error in separableConv2d: the third dimension of pointwise filter must be \"+f*d+\", but got \"+c.shape[2]+\".\"}));var p=Yc(l,u,r,o,i,a),v=qc(p,c,1,\"valid\",i);return h?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}}),Zc=An({conv2dTranspose_:function(t,e,n,r,o,a){return Vc(n,mn(t,\"x\",\"conv2dTranspose\"),mn(e,\"filter\",\"conv2dTranspose\"),r,o,\"NHWC\",a)}}),tl=An({conv3dTranspose_:function(t,e,n,r,o){return Gc(n,mn(t,\"x\",\"conv3dTranspose\"),mn(e,\"filter\",\"conv3dTranspose\"),r,o)}});var el=An({matMul_:function(t,e,n,r){var o;void 0===n&&(n=!1),void 0===r&&(r=!1);var a=mn(t,\"a\",\"matMul\"),i=mn(e,\"b\",\"matMul\");o=Nt(a,i),a=o[0],i=o[1];var s=n?a.shape[a.rank-2]:a.shape[a.rank-1],u=r?i.shape[i.rank-1]:i.shape[i.rank-2],c=n?a.shape[a.rank-1]:a.shape[a.rank-2],l=r?i.shape[i.rank-2]:i.shape[i.rank-1],h=a.shape.slice(0,-2),f=i.shape.slice(0,-2),d=k(h),p=k(f);C(a.rank>=2&&i.rank>=2&&a.rank===i.rank,(function(){return\"Error in matMul: inputs must have the same rank of at least 2, got ranks \"+a.rank+\" and \"+i.rank+\".\"})),C(S(h,f),(function(){return\"Error in matMul: outer dimensions (\"+h+\") and (\"+f+\") of Tensors with shapes \"+a.shape+\" and \"+i.shape+\" must match.\"})),C(s===u,(function(){return\"Error in matMul: inner shapes (\"+s+\") and (\"+u+\") of Tensors with shapes \"+a.shape+\" and \"+i.shape+\" and transposeA=\"+n+\" and transposeB=\"+r+\" must match.\"}));var v=a.shape.slice(0,-2).concat([c,l]),m=n?a.as3D(d,s,c):a.as3D(d,c,s),g=r?i.as3D(p,l,u):i.as3D(p,u,l),y={transposeA:n,transposeB:r};return Lt.runKernelFunc((function(t,e){var o=t.batchMatMul(m,g,n,r);return e([m,g]),o}),{a:m,b:g},(function(t,e){var o=e,a=o[0],i=o[1];return n||r?!n&&r?{a:function(){return t.matMul(i,!1,!1)},b:function(){return t.matMul(a,!0,!1)}}:n&&!r?{a:function(){return i.matMul(t,!1,!0)},b:function(){return a.matMul(t,!1,!1)}}:{a:function(){return i.matMul(t,!0,!0)},b:function(){return t.matMul(a,!0,!0)}}:{a:function(){return t.matMul(i,!1,!0)},b:function(){return a.matMul(t,!0,!1)}}}),\"BatchMatMul\",y).reshape(v)}}),nl=An({dot_:function(t,e){var n=mn(t,\"t1\",\"dot\"),r=mn(e,\"t2\",\"dot\");C(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(function(){return\"Error in dot: inputs must all be rank 1 or 2, but got ranks \"+n.rank+\" and \"+r.rank+\".\"}));var o=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];return C(o===a,(function(){return\"Error in dot: inner dimensions of inputs must match, but got \"+o+\" and \"+a+\".\"})),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),rl=An({outerProduct_:function(t,e){var n=mn(t,\"v1\",\"outerProduct\"),r=mn(e,\"v2\",\"outerProduct\");return C(1===n.rank&&1===r.rank,(function(){return\"Error in outerProduct: inputs must be rank 1, but got ranks \"+n.rank+\" and \"+r.rank+\".\"})),n.as2D(-1,1).matMul(r.as2D(1,-1))}});var ol=An({reverse_:function(t,e){var n=mn(t,\"x\",\"reverse\");if(0===n.rank)return n.clone();var r=O(e,n.shape);return Lt.runKernelFunc((function(t){return t.reverse(n,r)}),{$x:n},(function(t){return{$x:function(){return t.reverse(r)}}})).reshapeAs(n)}}),al=An({reverse1d_:function(t){var e=mn(t,\"x\",\"reverse\");return C(1===e.rank,(function(){return\"Error in reverse1D: x must be rank 1 but got rank \"+e.rank+\".\"})),ol(e,0)}}),il=An({reverse2d_:function(t,e){var n=mn(t,\"x\",\"reverse\");return C(2===n.rank,(function(){return\"Error in reverse2D: x must be rank 2 but got rank \"+n.rank+\".\"})),ol(n,e)}}),sl=An({reverse3d_:function(t,e){var n=mn(t,\"x\",\"reverse\");return C(3===n.rank,(function(){return\"Error in reverse3D: x must be rank 3 but got rank \"+n.rank+\".\"})),ol(n,e)}}),ul=An({reverse4d_:function(t,e){var n=mn(t,\"x\",\"reverse\");return C(4===n.rank,(function(){return\"Error in reverse4D: x must be rank 4 but got rank \"+n.rank+\".\"})),ol(n,e)}});function cl(t,e,n,r,o,a){var i=mn(t,\"x\",\"maxPool\"),s=i,u=!1;3===i.rank&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),null==r&&(r=[1,1]),C(4===s.rank,(function(){return\"Error in maxPool: input must be rank 4 but got rank \"+s.rank+\".\"})),C(Mo(n,r),(function(){return\"Error in maxPool: Either strides or dilations must be 1. Got strides \"+n+\" and dilations '\"+r+\"'\"})),null!=a&&C(A(o),(function(){return\"Error in maxPool: pad must be an integer when using, dimRoundingMode \"+a+\" but got pad \"+o+\".\"}));var c=Io(s.shape,e,n,r,o,a);if(1===c.filterWidth&&1===c.filterHeight&&S(c.inShape,c.outShape))return i.clone();var l=[s],h=Lt.runKernelFunc((function(t,e){var n=t.maxPool(s,c);return e([s,n]),n}),{x:s},(function(t,a){var i=a[0],s=a[1];return{x:function(){return function(t,e,n,r,o,a,i,s){var u=mn(t,\"dy\",\"maxPoolBackprop\"),c=mn(e,\"input\",\"maxPoolBackprop\"),l=mn(n,\"output\",\"maxPoolBackprop\");C(c.rank===u.rank,(function(){return\"Rank of input (\"+c.rank+\") does not match rank of dy (\"+u.rank+\")\"})),null==a&&(a=[1,1]);C(Mo(o,a),(function(){return\"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides \"+o+\" and dilations '\"+a+\"'\"})),C(4===u.rank,(function(){return\"Error in maxPoolBackprop: dy must be rank 4 but got rank \"+u.rank+\".\"})),C(4===c.rank,(function(){return\"Error in maxPoolBackprop: input must be rank 4 but got rank \"+c.rank+\".\"})),null!=s&&C(A(i),(function(){return\"Error in maxPoolBackprop: pad must be an integer when using, dimRoundingMode \"+s+\" but got pad \"+i+\".\"}));var h=Io(c.shape,r,o,a,i,s);return Lt.runKernelFunc((function(t){return t.maxPoolBackprop(u,c,l,h)}),{$dy:u,$input:c})}(t,i,s,e,n,r,o)}}}),\"MaxPool\",c,l);return u?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function ll(t,e,n,r,o,a){var i=mn(t,\"x\",\"avgPool\",\"float32\");null==r&&(r=[1,1]),C(Mo(n,r),(function(){return\"Error in avgPool: Either strides or dilations must be 1. Got strides \"+n+\" and dilations '\"+r+\"'\"}));var s=i,u=!1;3===i.rank&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),C(4===s.rank,(function(){return\"Error in avgPool: x must be rank 4 but got rank \"+s.rank+\".\"})),null!=a&&C(A(o),(function(){return\"Error in avgPool: pad must be an integer when using, dimRoundingMode \"+a+\" but got pad \"+o+\".\"}));var c=Io(s.shape,e,n,r,o,a);if(1===c.filterWidth&&1===c.filterHeight&&S(c.inShape,c.outShape))return i.clone();var l=Lt.runKernelFunc((function(t){return t.avgPool(s,c)}),{x:s},(function(t){return{x:function(){return function(t,e,n,r,o,a){var i=mn(t,\"dy\",\"avgPoolBackprop\"),s=mn(e,\"input\",\"avgPoolBackprop\");C(s.rank===i.rank,(function(){return\"Rank of input (\"+s.rank+\") does not match rank of dy (\"+i.rank+\")\"})),null==o&&(o=[1,1]);C(Mo(r,o),(function(){return\"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides \"+r+\" and dilations '\"+o+\"'\"}));var u=s,c=i,l=!1;3===s.rank&&(l=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),c=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));C(4===c.rank,(function(){return\"Error in avgPoolBackprop: dy must be rank 4 but got rank \"+c.rank+\".\"})),C(4===u.rank,(function(){return\"Error in avgPoolBackprop: input must be rank 4 but got rank \"+u.rank+\".\"}));var h=Io(u.shape,n,r,o,a),f=Lt.runKernelFunc((function(t){return t.avgPoolBackprop(c,u,h)}),{dy4D:c,input4D:u});if(l)return f.as3D(f.shape[1],f.shape[2],f.shape[3]);return f}(t,s,e,n,r,o)}}}),\"AvgPool\",c);return l=l.cast(i.dtype),u?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}var hl=An({maxPool_:function(t,e,n,r,o){return cl(t,e,n,1,r,o)}}),fl=An({avgPool_:function(t,e,n,r,o){return ll(t,e,n,1,r,o)}}),dl=An({pool_:function(t,e,n,r,o,a){null==o&&(o=[1,1]),null==a&&(a=1),0===r&&(r=\"valid\");var i=mn(t,\"x\",\"maxPool\"),s=i,u=!1;3===i.rank&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),C(Mo(a,o),(function(){return\"Error in pool: Either strides or dilations must be 1. Got strides \"+a+\" and dilations '\"+o+\"'\"}));var c,l=Io(s.shape,e,a,o,r),h=[l.dilationHeight,l.dilationWidth];c=\"same\"===r?function(t,e){var n=t.map((function(t,n){return t+(t-1)*(e[n]-1)})).map((function(t){return t-1})),r=n.map((function(t){return Math.floor(t/2)})),o=n.map((function(t,e){return t-r[e]}));return n.map((function(t,e){return[r[e],o[e]]}))}([l.filterHeight,l.filterWidth],h):[[0,0],[0,0]];var f=1===h[0]&&1===h[1],d=function(t,e,n){var r=n.map((function(t){return t[0]})),o=n.map((function(t){return t[1]})),a=t.concat(r,o),i=e.map((function(t,e){return(t-a[e]%t)%t})),s=o.map((function(t,e){return t+i[e]})),u=e.map((function(t,e){return[r[e],s[e]]})),c=e.map((function(t,e){return[0,i[e]]}));return[u,c]}([l.inHeight,l.inWidth],h,c),p=d[0],v=d[1],m=f?r:\"valid\",g=f?s:Mr(s,h,p),y=(\"avg\"===n?function(){return ll(g,e,a,1,m)}:function(){return cl(g,e,a,1,m)})(),x=f?y:vr(y,h,v);return u?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),pl=An({maxPool3d_:function(t,e,n,r,o,a,i){void 0===a&&(a=\"NDHWC\");var s=mn(t,\"x\",\"maxPool3d\"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==i&&(i=[1,1,1]),C(5===u.rank,(function(){return\"Error in maxPool3d: x must be rank 5 but got rank \"+u.rank+\".\"})),C(\"NDHWC\"===a,(function(){return\"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of \"+a})),C(Mo(n,i),(function(){return\"Error in maxPool3d: Either strides or dilations must be 1. Got strides \"+n+\" and dilations '\"+i+\"'\"})),null!=o&&C(A(r),(function(){return\"Error in maxPool3d: pad must be an integer when using, dimRoundingMode \"+o+\" but got pad \"+r+\".\"}));var l=ko(u.shape,e,n,i,r,o,a),h=Lt.runKernelFunc((function(t,e){var n=t.maxPool3d(u,l);return e([u,n]),n}),{x:u},(function(t,a){var s=a[0],u=a[1];return{x:function(){return function(t,e,n,r,o,a,i,s){var u=mn(t,\"dy\",\"maxPool3dBackprop\"),c=mn(e,\"input\",\"maxPool3dBackprop\"),l=mn(n,\"output\",\"maxPool3dBackprop\"),h=u,f=c,d=l,p=!1;4===c.rank&&(p=!0,h=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),f=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]),d=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]));C(5===h.rank,(function(){return\"Error in maxPool3dBackprop: dy must be rank 5 but got rank \"+h.rank+\".\"})),C(5===f.rank,(function(){return\"Error in maxPool3dBackprop: input must be rank 5 but got rank \"+f.rank+\".\"})),C(5===d.rank,(function(){return\"Error in maxPool3dBackprop: output must be rank 5 but got rank \"+d.rank+\".\"})),null==a&&(a=[1,1,1]);C(Mo(o,a),(function(){return\"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides \"+o+\" and dilations '\"+a+\"'\"})),null!=s&&C(A(i),(function(){return\"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode \"+s+\" but got pad \"+i+\".\"}));var v=ko(f.shape,r,o,a,i,s),m=Lt.runKernelFunc((function(t){return t.maxPool3dBackprop(h,f,d,v)}),{dy5D:h,input5D:f});if(p)return m.as4D(m.shape[1],m.shape[2],m.shape[3],m.shape[4]);return m}(t,s,u,e,n,i,r,o)}}}));return c?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}}),vl=An({avgPool3d_:function(t,e,n,r,o,a,i){void 0===a&&(a=\"NDHWC\");var s=mn(t,\"x\",\"avgPool3d\",\"float32\"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==i&&(i=[1,1,1]),C(5===u.rank,(function(){return\"Error in avgPool3d: x must be rank 5 but got rank \"+u.rank+\".\"})),C(\"NDHWC\"===a,(function(){return\"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of \"+a})),C(Mo(n,i),(function(){return\"Error in avgPool3d: Either strides or dilations must be 1. Got strides \"+n+\" and dilations '\"+i+\"'\"})),null!=o&&C(A(r),(function(){return\"Error in avgPool3d: pad must be an integer when using, dimRoundingMode \"+o+\" but got pad \"+r+\".\"}));var l=ko(u.shape,e,n,i,r,o,a),h=Lt.runKernelFunc((function(t){return t.avgPool3d(u,l)}),{x:u},(function(t){return{x:function(){return function(t,e,n,r,o,a,i){var s=mn(t,\"dy\",\"avgPool3dBackprop\"),u=mn(e,\"input\",\"avgPool3dBackprop\"),c=s,l=u,h=!1;4===u.rank&&(h=!0,c=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),l=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]));C(5===c.rank,(function(){return\"Error in avgPool3dBackprop: dy must be rank 5 but got rank \"+c.rank+\".\"})),C(5===l.rank,(function(){return\"Error in avgPool3dBackprop: input must be rank 5 but got rank \"+l.rank+\".\"})),null==o&&(o=[1,1,1]);C(Mo(r,o),(function(){return\"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides \"+r+\" and dilations '\"+o+\"'\"})),null!=i&&C(A(a),(function(){return\"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode \"+i+\" but got pad \"+a+\".\"}));var f=ko(l.shape,n,r,o,a,i),d=Lt.runKernelFunc((function(t){return t.avgPool3dBackprop(c,l,f)}),{dy5D:c,input5D:l});if(h)return d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]);return d}(t,u,e,n,i,r,o)}}}));return h=h.cast(u.dtype),c?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}});var ml=An({slice_:function(t,e,n){var r,o,a=mn(t,\"x\",\"slice\");if(0===a.rank)throw new Error(\"Slicing scalar is not possible\");(r=\"number\"==typeof e?[e].concat(new Array(a.rank-1).fill(0)):e.length<a.rank?e.concat(new Array(a.rank-e.length).fill(0)):e.slice()).forEach((function(t){C(-1!==t,(function(){return\"slice() does not support negative begin indexing.\"}))})),o=(o=null==n?new Array(a.rank).fill(-1):\"number\"==typeof n?[n].concat(new Array(a.rank-1).fill(-1)):n.length<a.rank?n.concat(new Array(a.rank-n.length).fill(-1)):n).map((function(t,e){return t>=0?t:(C(-1===t,(function(){return\"Negative size values should be exactly -1 but got \"+t+\" for the slice() size at index \"+e+\".\"})),a.shape[e]-r[e])})),eo(a,r,o);var i=a.shape,s={begin:r,size:o};return Lt.runKernelFunc((function(t){return t.slice(a,r,o)}),{x:a},(function(t){for(var e=[],n=0;n<t.rank;n++)e.push([r[n],i[n]-r[n]-o[n]]);return{x:function(){return t.pad(e)}}}),\"Slice\",s)}}),gl=An({slice1d_:function(t,e,n){var r=mn(t,\"x\",\"slice1d\");return C(1===r.rank,(function(){return\"slice1d expects a rank-1 tensor, but got a rank-\"+r.rank+\" tensor\"})),ml(r,[e],[n])}}),yl=An({slice2d_:function(t,e,n){var r=mn(t,\"x\",\"slice2d\");return C(2===r.rank,(function(){return\"slice2d expects a rank-2 tensor, but got a rank-\"+r.rank+\" tensor\"})),ml(r,e,n)}}),xl=An({slice3d_:function(t,e,n){var r=mn(t,\"x\",\"slice3d\");return C(3===r.rank,(function(){return\"slice3d expects a rank-3 tensor, but got a rank-\"+r.rank+\" tensor\"})),ml(r,e,n)}}),bl=An({slice4d_:function(t,e,n){var r=mn(t,\"x\",\"slice4d\");return C(4===r.rank,(function(){return\"slice4d expects a rank-4 tensor, but got a rank-\"+r.rank+\" tensor\"})),ml(r,e,n)}});function wl(t,e,n,r,o){return e.rank<n.rank&&(e=e.reshape(wn(e.shape,r))),t.rank<n.rank&&(t=t.reshape(wn(t.shape,r))),{x:function(){var r=t.mul(n.equal(e).cast(t.dtype));return null==o?r:r.transpose(o)}}}var Cl=An({all_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=mn(t,\"x\",\"all\",\"bool\"),o=O(e,r.shape),a=o,i=En(a,r.rank);null!=i&&(r=r.transpose(i),a=In(a.length,r.rank));var s=Lt.runKernelFunc((function(t){return t.all(r,a)}),{$x:r});if(n){var u=wn(s.shape,o);return s.reshape(u)}return s}}),El=An({any_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=mn(t,\"x\",\"any\",\"bool\"),o=O(e,r.shape),a=o,i=En(a,r.rank);null!=i&&(r=r.transpose(i),a=In(a.length,r.rank));var s=Lt.runKernelFunc((function(t){return t.any(r,a)}),{$x:r});if(n){var u=wn(s.shape,o);return s.reshape(u)}return s}}),Rl=An({argMax_:function(t,e){void 0===e&&(e=0);var n=mn(t,\"x\",\"argMax\");null==e&&(e=0);var r=O(e,n.shape),o=En(r,n.rank);null!=o&&(n=n.transpose(o),r=In(r.length,n.rank));var a={axis:r[0]},i=[n];return Lt.runKernelFunc((function(t,e){var o=t.argMax(n,r[0]);return e([n]),o}),{x:n},(function(t,e){var n=e[0];return{x:function(){return Xn(n)}}}),\"ArgMax\",a,i)}}),Il=An({argMin_:function(t,e){void 0===e&&(e=0);var n=mn(t,\"x\",\"argMin\");null==e&&(e=0);var r=O(e,n.shape),o=En(r,n.rank);return null!=o&&(n=n.transpose(o),r=In(r.length,n.rank)),Lt.runKernelFunc((function(t,e){var o=t.argMin(n,r[0]);return e([n]),o}),{$x:n},(function(t,e){var n=e[0];return{$x:function(){return Xn(n)}}}))}}),kl=An({logSumExp_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=mn(t,\"x\",\"logSumExp\"),o=O(e,r.shape),a=r.max(o,!0),i=r.sub(a).exp().sum(o).log(),s=a.reshape(i.shape).add(i);if(n){var u=wn(s.shape,o);return s.reshape(u)}return s}}),Sl=An({max_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=mn(t,\"x\",\"max\"),o=r,a=O(e,r.shape),i=a,s=En(i,r.rank);null!=s&&(r=r.transpose(s),i=In(i.length,r.rank));var u=[r],c=Lt.runKernelFunc((function(t,e){var n=t.max(r,i);return e([o,n]),n}),{x:r},(function(t,e){return wl(t,e[1],e[0],a,s)}),\"Max\",{axes:i},u,[!0]);if(n){var l=wn(c.shape,a);c=c.reshape(l)}return c}}),Al=An({mean_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=mn(t,\"x\",\"mean\"),o=O(e,r.shape),a=k(bn(r.shape,o)[1]);return vo((function(t){var r=On(a);return{value:(r.dtype===t.dtype?t:t.cast(r.dtype)).div(r).sum(e,n),gradFunc:function(e){var n=t.shape.slice();return o.forEach((function(t){n[t]=1})),e.reshape(n).mul(zn(t.shape,\"float32\")).div(a)}}}))(r)}}),Dl=An({min_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=mn(t,\"x\",\"min\"),o=r,a=O(e,r.shape),i=a,s=En(i,r.rank);null!=s&&(r=r.transpose(s),i=In(i.length,r.rank));var u=[r],c=Lt.runKernelFunc((function(t,e){var n=t.min(r,i);return e([o,n]),n}),{x:r},(function(t,e){return wl(t,e[1],e[0],a,s)}),\"Min\",{axes:i},u,[!0]);if(n){var l=wn(c.shape,a);c=c.reshape(l)}return c}}),Tl=An({moments_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=O(e,(t=mn(t,\"x\",\"moments\")).shape),o=t.mean(r,n),a=o.shape;n||(a=wn(o.shape,r));var i=t.toFloat().sub(o.reshape(a)).square();return{mean:o,variance:i.mean(r,n)}}}),Nl=An({sum_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=mn(t,\"x\",\"sum\");\"bool\"===r.dtype&&(r=r.toInt());var o=O(e,r.shape);return vo((function(t){var e=En(o,t.rank),r=o,a=t;null!=e&&(a=t.transpose(e),r=In(r.length,t.rank));var i=function(e){var n=t.shape.slice();return o.forEach((function(t){n[t]=1})),e.reshape(n).mul(zn(t.shape,\"float32\"))},s={axes:r},u=Lt.runKernelFunc((function(t){return t.sum(a,r)}),{x:a},(function(t){return{x:function(){return i(t)}}}),\"Sum\",s);if(n){var c=wn(u.shape,o);u=u.reshape(c)}return{value:u,gradFunc:i}}))(r)}}),Fl=An({prod_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=mn(t,\"x\",\"prod\");\"bool\"===r.dtype&&(r=r.toInt());var o=O(e,r.shape),a=En(o,r.rank),i=o,s=r;null!=a&&(s=r.transpose(a),i=In(i.length,r.rank));var u=Lt.runKernelFunc((function(t){return t.prod(s,i)}),{permutedX:s});if(n){var c=wn(u.shape,o);u=u.reshape(c)}return u}});var _l=An({elu_:function(t){var e=mn(t,\"x\",\"elu\");return Lt.runKernelFunc((function(t,n){var r=t.elu(e);return n([r]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){return Lt.runKernelFunc((function(e){return e.eluDer(t,n)}),{dy:t,y:n})}}}))}}),Ol=An({leakyRelu_:function(t,e){void 0===e&&(e=.2);var n=mn(t,\"x\",\"leakyRelu\");return hc(On(e).mul(n),n)}}),Ml=An({prelu_:function(t,e){var n=mn(t,\"x\",\"prelu\"),r=mn(e,\"alpha\",\"prelu\");return Lt.runKernelFunc((function(t,e){var o=t.prelu(n,r);return e([n,r]),o}),{x:n,alpha:r},(function(t,e){var n=e[0],r=e[1],o=n.greater(0);return{x:function(){return ec(o,t,t.mul(r))},alpha:function(){var e=ec(o,Xn(t),t.mul(n)),a=Eo(r.shape,t.shape);return a.length>0&&(e=e.sum(a)),e.reshape(r.shape)}}}),\"Prelu\")}}),Bl=An({relu_:function(t){var e=mn(t,\"x\",\"relu\");return\"bool\"===e.dtype?e.toInt():Lt.runKernelFunc((function(t,n){var r=t.relu(e);return n([e]),r}),{x:e},(function(t,e){var n=e[0];return{x:function(){return t.mulStrict(n.step().toFloat())}}}),\"Relu\")}}),Pl=An({relu6_:function(t){var e=mn(t,\"x\",\"relu6\");return\"bool\"===e.dtype?e.toInt():Lt.runKernelFunc((function(t,n){var r=t.relu6(e);return n([e]),r}),{x:e},(function(t,e){var n=e[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return t.mulStrict(r.toFloat())}}}),\"Relu6\")}}),Ll=An({selu_:function(t){var e=mn(t,\"x\",\"selu\");return Lt.runKernelFunc((function(t,n){var r=t.selu(e);return n([e]),r}),{$x:e},(function(t,e){var n=e[0];return{$x:function(){var e=n.greater(On(0)),r=On(bs),o=On(ws),a=t.mul(o),i=t.mul(r).mul(n.toFloat().exp());return ec(e,a,i)}}}))}});var Wl=An({transpose_:function(t,e){var n=mn(t,\"x\",\"transpose\");if(null==e&&(e=n.shape.map((function(t,e){return e})).reverse()),C(n.rank===e.length,(function(){return\"Error in transpose: rank of input \"+n.rank+\" must match length of perm \"+e+\".\"})),e.forEach((function(t){C(t>=0&&t<n.rank,(function(){return\"All entries in 'perm' must be between 0 and \"+(n.rank-1)+\" but got \"+e}))})),n.rank<=1)return n.clone();var r={perm:e};return Lt.runKernelFunc((function(t){return t.transpose(n,e)}),{x:n},(function(t){var n=Rn(e);return{x:function(){return t.transpose(n)}}}),\"Transpose\",r)}});var Ul=An({localResponseNormalization_:function(t,e,n,r,o){void 0===e&&(e=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=.5);var a=mn(t,\"x\",\"localResponseNormalization\");C(4===a.rank||3===a.rank,(function(){return\"Error in localResponseNormalization: x must be rank 3 or 4 but got\\n               rank \"+a.rank+\".\"})),C(A(e),(function(){return\"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius \"+e+\".\"}));var i=a,s=!1;3===a.rank&&(s=!0,i=a.as4D(1,a.shape[0],a.shape[1],a.shape[2]));var u=Lt.runKernelFunc((function(t,a){var s=t.localResponseNormalization4D(i,e,n,r,o);return a([i,s]),s}),{x4D:i},(function(t,a){var i=a[0],s=a[1];return{x4D:function(){return Lt.runKernelFunc((function(a){return a.LRNGrad(t,i,s,e,n,r,o)}),{})}}}));return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}});var Vl=An({norm_:function(t,e,n,r){void 0===e&&(e=\"euclidean\"),void 0===n&&(n=null),void 0===r&&(r=!1);var o=function t(e,n,r){void 0===r&&(r=null);if(0===e.rank)return e.abs();if(1!==e.rank&&null===r)return t(e.reshape([-1]),n,r);if(1===e.rank||\"number\"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return e.abs().sum(r);if(n===1/0)return e.abs().max(r);if(n===-1/0)return e.abs().min(r);if(\"euclidean\"===n||2===n)return e.abs().pow(On(2,\"int32\")).sum(r).sqrt();throw new Error(\"Error in norm: invalid ord value: \"+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return e.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return e.abs().sum(r[1]).max(r[0]);if(n===-1/0)return e.abs().sum(r[1]).min(r[0]);if(\"fro\"===n||\"euclidean\"===n)return e.square().sum(r).sqrt();throw new Error(\"Error in norm: invalid ord value: \"+n)}throw new Error(\"Error in norm: invalid axis: \"+r)}(t=mn(t,\"x\",\"norm\"),e,n),a=o.shape;if(r){var i=O(n,t.shape);a=wn(o.shape,i)}return o.reshape(a)}});var zl=An({basicLSTMCell_:function(t,e,n,r,o,a){var i=mn(t,\"forgetBias\",\"basicLSTMCell\"),s=mn(e,\"lstmKernel\",\"basicLSTMCell\"),u=mn(n,\"lstmBias\",\"basicLSTMCell\"),c=mn(r,\"data\",\"basicLSTMCell\"),l=mn(o,\"c\",\"basicLSTMCell\"),h=mn(a,\"h\",\"basicLSTMCell\"),f=c.concat(h,1).matMul(s).add(u),d=f.shape[0],p=f.shape[1]/4,v=[d,p],m=f.slice([0,0],v),g=f.slice([0,p],v),y=f.slice([0,2*p],v),x=f.slice([0,3*p],v),b=m.sigmoid().mulStrict(g.tanh()).addStrict(l.mulStrict(i.add(y).sigmoid())),w=b.tanh().mulStrict(x.sigmoid());return[b,w]}}),Gl=An({multiRNNCell_:function(t,e,n,r){for(var o=mn(e,\"data\",\"multiRNNCell\"),a=gn(n,\"c\",\"multiRNNCell\"),i=gn(r,\"h\",\"multiRNNCell\"),s=o,u=[],c=0;c<t.length;c++){var l=t[c](s,a[c],i[c]);u.push(l[0]),u.push(l[1]),s=l[1]}var h=[],f=[];for(c=0;c<u.length;c+=2)h.push(u[c]),f.push(u[c+1]);return[h,f]}});var Hl=An({movingAverage_:function(t,e,n,r,o){void 0===o&&(o=!0);var a=mn(t,\"v\",\"movingAverage\"),i=mn(e,\"x\",\"movingAverage\"),s=mn(n,\"decay\",\"movingAverage\");Ft(a,i),C(S(a.shape,i.shape),(function(){return\"Shape mismatch in v and x\"}));var u=On(1),c=u.sub(s),l=i.sub(a).mul(c);if(o){C(null!=r,(function(){return\"When using zeroDebias: true, step is required.\"}));var h=mn(r,\"step\",\"movingAverage\");l=l.div(u.sub(xc(s,h)))}return a.add(l)}});var ql=An({stridedSlice_:function(t,e,n,r,o,a,i,s,u){if(void 0===o&&(o=0),void 0===a&&(a=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===u&&(u=0),null==r&&(r=new Array(e.length)),0!==i)throw new Error(\"ellipsis mask is not yet supported\");var c=mn(t,\"x\",\"stridedSlice\"),l=no(s),h=c.shape.slice();l.forEach((function(t){e[t]=0,n[t]=1,h.splice(t,0,1)})),c=c.reshape(h);for(var f=0;f<c.rank;f++)e[f]=oo(o,e,r,c.shape,f),n[f]=ao(a,n,r,c.shape,f),r[f]=r[f]||1;var d=no(u);d.forEach((function(t){n[t]=e[t]+1,r[t]=1}));var p=ro(e,n,r),v=p.filter((function(t,e){return-1===d.indexOf(e)}));return r.every((function(t){return 1===t}))?ml(c,e,p).reshape(v):Lt.runKernelFunc((function(t){return t.stridedSlice(c,e,n,r)}),{$x:c}).reshape(v)}});var Kl=An({topk_:function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!0);var r=mn(t,\"x\",\"topk\");if(0===r.rank)throw new Error(\"topk() expects the input to be of rank 1 or higher\");var o=r.shape[r.shape.length-1];if(e>o)throw new Error(\"'k' passed to topk() must be <= the last dimension (\"+o+\") but got \"+e);var a=Lt.runKernelFunc((function(t){return t.topk(r,e,n)}),{$x:r});return{values:a[0],indices:a[1]}}});var jl=An({scatterND_:function(t,e,n){var r=mn(t,\"indices\",\"scatterND\",\"int32\"),o=mn(e,\"updates\",\"scatterND\");return Jr(o,r,n),Lt.runKernelFunc((function(t){return t.scatterND(r,o,n)}),{indices:r,updates:o},null,\"ScatterNd\",{shape:n})}});var Xl=An({fft_:function(t){C(\"complex64\"===t.dtype,(function(){return\"The dtype for tf.spectral.fft() must be complex64 but got \"+t.dtype+\".\"}));var e=t.shape[t.shape.length-1],n=t.size/e,r=t.as2D(n,e);return Lt.runKernelFunc((function(t){return t.fft(r)}),{input:t}).reshape(t.shape)}}),Yl=An({ifft_:function(t){C(\"complex64\"===t.dtype,(function(){return\"The dtype for tf.spectral.ifft() must be complex64 but got \"+t.dtype+\".\"}));var e=t.shape[t.shape.length-1],n=t.size/e,r=t.as2D(n,e);return Lt.runKernelFunc((function(t){return t.ifft(r)}),{input:t}).reshape(t.shape)}}),$l=An({rfft_:function(t,e){C(\"float32\"===t.dtype,(function(){return\"The dtype for rfft() must be real value but got \"+t.dtype}));var n,r=t.shape[t.shape.length-1],o=t.size/r;if(null!=e&&e<r){var a=t.shape.map((function(t){return 0})),i=t.shape.map((function(t){return t}));i[t.shape.length-1]=e,n=t.slice(a,i),r=e}else if(null!=e&&e>r){var s=t.shape.map((function(t){return t}));s[t.shape.length-1]=e-r,n=t.concat(Gn(s),t.shape.length-1),r=e}else n=t;var u=n.zerosLike(),c=Dn(n,u).as2D(o,r),l=Xl(c),h=Math.floor(r/2)+1,f=Tn(l),d=Nn(l),p=f.split([h,r-h],f.shape.length-1),v=d.split([h,r-h],d.shape.length-1),m=n.shape.slice();return m[n.shape.length-1]=h,Dn(p[0],v[0]).reshape(m)}}),Ql=An({irfft_:function(t){var e=t.shape[t.shape.length-1],n=t.size/e;if(e<=2){var r=t.as2D(n,e),o=Yl(r);return Tn(o)}var a=[n,2*(e-1)],i=Tn(t).as2D(n,e),s=Nn(t).as2D(n,e),u=i.slice([0,1],[n,e-2]).reverse(1),c=s.slice([0,1],[n,e-2]).reverse(1).mul(On(-1)),l=i.concat(u,1),h=s.concat(c,1);return r=Dn(l,h).as2D(a[0],a[1]),o=Yl(r),Tn(o)}}),Jl=Object.freeze({fft:Xl,ifft:Yl,rfft:$l,irfft:Ql});var Zl=An({sparseToDense_:function(t,e,n,r){void 0===r&&(r=0);var o=mn(t,\"sparseIndices\",\"sparseToDense\",\"int32\"),a=mn(e,\"sparseValues\",\"sparseToDense\"),i=mn(r,\"defaultValue\",\"sparseToDense\",a.dtype);return function(t,e,n,r){if(\"int32\"!==t.dtype)throw new Error(\"tf.sparseToDense() expects the indices to be int32 type, but the dtype was \"+t.dtype+\".\");if(t.rank>2)throw new Error(\"sparseIndices should be a scalar, vector, or matrix, but got shape \"+t.shape+\".\");var o=t.rank>0?t.shape[0]:1,a=t.rank>1?t.shape[1]:1;if(n.length!==a)throw new Error(\"outputShape has incorrect number of elements:, \"+n.length+\", should be: \"+a+\".\");var i=e.size;if(0!==e.rank&&(1!==e.rank||i!==o))throw new Error(\"sparseValues has incorrect shape \"+e.shape+\", should be [] or [\"+o+\"]\");if(e.dtype!==r.dtype)throw new Error(\"sparseValues.dtype must match defaultValues.dtype\")}(o,a,n,i),Lt.runKernelFunc((function(t){return t.sparseToDense(o,a,n,i)}),{$sparseIndices:o,$sparseValues:a,$defaultValue:i})}});var th=An({gatherND_:function(t,e){var n=mn(e,\"indices\",\"gatherND\",\"int32\"),r=mn(t,\"x\",\"gatherND\");return Lt.runKernelFunc((function(t){return t.gatherND(r,n)}),{x:r,indices:n},null,\"GatherNd\")}});var eh=An({diag_:function(t){var e=mn(t,\"x\",\"diag\").flatten(),n=t.shape.concat(t.shape);return Lt.runKernelFunc((function(t){return t.diag(e)}),{$x:e}).reshape(n)}});var nh=An({dropout_:function(t,e,n,r){var o=mn(t,\"x\",\"dropout\");if(C(\"float32\"===o.dtype,(function(){return\"x has to be a floating point tensor since it's going to be scaled, but got a \"+o.dtype+\" tensor instead.\"})),C(e>=0&&e<1,(function(){return\"rate must be a float in the range [0, 1), but got \"+e+\".\"})),0===e)return t instanceof wt?o.clone():o;var a=function(t,e){if(null==e)return t.shape.slice();if(S(t.shape,e))return e;if(t.shape.length===e.length){for(var n=[],r=0;r<t.shape.length;r++)null==e[r]&&null!=t.shape[r]?n.push(t.shape[r]):n.push(e[r]);return n}return e}(o,n),i=1-e,s=_r(a,0,1,\"float32\",r).add(i).floor().div(i);return o.mul(s)}});function rh(t,e,n){for(var r=1-t%2,o=new Float32Array(t),a=0;a<t;++a){var i=2*Math.PI*a/(t+r-1);o[a]=e-n*Math.cos(i)}return Mn(o,\"float32\")}var oh=An({hannWindow_:function(t){return rh(t,.5,.5)}}),ah=An({hammingWindow_:function(t){return rh(t,.54,.46)}}),ih=An({frame_:function(t,e,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=0);for(var a=0,i=[];a+e<=t.size;)i.push(ml(t,a,e)),a+=n;if(r)for(;a<t.size;){var s=a+e-t.size,u=Yn([ml(t,a,e-s),Hn([s],o)]);i.push(u),a+=n}return 0===i.length?Bn([],[0,e]):Yn(i).as2D(i.length,e)}}),sh=An({stft_:function(t,e,n,r,o){var a;void 0===o&&(o=oh),null==r&&(a=e,r=Math.floor(Math.pow(2,Math.ceil(Math.log(a)/Math.log(2)))));for(var i=ih(t,e,n),s=gc(i,o(e)),u=[],c=0;c<i.shape[0];c++)u.push($l(s.slice([c,0],[1,e]),r));return Yn(u)}}),uh=Object.freeze({hannWindow:oh,hammingWindow:ah,frame:ih,stft:sh});var ch,lh=function(t,e,o){return void 0===o&&(o=1),n(this,void 0,void 0,(function(){var n,a,i,s,u,c,l,h,f,d,p,v,m,g;return r(this,(function(r){switch(r.label){case 0:return n=mn(t,\"predictions\",\"inTopK\"),a=mn(e,\"targets\",\"inTopK\"),C(n.rank>1,(function(){return\"inTopK() expects the predictions to be of rank 2 or higher, but got \"+n.rank})),C(n.rank-1===a.rank,(function(){return\"predictions rank should be 1 larger than targets rank, but got predictions rank \"+n.rank+\" and targets rank \"+a.rank})),E(n.shape.slice(0,n.shape.length-1),a.shape,\"predictions's shape should be align with the targets' shape, except the last dimension.\"),i=n.shape[n.shape.length-1],C(o>0&&o<=i,(function(){return\"'k' passed to inTopK() must be > 0 && <= the predictions last dimension (\"+i+\"), but got \"+o})),[4,n.data()];case 1:return s=r.sent(),[4,a.data()];case 2:for(u=r.sent(),c=[s.length/i,i],h=c[1],f=B(\"bool\",l=c[0]),d=0;d<l;d++){for(p=d*h,v=s.subarray(p,p+h),m=[],g=0;g<v.length;g++)m.push({value:v[g],index:g});for(m.sort((function(t,e){return e.value-t.value})),f[d]=0,g=0;g<o;g++)if(m[g].index===u[d]){f[d]=1;break}}return t!==n&&n.dispose(),e!==a&&a.dispose(),[2,Fn(f,a.shape,\"bool\")]}}))}))};!function(t){t[t.NONE=0]=\"NONE\",t[t.MEAN=1]=\"MEAN\",t[t.SUM=2]=\"SUM\",t[t.SUM_BY_NONZERO_WEIGHTS=3]=\"SUM_BY_NONZERO_WEIGHTS\"}(ch||(ch={}));var hh=An({absoluteDifference_:function(t,e,n,r){void 0===r&&(r=ch.SUM_BY_NONZERO_WEIGHTS);var o=mn(t,\"labels\",\"absoluteDifference\"),a=mn(e,\"predictions\",\"absoluteDifference\"),i=null;null!=n&&(i=mn(n,\"weights\",\"absoluteDifference\")),E(o.shape,a.shape,\"Error in absoluteDifference: \");var s=o.sub(a).abs();return fh(s,i,r)}}),fh=An({computeWeightedLoss_:function(t,e,n){void 0===n&&(n=ch.SUM_BY_NONZERO_WEIGHTS);var r=mn(t,\"losses\",\"computeWeightedLoss\"),o=null;null!=e&&(o=mn(e,\"weights\",\"computeWeightedLoss\"));var a=null==o?r:r.mul(o);if(n===ch.NONE)return a;if(n===ch.SUM)return a.sum();if(n===ch.MEAN){if(null==o)return a.mean();var i=r.size/o.size,s=a.sum().div(o.sum());return i>1?s.div(On(i)):s}if(n===ch.SUM_BY_NONZERO_WEIGHTS){if(null==o)return a.sum().div(On(r.size));var u=o.mul(zn(r.shape)).notEqual(On(0)).sum().toFloat();return a.sum().div(u)}throw Error(\"Unknown reduction: \"+n)}}),dh=An({cosineDistance_:function(t,e,n,r,o){void 0===o&&(o=ch.SUM_BY_NONZERO_WEIGHTS);var a=mn(t,\"labels\",\"cosineDistance\"),i=mn(e,\"predictions\",\"cosineDistance\"),s=null;null!=r&&(s=mn(r,\"weights\",\"cosineDistance\")),E(a.shape,i.shape,\"Error in cosineDistance: \");var u=On(1).sub(a.mul(i).sum(n,!0));return fh(u,s,o)}}),ph=An({hingeLoss_:function(t,e,n,r){void 0===r&&(r=ch.SUM_BY_NONZERO_WEIGHTS);var o=mn(t,\"labels\",\"hingeLoss\"),a=mn(e,\"predictions\",\"hingeLoss\"),i=null;null!=n&&(i=mn(n,\"weights\",\"hingeLoss\")),E(o.shape,a.shape,\"Error in hingeLoss: \");var s=On(1);o=On(2).mul(o).sub(s);var u=s.sub(o.mul(a)).relu();return fh(u,i,r)}}),vh=An({huberLoss_:function(t,e,n,r,o){void 0===r&&(r=1),void 0===o&&(o=ch.SUM_BY_NONZERO_WEIGHTS);var a=mn(t,\"labels\",\"huberLoss\"),i=mn(e,\"predictions\",\"huberLoss\"),s=null;null!=n&&(s=mn(n,\"weights\",\"huberLoss\")),E(a.shape,i.shape,\"Error in huberLoss: \");var u=On(r),c=i.sub(a).abs(),l=dc(c,u),h=c.sub(l),f=On(.5).mul(l.square()).add(u.mul(h));return fh(f,s,o)}}),mh=An({logLoss_:function(t,e,n,r,o){void 0===r&&(r=1e-7),void 0===o&&(o=ch.SUM_BY_NONZERO_WEIGHTS);var a=mn(t,\"labels\",\"logLoss\"),i=mn(e,\"predictions\",\"logLoss\"),s=null;null!=n&&(s=mn(n,\"weights\",\"logLoss\")),E(a.shape,i.shape,\"Error in logLoss: \");var u=On(1),c=On(r),l=a.mul(i.add(c).log()).neg().sub(u.sub(a).mul(u.sub(i).add(c).log()));return fh(l,s,o)}}),gh=An({meanSquaredError_:function(t,e,n,r){void 0===r&&(r=ch.SUM_BY_NONZERO_WEIGHTS);var o=mn(t,\"labels\",\"meanSquaredError\"),a=mn(e,\"predictions\",\"meanSquaredError\"),i=null;null!=n&&(i=mn(n,\"weights\",\"meanSquaredError\")),E(o.shape,a.shape,\"Error in meanSquaredError: \");var s=o.squaredDifference(a);return fh(s,i,r)}}),yh=An({sigmoidCrossEntropy_:function(t,e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=ch.SUM_BY_NONZERO_WEIGHTS);var a=mn(t,\"multiClassLabels\",\"sigmoidCrossEntropy\"),i=mn(e,\"logits\",\"sigmoidCrossEntropy\"),s=null;if(null!=n&&(s=mn(n,\"weights\",\"sigmoidCrossEntropy\")),E(a.shape,i.shape,\"Error in sigmoidCrossEntropy: \"),r>0){var u=On(r),c=On(1),l=On(.5);a=a.mul(c.sub(u)).add(l.mul(u))}var h=function(t,e){var n=mn(t,\"labels\",\"sigmoidCrossEntropyWithLogits\"),r=mn(e,\"logits\",\"sigmoidCrossEntropyWithLogits\");E(n.shape,r.shape,\"Error in sigmoidCrossEntropyWithLogits: \");var o=r.relu(),a=r.mul(n),i=r.abs().neg().exp().log1p();return o.sub(a).add(i)}(a,i);return fh(h,s,o)}}),xh=An({softmaxCrossEntropy_:function(t,e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=ch.SUM_BY_NONZERO_WEIGHTS);var a=mn(t,\"onehotLabels\",\"softmaxCrossEntropy\"),i=mn(e,\"logits\",\"softmaxCrossEntropy\"),s=null;if(null!=n&&(s=mn(n,\"weights\",\"softmaxCrossEntropy\")),E(a.shape,i.shape,\"Error in softmaxCrossEntropy: \"),r>0){var u=On(r),c=On(1),l=On(a.shape[1]);a=a.mul(c.sub(u)).add(u.div(l))}var h=function(t,e,n){if(void 0===n&&(n=-1),-1===n&&(n=e.rank-1),n!==e.rank-1)throw Error(\"Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank \"+e.rank+\" and dim was \"+n);return vo((function(t,e,r){var o=e.logSumExp([n],!0),a=e.toFloat().sub(o);r([t,a]);return{value:a.mul(t).neg().sum([n]),gradFunc:function(t,e){var r=e[0],o=e[1],a=wn(t.shape,[n]);return[t.reshape(a).mul(r.toFloat().sub(o.exp())),t.reshape(a).mul(o.exp().sub(r.toFloat()))]}}}))(t,e)}(a,i);return fh(h,s,o)}}),bh=Object.freeze({get Reduction(){return ch},absoluteDifference:hh,computeWeightedLoss:fh,cosineDistance:dh,hingeLoss:ph,huberLoss:vh,logLoss:mh,meanSquaredError:gh,sigmoidCrossEntropy:yh,softmaxCrossEntropy:xh});function wh(t,e){return void 0===e&&(e=!1),Lt.tidy((function(){if(2!==t.shape.length)throw new Error(\"qr2d() requires a 2D Tensor, but got a \"+t.shape.length+\"D Tensor.\");for(var n=t.shape[0],r=t.shape[1],o=Cr(n),a=t.clone(),i=Bn([[1]],[1,1]),s=i.clone(),u=n>=r?r:n,c=function(t){var e,u=a,c=s,l=o;e=Lt.tidy((function(){var e=a.slice([t,t],[n-t,1]),u=e.norm(),c=a.slice([t,t],[1,1]),l=Bn([[-1]]).where(c.greater(0),Bn([[1]])),h=c.sub(l.mul(u)),f=e.div(h);s=1===f.shape[0]?i.clone():i.concat(f.slice([1,0],[f.shape[0]-1,f.shape[1]]),0);var d=l.matMul(h).div(u).neg(),p=a.slice([t,0],[n-t,r]),v=d.mul(s);if(0===t)a=p.sub(v.matMul(s.transpose().matMul(p)));else{var m=p.sub(v.matMul(s.transpose().matMul(p)));a=a.slice([0,0],[t,r]).concat(m,0)}var g=o.slice([0,t],[n,o.shape[1]-t]);if(0===t)o=g.sub(g.matMul(s).matMul(v.transpose()));else{var y=g.sub(g.matMul(s).matMul(v.transpose()));o=o.slice([0,0],[n,t]).concat(y,1)}return[s,a,o]})),s=e[0],a=e[1],o=e[2],tn([u,c,l])},l=0;l<u;++l)c(l);return!e&&n>r&&(o=o.slice([0,0],[n,r]),a=a.slice([0,0],[r,r])),[o,a]}))}var Ch=An({bandPart_:function(t,e,n){if(e%1!=0)throw new Error(\"bandPart(): numLower must be an integer, got \"+e+\".\");if(n%1!=0)throw new Error(\"bandPart(): numUpper must be an integer, got \"+n+\".\");var r=mn(t,\"a\",\"bandPart\");if(r.rank<2)throw new Error(\"bandPart(): Rank must be at least 2, got \"+r.rank+\".\");var o=r.shape,a=r.shape.slice(-2),i=a[0],s=a[1];if(!(e<=i))throw new Error(\"bandPart(): numLower (\"+e+\") must not be greater than the number of rows (\"+i+\").\");if(!(n<=s))throw new Error(\"bandPart(): numUpper (\"+n+\") must not be greater than the number of columns (\"+s+\").\");e<0&&(e=i),n<0&&(n=s);var u=Kn(0,i,1,\"int32\").reshape([-1,1]),c=Kn(0,s,1,\"int32\"),l=Cc(u,c),h=Qu(l.lessEqual(On(+e,\"int32\")),l.greaterEqual(On(-n,\"int32\"))),f=Gn([i,s],r.dtype);return Pr(Ur(r.reshape([-1,i,s])).map((function(t){return ec(h,t,f)}))).reshape(o)}}),Eh=An({gramSchmidt_:function(t){var e;if(Array.isArray(t)){e=!1,C(null!=t&&t.length>0,(function(){return\"Gram-Schmidt process: input must not be null, undefined, or empty\"}));for(var n=t[0].shape[0],r=function(e){C(t[e].shape[0]===n,(function(){return\"Gram-Schmidt: Non-unique lengths found in the input vectors: (\"+t[e].shape[0]+\" vs. \"+n+\")\"}))},o=1;o<t.length;++o)r(o)}else e=!0,t=tr(t,t.shape[0],0).map((function(t){return Br(t,[0])}));C(t.length<=t[0].shape[0],(function(){return\"Gram-Schmidt: Number of vectors (\"+t.length+\") exceeds number of dimensions (\"+t[0].shape[0]+\").\"}));var a=[],i=t,s=function(t){a.push(Lt.tidy((function(){var e=i[t];if(t>0)for(var n=0;n<t;++n){var r=Nl(a[n].mulStrict(e)).mul(a[n]);e=e.sub(r)}return e.div(Vl(e,\"euclidean\"))})))};for(o=0;o<t.length;++o)s(o);return e?Pr(a,0):a}}),Rh=An({qr_:function(t,e){if(void 0===e&&(e=!1),t.rank<2)throw new Error(\"qr() requires input tensor to have a rank >= 2, but got rank \"+t.rank);if(2===t.rank)return wh(t,e);var n=t.shape.slice(0,t.shape.length-2).reduce((function(t,e){return t*e})),r=Ur(t.reshape([n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),o=[],a=[];return r.forEach((function(t){var n=wh(t,e),r=n[0],i=n[1];o.push(r),a.push(i)})),[Pr(o,0).reshape(t.shape),Pr(a,0).reshape(t.shape)]}}),Ih=Object.freeze({bandPart:Ch,gramSchmidt:Eh,qr:Rh});function kh(t,e,n,r,o,a){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==a&&(a=0);var i=t.shape[0];return n=Math.min(n,i),C(0<=r&&r<=1,(function(){return\"iouThreshold must be in [0, 1], but was '\"+r+\"'\"})),C(2===t.rank,(function(){return\"boxes must be a 2D tensor, but was of rank '\"+t.rank+\"'\"})),C(4===t.shape[1],(function(){return\"boxes must have 4 columns, but 2nd dimension was \"+t.shape[1]})),C(1===e.rank,(function(){return\"scores must be a 1D tensor\"})),C(e.shape[0]===i,(function(){return\"scores has incompatible shape with boxes. Expected \"+i+\", but was \"+e.shape[0]})),C(0<=a&&a<=1,(function(){return\"softNmsSigma must be in [0, 1], but was '\"+a+\"'\"})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:a}}var Sh=An({resizeBilinear_:function(t,e,n){void 0===n&&(n=!1);var r=mn(t,\"images\",\"resizeBilinear\");C(3===r.rank||4===r.rank,(function(){return\"Error in resizeBilinear: x must be rank 3 or 4, but got rank \"+r.rank+\".\"})),C(2===e.length,(function(){return\"Error in resizeBilinear: new shape must 2D, but got shape \"+e+\".\"}));var o=r,a=!1;3===r.rank&&(a=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=e[0],s=e[1],u=Lt.runKernelFunc((function(t,e){return e([o]),t.resizeBilinear(o,i,s,n)}),{x:o},(function(t,e){return{x:function(){return Lt.runKernelFunc((function(r){return r.resizeBilinearBackprop(t,e[0],n)}),{})}}}),\"ResizeBilinear\",{alignCorners:n,newHeight:i,newWidth:s});return a?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Ah=An({resizeNearestNeighbor_:function(t,e,n){void 0===n&&(n=!1);var r=mn(t,\"images\",\"resizeNearestNeighbor\");C(3===r.rank||4===r.rank,(function(){return\"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank \"+r.rank+\".\"})),C(2===e.length,(function(){return\"Error in resizeNearestNeighbor: new shape must 2D, but got shape \"+e+\".\"})),C(\"float32\"===r.dtype||\"int32\"===r.dtype,(function(){return\"`images` must have `int32` or `float32` as dtype\"}));var o=r,a=!1;3===r.rank&&(a=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=e[0],s=e[1],u=Lt.runKernelFunc((function(t,e){return e([o]),t.resizeNearestNeighbor(o,i,s,n)}),{batchImages:o},(function(t,e){return{batchImages:function(){return Lt.runKernelFunc((function(r){return r.resizeNearestNeighborBackprop(t,e[0],n)}),{})}}}));return a?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Dh=An({nonMaxSuppression_:function(t,e,n,r,o){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY);var a=mn(t,\"boxes\",\"nonMaxSuppression\"),i=mn(e,\"scores\",\"nonMaxSuppression\"),s=kh(a,i,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:o};return Lt.runKernelFunc((function(t){return t.nonMaxSuppression(a,i,n,r,o)}),{boxes:a,scores:i},null,\"NonMaxSuppressionV3\",u)}}),Th=function(t,e,o,a,i){return void 0===a&&(a=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),n(this,void 0,void 0,(function(){var n,s,u,c,l,h,f;return r(this,(function(r){switch(r.label){case 0:return n=mn(t,\"boxes\",\"nonMaxSuppressionAsync\"),s=mn(e,\"scores\",\"nonMaxSuppressionAsync\"),u=kh(n,s,o,a,i),o=u.maxOutputSize,a=u.iouThreshold,i=u.scoreThreshold,[4,Promise.all([n.data(),s.data()])];case 1:return c=r.sent(),l=c[0],h=c[1],f=jo(l,h,o,a,i),n!==t&&n.dispose(),s!==e&&s.dispose(),[2,f]}}))}))},Nh=An({nonMaxSuppressionWithScore_:function(t,e,n,r,o,a){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===a&&(a=0);var i=mn(t,\"boxes\",\"nonMaxSuppression\"),s=mn(e,\"scores\",\"nonMaxSuppression\"),u=kh(i,s,n,r,o,a),c={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:o=u.scoreThreshold,softNmsSigma:a=u.softNmsSigma},l=Lt.runKernel(\"NonMaxSuppressionV5\",{boxes:i,scores:s},c);return{selectedIndices:l[0],selectedScores:l[1]}}}),Fh=function(t,e,o,a,i,s){return void 0===a&&(a=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===s&&(s=0),n(this,void 0,void 0,(function(){var n,u,c,l,h,f,d;return r(this,(function(r){switch(r.label){case 0:return n=mn(t,\"boxes\",\"nonMaxSuppressionAsync\"),u=mn(e,\"scores\",\"nonMaxSuppressionAsync\"),c=kh(n,u,o,a,i,s),o=c.maxOutputSize,a=c.iouThreshold,i=c.scoreThreshold,s=c.softNmsSigma,[4,Promise.all([n.data(),u.data()])];case 1:return l=r.sent(),h=l[0],f=l[1],d=Xo(h,f,o,a,i,s),n!==t&&n.dispose(),u!==e&&u.dispose(),[2,d]}}))}))},_h=An({cropAndResize_:function(t,e,n,r,o,a){var i=mn(t,\"image\",\"cropAndResize\"),s=mn(e,\"boxes\",\"cropAndResize\",\"float32\"),u=mn(n,\"boxInd\",\"cropAndResize\",\"int32\");o=o||\"bilinear\",a=a||0;var c=s.shape[0];return C(4===i.rank,(function(){return\"Error in cropAndResize: image must be rank 4,but got rank \"+i.rank+\".\"})),C(2===s.rank&&4===s.shape[1],(function(){return\"Error in cropAndResize: boxes must be have size [\"+c+\",4] but had shape \"+s.shape+\".\"})),C(1===u.rank&&u.shape[0]===c,(function(){return\"Error in cropAndResize: boxInd must be have size [\"+c+\"] but had shape \"+s.shape+\".\"})),C(2===r.length,(function(){return\"Error in cropAndResize: cropSize must be of length 2, but got length \"+r.length+\".\"})),C(r[0]>=1&&r[1]>=1,(function(){return\"cropSize must be atleast [1,1], but was \"+r})),C(\"bilinear\"===o||\"nearest\"===o,(function(){return\"method must be bilinear or nearest, but was \"+o})),Lt.runKernelFunc((function(t,e){return t.cropAndResize(i,s,u,r,o,a)}),{images:i,boxes:s,boxInd:u},null,\"CropAndResize\",{method:o,extrapolationValue:a,cropSize:r})}}),Oh=Object.freeze({resizeBilinear:Sh,resizeNearestNeighbor:Ah,nonMaxSuppression:Dh,nonMaxSuppressionAsync:Th,nonMaxSuppressionWithScore:Nh,nonMaxSuppressionWithScoreAsync:Fh,cropAndResize:_h}),Mh=function(t,e){return!(t>0)||\"linear\"===e},Bh=function(t,e,n){if(null==n||\"linear\"===n)return t;if(\"relu\"===n)return t.mul(e.step());throw new Error(\"Gradient for activation \"+n+\" has not been implemented yet.\")},Ph=function(t,e){var n=e,r=Eo(t.shape,e.shape);return r.length>0&&(n=n.sum(r)),n.reshape(t.shape)},Lh=function(t,e,n){if(\"linear\"===e)return t;if(\"relu\"===e)return Bl(t);if(\"elu\"===e)return _l(t);if(\"relu6\"===e)return Pl(t);if(\"prelu\"===e)return Ml(t,n);throw new Error(\"Unknown fused activation \"+e+\".\")};var Wh=An({fusedMatMul_:function(t){var e,n=t.a,r=t.b,o=t.transposeA,a=void 0!==o&&o,i=t.transposeB,s=void 0!==i&&i,u=t.bias,c=t.activation,l=void 0===c?\"linear\":c,h=t.preluActivationWeights;if(!1===Mh(Lt.state.gradientDepth,l)){var f=el(n,r,a,s);return null!=u&&(f=rc(f,u)),Lh(f,l,h)}var d=mn(n,\"a\",\"fused matMul\"),p=mn(r,\"b\",\"fused matMul\");e=Nt(d,p),d=e[0],p=e[1];var v=a?d.shape[d.rank-2]:d.shape[d.rank-1],m=s?p.shape[p.rank-1]:p.shape[p.rank-2],g=a?d.shape[d.rank-1]:d.shape[d.rank-2],y=s?p.shape[p.rank-2]:p.shape[p.rank-1],x=d.shape.slice(0,-2),b=p.shape.slice(0,-2),w=k(x),E=k(b);C(d.rank>=2&&p.rank>=2&&d.rank===p.rank,(function(){return\"Error in fused matMul: inputs must have the same rank of at least 2, got ranks \"+d.rank+\" and \"+p.rank+\".\"})),C(S(x,b),(function(){return\"Error in fused matMul: outer dimensions (\"+x+\") and (\"+b+\") of Tensors with shapes \"+d.shape+\" and \"+p.shape+\" must match.\"})),C(v===m,(function(){return\"Error in fused matMul: inner shapes (\"+v+\") and (\"+m+\") of Tensors with shapes \"+d.shape+\" and \"+p.shape+\" and transposeA=\"+a+\" and transposeB=\"+s+\" must match.\"}));var R,I,A=d.shape.slice(0,-2).concat([g,y]),D=a?d.as3D(w,v,g):d.as3D(w,g,v),T=s?p.as3D(E,y,m):p.as3D(E,m,y);null!=u&&Ro(A,(R=Nt(R=mn(u,\"bias\",\"fused matMul\"),d)[0]).shape),null!=h&&(I=mn(h,\"prelu weights\",\"fused matMul\"));var N={a:D,b:T};null!=u&&(N.bias=R),null!=h&&(N.preluActivationWeights=I);var F=[D,T];return Lt.runKernelFunc((function(t,e){var n=t.fusedBatchMatMul({a:D,b:T,transposeA:a,transposeB:s,bias:R,activation:l,preluActivationWeights:I});return e([D,T,n]),n}),N,(function(t,e){var n=e[0],r=e[1],o=e[2],i=Bh(t,o,l),c={};return null!=u&&(c={bias:function(){return Ph(R,i)}}),a||s?!a&&s?Object.assign({a:function(){return i.matMul(r,!1,!1)},b:function(){return i.matMul(n,!0,!1)}},c):a&&!s?Object.assign({a:function(){return r.matMul(i,!1,!0)},b:function(){return n.matMul(i,!1,!1)}},c):Object.assign({a:function(){return r.matMul(i,!0,!0)},b:function(){return i.matMul(n,!0,!0)}},c):Object.assign({a:function(){return i.matMul(r,!1,!0)},b:function(){return n.matMul(i,!0,!1)}},c)}),\"_FusedMatMul\",{transposeA:a,transposeB:s,activation:l},F,[!0]).reshape(A)}}),Uh=An({fusedConv2d_:function(t){var e=t.x,n=t.filter,r=t.strides,o=t.pad,a=t.dataFormat,i=void 0===a?\"NHWC\":a,s=t.dilations,u=void 0===s?[1,1]:s,c=t.dimRoundingMode,l=t.bias,h=t.activation,f=void 0===h?\"linear\":h,d=t.preluActivationWeights;if(f=f||\"linear\",!1===Mh(Lt.state.gradientDepth,f)){var p=qc(e,n,r,o,i,u,c);return null!=l&&(p=rc(p,l)),Lh(p,f,d)}var v=mn(e,\"x\",\"conv2d\"),m=mn(n,\"filter\",\"conv2d\"),g=v,y=!1;3===v.rank&&(y=!0,g=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),C(4===g.rank,(function(){return\"Error in fused conv2d: input must be rank 4, but got rank \"+g.rank+\".\"})),C(4===m.rank,(function(){return\"Error in fused conv2d: filter must be rank 4, but got rank \"+m.rank+\".\"})),null!=c&&C(A(o),(function(){return\"Error in fused conv2d: pad must be an integer when using, dimRoundingMode \"+c+\" but got pad \"+o+\".\"})),C(g.shape[3]===m.shape[2],(function(){return\"Error in conv2d: depth of input (\"+g.shape[3]+\") must match input depth for filter \"+m.shape[2]+\".\"})),C(Mo(r,u),(function(){return\"Error in conv2D: Either strides or dilations must be 1. Got strides \"+r+\" and dilations '\"+u+\"'\"})),C(\"NHWC\"===i,(function(){return\"Error in conv2d: got dataFormat of \"+i+\" but only NHWC is currently supported.\"}));var x,b,w=So(g.shape,m.shape,r,u,o,c);null!=l&&(x=Nt(x=mn(l,\"bias\",\"fused conv2d\"),v)[0],Ro(w.outShape,x.shape)),null!=d&&(b=mn(d,\"prelu weights\",\"fused conv2d\"));var E={x:g,filter:m};null!=l&&(E.bias=x),null!=d&&(E.preluActivationWeights=b);var R=[m,g],I=Lt.runKernelFunc((function(t,e){var n=t.fusedConv2d({input:g,filter:m,convInfo:w,bias:x,activation:f,preluActivationWeights:b});return e([m,g,n]),n}),E,(function(t,e){var n=e,a=n[0],i=n[1],s=n[2],c=Bh(t,s,f);C(Oo(u),(function(){return\"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '\"+u+\"'\"}));var h={};return null!=l&&(h={bias:function(){return Ph(x,c)}}),Object.assign({x:function(){return Xc(i.shape,c,a,r,o)},filter:function(){return jc(i,c,a.shape,r,o)}},h)}),\"FusedConv2D\",{convInfo:w,activation:f},R,[!0]);return y?I.as3D(I.shape[1],I.shape[2],I.shape[3]):I}}),Vh=An({fusedDepthwiseConv2d_:function(t){var e=t.x,n=t.filter,r=t.strides,o=t.pad,a=t.dataFormat,i=void 0===a?\"NHWC\":a,s=t.dilations,u=void 0===s?[1,1]:s,c=t.dimRoundingMode,l=t.bias,h=t.activation,f=void 0===h?\"linear\":h,d=t.preluActivationWeights;if(!1===Mh(Lt.state.gradientDepth,f)){var p=Yc(e,n,r,o,i,u,c);return null!=l&&(p=rc(p,l)),Lh(p,f,d)}var v=mn(e,\"x\",\"depthwiseConv2d\"),m=mn(n,\"filter\",\"depthwiseConv2d\"),g=v,y=!1;3===v.rank&&(y=!0,g=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),C(4===g.rank,(function(){return\"Error in fused depthwiseConv2d: input must be rank 4, but got rank \"+g.rank+\".\"})),C(4===m.rank,(function(){return\"Error in fused depthwiseConv2d: filter must be rank 4, but got rank \"+m.rank+\".\"})),C(g.shape[3]===m.shape[2],(function(){return\"Error in fused depthwiseConv2d: number of input channels (\"+g.shape[3]+\") must match the inChannels dimension in filter \"+m.shape[2]+\".\"})),null==u&&(u=[1,1]),C(Mo(r,u),(function(){return\"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides \"+r+\" and dilations '\"+u+\"'\"})),null!=c&&C(A(o),(function(){return\"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode \"+c+\" but got pad \"+o+\".\"}));var x,b,w=So(g.shape,m.shape,r,u,o,c,!0);null!=l&&(x=Nt(x=mn(l,\"bias\",\"fused conv2d\"),v)[0],Ro(w.outShape,x.shape)),null!=d&&(b=mn(d,\"prelu weights\",\"fused depthwiseConv2d\"));var E={x:g,filter:m};null!=l&&(E.bias=x),null!=d&&(E.preluActivationWeights=b);var R=[m,g],I=Lt.runKernelFunc((function(t,e){var n=t.fusedDepthwiseConv2D({input:g,filter:m,convInfo:w,bias:x,activation:f,preluActivationWeights:b});return e([m,g,n]),n}),E,(function(t,e){C(Oo(u),(function(){return\"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '\"+u+\"'\"}));var n=e[0],r=e[1],o=e[2],a=Bh(t,o,f),i={};return null!=l&&(i={bias:function(){return Ph(x,a)}}),Object.assign({x:function(){return $c(r.shape,a,n,w)},filter:function(){return Qc(r,a,n.shape,w)}},i)}),\"FusedDepthwiseConv2D\",{convInfo:w,activation:f},R,[!0]);return y?I.as3D(I.shape[1],I.shape[2],I.shape[3]):I}}),zh=Object.freeze({matMul:Wh,conv2d:Uh,depthwiseConv2d:Vh}),Gh=Object.freeze({image:Oh,linalg:Ih,losses:bh,spectral:Jl,fused:zh,signal:uh,square:tu,squaredDifference:nu,conv1d:Hc,conv2d:qc,conv3d:Kc,depthwiseConv2d:Yc,separableConv2d:Jc,conv2dTranspose:Zc,conv3dTranspose:tl,op:An,batchNormalization2d:Gu,batchNormalization3d:Hu,batchNormalization4d:qu,batchNormalization:Ku,batchNorm:ju,batchNorm2d:Xu,batchNorm3d:Yu,batchNorm4d:$u,booleanMaskAsync:Uc,complex:Dn,real:Tn,imag:Nn,concat:Yn,concat1d:$n,concat2d:Qn,concat3d:Jn,concat4d:Zn,split:tr,matMul:el,dot:nl,outerProduct:rl,reverse:ol,reverse1d:al,reverse2d:il,reverse3d:sl,reverse4d:ul,maxPool:hl,avgPool:fl,pool:dl,maxPool3d:pl,avgPool3d:vl,slice:ml,slice1d:gl,slice2d:yl,slice3d:xl,slice4d:bl,abs:ru,acos:ou,acosh:au,asin:iu,asinh:su,atan:uu,atanh:cu,ceil:lu,clipByValue:hu,cos:fu,cosh:du,erf:pu,exp:vu,expm1:mu,floor:gu,log:yu,log1p:xu,logSigmoid:bu,neg:wu,reciprocal:Cu,round:Eu,rsqrt:Ru,sigmoid:Iu,sign:ku,isNaN:Su,isInf:Au,isFinite:Du,sin:Tu,sinh:Nu,softplus:Fu,sqrt:_u,step:Ou,tan:Mu,tanh:Bu,all:Cl,any:El,argMax:Rl,argMin:Il,logSumExp:kl,max:Sl,mean:Al,min:Dl,moments:Tl,sum:Nl,prod:Fl,equal:Rc,equalStrict:Ic,greater:kc,greaterEqual:Sc,greaterEqualStrict:Ac,greaterStrict:Dc,less:Tc,lessEqual:Nc,lessEqualStrict:Fc,lessStrict:_c,notEqual:Oc,notEqualStrict:Mc,add:rc,addN:oc,addStrict:ac,atan2:ic,div:sc,divNoNan:uc,divStrict:cc,floorDiv:lc,maximum:hc,maximumStrict:fc,minimum:dc,minimumStrict:pc,mod:vc,modStrict:mc,mul:gc,mulStrict:yc,pow:xc,powStrict:bc,squaredDifferenceStrict:wc,sub:Cc,subStrict:Ec,elu:_l,leakyRelu:Ol,prelu:Ml,relu:Bl,relu6:Pl,selu:Ll,logicalAnd:Qu,logicalNot:Ju,logicalOr:Zu,logicalXor:tc,where:ec,whereAsync:nc,buffer:dr,print:pr,batchToSpaceND:vr,broadcastTo:mr,cast:gr,clone:yr,cumsum:xr,depthToSpace:br,expandDims:wr,eye:Cr,multinomial:Er,oneHot:Rr,pad:Ir,pad1d:kr,pad2d:Sr,pad3d:Ar,pad4d:Dr,rand:Tr,randomNormal:Nr,randomGamma:Fr,randomUniform:_r,reshape:Or,spaceToBatchND:Mr,squeeze:Br,stack:Pr,tile:Lr,truncatedNormal:Wr,unstack:Ur,setdiff1dAsync:Vr,fill:Hn,linspace:qn,ones:zn,range:Kn,scalar:On,tensor:Fn,tensor1d:Mn,tensor2d:Bn,tensor3d:Pn,tensor4d:Ln,tensor5d:Wn,tensor6d:Un,variable:Vn,zeros:Gn,onesLike:jn,zerosLike:Xn,transpose:Wl,softmax:go,logSoftmax:yo,localResponseNormalization:Ul,norm:Vl,gather:Lc,unsortedSegmentSum:Wc,basicLSTMCell:zl,multiRNNCell:Gl,movingAverage:Hl,stridedSlice:ql,topk:Kl,scatterND:jl,fft:Xl,ifft:Yl,rfft:$l,irfft:Ql,sparseToDense:Zl,gatherND:th,diag:eh,dropout:nh,hannWindow:oh,hammingWindow:ah,frame:ih,stft:sh,inTopKAsync:lh});function Hh(t,e){Array.isArray(t)||(t=[t]),t.forEach((function(t){null!=t&&C(\"complex64\"!==t.dtype,(function(){return e+\" does not support complex64 tensors.\"}))}))}function qh(t,e,n,r){if(\"linear\"===n)return t.linear(e);if(\"relu\"===n)return t.relu(e);if(\"elu\"===n)return t.elu(e);if(\"relu6\"===n)return t.relu6(e);if(\"prelu\"===n)return t.prelu(e,r);throw new Error(\"Activation \"+n+\" has not been implemented for the CPU backend.\")}var Kh=function(t){function o(){var e=t.call(this)||this;return e.blockSize=48,e.firstUse=!0,e.data=new xo(e,Lt),e}return e(o,t),o.prototype.write=function(t,e,n){this.firstUse&&(this.firstUse=!1,i().get(\"IS_NODE\")&&dn(\"\\n============================\\nHi there 👋. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\\n============================\"));var r={};return this.data.set(r,{values:t,dtype:n}),r},o.prototype.move=function(t,e,n,r){this.data.set(t,{values:e,dtype:r})},o.prototype.numDataIds=function(){return this.data.numDataIds()},o.prototype.read=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.readSync(t)]}))}))},o.prototype.readSync=function(t){var e=this.data.get(t),n=e.dtype,r=e.complexTensors;return\"complex64\"===n?Vo(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(t).values},o.prototype.bufferSync=function(t){var e=this.readSync(t.dataId),n=e;if(\"string\"===t.dtype)try{n=e.map((function(t){return ot(t)}))}catch(t){throw new Error(\"Failed to decode encoded string bytes into utf-8\")}return dr(t.shape,t.dtype,n)},o.prototype.makeOutput=function(t,e,n){var r=this.write(t,e,n);return Lt.makeTensorFromDataId(r,e,n,this)},o.prototype.disposeData=function(t){if(this.data.has(t)){var e=this.data.get(t).complexTensors;null!=e&&(e.real.dispose(),e.imag.dispose()),this.data.delete(t)}},o.prototype.time=function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(n){return e=et(),t(),[2,{kernelMs:et()-e}]}))}))},o.prototype.memory=function(){return{unreliable:!0,reasons:[\"The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less.\"]}},o.prototype.complex=function(t,e){var n=this.makeOutput(null,t.shape,\"complex64\");return this.data.get(n.dataId).complexTensors={real:Lt.keep(t.clone()),imag:Lt.keep(e.clone())},n},o.prototype.real=function(t){return this.data.get(t.dataId).complexTensors.real.clone()},o.prototype.imag=function(t){return this.data.get(t.dataId).complexTensors.imag.clone()},o.prototype.slice=function(t,e,n){if(Hh(t,\"slice\"),io(t.shape,e,n)){var r=so(e,t.strides),o=k(n);return Fn(this.readSync(t.dataId).subarray(r,r+o),n,t.dtype)}for(var a=dr(n,t.dtype),i=this.bufferSync(t),s=0;s<a.size;++s){var u=a.indexToLoc(s).map((function(t,n){return t+e[n]}));a.values[s]=i.get.apply(i,u)}return a.toTensor()},o.prototype.stridedSlice=function(t,e,n,r){Hh(t,\"stridedSlice\");var o=ro(e,n,r);if(o.some((function(t){return 0===t})))return Fn([],o);for(var a=dr(o,t.dtype),i=this.bufferSync(t),s=0;s<a.size;s++){for(var u=a.indexToLoc(s),c=new Array(u.length),l=0;l<c.length;l++)c[l]=u[l]*r[l]+e[l];a.set.apply(a,[i.get.apply(i,c)].concat(u))}return a.toTensor()},o.prototype.diag=function(t){for(var e=this.readSync(t.dataId),n=dr([t.size,t.size],t.dtype),r=n.values,o=0;o<e.length;o++)r[o*t.size+o]=e[o];return n.toTensor()},o.prototype.unstack=function(t,e){for(var n=t.shape[e],r=new Array(t.rank-1),o=0,a=0;a<t.rank;a++)a!==e&&(r[o++]=t.shape[a]);var i=new Array(t.rank).fill(0),s=t.shape.slice();s[e]=1;var u=new Array(n);for(a=0;a<u.length;a++)i[e]=a,u[a]=this.slice(t,i,s).reshape(r);return u},o.prototype.reverse=function(t,e){Hh(t,\"reverse\");for(var n=dr(t.shape,t.dtype),r=this.bufferSync(t),o=function(o){var a=n.indexToLoc(o),i=a.slice();e.forEach((function(e){return i[e]=t.shape[e]-1-i[e]})),n.set.apply(n,[r.get.apply(r,i)].concat(a))},a=0;a<n.size;a++)o(a);return n.toTensor()},o.prototype.concat=function(t,e){var n=this;if(\"complex64\"===t[0].dtype){var r=t.map((function(t){return Tn(t)})),o=t.map((function(t){return Nn(t)}));return Dn(this.concat(r,e),this.concat(o,e))}var a=t.map((function(t){var n=k(t.shape.slice(e));return t.as2D(-1,n)})),i=Sn(a.map((function(t){return t.shape})),1),s=dr(i,t[0].dtype).values;if(1===a[0].shape[0]){var u=0;a.forEach((function(t){s.set(n.readSync(t.dataId),u),u+=t.size}))}else{var c=0;a.forEach((function(t){for(var e=n.readSync(t.dataId),r=0,o=0;o<t.shape[0];++o)for(var a=o*i[1]+c,u=0;u<t.shape[1];++u)s[a+u]=e[r++];c+=t.shape[1]}))}var l=Sn(t.map((function(t){return t.shape})),e);return Fn(s,l,t[0].dtype)},o.prototype.neg=function(t){return Hh(t,\"neg\"),this.multiply(On(-1),t)},o.prototype.add=function(t,e){return\"complex64\"===t.dtype||\"complex64\"===e.dtype?this.broadcastedBinaryComplexOp(t.cast(\"complex64\"),e.cast(\"complex64\"),(function(t,e,n,r){return{real:t+n,imag:e+r}})):this.broadcastedBinaryOp(t,e,Dt(t.dtype,e.dtype),(function(t,e){return t+e}))},o.prototype.addN=function(t){var e=this;Hh(t,\"addN\");for(var n=t.map((function(t){return e.readSync(t.dataId)})),r=dr(t[0].shape,t[0].dtype),o=r.values,a=0;a<t.length;a++)for(var i=n[a],s=0;s<o.length;s++)o[s]+=i[s];return r.toTensor()},o.prototype.softmax=function(t,e){var n=O([e],t.shape),r=this.max(t,n),o=wn(r.shape,n),a=this.subtract(t,r.reshape(o)),i=this.exp(a),s=this.sum(i,n).reshape(o);return this.realDivide(i,s)},o.prototype.subtract=function(t,e){return\"complex64\"===t.dtype||\"complex64\"===e.dtype?this.broadcastedBinaryComplexOp(t.cast(\"complex64\"),e.cast(\"complex64\"),(function(t,e,n,r){return{real:t-n,imag:e-r}})):this.broadcastedBinaryOp(t,e,Dt(t.dtype,e.dtype),(function(t,e){return t-e}))},o.prototype.pow=function(t,e){return Hh([t,e],\"pow\"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){return Math.pow(t,e)}))},o.prototype.batchMatMul=function(t,e,n,r){Hh([t,e],\"matMul\");for(var o=n?t.shape[1]:t.shape[2],a=n?t.shape[2]:t.shape[1],i=r?e.shape[1]:e.shape[2],s=t.shape[0],u=this.readSync(t.dataId),c=this.readSync(e.dataId),l=n?[t.strides[0],1,t.strides[1]]:[t.strides[0],t.strides[1],1],h=l[0],f=l[1],d=l[2],p=r?[1,e.strides[1],e.strides[0]]:[e.strides[1],1,e.strides[0]],v=p[0],m=p[1],g=p[2],y=a*i,x=dr([s,a,i],t.dtype),b=x.values,w=this.blockSize,C=0;C<s;C++)for(var E=0;E<a;E+=w)for(var R=0;R<i;R+=w)for(var I=0;I<o;I+=w)for(var k=Math.min(E+w,a),S=Math.min(R+w,i),A=Math.min(I+w,o),D=E;D<k;D++)for(var T=R;T<S;T++){for(var N=0,F=I;F<A;F++)N+=u[C*h+D*f+F*d]*c[F*v+T*m+C*g];b[C*y+(D*i+T)]+=N}return x.toTensor()},o.prototype.fusedBatchMatMul=function(t){var e=t.a,n=t.b,r=t.transposeA,o=t.transposeB,a=t.bias,i=t.activation,s=t.preluActivationWeights,u=this.batchMatMul(e,n,r,o);return a&&(u=this.add(u,a)),i&&(u=qh(this,u,i,s)),u},o.prototype.multiply=function(t,e){return\"complex64\"===t.dtype||\"complex64\"===e.dtype?this.broadcastedBinaryComplexOp(t.cast(\"complex64\"),e.cast(\"complex64\"),(function(t,e,n,r){return{real:t*n-e*r,imag:t*r+e*n}})):this.broadcastedBinaryOp(t,e,Dt(t.dtype,e.dtype),(function(t,e){return t*e}))},o.prototype.realDivide=function(t,e){Hh([t,e],\"realDivide\");return this.broadcastedBinaryOp(t,e,\"float32\",(function(t,e){return t/e}))},o.prototype.floorDiv=function(t,e){Hh([t,e],\"floorDiv\");return this.broadcastedBinaryOp(t,e,\"int32\",(function(t,e){return Math.floor(t/e)}))},o.prototype.sum=function(t,e){Hh(t,\"sum\"),Cn(\"sum\",e,t.rank);for(var n=bn(t.shape,e),r=n[0],o=n[1],a=Gn(r,Dt(t.dtype,\"int32\")),i=k(o),s=this.readSync(a.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*i,h=0,f=0;f<i;++f)h+=u[l+f];s[c]=h}return a},o.prototype.prod=function(t,e){Hh(t,\"sum\");for(var n=bn(t.shape,e),r=n[0],o=n[1],a=Gn(r,Dt(t.dtype,\"int32\")),i=k(o),s=this.readSync(a.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*i,h=1,f=0;f<i;++f)h*=u[l+f];s[c]=h}return a},o.prototype.unsortedSegmentSum=function(t,e,n){Hh(t,\"unsortedSegmentSum\");for(var r=[],o=t.rank-e.rank,a=0;a<o;++a)e=e.expandDims(a+1);for(a=0;a<n;++a){var i=On(a,\"int32\"),s=Rc(i,e).asType(\"float32\").mul(t).sum(0);r.push(s)}return Pr(r)},o.prototype.argMin=function(t,e){Hh(t,\"argMin\");var n=[e];Cn(\"argMin\",n,t.rank);for(var r=bn(t.shape,n),o=r[0],a=r[1],i=Gn(o,\"int32\"),s=k(a),u=this.readSync(i.dataId),c=this.readSync(t.dataId),l=0;l<u.length;++l){for(var h=l*s,f=c[h],d=0,p=0;p<s;++p){var v=c[h+p];v<f&&(f=v,d=p)}u[l]=d}return i},o.prototype.argMax=function(t,e){Hh(t,\"argMax\");var n=[e];Cn(\"argMax\",n,t.rank);for(var r=bn(t.shape,n),o=r[0],a=r[1],i=Gn(o,\"int32\"),s=k(a),u=this.readSync(i.dataId),c=this.readSync(t.dataId),l=0;l<u.length;++l){for(var h=l*s,f=c[h],d=0,p=0;p<s;++p){var v=c[h+p];v>f&&(f=v,d=p)}u[l]=d}return i},o.prototype.cumsum=function(t,e,n,r){if(Hh(t,\"cumsum\"),e!==t.rank-1)throw new Error(\"backend.cumsum in CPU expects an inner-most axis=\"+(t.rank-1)+\" but got axis=\"+e);for(var o=Dt(t.dtype,\"int32\"),a=Gn(t.shape,o),i=this.readSync(a.dataId),s=this.readSync(t.dataId),u=t.shape[t.rank-1],c=r?function(t,e){return t+u-e-1}:function(t,e){return t+e},l=0;l<s.length;l+=u)for(var h=0;h<u;h++){var f=c(l,h);if(0===h)i[f]=n?0:s[f];else{var d=c(l,h-1);i[f]=n?s[d]+i[d]:s[f]+i[d]}}return a},o.prototype.equal=function(t,e){return Hh([t,e],\"equal\"),this.broadcastedBinaryOp(t,e,\"bool\",(function(t,e){return t===e?1:0}))},o.prototype.notEqual=function(t,e){return Hh([t,e],\"notEqual\"),this.broadcastedBinaryOp(t,e,\"bool\",(function(t,e){return t!==e?1:0}))},o.prototype.less=function(t,e){return Hh([t,e],\"less\"),this.broadcastedBinaryOp(t,e,\"bool\",(function(t,e){return t<e?1:0}))},o.prototype.lessEqual=function(t,e){return Hh([t,e],\"lessEqual\"),this.broadcastedBinaryOp(t,e,\"bool\",(function(t,e){return t<=e?1:0}))},o.prototype.greater=function(t,e){return Hh([t,e],\"greater\"),this.broadcastedBinaryOp(t,e,\"bool\",(function(t,e){return t>e?1:0}))},o.prototype.greaterEqual=function(t,e){return Hh([t,e],\"greaterEqual\"),this.broadcastedBinaryOp(t,e,\"bool\",(function(t,e){return t>=e?1:0}))},o.prototype.logicalNot=function(t){Hh(t,\"logicalNot\");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e[r]?0:1;return this.makeOutput(n,t.shape,\"bool\")},o.prototype.logicalAnd=function(t,e){return Hh([t,e],\"logicalAnd\"),this.broadcastedBinaryOp(t,e,\"bool\",(function(t,e){return t&&e}))},o.prototype.logicalOr=function(t,e){return Hh([t,e],\"logicalOr\"),this.broadcastedBinaryOp(t,e,\"bool\",(function(t,e){return t||e}))},o.prototype.select=function(t,e,n){Hh([t,e,n],\"select\");for(var r=this.readSync(t.dataId),o=this.readSync(e.dataId),a=this.readSync(n.dataId),i=Gn(e.shape,Dt(e.dtype,n.dtype)),s=this.readSync(i.dataId),u=0,c=0===t.rank||t.rank>1||1===e.rank?1:k(e.shape.slice(1)),l=0;l<r.length;l++)for(var h=0;h<c;h++)1===r[l]?s[u++]=o[l]:s[u++]=a[l];return i},o.prototype.where=function(t){Hh([t],\"where\");var e=this.readSync(t.dataId);return na(t.shape,e)},o.prototype.topk=function(t,e,n){return Hh(t,\"topk\"),ea(this.readSync(t.dataId),t.shape,t.dtype,e)},o.prototype.min=function(t,e){Hh(t,\"min\"),Cn(\"min\",e,t.rank);for(var n=bn(t.shape,e),r=n[0],o=n[1],a=Gn(r,t.dtype),i=k(o),s=this.readSync(a.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*i,h=u[l],f=0;f<i;++f){var d=u[l+f];d<h&&(h=d)}s[c]=h}return a},o.prototype.minimum=function(t,e){return Hh([t,e],\"minimum\"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){return Math.min(t,e)}))},o.prototype.mod=function(t,e){return Hh([t,e],\"mod\"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){var n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}))},o.prototype.max=function(t,e){Hh(t,\"max\"),Cn(\"max\",e,t.rank);for(var n=bn(t.shape,e),r=n[0],o=n[1],a=Gn(r,t.dtype),i=k(o),s=this.readSync(a.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*i,h=u[l],f=0;f<i;++f){var d=u[l+f];d>h&&(h=d)}s[c]=h}return a},o.prototype.maximum=function(t,e){return Hh([t,e],\"maximum\"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){return Math.max(t,e)}))},o.prototype.all=function(t,e){Hh(t,\"all\"),Cn(\"all\",e,t.rank);for(var n=bn(t.shape,e),r=n[0],o=n[1],a=Gn(r,t.dtype),i=k(o),s=this.readSync(a.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*i,h=u[l],f=0;f<i;++f){var d=u[l+f];h=h&&d}s[c]=h}return a},o.prototype.any=function(t,e){Hh(t,\"any\"),Cn(\"any\",e,t.rank);for(var n=bn(t.shape,e),r=n[0],o=n[1],a=Gn(r,t.dtype),i=k(o),s=this.readSync(a.dataId),u=this.readSync(t.dataId),c=0;c<s.length;++c){for(var l=c*i,h=u[l],f=0;f<i;++f){var d=u[l+f];h=h||d}s[c]=h}return a},o.prototype.squaredDifference=function(t,e){return Hh([t,e],\"squaredDifference\"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){var n=t-e;return n*n}))},o.prototype.ceil=function(t){Hh(t,\"ceil\");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.ceil(e[r]);return this.makeOutput(n,t.shape,\"float32\")},o.prototype.floor=function(t){Hh(t,\"floor\");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.floor(e[r]);return this.makeOutput(n,t.shape,\"float32\")},o.prototype.sign=function(t){Hh(t,\"x\");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)e[r]<0?n[r]=-1:e[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,t.shape,\"float32\")},o.prototype.isNaN=function(t){Hh(t,\"x\");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)Number.isNaN(e[r])&&(n[r]=1);return this.makeOutput(n,t.shape,\"bool\")},o.prototype.isInf=function(t){Hh(t,\"x\");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)Math.abs(e[r])===1/0&&(n[r]=1);return this.makeOutput(n,t.shape,\"bool\")},o.prototype.isFinite=function(t){Hh(t,\"x\");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)Number.isFinite(e[r])&&(n[r]=1);return this.makeOutput(n,t.shape,\"bool\")},o.prototype.round=function(t){Hh(t,\"round\");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var o=Math.floor(e[r]);e[r]-o<.5?n[r]=Math.floor(e[r]):e[r]-o>.5?n[r]=Math.ceil(e[r]):n[r]=o%2==0?o:o+1}return this.makeOutput(n,t.shape,\"float32\")},o.prototype.exp=function(t){Hh(t,\"exp\");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.exp(e[r]);return this.makeOutput(n,t.shape,\"float32\")},o.prototype.expm1=function(t){Hh(t,\"expm1\");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.expm1(e[r]);return this.makeOutput(n,t.shape,\"float32\")},o.prototype.log=function(t){Hh(t,\"log\");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var o=e[r];n[r]=Math.log(o)}return this.makeOutput(n,t.shape,\"float32\")},o.prototype.log1p=function(t){Hh(t,\"log1p\");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var o=e[r];n[r]=Math.log1p(o)}return this.makeOutput(n,t.shape,\"float32\")},o.prototype.sqrt=function(t){Hh(t,\"sqrt\");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var o=e[r];n[r]=Math.sqrt(o)}return this.makeOutput(n,t.shape,\"float32\")},o.prototype.rsqrt=function(t){Hh(t,\"rsqrt\");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var o=e[r];n[r]=1/Math.sqrt(o)}return this.makeOutput(n,t.shape,\"float32\")},o.prototype.reciprocal=function(t){Hh(t,\"reciprocal\");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=1/e[r];return this.makeOutput(n,t.shape,\"float32\")},o.prototype.linear=function(t){return t},o.prototype.relu=function(t){Hh(t,\"relu\");for(var e=Gn(t.shape,t.dtype),n=this.readSync(e.dataId),r=this.readSync(t.dataId),o=0;o<r.length;++o)n[o]=Math.max(0,r[o]);return e},o.prototype.relu6=function(t){Hh(t,\"relu\");for(var e=Gn(t.shape,t.dtype),n=this.readSync(e.dataId),r=this.readSync(t.dataId),o=0;o<r.length;++o)n[o]=Math.min(Math.max(0,r[o]),6);return e},o.prototype.prelu=function(t,e){return Hh([t,e],\"prelu\"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){return t<0?e*t:t}))},o.prototype.elu=function(t){Hh(t,\"elu\");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r){var o=n[r];e[r]=o>=0?o:Math.exp(o)-1}return this.makeOutput(e,t.shape,\"float32\")},o.prototype.eluDer=function(t,e){Hh([t,e],\"eluDer\");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),o=this.readSync(t.dataId),a=0;a<r.length;++a){var i=r[a];n[a]=i>=1?o[a]:o[a]*(i+1)}return this.makeOutput(n,e.shape,\"float32\")},o.prototype.selu=function(t){Hh(t,\"selu\");for(var e=bs,n=ws,r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a){var i=o[a];r[a]=i>=0?n*i:e*(Math.exp(i)-1)}return this.makeOutput(r,t.shape,\"float32\")},o.prototype.clip=function(t,e,n){Hh(t,\"clip\");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a){var i=o[a];r[a]=i>n?n:i<e?e:i}return this.makeOutput(r,t.shape,\"float32\")},o.prototype.abs=function(t){for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.abs(n[r]);return this.makeOutput(e,t.shape,\"float32\")},o.prototype.complexAbs=function(t){for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<t.size;++r){var o=n[2*r],a=n[2*r+1];e[r]=Math.hypot(o,a)}return this.makeOutput(e,t.shape,\"float32\")},o.prototype.int=function(t){Hh(t,\"int\");for(var e=new Int32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=n[r];return this.makeOutput(e,t.shape,\"int32\")},o.prototype.sigmoid=function(t){Hh(t,\"sigmoid\");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(e,t.shape,\"float32\")},o.prototype.softplus=function(t){Hh(t,\"softplus\");for(var e=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(t.size),r=this.readSync(t.dataId),o=0;o<r.length;++o){var a=r[o]>-e,i=r[o]<e,s=Math.exp(r[o]),u=void 0;u=i?s:a?r[o]:Math.log(1+s),n[o]=u}return this.makeOutput(n,t.shape,\"float32\")},o.prototype.sin=function(t){Hh(t,\"sin\");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.sin(n[r]);return this.makeOutput(e,t.shape,\"float32\")},o.prototype.cos=function(t){Hh(t,\"cos\");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.cos(n[r]);return this.makeOutput(e,t.shape,\"float32\")},o.prototype.tan=function(t){Hh(t,\"tan\");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.tan(n[r]);return this.makeOutput(e,t.shape,\"float32\")},o.prototype.asin=function(t){Hh(t,\"asin\");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.asin(n[r]);return this.makeOutput(e,t.shape,\"float32\")},o.prototype.acos=function(t){Hh(t,\"acos\");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.acos(n[r]);return this.makeOutput(e,t.shape,\"float32\")},o.prototype.atan=function(t){Hh(t,\"atan\");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.atan(n[r]);return this.makeOutput(e,t.shape,\"float32\")},o.prototype.atan2=function(t,e){return Hh([t,e],\"atan2\"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){return Math.atan2(t,e)}))},o.prototype.sinh=function(t){Hh(t,\"sinh\");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.sinh(n[r]);return this.makeOutput(e,t.shape,\"float32\")},o.prototype.cosh=function(t){Hh(t,\"cosh\");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.cosh(n[r]);return this.makeOutput(e,t.shape,\"float32\")},o.prototype.tanh=function(t){Hh(t,\"tanh\");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=D(n[r]);return this.makeOutput(e,t.shape,\"float32\")},o.prototype.asinh=function(t){Hh(t,\"asinh\");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.asinh(n[r]);return this.makeOutput(e,t.shape,\"float32\")},o.prototype.acosh=function(t){Hh(t,\"acosh\");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.acosh(n[r]);return this.makeOutput(e,t.shape,\"float32\")},o.prototype.atanh=function(t){Hh(t,\"atanh\");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.atanh(n[r]);return this.makeOutput(e,t.shape,\"float32\")},o.prototype.erf=function(t){Hh(t,\"erf\");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r){var o=Math.sign(n[r]),a=Math.abs(n[r]),i=1/(1+.3275911*a);e[r]=o*(1-((((1.061405429*i-1.453152027)*i+1.421413741)*i-.284496736)*i+.254829592)*i*Math.exp(-a*a))}return this.makeOutput(e,t.shape,\"float32\")},o.prototype.step=function(t,e){void 0===e&&(e=0),Hh(t,\"step\");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),o=0;o<r.length;++o){var a=r[o];isNaN(a)?n[o]=NaN:n[o]=a>0?1:e}return this.makeOutput(n,t.shape,\"float32\")},o.prototype.fusedConv2d=function(t){var e=t.input,n=t.filter,r=t.convInfo,o=t.bias,a=t.activation,i=t.preluActivationWeights,s=this.conv2d(e,n,r);return o&&(s=this.add(s,o)),a&&(s=qh(this,s,a,i)),s},o.prototype.conv2d=function(t,e,n){Hh([t,e],\"conv2d\");for(var r=n.filterHeight,o=n.filterWidth,a=n.dilationHeight,i=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c=\"channelsLast\"===n.dataFormat,l=dr(n.outShape,t.dtype),h=t.strides[0],f=c?t.strides[1]:t.strides[2],d=c?t.strides[2]:1,p=c?1:t.strides[1],v=l.strides[0],m=c?l.strides[1]:l.strides[2],g=c?l.strides[2]:1,y=c?1:l.strides[1],x=this.readSync(t.dataId),b=this.readSync(e.dataId),w=l.values,C=0;C<n.batchSize;++C)for(var E=C*h,R=C*v,I=0;I<n.outHeight;++I)for(var k=R+I*m,S=I*n.strideHeight-u,A=0;A<r;A++){var D=S+A*a;if(!(D<0||D>=n.inHeight))for(var T=A*e.strides[0],N=E+D*f,F=0;F<n.outWidth;++F)for(var _=k+F*g,O=F*n.strideWidth-s,M=0;M<o;M++){var B=O+M*i;if(!(B<0||B>=n.inWidth))for(var P=N+B*d,L=T+M*e.strides[1],W=0;W<n.inChannels;++W){for(var U=x[P+W*p],V=0;V<n.outChannels;++V)w[_+V*y]+=U*b[L+V];L+=n.outChannels}}}return l.toTensor()},o.prototype.conv3d=function(t,e,n){for(var r=n.filterDepth,o=n.filterHeight,a=n.filterWidth,i=n.dilationDepth,s=n.dilationHeight,u=n.dilationWidth,c=n.padInfo.front,l=n.padInfo.left,h=n.padInfo.top,f=dr(n.outShape,t.dtype),d=this.readSync(t.dataId),p=this.readSync(e.dataId),v=f.values,m=0;m<n.batchSize;++m)for(var g=m*t.strides[0],y=m*f.strides[0],x=0;x<n.outDepth;++x)for(var b=y+x*f.strides[1],w=x*n.strideDepth-c,C=0;C<r;C++){var E=w+C*i;if(!(E<0||E>=n.inDepth))for(var R=C*e.strides[0],I=g+E*t.strides[1],k=0;k<n.outHeight;++k)for(var S=b+k*f.strides[2],A=k*n.strideHeight-h,D=0;D<o;D++){var T=A+D*s;if(!(T<0||T>=n.inHeight))for(var N=R+D*e.strides[1],F=I+T*t.strides[2],_=0;_<n.outWidth;++_)for(var O=S+_*n.outChannels,M=_*n.strideWidth-l,B=0;B<a;B++){var P=M+B*u;if(!(P<0||P>=n.inWidth))for(var L=N+B*e.strides[2],W=F+P*n.inChannels,U=L,V=0;V<n.inChannels;++V){for(var z=d[W+V],G=0;G<n.outChannels;++G)v[O+G]+=z*p[U+G];U+=n.outChannels}}}}return f.toTensor()},o.prototype.conv2dDerInput=function(t,e,n){Hh([t,e],\"conv2dDerInput\");for(var r=dr(n.inShape,\"float32\"),o=r.values,a=this.readSync(t.dataId),i=this.readSync(e.dataId),s=e.strides,u=s[0],c=s[1],l=s[2],h=n.batchSize,f=n.filterHeight,d=n.filterWidth,p=n.inChannels,v=n.inHeight,m=n.inWidth,g=n.outChannels,y=n.outHeight,x=n.outWidth,b=n.strideHeight,w=n.strideWidth,C=n.dataFormat,E=f-1-n.padInfo.top,R=d-1-n.padInfo.left,I=\"channelsLast\"===C,k=r.strides[0],S=I?r.strides[1]:r.strides[2],A=I?r.strides[2]:1,D=I?1:r.strides[1],T=t.strides[0],N=I?t.strides[1]:t.strides[2],F=I?t.strides[2]:1,_=I?1:t.strides[1],O=0;O<h;++O)for(var M=0;M<p;++M)for(var B=0;B<v;++B)for(var P=B-E,L=Math.max(0,Math.ceil(P/b)),W=Math.min(y,(f+P)/b),U=0;U<m;++U){for(var V=U-R,z=Math.max(0,Math.ceil(V/w)),G=Math.min(x,(d+V)/w),H=0,q=L;q<W;++q)for(var K=q*b-P,j=z;j<G;++j)for(var X=T*O+N*q+F*j,Y=u*(f-1-K)+c*(d-1-(j*w-V))+l*M,$=0;$<g;++$){H+=a[X+_*$]*i[Y+$]}o[k*O+S*B+A*U+D*M]=H}return r.toTensor()},o.prototype.conv3dDerInput=function(t,e,n){for(var r=dr(n.inShape,\"float32\"),o=r.values,a=r.strides,i=a[0],s=a[1],u=a[2],c=a[3],l=this.readSync(t.dataId),h=t.strides,f=h[0],d=h[1],p=h[2],v=h[3],m=this.readSync(e.dataId),g=e.strides,y=g[0],x=g[1],b=g[2],w=g[3],C=n.batchSize,E=n.filterDepth,R=n.filterHeight,I=n.filterWidth,k=n.inChannels,S=n.inDepth,A=n.inHeight,D=n.inWidth,T=n.outChannels,N=n.outDepth,F=n.outHeight,_=n.outWidth,O=n.strideDepth,M=n.strideHeight,B=n.strideWidth,P=E-1-n.padInfo.front,L=R-1-n.padInfo.top,W=I-1-n.padInfo.left,U=0;U<C;++U)for(var V=0;V<k;++V)for(var z=0;z<S;++z)for(var G=z-P,H=Math.max(0,Math.ceil(G/O)),q=Math.min(N,(E+G)/O),K=0;K<A;++K)for(var j=K-L,X=Math.max(0,Math.ceil(j/M)),Y=Math.min(F,(R+j)/M),$=0;$<D;++$){for(var Q=$-W,J=Math.max(0,Math.ceil(Q/B)),Z=Math.min(_,(I+Q)/B),tt=0,et=H;et<q;++et)for(var nt=et*O-G,rt=X;rt<Y;++rt)for(var ot=rt*M-j,at=J;at<Z;++at)for(var it=f*U+d*et+p*rt+v*at,st=y*(E-1-nt)+x*(R-1-ot)+b*(I-1-(at*B-Q))+w*V,ut=0;ut<T;++ut){tt+=l[it+ut]*m[st+ut]}o[i*U+s*z+u*K+c*$+V]=tt}return r.toTensor()},o.prototype.conv2dDerFilter=function(t,e,n){Hh([t,e],\"conv2dDerFilter\");for(var r=n.strideHeight,o=n.strideWidth,a=n.filterHeight,i=n.filterWidth,s=\"channelsLast\"===n.dataFormat,u=dr(n.filterShape,\"float32\"),c=n.padInfo.left,l=n.padInfo.top,h=this.bufferSync(t),f=this.bufferSync(e),d=0;d<a;++d)for(var p=Math.max(0,Math.ceil((l-d)/r)),v=Math.min(n.outHeight,(n.inHeight+l-d)/r),m=0;m<i;++m)for(var g=Math.max(0,Math.ceil((c-m)/o)),y=Math.min(n.outWidth,(n.inWidth+c-m)/o),x=0;x<n.inChannels;++x)for(var b=0;b<n.outChannels;++b){for(var w=0,C=0;C<n.batchSize;++C)for(var E=p;E<v;++E)for(var R=d+E*r-l,I=g;I<y;++I){var k=m+I*o-c;w+=s?h.get(C,R,k,x)*f.get(C,E,I,b):h.get(C,x,R,k)*f.get(C,b,E,I)}u.set(w,d,m,x,b)}return u.toTensor()},o.prototype.conv3dDerFilter=function(t,e,n){for(var r=n.strideDepth,o=n.strideHeight,a=n.strideWidth,i=n.filterDepth,s=n.filterHeight,u=n.filterWidth,c=dr(n.filterShape,\"float32\"),l=c.values,h=c.strides,f=h[0],d=h[1],p=h[2],v=h[3],m=this.readSync(e.dataId),g=e.strides,y=g[0],x=g[1],b=g[2],w=g[3],C=this.readSync(t.dataId),E=t.strides,R=E[0],I=E[1],k=E[2],S=E[3],A=n.padInfo.front,D=n.padInfo.left,T=n.padInfo.top,N=0;N<i;++N)for(var F=Math.max(0,Math.ceil((A-N)/r)),_=Math.min(n.outDepth,(n.inDepth+A-N)/r),O=N*f,M=0;M<s;++M)for(var B=Math.max(0,Math.ceil((T-M)/o)),P=Math.min(n.outHeight,(n.inHeight+T-M)/o),L=M*d+O,W=0;W<u;++W)for(var U=Math.max(0,Math.ceil((D-W)/a)),V=Math.min(n.outWidth,(n.inWidth+D-W)/a),z=W*p+L,G=0;G<n.inChannels;++G)for(var H=G*v+z,q=0;q<n.outChannels;++q){for(var K=0,j=0;j<n.batchSize;++j)for(var X=j*R,Y=j*y,$=F;$<_;++$)for(var Q=(N+$*r-A)*I+X,J=$*x+Y,Z=B;Z<P;++Z)for(var tt=(M+Z*o-T)*k+Q,et=Z*b+J,nt=U;nt<V;++nt){var rt=nt*w+et;K+=C[(W+nt*a-D)*S+tt+G]*m[rt+q]}l[H+q]=K}return c.toTensor()},o.prototype.fusedDepthwiseConv2D=function(t){var e=t.input,n=t.filter,r=t.convInfo,o=t.bias,a=t.activation,i=t.preluActivationWeights,s=this.depthwiseConv2D(e,n,r);return o&&(s=this.add(s,o)),a&&(s=qh(this,s,a,i)),s},o.prototype.depthwiseConv2D=function(t,e,n){Hh([t,e],\"depthwiseConv2D\");for(var r=n.filterHeight,o=n.filterWidth,a=n.dilationHeight,i=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c=n.outChannels/n.inChannels,l=dr(n.outShape,t.dtype),h=this.readSync(t.dataId),f=this.readSync(e.dataId),d=l.values,p=0;p<n.batchSize;++p)for(var v=p*t.strides[0],m=p*l.strides[0],g=0;g<n.outHeight;++g)for(var y=m+g*l.strides[1],x=g*n.strideHeight-s,b=0;b<r;++b){var w=x+b*a;if(!(w<0||w>=n.inHeight))for(var C=b*e.strides[0],E=v+w*t.strides[1],R=0;R<n.outWidth;++R)for(var I=y+R*l.strides[2],k=R*n.strideWidth-u,S=0;S<o;++S){var A=k+S*i;if(!(A<0||A>=n.inWidth))for(var D=C+S*e.strides[1],T=E+A*n.inChannels,N=I,F=D,_=0;_<n.inChannels;++_){for(var O=h[T+_],M=0;M<c;++M)d[N+M]+=O*f[F+M];N+=c,F+=c}}}return l.toTensor()},o.prototype.depthwiseConv2DDerInput=function(t,e,n){Hh([t,e],\"depthwiseConv2DDerInput\");for(var r=dr(n.inShape,\"float32\"),o=r.values,a=r.strides,i=a[0],s=a[1],u=a[2],c=this.readSync(t.dataId),l=t.strides,h=l[0],f=l[1],d=l[2],p=this.readSync(e.dataId),v=e.strides,m=v[0],g=v[1],y=v[2],x=n.batchSize,b=n.filterHeight,w=n.filterWidth,C=n.inChannels,E=n.inHeight,R=n.inWidth,I=n.outChannels,k=n.outHeight,S=n.outWidth,A=n.strideHeight,D=n.strideWidth,T=b-1-n.padInfo.top,N=w-1-n.padInfo.left,F=I/C,_=0;_<x;++_)for(var O=0;O<C;++O)for(var M=0;M<E;++M)for(var B=M-T,P=Math.max(0,Math.ceil(B/A)),L=Math.min(k,(b+B)/A),W=0;W<R;++W){for(var U=W-N,V=Math.max(0,Math.ceil(U/D)),z=Math.min(S,(w+U)/D),G=0,H=P;H<L;++H)for(var q=H*A-B,K=V;K<z;++K)for(var j=h*_+f*H+d*K,X=m*(b-1-q)+g*(w-1-(K*D-U))+y*O,Y=0;Y<F;++Y){G+=c[j+(O*F+Y)]*p[X+Y]}o[i*_+s*M+u*W+O]=G}return r.toTensor()},o.prototype.depthwiseConv2DDerFilter=function(t,e,n){Hh([t,e],\"depthwiseConv2DDerFilter\");for(var r=n.strideHeight,o=n.strideWidth,a=n.filterHeight,i=n.filterWidth,s=dr(n.filterShape,\"float32\"),u=n.padInfo.left,c=n.padInfo.top,l=n.outChannels/n.inChannels,h=this.bufferSync(t),f=this.bufferSync(e),d=0;d<a;++d)for(var p=Math.max(0,Math.ceil((c-d)/r)),v=Math.min(n.outHeight,(n.inHeight+c-d)/r),m=0;m<i;++m)for(var g=Math.max(0,Math.ceil((u-m)/o)),y=Math.min(n.outWidth,(n.inWidth+u-m)/o),x=0;x<n.outChannels;++x){for(var b=Math.trunc(x/l),w=x%l,C=0,E=0;E<n.batchSize;++E)for(var R=p;R<v;++R)for(var I=d+R*r-c,k=g;k<y;++k){var S=m+k*o-u;C+=h.get(E,I,S,b)*f.get(E,R,k,x)}s.set(C,d,m,b,w)}return s.toTensor()},o.prototype.tile=function(t,e){return Hh(t,\"tile\"),ta(this.bufferSync(t),e)},o.prototype.pad=function(t,e,n){Hh(t,\"pad\");var r=e.map((function(e,n){return e[0]+t.shape[n]+e[1]})),o=e.map((function(t){return t[0]})),a=this.bufferSync(t),i=dr(r,t.dtype);0!==n&&i.values.fill(n);for(var s=0;s<t.size;s++){var u=a.indexToLoc(s),c=u.map((function(t,e){return t+o[e]}));i.set.apply(i,[a.get.apply(a,u)].concat(c))}return i.toTensor()},o.prototype.transpose=function(t,e){Hh(t,\"transpose\");for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[e[r]];var o=this.readSync(t.dataId),a=dr(n,t.dtype),i=this.bufferSync(t);for(r=0;r<t.size;++r){for(var s=i.indexToLoc(r),u=new Array(s.length),c=0;c<u.length;c++)u[c]=s[e[c]];var l=a.locToIndex(u);a.values[l]=o[r]}return a.toTensor()},o.prototype.gather=function(t,e,n){Hh([t,e],\"gather\");var r=t.shape.slice(),o=this.readSync(e.dataId);r[n]=o.length;for(var a=dr(r,t.dtype),i=this.bufferSync(t),s=0;s<a.size;++s){var u=a.indexToLoc(s),c=u.slice();c[n]=o[u[n]];var l=i.locToIndex(c);a.values[s]=i.values[l]}return a.toTensor()},o.prototype.batchToSpaceND=function(t,e,n){Hh([t],\"batchToSpaceND\");var r=e.reduce((function(t,e){return t*e})),o=zr(t.shape,e,r),a=Gr(o.length,e.length),i=Hr(t.shape,e,r),s=qr(n,e.length),u=Kr(i,n,e.length);return t.reshape(o).transpose(a).reshape(i).slice(s,u)},o.prototype.spaceToBatchND=function(t,e,n){Hh([t],\"spaceToBatchND\");var r=e.reduce((function(t,e){return t*e})),o=[[0,0]];o.push.apply(o,n);for(var a=1+e.length;a<t.shape.length;++a)o.push([0,0]);var i=t.pad(o),s=zr(i.shape,e,r,!1),u=Gr(s.length,e.length,!1),c=Hr(i.shape,e,r,!1);return i.reshape(s).transpose(u).reshape(c)},o.prototype.pool=function(t,e,n){Hh(t,\"pool\");for(var r=e.strideHeight,o=e.strideWidth,a=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=e.padInfo.top,l=e.padInfo.left,h=\"max\"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,f=this.readSync(t.dataId),d=dr(e.outShape,t.dtype),p=d.values,v=e.outShape[1]*e.outShape[2]*e.outShape[3],m=e.outShape[2]*e.outShape[3],g=e.outShape[3],y=0;y<e.batchSize;++y)for(var x=y*v,b=y*t.strides[0],w=0;w<e.inChannels;++w)for(var C=0;C<e.outHeight;++C)for(var E=C*r-c,R=Math.max(0,E),I=Math.min(e.inHeight,s+E),k=x+C*m,S=0;S<e.outWidth;++S){for(var A=S*o-l,D=Math.max(0,A),T=Math.min(e.inWidth,u+A),N=h,F=0,_=0,O=R;O<I;O+=a){for(var M=b+O*t.strides[1],B=D;B<T;B+=i){var P=f[M+B*t.strides[2]+w];\"max\"===n&&P>N?N=P:\"avg\"===n&&(F+=P,_++)}if(isNaN(N))break}p[k+S*g+w]=\"avg\"===n?F/_:N}return d.toTensor()},o.prototype.maxPool=function(t,e){return this.pool(t,e,\"max\")},o.prototype.maxPoolPositions=function(t,e){for(var n=dr(e.outShape,\"int32\"),r=e.strideHeight,o=e.strideWidth,a=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=e.padInfo.top,l=e.padInfo.left,h=this.bufferSync(t),f=0;f<e.batchSize;++f)for(var d=0;d<e.inChannels;++d)for(var p=0;p<e.outHeight;++p){for(var v=p*r-c,m=v;m<0;)m+=a;for(var g=Math.min(e.inHeight,s+v),y=0;y<e.outWidth;++y){for(var x=y*o-l,b=x;b<0;)b+=i;for(var w=Math.min(e.inWidth,u+x),C=Number.NEGATIVE_INFINITY,E=-1,R=m;R<g;R+=a)for(var I=R-v,k=b;k<w;k+=i){var S=k-x,A=h.get(f,R,k,d);A>C&&(C=A,E=I*u+S)}n.set(E,f,p,y,d)}}return n.toTensor()},o.prototype.maxPoolBackprop=function(t,e,n,r){Hh([e,n],\"maxPoolBackprop\");for(var o=this.maxPoolPositions(e,r),a=r.strideHeight,i=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,c=r.effectiveFilterHeight,l=r.effectiveFilterWidth,h=l-1-r.padInfo.left,f=c-1-r.padInfo.top,d=dr(e.shape,\"float32\"),p=this.bufferSync(o),v=this.bufferSync(t),m=0;m<r.batchSize;++m)for(var g=0;g<r.inChannels;++g)for(var y=0;y<r.inHeight;++y)for(var x=0;x<r.inWidth;++x){for(var b=y-f,w=x-h,C=0,E=0;E<c;E+=s){var R=(b+E)/a;if(!(R<0||R>=r.outHeight||Math.floor(R)!==R))for(var I=0;I<l;I+=u){var k=(w+I)/i;if(!(k<0||k>=r.outWidth||Math.floor(k)!==k)){var S=c*l-1-p.get(m,R,k,g)===E*l+I?1:0;if(0!==S)C+=v.get(m,R,k,g)*S}}}d.set(C,m,y,x,g)}return d.toTensor()},o.prototype.avgPoolBackprop=function(t,e,n){Hh([t,e],\"avgPoolBackprop\");for(var r=n.strideHeight,o=n.strideWidth,a=n.filterHeight,i=n.filterWidth,s=n.dilationHeight,u=n.dilationWidth,c=n.effectiveFilterHeight,l=n.effectiveFilterWidth,h=l-1-n.padInfo.left,f=c-1-n.padInfo.top,d=dr(e.shape,\"float32\"),p=1/(a*i),v=this.bufferSync(t),m=0;m<n.batchSize;++m)for(var g=0;g<n.inChannels;++g)for(var y=0;y<n.inHeight;++y)for(var x=0;x<n.inWidth;++x){for(var b=y-f,w=x-h,C=0,E=0;E<c;E+=s){var R=(b+E)/r;if(!(R<0||R>=n.outHeight||Math.floor(R)!==R))for(var I=0;I<l;I+=u){var k=(w+I)/o;if(!(k<0||k>=n.outWidth||Math.floor(k)!==k))C+=v.get(m,R,k,g)}}d.set(C*p,m,y,x,g)}return d.toTensor()},o.prototype.pool3d=function(t,e,n){Hh(t,\"pool3d\");for(var r=e.strideDepth,o=e.strideHeight,a=e.strideWidth,i=e.dilationDepth,s=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,l=e.effectiveFilterHeight,h=e.effectiveFilterWidth,f=e.padInfo.front,d=e.padInfo.top,p=e.padInfo.left,v=\"max\"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=this.readSync(t.dataId),g=dr(e.outShape,t.dtype),y=g.values,x=e.outShape[1]*e.outShape[2]*e.outShape[3]*e.outShape[4],b=e.outShape[2]*e.outShape[3]*e.outShape[4],w=e.outShape[3]*e.outShape[4],C=e.outShape[4],E=0;E<e.batchSize;++E)for(var R=E*x,I=E*t.strides[0],k=0;k<e.inChannels;++k)for(var S=0;S<e.outDepth;++S){for(var A=S*r-f,D=A;D<0;)D+=i;for(var T=Math.min(e.inDepth,c+A),N=R+S*b,F=0;F<e.outHeight;++F){for(var _=F*o-d,O=_;O<0;)O+=s;for(var M=Math.min(e.inHeight,l+_),B=N+F*w,P=0;P<e.outWidth;++P){for(var L=P*a-p,W=L;W<0;)W+=u;for(var U=Math.min(e.inWidth,h+L),V=B+P*C,z=v,G=0,H=0,q=D;q<T;q+=i){for(var K=I+q*t.strides[1],j=O;j<M;j+=s){for(var X=K+j*t.strides[2],Y=W;Y<U;Y+=u){var $=m[X+Y*t.strides[3]+k];if(\"max\"===n&&$>z?z=$:\"avg\"===n&&(G+=$,H++),isNaN(z))break}if(isNaN(z))break}if(isNaN(z))break}y[V+k]=\"avg\"===n?G/H:z}}}return g.toTensor()},o.prototype.avgPool3d=function(t,e){return Hh(t,\"avgPool3d\"),this.pool3d(t,e,\"avg\").toFloat()},o.prototype.avgPool3dBackprop=function(t,e,n){Hh([t,e],\"avgPool3dBackprop\");for(var r=n.strideDepth,o=n.strideHeight,a=n.strideWidth,i=n.filterDepth,s=n.filterHeight,u=n.filterWidth,c=n.dilationDepth,l=n.dilationHeight,h=n.dilationWidth,f=n.effectiveFilterDepth,d=n.effectiveFilterHeight,p=n.effectiveFilterWidth,v=f-1-n.padInfo.front,m=p-1-n.padInfo.left,g=d-1-n.padInfo.top,y=dr(e.shape,\"float32\"),x=1/(i*s*u),b=this.bufferSync(t),w=0;w<n.batchSize;++w)for(var C=0;C<n.inChannels;++C)for(var E=0;E<n.inDepth;++E)for(var R=0;R<n.inHeight;++R)for(var I=0;I<n.inWidth;++I){for(var k=E-v,S=R-g,A=I-m,D=0,T=0;T<f;T+=c){var N=(k+T)/r;if(!(N<0||N>=n.outDepth||Math.floor(N)!==N))for(var F=0;F<d;F+=l){var _=(S+F)/o;if(!(_<0||_>=n.outHeight||Math.floor(_)!==_))for(var O=0;O<p;O+=h){var M=(A+O)/a;if(!(M<0||M>=n.outWidth||Math.floor(M)!==M))D+=b.get(w,N,_,M,C)}}}y.set(D*x,w,E,R,I,C)}return y.toTensor()},o.prototype.maxPool3d=function(t,e){return Hh(t,\"maxPool3d\"),this.pool3d(t,e,\"max\").toFloat()},o.prototype.maxPool3dPositions=function(t,e){for(var n=dr(e.outShape,\"int32\"),r=e.strideDepth,o=e.strideHeight,a=e.strideWidth,i=e.dilationDepth,s=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,l=e.effectiveFilterHeight,h=e.effectiveFilterWidth,f=e.padInfo.front,d=e.padInfo.top,p=e.padInfo.left,v=this.bufferSync(t),m=0;m<e.batchSize;++m)for(var g=0;g<e.inChannels;++g)for(var y=0;y<e.outDepth;++y){for(var x=y*r-f,b=x;b<0;)b+=i;for(var w=Math.min(e.inDepth,c+x),C=0;C<e.outHeight;++C){for(var E=C*o-d,R=E;R<0;)R+=s;for(var I=Math.min(e.inHeight,l+E),k=0;k<e.outWidth;++k){for(var S=k*a-p,A=S;A<0;)A+=u;for(var D=Math.min(e.inWidth,h+S),T=Number.NEGATIVE_INFINITY,N=-1,F=b;F<w;F+=i)for(var _=F-x,O=R;O<I;O+=s)for(var M=O-E,B=A;B<D;B+=u){var P=B-S,L=v.get(m,F,O,B,g);L>=T&&(T=L,N=_*l*h+M*l+P)}n.set(N,m,y,C,k,g)}}}return n.toTensor()},o.prototype.maxPool3dBackprop=function(t,e,n,r){Hh([e,n],\"maxPool3dBackprop\");for(var o=this.maxPool3dPositions(e,r),a=r.strideDepth,i=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,l=r.dilationWidth,h=r.effectiveFilterDepth,f=r.effectiveFilterHeight,d=r.effectiveFilterWidth,p=h-1-r.padInfo.front,v=d-1-r.padInfo.left,m=f-1-r.padInfo.top,g=dr(e.shape,\"float32\"),y=this.bufferSync(o),x=this.bufferSync(t),b=0;b<r.batchSize;++b)for(var w=0;w<r.inChannels;++w)for(var C=0;C<r.inDepth;++C)for(var E=0;E<r.inHeight;++E)for(var R=0;R<r.inWidth;++R){for(var I=C-p,k=E-m,S=R-v,A=0,D=0;D<h;D+=u){var T=(I+D)/a;if(!(T<0||T>=r.outDepth||Math.floor(T)!==T))for(var N=0;N<f;N+=c){var F=(k+N)/i;if(!(F<0||F>=r.outHeight||Math.floor(F)!==F))for(var _=0;_<d;_+=l){var O=(S+_)/s;if(!(O<0||O>=r.outWidth||Math.floor(O)!==O)){var M=h*f*d-1-y.get(b,T,F,O,w)===D*f*d+N*d+_?1:0;if(0!==M)A+=x.get(b,T,F,O,w)*M}}}}g.set(A,b,C,E,R,w)}return g.toTensor()},o.prototype.cast=function(t,e){return Po(t,e,this)},o.prototype.reshape=function(t,e){return Lo(t,e)},o.prototype.avgPool=function(t,e){return Hh(t,\"avgPool\"),this.pool(t,e,\"avg\").toFloat()},o.prototype.resizeBilinear=function(t,e,n,r){Hh(t,\"resizeBilinear\");for(var o=t.shape,a=o[0],i=o[1],s=o[2],u=o[3],c=this.readSync(t.dataId),l=new Float32Array(k([a,e,n,u])),h=[r&&e>1?i-1:i,r&&n>1?s-1:s],f=[r&&e>1?e-1:e,r&&n>1?n-1:n],d=0,p=h[0]/f[0],v=h[1]/f[1],m=0;m<a;m++)for(var g=0;g<e;g++)for(var y=p*g,x=Math.floor(y),b=y-x,w=Math.min(i-1,Math.ceil(y)),C=m*t.strides[0]+x*t.strides[1],E=m*t.strides[0]+w*t.strides[1],R=0;R<n;R++)for(var I=v*R,S=Math.floor(I),A=I-S,D=Math.min(s-1,Math.ceil(I)),T=C+S*t.strides[2],N=E+S*t.strides[2],F=C+D*t.strides[2],_=E+D*t.strides[2],O=0;O<u;O++){var M=c[T+O],B=c[N+O],P=M+(c[F+O]-M)*A,L=P+(B+(c[_+O]-B)*A-P)*b;l[d++]=L}return Fn(l,[a,e,n,u])},o.prototype.resizeBilinearBackprop=function(t,e,n){Hh([t,e],\"resizeBilinearBackprop\");for(var r=e.shape,o=r[0],a=r[1],i=r[2],s=r[3],u=t.shape,c=u[1],l=u[2],h=new Float32Array(o*a*i*s),f=[n&&c>1?a-1:a,n&&l>1?i-1:i],d=[n&&c>1?c-1:c,n&&l>1?l-1:l],p=f[0]/d[0],v=f[1]/d[1],m=this.readSync(t.dataId),g=0,y=0;y<o;y++)for(var x=y*e.strides[0],b=0;b<c;b++)for(var w=b*p,C=Math.floor(w),E=Math.min(Math.ceil(w),a-1),R=x+C*e.strides[1],I=x+E*e.strides[1],k=w-C,S=1-k,A=0;A<l;A++)for(var D=A*v,T=Math.floor(D),N=Math.min(Math.ceil(D),i-1),F=D-T,_=1-F,O=R+T*e.strides[2],M=R+N*e.strides[2],B=I+T*e.strides[2],P=I+N*e.strides[2],L=S*_,W=S*F,U=k*_,V=k*F,z=0;z<s;z++){var G=m[g++];h[O+z]+=G*L,h[M+z]+=G*W,h[B+z]+=G*U,h[P+z]+=G*V}return Ln(h,[o,i,a,s],e.dtype)},o.prototype.resizeNearestNeighbor=function(t,e,n,r){Hh(t,\"resizeNearestNeighbor\");for(var o=t.shape,a=o[0],i=o[1],s=o[2],u=o[3],c=this.readSync(t.dataId),l=new Float32Array(a*e*n*u),h=[r&&e>1?i-1:i,r&&n>1?s-1:s],f=[r&&e>1?e-1:e,r&&n>1?n-1:n],d=h[0]/f[0],p=h[1]/f[1],v=0,m=0;m<a;m++)for(var g=m*t.strides[0],y=0;y<e;y++)for(var x=d*y,b=g+Math.min(i-1,r?Math.round(x):Math.floor(x))*t.strides[1],w=0;w<n;w++)for(var C=p*w,E=b+Math.min(s-1,r?Math.round(C):Math.floor(C))*t.strides[2],R=0;R<u;R++){var I=c[E+R];l[v++]=I}return Fn(l,[a,e,n,u],t.dtype)},o.prototype.resizeNearestNeighborBackprop=function(t,e,n){Hh([t,e],\"resizeNearestNeighborBackprop\");for(var r=e.shape,o=r[0],a=r[1],i=r[2],s=r[3],u=t.shape,c=u[1],l=u[2],h=new Float32Array(o*a*i*s),f=this.readSync(t.dataId),d=[n&&c>1?a-1:a,n&&l>1?i-1:i],p=[n&&c>1?c-1:c,n&&l>1?l-1:l],v=d[0]/p[0],m=d[1]/p[1],g=1/v,y=1/m,x=2*Math.ceil(g)+2,b=2*Math.ceil(y)+2,w=0;w<o;w++)for(var C=w*e.strides[0],E=0;E<a;E++)for(var R=C+E*e.strides[1],I=Math.floor(E*g),k=Math.floor(I-x/2),S=0;S<i;S++)for(var A=R+S*e.strides[2],D=Math.floor(S*y),T=Math.floor(D-b/2),N=0;N<s;N++){for(var F=0,_=0;_<x;_++){var O=_+k;if(!(O<0||O>=c)){var M=C+O*t.strides[1],B=O*v;if(E===Math.min(a-1,n?Math.round(B):Math.floor(B)))for(var P=0;P<b;P++){var L=P+T;if(!(L<0||L>=l)){var W=M+L*t.strides[2],U=L*m;S===Math.min(i-1,n?Math.round(U):Math.floor(U))&&(F+=f[W+N])}}}}h[A+N]=F}return Ln(h,e.shape,e.dtype)},o.prototype.batchNormalization=function(t,e,n,r,o,a){Hh([t,e,n,o,a],\"batchNorm\");for(var i=this.readSync(t.dataId),s=this.readSync(e.dataId),u=this.readSync(n.dataId),c=o?this.readSync(o.dataId):new Float32Array([1]),l=a?this.readSync(a.dataId):new Float32Array([0]),h=new Float32Array(i.length),f=l.length,d=c.length,p=u.length,v=s.length,m=0,g=0,y=0,x=0,b=0;b<i.length;++b)h[b]=l[m++]+(i[b]-s[g++])*c[y++]/Math.sqrt(u[x++]+r),m>=f&&(m=0),g>=v&&(g=0),y>=d&&(y=0),x>=p&&(x=0);return Ln(h,t.shape)},o.prototype.localResponseNormalization4D=function(t,e,n,r,o){Hh(t,\"localResponseNormalization4D\");var a=t.shape[3],i=a-1,s=this.readSync(t.dataId),u=t.size,c=new Float32Array(u);function l(t){for(var n=t%a,r=t-n+Math.max(0,n-e),o=t-n+Math.min(n+e,i),u=0;r<=o;r++){var c=s[r];u+=c*c}return u}for(var h=0;h<u;h++){var f=l(h),d=s[h]*Math.pow(n+r*f,-o);c[h]=d}return Ln(c,t.shape)},o.prototype.LRNGrad=function(t,e,n,r,o,a,i){Hh(t,\"LRNGrad\");for(var s=t.shape[3],u=this.readSync(t.dataId),c=this.readSync(e.dataId),l=this.readSync(n.dataId),h=new Float32Array(t.size),f=t.size,d=0;d<f;d++){for(var p=d%s,v=d-p+Math.max(0,p-r),m=d-p+Math.min(s,p+r+1),g=0,y=v;y<m;y++)g+=Math.pow(c[y],2);g=a*g+o;for(y=v;y<m;y++){var x=-2*a*i*c[y]*l[d]/g;d===y&&(x+=Math.pow(g,-i)),x*=u[d],h[y]+=x}}return Ln(h,t.shape)},o.prototype.multinomial=function(t,e,n,r){Hh(t,\"multinomial\");for(var o=e?t:go(t),a=o.shape[0],i=o.shape[1],s=Gn([a,n],\"int32\"),u=this.readSync(s.dataId),c=this.readSync(o.dataId),l=0;l<a;++l){var h=l*i,f=new Float32Array(i-1);f[0]=c[h];for(var d=1;d<f.length;++d)f[d]=f[d-1]+c[h+d];for(var p=cr(r.toString()),v=l*n,m=0;m<n;++m){var g=p();u[v+m]=f.length;for(var y=0;y<f.length;y++)if(g<f[y]){u[v+m]=y;break}}}return s},o.prototype.oneHot=function(t,e,n,r){Hh(t,\"oneHot\");var o=new Float32Array(t.size*e);o.fill(r);for(var a=this.readSync(t.dataId),i=0;i<t.size;++i)a[i]>=0&&a[i]<e&&(o[i*e+a[i]]=n);return Bn(o,[t.size,e],\"int32\")},o.prototype.nonMaxSuppression=function(t,e,n,r,o){return Hh(t,\"nonMaxSuppression\"),jo(this.readSync(t.dataId),this.readSync(e.dataId),n,r,o)},o.prototype.fft=function(t){return this.fftBatch(t,!1)},o.prototype.ifft=function(t){return this.fftBatch(t,!0)},o.prototype.fftBatch=function(t,e){for(var n=t.shape[0],r=t.shape[1],o=dr(t.shape,\"float32\"),a=dr(t.shape,\"float32\"),i=Tn(t).as2D(n,r),s=Nn(t).as2D(n,r),u=0;u<n;u++)for(var c=i.slice([u,0],[1,r]),l=s.slice([u,0],[1,r]),h=Dn(c,l),f=this.readSync(this.fftImpl(h,e).dataId),d=0;d<r;d++){var p=zo(f,d);o.values[u*r+d]=p.real,a.values[u*r+d]=p.imag}return Dn(o.toTensor(),a.toTensor()).as2D(n,r)},o.prototype.fftImpl=function(t,e){var n=t.as1D(),r=n.size;if(this.isExponentOf2(r)){var o=this.fftRadix2(n,r,e).as2D(t.shape[0],t.shape[1]);return e&&(o=Dn(Tn(o).div(On(r)),Nn(o).div(On(r)))),o}var a=this.readSync(t.dataId),i=function(t){for(var e=new Float32Array(t.length/2),n=new Float32Array(t.length/2),r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}(this.fourierTransformByMatmul(a,r,e));return Dn(i.real,i.imag).as2D(t.shape[0],t.shape[1])},o.prototype.isExponentOf2=function(t){return 0==(t&t-1)},o.prototype.fftRadix2=function(t,e,n){if(1===e)return t;var r=this.readSync(t.dataId),o=e/2,a=function(t){for(var e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e),o=0;o<t.length;o+=4)n[Math.floor(o/4)]=t[o],r[Math.floor(o/4)]=t[o+1];return{real:n,imag:r}}(r),i=Dn(a.real,a.imag).as1D(),s=function(t){for(var e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e),o=2;o<t.length;o+=4)n[Math.floor(o/4)]=t[o],r[Math.floor(o/4)]=t[o+1];return{real:n,imag:r}}(r),u=Dn(s.real,s.imag).as1D();i=this.fftRadix2(i,o,n),u=this.fftRadix2(u,o,n);var c=function(t,e){for(var n=new Float32Array(t/2),r=new Float32Array(t/2),o=0;o<Math.ceil(t/2);o++){var a=(e?2:-2)*Math.PI*(o/t);n[o]=Math.cos(a),r[o]=Math.sin(a)}return{real:n,imag:r}}(e,n),l=Dn(c.real,c.imag).mul(u),h=i.add(l),f=i.sub(l),d=Tn(h).concat(Tn(f)),p=Nn(h).concat(Nn(f));return Dn(d,p).as1D()},o.prototype.fourierTransformByMatmul=function(t,e,n){for(var r=new Float32Array(2*e),o=0;o<e;o++){for(var a=0,i=0,s=0;s<e;s++){var u=Ho(o*s,e,n),c=zo(t,s);a+=c.real*u.real-c.imag*u.imag,i+=c.real*u.imag+c.imag*u.real}n&&(a/=e,i/=e),Go(r,a,i,o)}return r},o.prototype.depthToSpace=function(t,e,n){C(\"NHWC\"===n,(function(){return\"Only NHWC dataFormat supported on CPU for depthToSpace. Got \"+n})),C(e>1,(function(){return\"blockSize should be > 1 for depthToSpace, but was: \"+e}));for(var r=t.shape[0],o=t.shape[1],a=t.shape[2],i=t.shape[3],s=o*e,u=a*e,c=i/(e*e),l=this.readSync(t.dataId),h=new Float32Array(r*s*u*c),f=0,d=0;d<r;++d)for(var p=0;p<s;++p)for(var v=Math.floor(p/e),m=p%e,g=0;g<u;++g)for(var y=Math.floor(g/e),x=(m*e+g%e)*c,b=0;b<c;++b){var w=b+x+i*(y+a*(v+o*d));h[f++]=l[w]}return Ln(h,[r,s,u,c])},o.prototype.broadcastedBinaryOp=function(t,e,n,r){var o=Ro(t.shape,e.shape),a=dr(o,n),i=this.readSync(t.dataId),s=this.readSync(e.dataId),u=Co(t.shape,o),c=Co(e.shape,o),l=a.values;if(u.length+c.length===0)for(var h=0;h<l.length;++h)l[h]=r(i[h%i.length],s[h%s.length]);else{var f=this.bufferSync(t),d=this.bufferSync(e),p=function(n){var o=a.indexToLoc(n),h=o.slice(-t.rank);u.forEach((function(t){return h[t]=0}));var p=f.locToIndex(h),v=o.slice(-e.rank);c.forEach((function(t){return v[t]=0}));var m=d.locToIndex(v);l[n]=r(i[p],s[m])};for(h=0;h<l.length;++h)p(h)}return a.toTensor()},o.prototype.broadcastedBinaryComplexOp=function(t,e,n){var r=Ro(t.shape,e.shape),o=dr(r,\"float32\"),a=dr(r,\"float32\"),i=this.readSync(t.dataId),s=this.readSync(e.dataId),u=Co(t.shape,r),c=Co(e.shape,r),l=o.values,h=a.values;if(u.length+c.length===0)for(var f=0;f<l.length;f++){var d=f%i.length,p=f%s.length,v=n(i[2*d],i[2*d+1],s[2*p],s[2*p+1]);l[f]=v.real,h[f]=v.imag}else{var m=this.bufferSync(this.data.get(t.dataId).complexTensors.real),g=this.bufferSync(this.data.get(e.dataId).complexTensors.real),y=function(r){var a=o.indexToLoc(r),f=a.slice(-t.rank);u.forEach((function(t){return f[t]=0}));var d=m.locToIndex(f),p=a.slice(-e.rank);c.forEach((function(t){return p[t]=0}));var v=g.locToIndex(p),y=n(i[2*d],i[2*d+1],s[2*v],s[2*v+1]);l[r]=y.real,h[r]=y.imag};for(f=0;f<l.length;f++)y(f)}return this.complex(o.toTensor(),a.toTensor())},o.prototype.split=function(t,e,n){return Zo(t,e,n)},o.prototype.dispose=function(){},o.prototype.floatPrecision=function(){return 32},o.prototype.epsilon=function(){return 1e-7},o.prototype.cropAndResize=function(t,e,n,r,o,a){for(var i=t.shape,s=i[0],u=i[1],c=i[2],l=i[3],h=e.shape[0],f=r[0],d=r[1],p=dr([h,f,d,l],\"float32\"),v=this.readSync(e.dataId),m=this.readSync(n.dataId),g=this.readSync(t.dataId),y=t.strides,x=p.strides,b=0;b<h;b++){var w=4*b,C=v[w],E=v[w+1],R=v[w+2],I=v[w+3],k=m[b];if(!(k>=s))for(var S=f>1?(R-C)*(u-1)/(f-1):0,A=d>1?(I-E)*(c-1)/(d-1):0,D=0;D<f;D++){var T=f>1?C*(u-1)+D*S:.5*(C+R)*(u-1);if(T<0||T>u-1)for(var N=0;N<d;N++)for(var F=0;F<l;F++){var _=F+N*x[2]+D*x[1]+b*x[0];p.values[_]=a}else if(\"bilinear\"===o){var O=Math.floor(T),M=Math.ceil(T),B=T-O;for(N=0;N<d;N++){if((q=d>1?E*(c-1)+N*A:.5*(E+I)*(c-1))<0||q>c-1)for(F=0;F<l;F++){_=F+N*x[2]+D*x[1]+b*x[0];p.values[_]=a}else{var P=Math.floor(q),L=Math.ceil(q),W=q-P;for(F=0;F<l;F++){var U=g[_=F+P*y[2]+O*y[1]+k*y[0]],V=g[_=F+L*y[2]+O*y[1]+k*y[0]],z=g[_=F+P*y[2]+M*y[1]+k*y[0]],G=U+(V-U)*W,H=z+(g[_=F+L*y[2]+M*y[1]+k*y[0]]-z)*W;_=F+N*x[2]+D*x[1]+b*x[0],p.values[_]=G+(H-G)*B}}}}else for(N=0;N<d;++N){var q;if((q=d>1?E*(c-1)+N*A:.5*(E+I)*(c-1))<0||q>c-1)for(F=0;F<l;F++){_=F+N*x[2]+D*x[1]+b*x[0];p.values[_]=a}else{var K=Math.round(q),j=Math.round(T);for(F=0;F<l;F++){var X=F+K*y[2]+j*y[1]+k*y[0],Y=F+N*x[2]+D*x[1]+b*x[0];p.values[Y]=g[X]}}}}}return p.toTensor()},o.prototype.sparseToDense=function(t,e,n,r){var o=Zr(0,t,n),a=o.sliceRank,i=o.numUpdates,s=o.sliceSize,u=o.strides,c=o.outputSize;return this.scatter(t,e,n,c,s,i,a,u,r,!1)},o.prototype.gatherND=function(t,e){var n=e.shape,r=n[n.length-1],o=jr(t,e),a=o[0],i=o[1],s=o[2],u=o[3];if(0===i)return Fn([],a,t.dtype);for(var c=new gt([i,s],t.dtype),l=this.readSync(e.dataId),h=this.readSync(t.dataId),f=0;f<i;f++){for(var d=[],p=0,v=0;v<r;v++){var m=l[f*r+v];p+=m*u[v],d.push(m)}if(p<0||p>=t.size/s)throw new Error(\"Invalid indices: \"+d+\" does not index into \"+t.shape);for(var g=0;g<s;g++)c.values[f*s+g]=h[p*s+g]}return c.toTensor().reshape(a)},o.prototype.scatterND=function(t,e,n){var r=Zr(0,t,n),o=r.sliceRank,a=r.numUpdates,i=r.sliceSize,s=r.strides,u=r.outputSize,c=On(0);return this.scatter(t,e,n,u,i,a,o,s,c,!0)},o.prototype.fill=function(t,e,n){var r=P(n=n||j(e),k(t));return r.fill(e),Lt.makeTensor(r,t,n,this)},o.prototype.onesLike=function(t){if(\"string\"===t.dtype)throw new Error(\"onesLike is not supported for string tensors\");return this.fill(t.shape,1,t.dtype)},o.prototype.zerosLike=function(t){var e=P(t.dtype,k(t.shape));return this.makeOutput(e,t.shape,t.dtype)},o.prototype.linspace=function(t,e,n){return Wo(t,e,n)},o.prototype.scatter=function(t,e,n,r,o,a,i,s,u,c){var l=[r/o,o],h=this.readSync(t.dataId),f=this.readSync(e.dataId);if(0===r)return Fn([],n,e.dtype);var d=new gt(l,e.dtype);d.values.fill(this.readSync(u.dataId)[0]);for(var p=0;p<a;p++){for(var v=[],m=0,g=0;g<i;g++){var y=h[p*i+g];v.push(y),m+=y*s[g]}if(m<0||m>=r/o)throw new Error(\"Invalid indices: \"+v+\" does not index into \"+n);for(var x=0;x<o;x++)c?d.values[m*o+x]+=f[p*o+x]:d.values[m*o+x]=0===e.rank?f[0]:f[p*o+x]}return d.toTensor().reshape(n)},o}(bo);Lt.registerBackend(\"cpu\",(function(){return new Kh}),1);for(var jh=0,Xh=[{kernelName:\"NonMaxSuppressionV5\",backendName:\"cpu\",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs,o=e,a=o.boxes,i=o.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,l=s.scoreThreshold,h=s.softNmsSigma,f=n;Hh(a,\"NonMaxSuppressionWithScore\");var d=Xo(f.data.get(a.dataId).values,f.data.get(i.dataId).values,u,c,l,h);return[d.selectedIndices,d.selectedScores]}},{kernelName:\"Square\",backendName:\"cpu\",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e.x,o=n;Hh(r,\"square\");for(var a=o.data.get(r.dataId).values,i=new Float32Array(a.length),s=0;s<a.length;++s){var u=a[s];i[s]=u*u}return{dataId:o.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:eu,backendName:\"cpu\",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e,o=r.a,a=r.b,i=n;Hh([o,a],eu);var s=i.data.get(o.dataId).values,u=i.data.get(a.dataId).values,c=function(t,e,n,r,o,a){var i=Ro(t,e),s=i.length,u=$(i),c=B(o,k(i)),l=t.length,h=e.length,f=$(t),d=$(e),p=Co(t,i),v=Co(e,i);if(p.length+v.length===0)for(var m=0;m<c.length;++m)c[m]=a(n[m%n.length],r[m%r.length]);else{var g=function(t){var e=it(t,s,u),o=e.slice(-l);p.forEach((function(t){return o[t]=0}));var i=at(o,l,f),m=e.slice(-h);v.forEach((function(t){return m[t]=0}));var g=at(m,h,d);c[t]=a(n[i],r[g])};for(m=0;m<c.length;++m)g(m)}return[c,i]}(o.shape,a.shape,s,u,o.dtype,(function(t,e){var n=t-e;return n*n})),l=c[0],h=c[1];return{dataId:i.write(l,h,o.dtype),shape:h,dtype:o.dtype}}}];jh<Xh.length;jh++){d(Xh[jh])}var Yh,$h=function(t){this.variableNames=[\"A\"];var e=ua(),n=t[0],r=t[1];this.outputShape=t,this.userCode=\"\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n        int texR = coords[0];\\n        int texC = coords[1];\\n        int depth = coords[2];\\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(\"+r+\".0, \"+n+\".0);\\n\\n        vec4 values = \"+e.texture2D+\"(A, uv);\\n        float value;\\n        if (depth == 0) {\\n          value = values.r;\\n        } else if (depth == 1) {\\n          value = values.g;\\n        } else if (depth == 2) {\\n          value = values.b;\\n        } else if (depth == 3) {\\n          value = values.a;\\n        }\\n\\n        setOutput(floor(value * 255.0 + 0.5));\\n      }\\n    \"},Qh=function(t){this.variableNames=[\"A\"],this.packedInputs=!1,this.packedOutput=!0;var e=ua(),n=t[0],r=t[1];this.outputShape=t,this.userCode=\"\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n        int texR = coords[0];\\n        int texC = coords[1];\\n        int depth = coords[2];\\n\\n        vec4 result = vec4(0.);\\n\\n        for(int row=0; row<=1; row++) {\\n          for(int col=0; col<=1; col++) {\\n            texC = coords[1] + row;\\n            depth = coords[2] + col;\\n\\n            vec2 uv = (vec2(texC, texR) + halfCR) /\\n                       vec2(\"+r+\".0, \"+n+\".0);\\n            vec4 values = \"+e.texture2D+\"(A, uv);\\n            float value;\\n            if (depth == 0) {\\n              value = values.r;\\n            } else if (depth == 1) {\\n              value = values.g;\\n            } else if (depth == 2) {\\n              value = values.b;\\n            } else if (depth == 3) {\\n              value = values.a;\\n            }\\n\\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\\n          }\\n        }\\n\\n        \"+e.output+\" = result;\\n      }\\n    \"};for(var Jh=0,Zh=[{kernelName:\"FromPixels\",backendName:\"webgl\",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs,o=e.pixels,a=r.numChannels,s=\"undefined\"!=typeof HTMLVideoElement&&o instanceof HTMLVideoElement,u=\"undefined\"!=typeof HTMLImageElement&&o instanceof HTMLImageElement,c=s?[o.videoWidth,o.videoHeight]:[o.width,o.height],l=c[0],h=c[1],f=[h,l],d=[h,l,a];(u||s)&&(null==Yh&&(Yh=document.createElement(\"canvas\").getContext(\"2d\")),Yh.canvas.width=l,Yh.canvas.height=h,Yh.drawImage(o,0,0,l,h),o=Yh.canvas);var p=n.makeTensorInfo(f,\"int32\");n.texData.get(p.dataId).usage=zt.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),o);var v=i().getBool(\"WEBGL_PACK\")?new Qh(d):new $h(d),m=n.runWebGLProgram(v,[p],\"int32\");return n.disposeData(p.dataId),m}},{kernelName:\"NonMaxSuppressionV5\",backendName:\"webgl\",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs;dn(\"tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead\");var o=e,a=o.boxes,i=o.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,l=s.scoreThreshold,h=s.softNmsSigma,f=n,d=Xo(f.readSync(a.dataId),f.readSync(i.dataId),u,c,l,h);return[d.selectedIndices,d.selectedScores]}},{kernelName:\"Square\",backendName:\"webgl\",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e.x,o=n,a=new Cs(r.shape,\"return x * x;\");return o.runWebGLProgram(a,[r],r.dtype)}},{kernelName:eu,backendName:\"webgl\",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e,o=r.a,a=r.b,s=n,u=i().getBool(\"WEBGL_PACK_BINARY_OPERATIONS\")?new La(\"return (a - b) * (a - b);\",o.shape,a.shape):new Ba(\"return (a - b) * (a - b);\",o.shape,a.shape);return s.compileAndRun(u,[o,a])}}];Jh<Zh.length;Jh++){d(Zh[Jh])}for(var tf=0,ef=[{kernelName:\"Square\",gradFunc:function(t,e){var n=e[0];return{x:function(){return t.mul(n.toFloat().mul(2))}}}},{kernelName:eu,gradFunc:function(t,e){var n=e[0],r=e[1],o=On(2);return{a:function(){return gc(t,gc(o,Cc(n,r)))},b:function(){return gc(t,gc(o,Cc(r,n)))}}}}];tf<ef.length;tf++){p(ef[tf])}var nf=function(){function t(){}return t.prototype.fetch=function(t,e){return fetch(t,e)},t.prototype.now=function(){return performance.now()},t.prototype.encode=function(t,e){if(\"utf-8\"!==e&&\"utf8\"!==e)throw new Error(\"Browser's encoder only supports utf-8, but got \"+e);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)},t.prototype.decode=function(t,e){return new TextDecoder(e).decode(t)},t}();i().get(\"IS_BROWSER\")&&i().setPlatform(\"browser\",new nf);var rf,of=function(){return __webpack_require__(/*! node-fetch */ \"(ssr)/./node_modules/node-fetch/lib/index.es.js\")},af=function(){function t(){this.util=__webpack_require__(/*! util */ \"util\"),this.textEncoder=new this.util.TextEncoder}return t.prototype.fetch=function(t,e){return null!=i().global.fetch?i().global.fetch(t,e):(null==rf&&(rf=of()),rf(t,e))},t.prototype.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6},t.prototype.encode=function(t,e){if(\"utf-8\"!==e&&\"utf8\"!==e)throw new Error(\"Node built-in encoder only supports utf-8, but got \"+e);return this.textEncoder.encode(t)},t.prototype.decode=function(t,e){return 0===t.length?\"\":new this.util.TextDecoder(e).decode(t)},t}();i().get(\"IS_NODE\")&&i().setPlatform(\"node\",new af);var sf={float32:4,int32:4,uint16:2,uint8:1,bool:1},uf=4;function cf(t,e){for(var n={},r=0,o=function(e){var o=e.name,a=e.dtype,i=e.shape,s=k(i),u=void 0;if(\"quantization\"in e){var c=e.quantization;if(\"uint8\"!==c.dtype&&\"uint16\"!==c.dtype)throw new Error(\"Weight \"+e.name+\" has unknown quantization dtype \"+c.dtype+\". Supported quantization dtypes are: 'uint8' and 'uint16'.\");var l=sf[c.dtype],h=t.slice(r,r+s*l),f=\"uint8\"===c.dtype?new Uint8Array(h):new Uint16Array(h);if(\"float32\"===a)u=Float32Array.from(f,(function(t){return t*c.scale+c.min}));else{if(\"int32\"!==a)throw new Error(\"Unsupported dtype in weight '\"+o+\"': \"+a);u=Int32Array.from(f,(function(t){return Math.round(t*c.scale+c.min)}))}r+=s*l}else if(\"string\"===a){var d=k(e.shape);u=[];for(var p=0;p<d;p++){var v=new Uint32Array(t.slice(r,r+uf))[0];r+=uf;var m=new Uint8Array(t.slice(r,r+v));u.push(m),r+=v}}else{var g=sf[a];h=t.slice(r,r+s*g);if(\"float32\"===a)u=new Float32Array(h);else if(\"int32\"===a)u=new Int32Array(h);else{if(\"bool\"!==a)throw new Error(\"Unsupported dtype in weight '\"+o+\"': \"+a);u=new Uint8Array(h)}r+=s*g}n[o]=Fn(u,i,a)},a=0,i=e;a<i.length;a++){o(i[a])}return n}function lf(t){if(null===t)throw new Error(\"Invalid input value: \"+JSON.stringify(t));var e=0,n=[];t.forEach((function(t){if(e+=t.byteLength,n.push(t.byteLength===t.buffer.byteLength?t:new t.constructor(t)),!(t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array))throw new Error(\"Unsupported TypedArray subtype: \"+t.constructor.name)}));var r=new Uint8Array(e),o=0;return n.forEach((function(t){r.set(new Uint8Array(t.buffer),o),o+=t.byteLength})),r.buffer}var hf=\"undefined\"!=typeof Buffer&&(\"undefined\"==typeof Blob||\"undefined\"==typeof atob||\"undefined\"==typeof btoa);function ff(t){return hf?Buffer.byteLength(t):new Blob([t]).size}function df(t){var e=0;t.forEach((function(t){e+=t.byteLength}));var n=new Uint8Array(e),r=0;return t.forEach((function(t){n.set(new Uint8Array(t),r),r+=t.byteLength})),n.buffer}function pf(t){for(t=t.trim();t.endsWith(\"/\");)t=t.slice(0,t.length-1);var e=t.split(\"/\");return e[e.length-1]}function vf(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error(\"Expected JSON model topology, received ArrayBuffer.\");return{dateSaved:new Date,modelTopologyType:\"JSON\",modelTopologyBytes:null==t.modelTopology?0:ff(JSON.stringify(t.modelTopology)),weightSpecsBytes:null==t.weightSpecs?0:ff(JSON.stringify(t.weightSpecs)),weightDataBytes:null==t.weightData?0:t.weightData.byteLength}}var mf=function(){function t(){this.saveRouters=[],this.loadRouters=[]}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerSaveRouter=function(e){t.getInstance().saveRouters.push(e)},t.registerLoadRouter=function(e){t.getInstance().loadRouters.push(e)},t.getSaveHandlers=function(e){return t.getHandlers(e,\"save\")},t.getLoadHandlers=function(e,n){return t.getHandlers(e,\"load\",n)},t.getHandlers=function(e,n,r){var o=[];return(\"load\"===n?t.getInstance().loadRouters:t.getInstance().saveRouters).forEach((function(t){var n=t(e,r);null!==n&&o.push(n)})),o},t}(),gf=\"://\",yf=function(){function t(){this.managers={}}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerManager=function(e,n){C(null!=e,(function(){return\"scheme must not be undefined or null.\"})),e.endsWith(gf)&&(e=e.slice(0,e.indexOf(gf))),C(e.length>0,(function(){return\"scheme must not be an empty string.\"}));var r=t.getInstance();C(null==r.managers[e],(function(){return\"A model store manager is already registered for scheme '\"+e+\"'.\"})),r.managers[e]=n},t.getManager=function(t){var e=this.getInstance().managers[t];if(null==e)throw new Error(\"Cannot find model manager for scheme '\"+t+\"'\");return e},t.getSchemes=function(){return Object.keys(this.getInstance().managers)},t}();function xf(t){if(-1===t.indexOf(gf))throw new Error(\"The url string provided does not contain a scheme. Supported schemes are: \"+yf.getSchemes().join(\",\"));return{scheme:t.split(gf)[0],path:t.split(gf)[1]}}function bf(t,e,o){return void 0===o&&(o=!1),n(this,void 0,void 0,(function(){var n,a,i,s,u,c,l,h,f;return r(this,(function(r){switch(r.label){case 0:return C(t!==e,(function(){return\"Old path and new path are the same: '\"+t+\"'\"})),C((n=mf.getLoadHandlers(t)).length>0,(function(){return\"Copying failed because no load handler is found for source URL \"+t+\".\"})),C(n.length<2,(function(){return\"Copying failed because more than one (\"+n.length+\") load handlers for source URL \"+t+\".\"})),a=n[0],C((i=mf.getSaveHandlers(e)).length>0,(function(){return\"Copying failed because no save handler is found for destination URL \"+e+\".\"})),C(i.length<2,(function(){return\"Copying failed because more than one (\"+n.length+\") save handlers for destination URL \"+e+\".\"})),s=i[0],u=xf(t).scheme,c=xf(t).path,l=u===xf(t).scheme,[4,a.load()];case 1:return h=r.sent(),o&&l?[4,yf.getManager(u).removeModel(c)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[4,s.save(h)];case 4:return f=r.sent(),!o||l?[3,6]:[4,yf.getManager(u).removeModel(c)];case 5:r.sent(),r.label=6;case 6:return[2,f.modelArtifactsInfo]}}))}))}var wf=\"models_store\",Cf=\"model_info_store\";function Ef(){if(!i().getBool(\"IS_BROWSER\"))throw new Error(\"Failed to obtain IndexedDB factory because the current environmentis not a web browser.\");var t=window||self,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(null==e)throw new Error(\"The current browser does not appear to support IndexedDB.\");return e}function Rf(t){var e=t.result;e.createObjectStore(wf,{keyPath:\"modelPath\"}),e.createObjectStore(Cf,{keyPath:\"modelPath\"})}var If=function(){function t(t){if(this.indexedDB=Ef(),null==t||!t)throw new Error(\"For IndexedDB, modelPath must not be null, undefined or empty.\");this.modelPath=t}return t.prototype.save=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){if(t.modelTopology instanceof ArrayBuffer)throw new Error(\"BrowserLocalStorage.save() does not support saving model topology in binary formats yet.\");return[2,this.databaseAction(this.modelPath,t)]}))}))},t.prototype.load=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.databaseAction(this.modelPath)]}))}))},t.prototype.databaseAction=function(t,e){var n=this;return new Promise((function(t,r){var o=n.indexedDB.open(\"tensorflowjs\",1);o.onupgradeneeded=function(){return Rf(o)},o.onsuccess=function(){var a=o.result;if(null==e){var i=a.transaction(wf,\"readonly\"),s=i.objectStore(wf).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return a.close(),r(new Error(\"Cannot find model with path '\"+n.modelPath+\"' in IndexedDB.\"));t(s.result.modelArtifacts)},s.onerror=function(t){return a.close(),r(s.error)},i.oncomplete=function(){return a.close()}}else{var u,c=vf(e),l=a.transaction(Cf,\"readwrite\"),h=l.objectStore(Cf),f=h.put({modelPath:n.modelPath,modelArtifactsInfo:c});f.onsuccess=function(){var o=(u=a.transaction(wf,\"readwrite\")).objectStore(wf).put({modelPath:n.modelPath,modelArtifacts:e,modelArtifactsInfo:c});o.onsuccess=function(){return t({modelArtifactsInfo:c})},o.onerror=function(t){var e=(h=l.objectStore(Cf)).delete(n.modelPath);e.onsuccess=function(){return a.close(),r(o.error)},e.onerror=function(t){return a.close(),r(o.error)}}},f.onerror=function(t){return a.close(),r(f.error)},l.oncomplete=function(){null==u?a.close():u.oncomplete=function(){return a.close()}}}},o.onerror=function(t){return r(o.error)}}))},t.URL_SCHEME=\"indexeddb://\",t}(),kf=function(t){return i().getBool(\"IS_BROWSER\")&&!Array.isArray(t)&&t.startsWith(If.URL_SCHEME)?(e=t.slice(If.URL_SCHEME.length),new If(e)):null;var e};mf.registerSaveRouter(kf),mf.registerLoadRouter(kf);var Sf=function(){function t(){this.indexedDB=Ef()}return t.prototype.listModels=function(){return n(this,void 0,void 0,(function(){var t=this;return r(this,(function(e){return[2,new Promise((function(e,n){var r=t.indexedDB.open(\"tensorflowjs\",1);r.onupgradeneeded=function(){return Rf(r)},r.onsuccess=function(){var t=r.result,o=t.transaction(Cf,\"readonly\"),a=o.objectStore(Cf).getAll();a.onsuccess=function(){for(var t={},n=0,r=a.result;n<r.length;n++){var o=r[n];t[o.modelPath]=o.modelArtifactsInfo}e(t)},a.onerror=function(e){return t.close(),n(a.error)},o.oncomplete=function(){return t.close()}},r.onerror=function(t){return n(r.error)}}))]}))}))},t.prototype.removeModel=function(t){return n(this,void 0,void 0,(function(){var e=this;return r(this,(function(n){var r;return t=(r=t).startsWith(If.URL_SCHEME)?r.slice(If.URL_SCHEME.length):r,[2,new Promise((function(n,r){var o=e.indexedDB.open(\"tensorflowjs\",1);o.onupgradeneeded=function(){return Rf(o)},o.onsuccess=function(){var e,a=o.result,i=a.transaction(Cf,\"readwrite\"),s=i.objectStore(Cf),u=s.get(t);u.onsuccess=function(){if(null==u.result)return a.close(),r(new Error(\"Cannot find model with path '\"+t+\"' in IndexedDB.\"));var o=s.delete(t),i=function(){var o=(e=a.transaction(wf,\"readwrite\")).objectStore(wf).delete(t);o.onsuccess=function(){return n(u.result.modelArtifactsInfo)},o.onerror=function(t){return r(u.error)}};o.onsuccess=i,o.onerror=function(t){return i(),a.close(),r(u.error)}},u.onerror=function(t){return a.close(),r(u.error)},i.oncomplete=function(){null==e?a.close():e.oncomplete=function(){return a.close()}}},o.onerror=function(t){return r(o.error)}}))]}))}))},t}();if(i().getBool(\"IS_BROWSER\"))try{yf.registerManager(If.URL_SCHEME,new Sf)}catch(t){}var Af=\"/\",Df=\"tensorflowjs_models\",Tf=\"info\",Nf=\"model_topology\",Ff=\"weight_specs\",_f=\"weight_data\",Of=\"model_metadata\";function Mf(t){return{info:[Df,t,Tf].join(Af),topology:[Df,t,Nf].join(Af),weightSpecs:[Df,t,Ff].join(Af),weightData:[Df,t,_f].join(Af),modelMetadata:[Df,t,Of].join(Af)}}function Bf(t){var e=t.split(Af);if(e.length<3)throw new Error(\"Invalid key format: \"+t);return e.slice(1,e.length-1).join(Af)}var Pf=function(){function t(t){if(!i().getBool(\"IS_BROWSER\")||\"undefined\"==typeof window||void 0===window.localStorage)throw new Error(\"The current environment does not support local storage.\");if(this.LS=window.localStorage,null==t||!t)throw new Error(\"For local storage, modelPath must not be null, undefined or empty.\");this.modelPath=t,this.keys=Mf(this.modelPath)}return t.prototype.save=function(t){return n(this,void 0,void 0,(function(){var e,n,o;return r(this,(function(r){if(t.modelTopology instanceof ArrayBuffer)throw new Error(\"BrowserLocalStorage.save() does not support saving model topology in binary formats yet.\");e=JSON.stringify(t.modelTopology),n=JSON.stringify(t.weightSpecs),o=vf(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,e),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(t){if(hf)return Buffer.from(t).toString(\"base64\");for(var e=new Uint8Array(t),n=\"\",r=0,o=e.length;r<o;r++)n+=String.fromCharCode(e[r]);return btoa(n)}(t.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata})),[2,{modelArtifactsInfo:o}]}catch(t){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error(\"Failed to save model '\"+this.modelPath+\"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=\"+o.modelTopologyBytes+\", weightSpecsBytes=\"+o.weightSpecsBytes+\", weightDataBytes=\"+o.weightDataBytes+\".\")}return[2]}))}))},t.prototype.load=function(){return n(this,void 0,void 0,(function(){var t,e,n,o,a,i,s;return r(this,(function(r){if(null==(t=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error(\"In local storage, there is no model with name '\"+this.modelPath+\"'\");if(\"JSON\"!==t.modelTopologyType)throw new Error(\"BrowserLocalStorage does not support loading non-JSON model topology yet.\");if(e={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error(\"In local storage, the topology of model '\"+this.modelPath+\"' is missing.\");if(e.modelTopology=n,null==(o=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error(\"In local storage, the weight specs of model '\"+this.modelPath+\"' are missing.\");if(e.weightSpecs=o,null!=(a=this.LS.getItem(this.keys.modelMetadata))&&(i=JSON.parse(a),e.format=i.format,e.generatedBy=i.generatedBy,e.convertedBy=i.convertedBy,e.userDefinedMetadata=i.userDefinedMetadata),null==(s=this.LS.getItem(this.keys.weightData)))throw new Error(\"In local storage, the binary weight values of model '\"+this.modelPath+\"' are missing.\");return e.weightData=function(t){if(hf){var e=Buffer.from(t,\"base64\");return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}for(var n=atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r.set([n.charCodeAt(o)],o);return r.buffer}(s),[2,e]}))}))},t.URL_SCHEME=\"localstorage://\",t}(),Lf=function(t){return i().getBool(\"IS_BROWSER\")&&!Array.isArray(t)&&t.startsWith(Pf.URL_SCHEME)?(e=t.slice(Pf.URL_SCHEME.length),new Pf(e)):null;var e};mf.registerSaveRouter(Lf),mf.registerLoadRouter(Lf);var Wf=function(){function t(){C(i().getBool(\"IS_BROWSER\"),(function(){return\"Current environment is not a web browser\"})),C(\"undefined\"==typeof window||void 0!==window.localStorage,(function(){return\"Current browser does not appear to support localStorage\"})),this.LS=window.localStorage}return t.prototype.listModels=function(){return n(this,void 0,void 0,(function(){var t,e,n,o,a,i;return r(this,(function(r){for(t={},e=Df+Af,n=Af+Tf,o=0;o<this.LS.length;++o)(a=this.LS.key(o)).startsWith(e)&&a.endsWith(n)&&(i=Bf(a),t[i]=JSON.parse(this.LS.getItem(a)));return[2,t]}))}))},t.prototype.removeModel=function(t){return n(this,void 0,void 0,(function(){var e,n;return r(this,(function(r){var o;if(t=(o=t).startsWith(Pf.URL_SCHEME)?o.slice(Pf.URL_SCHEME.length):o,e=Mf(t),null==this.LS.getItem(e.info))throw new Error(\"Cannot find model at path '\"+t+\"'\");return n=JSON.parse(this.LS.getItem(e.info)),this.LS.removeItem(e.info),this.LS.removeItem(e.topology),this.LS.removeItem(e.weightSpecs),this.LS.removeItem(e.weightData),[2,n]}))}))},t}();if(i().getBool(\"IS_BROWSER\"))try{yf.registerManager(Pf.URL_SCHEME,new Wf)}catch(t){}var Uf=\"model\",Vf=\".json\",zf=\".weights.bin\";function Gf(t){return new Promise((function(t){return setTimeout(t)})).then(t)}var Hf=function(){function t(e){if(!i().getBool(\"IS_BROWSER\"))throw new Error(\"browserDownloads() cannot proceed because the current environment is not a browser.\");e.startsWith(t.URL_SCHEME)&&(e=e.slice(t.URL_SCHEME.length)),null!=e&&0!==e.length||(e=Uf),this.modelTopologyFileName=e+Vf,this.weightDataFileName=e+zf}return t.prototype.save=function(t){return n(this,void 0,void 0,(function(){var e,n,o,a,i,s;return r(this,(function(r){switch(r.label){case 0:if(\"undefined\"==typeof document)throw new Error(\"Browser downloads are not supported in this environment since `document` is not present\");if(e=window.URL.createObjectURL(new Blob([t.weightData],{type:\"application/octet-stream\"})),!(t.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error(\"BrowserDownloads.save() does not support saving model topology in binary formats yet.\");case 1:return n=[{paths:[\"./\"+this.weightDataFileName],weights:t.weightSpecs}],o={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:n},a=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:\"application/json\"})),(i=null==this.jsonAnchor?document.createElement(\"a\"):this.jsonAnchor).download=this.modelTopologyFileName,i.href=a,[4,Gf((function(){return i.dispatchEvent(new MouseEvent(\"click\"))}))];case 2:return r.sent(),null==t.weightData?[3,4]:((s=null==this.weightDataAnchor?document.createElement(\"a\"):this.weightDataAnchor).download=this.weightDataFileName,s.href=e,[4,Gf((function(){return s.dispatchEvent(new MouseEvent(\"click\"))}))]);case 3:r.sent(),r.label=4;case 4:return[2,{modelArtifactsInfo:vf(t)}]}}))}))},t.URL_SCHEME=\"downloads://\",t}(),qf=function(){function t(t){if(null==t||t.length<1)throw new Error(\"When calling browserFiles, at least 1 file is required, but received \"+t);this.files=t}return t.prototype.load=function(){return n(this,void 0,void 0,(function(){var t,e,n=this;return r(this,(function(r){return t=this.files[0],e=this.files.slice(1),[2,new Promise((function(r,o){var a=new FileReader;a.onload=function(a){var i=JSON.parse(a.target.result),s=i.modelTopology;if(null!=s){0===e.length&&r({modelTopology:s});var u=i.weightsManifest;if(null!=u){var c;try{c=n.checkManifestAndWeightFiles(u,e)}catch(t){return void o(t)}var l=[],h=[],f=[];u.forEach((function(t){t.paths.forEach((function(t){h.push(t),f.push(null)})),l.push.apply(l,t.weights)})),u.forEach((function(t){t.paths.forEach((function(t){var e=new FileReader;e.onload=function(e){var n=e.target.result,o=h.indexOf(t);f[o]=n,-1===f.indexOf(null)&&r({modelTopology:s,weightSpecs:l,weightData:df(f),format:i.format,generatedBy:i.generatedBy,convertedBy:i.convertedBy,userDefinedMetadata:i.userDefinedMetadata})},e.onerror=function(e){return o(\"Failed to weights data from file of path '\"+t+\"'.\")},e.readAsArrayBuffer(c[t])}))}))}else o(new Error(\"weightManifest field is missing from file \"+t.name))}else o(new Error(\"modelTopology field is missing from file \"+t.name))},a.onerror=function(e){return o(\"Failed to read model topology and weights manifest JSON from file '\"+t.name+\"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.\")},a.readAsText(t)}))]}))}))},t.prototype.checkManifestAndWeightFiles=function(t,e){for(var n=[],r=e.map((function(t){return pf(t.name)})),o={},a=0,i=t;a<i.length;a++){i[a].paths.forEach((function(t){var a=pf(t);if(-1!==n.indexOf(a))throw new Error(\"Duplicate file basename found in weights manifest: '\"+a+\"'\");if(n.push(a),-1===r.indexOf(a))throw new Error(\"Weight file with basename '\"+a+\"' is not provided.\");o[t]=e[r.indexOf(a)]}))}if(n.length!==e.length)throw new Error(\"Mismatch in the number of files in weights manifest (\"+n.length+\") and the number of weight files provided (\"+e.length+\").\");return o},t}();function Kf(t,e,n,r){!function(t){C(null!=t&&Array.isArray(t)&&t.length>0,(function(){return\"promises must be a none empty array\"}))}(t),function(t,e){C(t>=0&&t<=1,(function(){return\"Progress fraction must be in range [0, 1], but got startFraction \"+t})),C(e>=0&&e<=1,(function(){return\"Progress fraction must be in range [0, 1], but got endFraction \"+e})),C(e>=t,(function(){return\"startFraction must be no more than endFraction, but got startFraction \"+t+\" and endFraction \"+e}))}(n=null==n?0:n,r=null==r?1:r);var o=0;return Promise.all(t.map((function(a){return a.then((function(a){var i=n+ ++o/t.length*(r-n);return e(i),a})),a})))}function jf(t,e){return n(this,void 0,void 0,(function(){var n,o,a,s,u,c,l,h,f;return r(this,(function(r){switch(r.label){case 0:return null==e&&(e={}),n=null==e.fetchFunc?i().platform.fetch:e.fetchFunc,o=t.map((function(t){return n(t,e.requestInit,{isBinary:!0})})),a=0,s=.5,null!=e.onProgress?[3,2]:[4,Promise.all(o)];case 1:return u=r.sent(),[3,4];case 2:return[4,Kf(o,e.onProgress,a,s)];case 3:u=r.sent(),r.label=4;case 4:return c=u.map((function(t){return t.arrayBuffer()})),l=.5,h=1,null!=e.onProgress?[3,6]:[4,Promise.all(c)];case 5:return f=r.sent(),[3,8];case 6:return[4,Kf(c,e.onProgress,l,h)];case 7:f=r.sent(),r.label=8;case 8:return[2,f]}}))}))}function Xf(t){var e=this;return function(o,a,i){return void 0===a&&(a=\"\"),n(e,void 0,void 0,(function(){var e,n,s,u,c,l,h,f,d,p;return r(this,(function(r){switch(r.label){case 0:if(e=o.map((function(){return!1})),n={},s=null!=i?i.map((function(){return!1})):[],u=[],o.forEach((function(t,r){var o=0;t.weights.forEach((function(t){var a=\"quantization\"in t?t.quantization.dtype:t.dtype,c=sf[a]*k(t.shape),l=function(){e[r]=!0,null==n[r]&&(n[r]=[]),n[r].push({manifestEntry:t,groupOffset:o,sizeBytes:c})};null!=i?i.forEach((function(e,n){e===t.name&&(l(),s[n]=!0)})):l(),u.push(t.name),o+=c}))})),!s.every((function(t){return t})))throw c=i.filter((function(t,e){return!s[e]})),new Error(\"Could not find weights in manifest with names: \"+c.join(\", \")+\". \\nManifest JSON has weights with names: \"+u.join(\", \")+\".\");return l=e.reduce((function(t,e,n){return e&&t.push(n),t}),[]),h=[],l.forEach((function(t){o[t].paths.forEach((function(t){var e=a+(a.endsWith(\"/\")?\"\":\"/\")+t;h.push(e)}))})),[4,t(h)];case 1:return f=r.sent(),d={},p=0,l.forEach((function(t){for(var e=o[t].paths.length,r=0,a=0;a<e;a++)r+=f[p+a].byteLength;for(var i=new ArrayBuffer(r),s=new Uint8Array(i),u=0,c=0;c<e;c++){var l=new Uint8Array(f[p+c]);s.set(l,u),u+=l.byteLength}n[t].forEach((function(t){var e=cf(i.slice(t.groupOffset,t.groupOffset+t.sizeBytes),[t.manifestEntry]);for(var n in e)d[n]=e[n]})),p+=e})),[2,d]}}))}))}}mf.registerSaveRouter((function(t){return i().getBool(\"IS_BROWSER\")&&!Array.isArray(t)&&t.startsWith(Hf.URL_SCHEME)?function(t){void 0===t&&(t=\"model\");return new Hf(t)}(t.slice(Hf.URL_SCHEME.length)):null}));var Yf=function(){function t(t,e){if(this.DEFAULT_METHOD=\"POST\",null==e&&(e={}),this.weightPathPrefix=e.weightPathPrefix,this.onProgress=e.onProgress,null!=e.fetchFunc?(C(\"function\"==typeof e.fetchFunc,(function(){return\"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)\"})),this.fetch=e.fetchFunc):this.fetch=i().platform.fetch,C(null!=t&&t.length>0,(function(){return\"URL path for http must not be null, undefined or empty.\"})),Array.isArray(t)&&C(2===t.length,(function(){return\"URL paths for http must have a length of 2, (actual length is \"+t.length+\").\"})),this.path=t,null!=e.requestInit&&null!=e.requestInit.body)throw new Error(\"requestInit is expected to have no pre-existing body, but has one.\");this.requestInit=e.requestInit||{}}return t.prototype.save=function(t){return n(this,void 0,void 0,(function(){var e,n,o,a;return r(this,(function(r){switch(r.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error(\"BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.\");return(e=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:[\"./model.weights.bin\"],weights:t.weightSpecs}],o={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata,weightsManifest:n},e.body.append(\"model.json\",new Blob([JSON.stringify(o)],{type:\"application/json\"}),\"model.json\"),null!=t.weightData&&e.body.append(\"model.weights.bin\",new Blob([t.weightData],{type:\"application/octet-stream\"}),\"model.weights.bin\"),[4,this.fetch(this.path,e)];case 1:if((a=r.sent()).ok)return[2,{modelArtifactsInfo:vf(t),responses:[a]}];throw new Error(\"BrowserHTTPRequest.save() failed due to HTTP response status \"+a.status+\".\")}}))}))},t.prototype.load=function(){return n(this,void 0,void 0,(function(){var t,e,n,o,a,i,s,u,c,l,h,f;return r(this,(function(r){switch(r.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(t=r.sent()).ok)throw new Error(\"Request to \"+this.path+\" failed with status code \"+t.status+\". Please verify this URL points to the model JSON of the model to load.\");r.label=2;case 2:return r.trys.push([2,4,,5]),[4,t.json()];case 3:return e=r.sent(),[3,5];case 4:throw r.sent(),n=\"Failed to parse model JSON of response from \"+this.path+\".\",this.path.endsWith(\".pb\")?n+=\" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.\":n+=\" Please make sure the server is serving valid JSON for this request.\",new Error(n);case 5:if(o=e.modelTopology,a=e.weightsManifest,i=e.generatedBy,s=e.convertedBy,u=e.format,c=e.userDefinedMetadata,null==o&&null==a)throw new Error(\"The JSON from HTTP path \"+this.path+\" contains neither model topology or manifest for weights.\");return null==a?[3,7]:[4,this.loadWeights(a)];case 6:f=r.sent(),l=f[0],h=f[1],r.label=7;case 7:return[2,{modelTopology:o,weightSpecs:l,weightData:h,userDefinedMetadata:c,generatedBy:i,convertedBy:s,format:u}]}}))}))},t.prototype.loadWeights=function(t){return n(this,void 0,void 0,(function(){var e,n,o,a,i,s,u,c,l,h,f;return r(this,(function(r){switch(r.label){case 0:for(e=Array.isArray(this.path)?this.path[1]:this.path,n=function(t){var e=t.lastIndexOf(\"/\"),n=t.lastIndexOf(\"?\"),r=t.substring(0,e),o=n>e?t.substring(n):\"\";return[r+\"/\",o]}(e),o=n[0],a=n[1],i=this.weightPathPrefix||o,s=[],u=0,c=t;u<c.length;u++)l=c[u],s.push.apply(s,l.weights);return h=[],t.forEach((function(t){t.paths.forEach((function(t){h.push(i+t+a)}))})),[4,jf(h,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return f=r.sent(),[2,[s,df(f)]]}}))}))},t.URL_SCHEME_REGEX=/^https?:\\/\\//,t}();function $f(t){return null!=t.match(Yf.URL_SCHEME_REGEX)}var Qf=function(t,e){if(\"undefined\"==typeof fetch)return null;return(Array.isArray(t)?t.every((function(t){return $f(t)})):$f(t))?Jf(t,{onProgress:e}):null};function Jf(t,e){return new Yf(t,e)}mf.registerSaveRouter(Qf),mf.registerLoadRouter(Qf);var Zf=function(){function t(t){this.modelArtifacts=t}return t.prototype.load=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.modelArtifacts]}))}))},t}(),td=function(){function t(t){this.saveHandler=t}return t.prototype.save=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.saveHandler(t)]}))}))},t}();var ed=Object.freeze({browserFiles:function(t){return new qf(t)},browserHTTPRequest:function(t,e){return Jf(t,e)},concatenateArrayBuffers:df,decodeWeights:cf,encodeWeights:function(t,e){return n(this,void 0,void 0,(function(){var o,a,i,s,u,c=this;return r(this,(function(l){switch(l.label){case 0:for(o=[],a=[],i=Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t),s=function(s){var u=i[s],l=Array.isArray(t)?t[s].tensor:t[u];if(\"float32\"!==l.dtype&&\"int32\"!==l.dtype&&\"bool\"!==l.dtype&&\"string\"!==l.dtype)throw new Error(\"Unsupported dtype in weight '\"+u+\"': \"+l.dtype);var h={name:u,shape:l.shape,dtype:l.dtype};if(\"string\"===l.dtype){var f=new Promise((function(t){return n(c,void 0,void 0,(function(){var e,n,o,a,i,s,u;return r(this,(function(r){switch(r.label){case 0:return[4,l.bytes()];case 1:for(e=r.sent(),n=e.reduce((function(t,e){return t+e.length}),0)+uf*e.length,o=new Uint8Array(n),a=0,i=0;i<e.length;i++)s=e[i],u=new Uint8Array(new Uint32Array([s.length]).buffer),o.set(u,a),a+=uf,o.set(s,a),a+=s.length;return t(o),[2]}}))}))}));a.push(f)}else a.push(l.data());null!=e&&(h.group=e),o.push(h)},u=0;u<i.length;++u)s(u);return[4,Promise.all(a)];case 1:return[2,{data:lf(l.sent()),specs:o}]}}))}))},fromMemory:function(t,e,n,r){return 1===arguments.length?null!=t.modelTopology||null!=t.weightSpecs?new Zf(t):(console.warn(\"Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release.\"),new Zf({modelTopology:t})):(console.warn(\"Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release.\"),new Zf({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))},getLoadHandlers:function(t,e){return mf.getLoadHandlers(t,e)},getModelArtifactsInfoForJSON:vf,getSaveHandlers:function(t){return mf.getSaveHandlers(t)},http:Jf,isHTTPScheme:$f,loadWeights:function(t,e,o,a){return void 0===e&&(e=\"\"),n(this,void 0,void 0,(function(){return r(this,(function(n){return[2,Xf((function(t){return jf(t,{requestInit:a})}))(t,e,o)]}))}))},registerLoadRouter:function(t){return mf.registerLoadRouter(t)},registerSaveRouter:function(t){return mf.registerSaveRouter(t)},weightsLoaderFactory:Xf,withSaveHandler:function(t){return new td(t)},copyModel:function(t,e){return n(this,void 0,void 0,(function(){return r(this,(function(n){return!1,[2,bf(t,e,!1)]}))}))},listModels:function(){return n(this,void 0,void 0,(function(){var t,e,n,o,a,i,s;return r(this,(function(r){switch(r.label){case 0:t=yf.getSchemes(),e={},n=0,o=t,r.label=1;case 1:return n<o.length?(a=o[n],[4,yf.getManager(a).listModels()]):[3,4];case 2:for(s in i=r.sent())e[a+gf+s]=i[s];r.label=3;case 3:return n++,[3,1];case 4:return[2,e]}}))}))},moveModel:function(t,e){return n(this,void 0,void 0,(function(){return r(this,(function(n){return!0,[2,bf(t,e,!0)]}))}))},removeModel:function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(n){return e=xf(t),[2,yf.getManager(e.scheme).removeModel(e.path)]}))}))}});var nd,rd=An({confusionMatrix_:function(t,e,n){var r=mn(t,\"labels\",\"confusionMatrix\"),o=mn(e,\"predictions\",\"confusionMatrix\");C(null==n||n>0&&Number.isInteger(n),(function(){return\"If provided, numClasses must be a positive integer, but got \"+n})),C(1===r.rank,(function(){return\"Expected the rank of labels to be 1, but got \"+r.rank})),C(1===o.rank,(function(){return\"Expected the rank of predictions to be 1, but got \"+o.rank})),C(r.shape[0]===o.shape[0],(function(){return\"Mismatch in the number of examples: \"+r.shape[0]+\" vs. \"+o.shape[0]+\". Labels and predictions should have the same number of elements.\"})),C(n>0&&Number.isInteger(n),(function(){return\"numClasses is required to be a positive integer, but got \"+n}));var a=Rr(r.asType(\"int32\"),n),i=Rr(o.asType(\"int32\"),n);return a.transpose().matMul(i).asType(\"int32\")}}),od=Object.freeze({confusionMatrix:rd});var ad=An({fromPixels_:function(t,e){if(void 0===e&&(e=3),e>4)throw new Error(\"Cannot construct Tensor with more than 4 channels from pixels.\");if(null==t)throw new Error(\"pixels passed to tf.browser.fromPixels() can not be null\");var n=!1,r=!1,o=!1,a=!1,i=!1;if(t.data instanceof Uint8Array)n=!0;else if(\"undefined\"!=typeof ImageData&&t instanceof ImageData)r=!0;else if(\"undefined\"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement)o=!0;else if(\"undefined\"!=typeof HTMLImageElement&&t instanceof HTMLImageElement)a=!0;else{if(null==t.getContext)throw new Error(\"pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was \"+t.constructor.name);i=!0}if(o){if(o&&t.readyState<2)throw new Error(\"The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.\")}if(null!=l(\"FromPixels\",Lt.backendName))return Lt.runKernel(\"FromPixels\",{pixels:t},{numChannels:e});var s,u,c=o?[t.videoWidth,t.videoHeight]:[t.width,t.height],h=c[0],f=c[1];if(i?s=t.getContext(\"2d\").getImageData(0,0,h,f).data:r||n?s=t.data:(a||o)&&(null==nd&&(nd=document.createElement(\"canvas\").getContext(\"2d\")),nd.canvas.width=h,nd.canvas.height=f,nd.drawImage(t,0,0,h,f),s=nd.getImageData(0,0,h,f).data),4===e)u=new Int32Array(s);else{var d=h*f;u=new Int32Array(d*e);for(var p=0;p<d;p++)for(var v=0;v<e;++v)u[p*e+v]=s[4*p+v]}return Pn(u,[f,h,e],\"int32\")}}),id=Object.freeze({toPixels:function(t,e){return n(this,void 0,void 0,(function(){var n,o,a,i,s,u,c,l,h,f,d,p,v,m,g,y,x,b,w,C,E,R,I;return r(this,(function(r){switch(r.label){case 0:if(n=mn(t,\"img\",\"toPixels\"),t instanceof wt||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error(\"toPixels only supports rank 2 or 3 tensors, got rank \"+n.rank+\".\");if(o=n.shape.slice(0,2),a=o[0],i=o[1],(s=2===n.rank?1:n.shape[2])>4||2===s)throw new Error(\"toPixels only supports depth of size 1, 3 or 4 but got \"+s);return[4,n.data()];case 1:return u=r.sent(),c=n.min(),l=n.max(),[4,Promise.all([c.data(),l.data()])];case 2:if(h=r.sent(),f=h[0],d=h[1],p=f[0],v=d[0],c.dispose(),l.dispose(),\"float32\"===n.dtype){if(p<0||v>1)throw new Error(\"Tensor values for a float32 Tensor must be in the range [0 - 1] but got range [\"+p+\" - \"+v+\"].\")}else{if(\"int32\"!==n.dtype)throw new Error(\"Unsupported type for toPixels: \"+n.dtype+\". Please use float32 or int32 tensors.\");if(p<0||v>255)throw new Error(\"Tensor values for a int32 Tensor must be in the range [0 - 255] but got range [\"+p+\" - \"+v+\"].\")}for(m=\"float32\"===n.dtype?255:1,g=new Uint8ClampedArray(i*a*4),y=0;y<a*i;++y)x=void 0,b=void 0,w=void 0,C=void 0,1===s?(x=u[y]*m,b=u[y]*m,w=u[y]*m,C=255):3===s?(x=u[3*y]*m,b=u[3*y+1]*m,w=u[3*y+2]*m,C=255):4===s&&(x=u[4*y]*m,b=u[4*y+1]*m,w=u[4*y+2]*m,C=u[4*y+3]*m),g[(E=4*y)+0]=Math.round(x),g[E+1]=Math.round(b),g[E+2]=Math.round(w),g[E+3]=Math.round(C);return null!=e&&(e.width=i,e.height=a,R=e.getContext(\"2d\"),I=new ImageData(g,i,a),R.putImageData(I,0,0)),n!==t&&n.dispose(),[2,g]}}))}))},fromPixels:ad}),sd=function(){function t(){}return t.prototype.getClassName=function(){return this.constructor.className},t.fromConfig=function(t,e){return new t(e)},t}(),ud=function(){function t(){this.classNameMap={}}return t.getMap=function(){return null==t.instance&&(t.instance=new t),t.instance},t.register=function(e){t.getMap().classNameMap[e.className]=[e,e.fromConfig]},t}();function cd(t){C(null!=t.className,(function(){return\"Class being registered does not have the static className property defined.\"})),C(\"string\"==typeof t.className,(function(){return\"className is required to be a string, but got type \"+typeof t.className})),C(t.className.length>0,(function(){return\"Class being registered has an empty-string as its className, which is disallowed.\"})),ud.register(t)}var ld=Object.freeze({Serializable:sd,SerializationMap:ud,registerClass:cd}),hd=.001,fd=.1;function dd(){return 32===Lt.backend.floatPrecision()?hd:fd}function pd(t,e,n){var r=!0;if((V(t)||V(e))&&(r=!1),V(t)&&V(e)&&(r=!0),r){var o=t.constructor.name,a=e.constructor.name;if(o!==a)throw new Error(\"Arrays are of different type. Actual: \"+o+\". Expected: \"+a)}if(Array.isArray(t)&&Array.isArray(e)){var i=pn(t),s=pn(e);if(!S(i,s))throw new Error(\"Arrays have different shapes. Actual: [\"+i+\"]. Expected: [\"+s+\"]\")}var u=V(t)?t:I(t),c=V(e)?e:I(e);if(u.length!==c.length)throw new Error(\"Arrays have different lengths actual: \"+u.length+\" vs expected: \"+c.length+\".\\nActual:   \"+u+\".\\nExpected: \"+c+\".\");for(var l=0;l<c.length;++l){var h=u[l],f=c[l];if(!n(h,f))throw new Error(\"Arrays differ: actual[\"+l+\"] = \"+h+\", expected[\"+l+\"] = \"+f+\".\\nActual:   \"+u+\".\\nExpected: \"+c+\".\")}}function vd(t,e,n){return!isFinite(t)&&!isFinite(e)||!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}var md=Object.freeze({TEST_EPSILON_FLOAT16:fd,expectArraysClose:function(t,e,n){return null==n&&(n=dd()),pd(t,e,(function(t,e){return vd(t,e,n)}))},testEpsilon:dd,expectPromiseToFail:function(t,e){t().then((function(){return e.fail()}),(function(){return e()}))},expectArraysEqual:function(t,e){var n=\"string\"==typeof e||\"number\"==typeof e||\"boolean\"==typeof e?[e]:e;return H(t)||H(t[0])||H(e)||H(e[0])?pd(t,n,(function(t,e){return t==e})):pd(t,e,(function(t,e){return vd(t,e,0)}))},expectNumbersClose:function(t,e,n){if(null==n&&(n=dd()),!vd(t,e,n))throw new Error(\"Numbers differ: actual === \"+t+\", expected === \"+e)},expectValuesInRange:function(t,e,n){for(var r=0;r<t.length;r++)if(t[r]<e||t[r]>n)throw new Error(\"Value out of range:\"+t[r]+\" low: \"+e+\", high: \"+n)},expectArrayBuffersEqual:function(t,e){expect(new Float32Array(t)).toEqual(new Float32Array(e))}}),gd=\"1.7.0\";var yd=Object.freeze({gpgpu_util:Mi,webgl_util:Ge,forceHalfFloat:function(){i().set(\"WEBGL_FORCE_F16_TEXTURES\",!0)},MathBackendWebGL:Zs,setWebGLContext:Kt,GPGPUContext:Bi}),xd=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return e(o,t),o.prototype.minimize=function(t,e,n){void 0===e&&(e=!1);var r=this.computeGradients(t,n),o=r.value,a=r.grads;if(null!=n){var i=n.map((function(t){return{name:t.name,tensor:a[t.name]}}));this.applyGradients(i)}else this.applyGradients(a);return tn(a),e?o:(o.dispose(),null)},Object.defineProperty(o.prototype,\"iterations\",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),o.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},o.prototype.computeGradients=function(t,e){return po(t,e)},o.prototype.dispose=function(){null!=this.iterations_&&tn(this.iterations_)},o.prototype.saveIterations=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){return null==this.iterations_&&(this.iterations_=0),[2,{name:\"iter\",tensor:On(this.iterations_,\"int32\")}]}))}))},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){throw new Error(\"getWeights() is not implemented for this optimizer yet.\")}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(t){throw new Error(\"setWeights() is not implemented for this optimizer class \"+this.getClassName())}))}))},o.prototype.extractIterations=function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return e=this,[4,t[0].tensor.data()];case 1:return e.iterations_=n.sent()[0],[2,t.slice(1)]}}))}))},o}(sd);Object.defineProperty(xd,Symbol.hasInstance,{value:function(t){return null!=t.minimize&&null!=t.computeGradients&&null!=t.applyGradients}});var bd=function(t){function o(e,n,r){void 0===r&&(r=null);var o=t.call(this)||this;return o.learningRate=e,o.rho=n,o.epsilon=r,o.accumulatedGrads=[],o.accumulatedUpdates=[],null==r&&(o.epsilon=Lt.backend.epsilon()),o}return e(o,t),o.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(n,r){var o=Lt.registeredVariables[n];null==e.accumulatedGrads[r]&&(e.accumulatedGrads[r]={originalName:n+\"/accum_grad\",variable:Ze((function(){return Xn(o).variable(!1)}))}),null==e.accumulatedUpdates[r]&&(e.accumulatedUpdates[r]={originalName:n+\"/accum_var\",variable:Ze((function(){return Xn(o).variable(!1)}))});var a=Array.isArray(t)?t[r].tensor:t[n];if(null!=a){var i=e.accumulatedGrads[r].variable,s=e.accumulatedUpdates[r].variable;Ze((function(){var t=i.mul(e.rho).add(a.square().mul(1-e.rho)),n=s.add(e.epsilon).sqrt().div(i.add(e.epsilon).sqrt()).mul(a),r=s.mul(e.rho).add(n.square().mul(1-e.rho));i.assign(t),s.assign(r);var u=n.mul(-e.learningRate).add(o);o.assign(u)}))}})),this.incrementIterations()},o.prototype.dispose=function(){null!=this.accumulatedUpdates&&(tn(this.accumulatedGrads.map((function(t){return t.variable}))),tn(this.accumulatedUpdates.map((function(t){return t.variable}))))},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return t=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(t.map((function(t){return{name:t.originalName,tensor:t.variable}})))]}}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:return t=n.sent(),e=t.length/2,!1,this.accumulatedGrads=t.slice(0,e).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.accumulatedUpdates=t.slice(e,2*e).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),[2]}}))}))},o.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},o.fromConfig=function(t,e){return new t(e.learningRate,e.rho,e.epsilon)},o.className=\"Adadelta\",o}(xd);cd(bd);var wd=function(t){function o(e,n){void 0===n&&(n=.1);var r=t.call(this)||this;return r.learningRate=e,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return e(o,t),o.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(n,r){var o=Lt.registeredVariables[n];if(null==e.accumulatedGrads[r]){e.accumulatedGrads[r]={originalName:n+\"/accumulator\",variable:Ze((function(){return Hn(o.shape,e.initialAccumulatorValue).variable(!1)}))}}var a=Array.isArray(t)?t[r].tensor:t[n];if(null!=a){var i=e.accumulatedGrads[r].variable;Ze((function(){var t=i.add(a.square());i.assign(t);var n=a.div(t.add(Lt.backend.epsilon()).sqrt()).mul(-e.learningRate).add(o);o.assign(n)}))}})),this.incrementIterations()},o.prototype.dispose=function(){null!=this.accumulatedGrads&&tn(this.accumulatedGrads.map((function(t){return t.variable})))},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulatedGrads.map((function(t){return{name:t.originalName,tensor:t.variable}})))]}}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.extractIterations(t)];case 1:return t=e.sent(),!1,this.accumulatedGrads=t.map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),[2]}}))}))},o.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},o.fromConfig=function(t,e){return new t(e.learningRate,e.initialAccumulatorValue)},o.className=\"Adagrad\",o}(xd);cd(wd);var Cd=function(t){function o(e,n,r,o){void 0===o&&(o=null);var a=t.call(this)||this;return a.learningRate=e,a.beta1=n,a.beta2=r,a.epsilon=o,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],Ze((function(){a.accBeta1=On(n).variable(),a.accBeta2=On(r).variable()})),null==o&&(a.epsilon=Lt.backend.epsilon()),a}return e(o,t),o.prototype.applyGradients=function(t){var e=this,n=Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t);Ze((function(){var r=Cc(1,e.accBeta1),o=Cc(1,e.accBeta2);n.forEach((function(n,a){var i=Lt.registeredVariables[n];null==e.accumulatedFirstMoment[a]&&(e.accumulatedFirstMoment[a]={originalName:n+\"/m\",variable:Ze((function(){return Xn(i).variable(!1)}))}),null==e.accumulatedSecondMoment[a]&&(e.accumulatedSecondMoment[a]={originalName:n+\"/v\",variable:Ze((function(){return Xn(i).variable(!1)}))});var s=Array.isArray(t)?t[a].tensor:t[n];if(null!=s){var u=e.accumulatedFirstMoment[a].variable,c=e.accumulatedSecondMoment[a].variable,l=u.mul(e.beta1).add(s.mul(1-e.beta1)),h=c.mul(e.beta2).add(s.square().mul(1-e.beta2)),f=l.div(r),d=h.div(o);u.assign(l),c.assign(h);var p=f.div(d.sqrt().add(e.epsilon)).mul(-e.learningRate).add(i);i.assign(p)}})),e.accBeta1.assign(e.accBeta1.mul(e.beta1)),e.accBeta2.assign(e.accBeta2.mul(e.beta2))})),this.incrementIterations()},o.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&tn(this.accumulatedFirstMoment.map((function(t){return t.variable}))),null!=this.accumulatedSecondMoment&&tn(this.accumulatedSecondMoment.map((function(t){return t.variable})))},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return t=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(t.map((function(t){return{name:t.originalName,tensor:t.variable}})))]}}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){var e,n=this;return r(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(t)];case 1:return t=r.sent(),Ze((function(){n.accBeta1.assign(xc(n.beta1,n.iterations_+1)),n.accBeta2.assign(xc(n.beta2,n.iterations_+1))})),e=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,e).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.accumulatedSecondMoment=t.slice(e,2*e).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),[2]}}))}))},o.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},o.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon)},o.className=\"Adam\",o}(xd);cd(Cd);var Ed=function(t){function o(e,n,r,o,a){void 0===o&&(o=null),void 0===a&&(a=0);var i=t.call(this)||this;return i.learningRate=e,i.beta1=n,i.beta2=r,i.epsilon=o,i.decay=a,i.accumulatedFirstMoment=[],i.accumulatedWeightedInfNorm=[],Ze((function(){i.iteration=On(0).variable(),i.accBeta1=On(n).variable()})),null==o&&(i.epsilon=Lt.backend.epsilon()),i}return e(o,t),o.prototype.applyGradients=function(t){var e=this,n=Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t);Ze((function(){var r=Cc(1,e.accBeta1),o=sc(-e.learningRate,e.iteration.mul(e.decay).add(1));n.forEach((function(n,a){var i=Lt.registeredVariables[n];null==e.accumulatedFirstMoment[a]&&(e.accumulatedFirstMoment[a]={originalName:n+\"/m\",variable:Xn(i).variable(!1)}),null==e.accumulatedWeightedInfNorm[a]&&(e.accumulatedWeightedInfNorm[a]={originalName:n+\"/v\",variable:Xn(i).variable(!1)});var s=Array.isArray(t)?t[a].tensor:t[n];if(null!=s){var u=e.accumulatedFirstMoment[a].variable,c=e.accumulatedWeightedInfNorm[a].variable,l=u.mul(e.beta1).add(s.mul(1-e.beta1)),h=c.mul(e.beta2),f=s.abs(),d=h.maximum(f);u.assign(l),c.assign(d);var p=o.div(r).mul(l.div(d.add(e.epsilon))).add(i);i.assign(p)}})),e.iteration.assign(e.iteration.add(1)),e.accBeta1.assign(e.accBeta1.mul(e.beta1))})),this.incrementIterations()},o.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&tn(this.accumulatedFirstMoment.map((function(t){return t.variable}))),null!=this.accumulatedWeightedInfNorm&&tn(this.accumulatedWeightedInfNorm.map((function(t){return t.variable})))},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){throw new Error(\"getWeights() is not implemented for Adamax yet.\")}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(t){throw new Error(\"setWeights() is not implemented for Adamax yet.\")}))}))},o.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},o.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon,e.decay)},o.className=\"Adamax\",o}(xd);cd(Ed);var Rd=function(t){function o(e){var n=t.call(this)||this;return n.learningRate=e,n.setLearningRate(e),n}return e(o,t),o.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(n,r){var o=Array.isArray(t)?t[r].tensor:t[n];if(null!=o){var a=Lt.registeredVariables[n];Ze((function(){var t=e.c.mul(o).add(a);a.assign(t)}))}})),this.incrementIterations()},o.prototype.setLearningRate=function(t){this.learningRate=t,null!=this.c&&this.c.dispose(),this.c=en(On(-t))},o.prototype.dispose=function(){this.c.dispose()},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()]]}}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.extractIterations(t)];case 1:if(0!==(t=e.sent()).length)throw new Error(\"SGD optimizer does not have settable weights.\");return[2]}}))}))},o.prototype.getConfig=function(){return{learningRate:this.learningRate}},o.fromConfig=function(t,e){return new t(e.learningRate)},o.className=\"SGD\",o}(xd);cd(Rd);var Id=function(t){function o(e,n,r){void 0===r&&(r=!1);var o=t.call(this,e)||this;return o.learningRate=e,o.momentum=n,o.useNesterov=r,o.accumulations=[],o.m=On(o.momentum),o}return e(o,t),o.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(n,r){var o=Lt.registeredVariables[n];if(null==e.accumulations[r]){e.accumulations[r]={originalName:n+\"/momentum\",variable:Ze((function(){return Xn(o).variable(!1)}))}}var a=e.accumulations[r].variable,i=Array.isArray(t)?t[r].tensor:t[n];null!=i&&Ze((function(){var t,n=e.m.mul(a).add(i);t=e.useNesterov?e.c.mul(i.add(n.mul(e.m))).add(o):e.c.mul(n).add(o),a.assign(n),o.assign(t)}))})),this.incrementIterations()},o.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&tn(this.accumulations.map((function(t){return t.variable})))},o.prototype.setMomentum=function(t){this.momentum=t},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulations.map((function(t){return{name:t.originalName,tensor:t.variable}})))]}}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.extractIterations(t)];case 1:return t=e.sent(),!1,this.accumulations=t.map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),[2]}}))}))},o.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},o.fromConfig=function(t,e){return new t(e.learningRate,e.momentum,e.useNesterov)},o.className=\"Momentum\",o}(Rd);cd(Id);var kd=function(t){function o(e,n,r,o,a){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===o&&(o=null),void 0===a&&(a=!1);var i=t.call(this)||this;if(i.learningRate=e,i.decay=n,i.momentum=r,i.epsilon=o,i.accumulatedMeanSquares=[],i.accumulatedMoments=[],i.accumulatedMeanGrads=[],i.centered=a,null==o&&(i.epsilon=Lt.backend.epsilon()),null==e)throw new Error(\"learningRate for RMSPropOptimizer must be defined.\");return i}return e(o,t),o.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(n,r){var o=Lt.registeredVariables[n];null==e.accumulatedMeanSquares[r]&&(e.accumulatedMeanSquares[r]={originalName:n+\"/rms\",variable:Ze((function(){return Xn(o).variable(!1)}))}),null==e.accumulatedMoments[r]&&(e.accumulatedMoments[r]={originalName:n+\"/momentum\",variable:Ze((function(){return Xn(o).variable(!1)}))}),null==e.accumulatedMeanGrads[r]&&e.centered&&(e.accumulatedMeanGrads[r]={originalName:n+\"/mg\",variable:Ze((function(){return Xn(o).variable(!1)}))});var a=Array.isArray(t)?t[r].tensor:t[n];if(null!=a){var i=e.accumulatedMeanSquares[r].variable,s=e.accumulatedMoments[r].variable;Ze((function(){var t=i.mul(e.decay).add(a.square().mul(1-e.decay));if(e.centered){var n=e.accumulatedMeanGrads[r].variable,u=n.mul(e.decay).add(a.mul(1-e.decay)),c=s.mul(e.momentum).add(a.mul(e.learningRate).div(t.sub(u.square().add(e.epsilon)).sqrt()));i.assign(t),n.assign(u),s.assign(c);var l=o.sub(c);o.assign(l)}else{var h=i.mul(e.decay).add(a.square().mul(1-e.decay));c=s.mul(e.momentum).add(a.mul(e.learningRate).div(h.add(e.epsilon).sqrt()));i.assign(h),s.assign(c);l=o.sub(c);o.assign(l)}}))}})),this.incrementIterations()},o.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&tn(this.accumulatedMeanSquares.map((function(t){return t.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&tn(this.accumulatedMeanGrads.map((function(t){return t.variable}))),null!=this.accumulatedMoments&&tn(this.accumulatedMoments.map((function(t){return t.variable})))},o.prototype.getWeights=function(){return n(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return t=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&t.push.apply(t,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(t.map((function(t){return{name:t.originalName,tensor:t.variable}})))]}}))}))},o.prototype.setWeights=function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:return t=n.sent(),e=this.centered?t.length/3:t.length/2,!1,this.accumulatedMeanSquares=t.slice(0,e).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.accumulatedMoments=t.slice(e,2*e).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*e,3*e).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}))),[2]}}))}))},o.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},o.fromConfig=function(t,e){return new t(e.learningRate,e.decay,e.momentum,e.epsilon,e.centered)},o.className=\"RMSProp\",o}(xd);cd(kd);var Sd=function(){function t(){}return t.sgd=function(t){return new Rd(t)},t.momentum=function(t,e,n){return void 0===n&&(n=!1),new Id(t,e,n)},t.rmsprop=function(t,e,n,r,o){return void 0===e&&(e=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===o&&(o=!1),new kd(t,e,n,r,o)},t.adam=function(t,e,n,r){return void 0===t&&(t=.001),void 0===e&&(e=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new Cd(t,e,n,r)},t.adadelta=function(t,e,n){return void 0===t&&(t=.001),void 0===e&&(e=.95),void 0===n&&(n=null),new bd(t,e,n)},t.adamax=function(t,e,n,r,o){return void 0===t&&(t=.002),void 0===e&&(e=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===o&&(o=0),new Ed(t,e,n,r,o)},t.adagrad=function(t,e){return void 0===e&&(e=.1),new wd(t,e)},t}(),Ad={sgd:Sd.sgd,momentum:Sd.momentum,adadelta:Sd.adadelta,adagrad:Sd.adagrad,rmsprop:Sd.rmsprop,adamax:Sd.adamax,adam:Sd.adam},Dd=\"undefined\"!=typeof requestAnimationFrame?requestAnimationFrame:\"undefined\"!=typeof setImmediate?setImmediate:function(t){return t()};function Td(){return new Promise((function(t){return Dd((function(){return t()}))}))}wt.prototype.squaredDifference=function(t){return nu(this,t)},xt=Gh;\n//# sourceMappingURL=tf-core.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRlbnNvcmZsb3cvdGZqcy1jb3JlL2Rpc3QvdGYtY29yZS5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixpQ0FBaUMsYUFBYSxnQ0FBZ0MsY0FBYyxnQkFBZ0IsZ0RBQWdELFFBQVEsZ0JBQWdCLGFBQWEsbUJBQW1CLDZFQUE2RSxvQkFBb0IsMENBQTBDLGNBQWMsSUFBSSxhQUFhLFNBQVMsTUFBTSxjQUFjLElBQUksY0FBYyxTQUFTLE1BQU0sY0FBYyxxQ0FBcUMsV0FBVyxhQUFhLCtCQUErQixHQUFHLGdCQUFnQixlQUFlLHdCQUF3QixxQkFBcUIsWUFBWSxpQkFBaUIsVUFBVSxpQ0FBaUMsMkRBQTJELFlBQVksSUFBSSxjQUFjLG1CQUFtQixtQkFBbUIsNERBQTRELEtBQUssRUFBRSxLQUFLLGtIQUFrSCx5Q0FBeUMsa0JBQWtCLE1BQU0seUJBQXlCLG9CQUFvQiw4QkFBOEIsU0FBUyxrQ0FBa0MsU0FBUywwRUFBMEUsSUFBSSxTQUFTLHlDQUF5QyxhQUFhLE1BQU0sMkJBQTJCLGlCQUFpQixNQUFNLG9CQUFvQiwyQkFBMkIsTUFBTSwrQkFBK0IsU0FBUyxjQUFj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QUksOEJBQThCLGdDQUFnQyxtRkFBbUYsa0JBQWtCLGtHQUFrRyxrQkFBa0IsK0VBQStFLGtCQUFrQixJQUFJLG1DQUFtQyx3Q0FBd0MsTUFBTSwyQkFBMkIsZ0JBQWdCLCtKQUErSixxREFBcUQsT0FBTyx1Q0FBdUMsTUFBTSxHQUFHLEdBQUcsb0NBQW9DLHdDQUF3QyxNQUFNLDJCQUEyQixnQkFBZ0IsMkNBQTJDLDRIQUE0SCxPQUFPLG9EQUFvRCwyREFBMkQsT0FBTyxvREFBb0QsK0VBQStFLE9BQU8sb0RBQW9ELFNBQVMsR0FBRyxHQUFHLGtDQUFrQyxPQUFPLG9IQUFvSCw0QkFBNEIscUVBQXFFLHlCQUF5QixLQUFLLE9BQU8sa0JBQWtCLGNBQWMseUJBQXlCLGlCQUFpQiw0QkFBNEIsd0NBQXdDLCtCQUErQixzR0FBc0csMEJBQTBCLHlHQUF5Ryw0QkFBNEIsbUZBQW1GLDhCQUE4Qiw2SEFBNkgseUJBQXlCLHNDQUFzQyxHQUFHLE9BQU8seUhBQXlILDhIQUE4SCxZQUFZLGNBQWMsZ0NBQWdDLHNCQUFzQixXQUFXLEdBQUcsR0FBRywyQ0FBMkMsa0JBQWtCLE9BQTZ0STtBQUM3bjFoQiIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbW9uaXRvcmluZy1jbGllbnQvLi9ub2RlX21vZHVsZXMvQHRlbnNvcmZsb3cvdGZqcy1jb3JlL2Rpc3QvdGYtY29yZS5lc20uanM/NWUyOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG52YXIgdD1mdW5jdGlvbihlLG4pe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkoZSxuKX07ZnVuY3Rpb24gZShlLG4pe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLG4pLGUucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KHIucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyByKX1mdW5jdGlvbiBuKHQsZSxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihvLGEpe2Z1bmN0aW9uIGkodCl7dHJ5e3Uoci5uZXh0KHQpKX1jYXRjaCh0KXthKHQpfX1mdW5jdGlvbiBzKHQpe3RyeXt1KHIudGhyb3codCkpfWNhdGNoKHQpe2EodCl9fWZ1bmN0aW9uIHUodCl7dC5kb25lP28odC52YWx1ZSk6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodC52YWx1ZSl9KSkudGhlbihpLHMpfXUoKHI9ci5hcHBseSh0LGV8fFtdKSkubmV4dCgpKX0pKX1mdW5jdGlvbiByKHQsZSl7dmFyIG4scixvLGEsaT17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZvWzBdKXRocm93IG9bMV07cmV0dXJuIG9bMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gYT17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGFbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksYTtmdW5jdGlvbiBzKGEpe3JldHVybiBmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24oYSl7aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO2k7KXRyeXtpZihuPTEsciYmKG89MiZhWzBdP3IucmV0dXJuOmFbMF0/ci50aHJvd3x8KChvPXIucmV0dXJuKSYmby5jYWxsKHIpLDApOnIubmV4dCkmJiEobz1vLmNhbGwocixhWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gocj0wLG8mJihhPVsyJmFbMF0sby52YWx1ZV0pLGFbMF0pe2Nhc2UgMDpjYXNlIDE6bz1hO2JyZWFrO2Nhc2UgNDpyZXR1cm4gaS5sYWJlbCsrLHt2YWx1ZTphWzFdLGRvbmU6ITF9O2Nhc2UgNTppLmxhYmVsKysscj1hWzFdLGE9WzBdO2NvbnRpbnVlO2Nhc2UgNzphPWkub3BzLnBvcCgpLGkudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz0obz1pLnRyeXMpLmxlbmd0aD4wJiZvW28ubGVuZ3RoLTFdKSYmKDY9PT1hWzBdfHwyPT09YVswXSkpe2k9MDtjb250aW51ZX1pZigzPT09YVswXSYmKCFvfHxhWzFdPm9bMF0mJmFbMV08b1szXSkpe2kubGFiZWw9YVsxXTticmVha31pZig2PT09YVswXSYmaS5sYWJlbDxvWzFdKXtpLmxhYmVsPW9bMV0sbz1hO2JyZWFrfWlmKG8mJmkubGFiZWw8b1syXSl7aS5sYWJlbD1vWzJdLGkub3BzLnB1c2goYSk7YnJlYWt9b1syXSYmaS5vcHMucG9wKCksaS50cnlzLnBvcCgpO2NvbnRpbnVlfWE9ZS5jYWxsKHQsaSl9Y2F0Y2godCl7YT1bNix0XSxyPTB9ZmluYWxseXtuPW89MH1pZig1JmFbMF0pdGhyb3cgYVsxXTtyZXR1cm57dmFsdWU6YVswXT9hWzFdOnZvaWQgMCxkb25lOiEwfX0oW2Esc10pfX19dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZ2xvYmFsPXQsdGhpcy5mbGFncz17fSx0aGlzLmZsYWdSZWdpc3RyeT17fSx0aGlzLnVybEZsYWdzPXt9LHRoaXMucG9wdWxhdGVVUkxGbGFncygpfXJldHVybiB0LnByb3RvdHlwZS5zZXRQbGF0Zm9ybT1mdW5jdGlvbih0LGUpe251bGwhPXRoaXMucGxhdGZvcm0mJmNvbnNvbGUud2FybihcIlBsYXRmb3JtIFwiK3RoaXMucGxhdGZvcm1OYW1lK1wiIGhhcyBhbHJlYWR5IGJlZW4gc2V0LiBPdmVyd3JpdGluZyB0aGUgcGxhdGZvcm0gd2l0aCBcIitlK1wiLlwiKSx0aGlzLnBsYXRmb3JtTmFtZT10LHRoaXMucGxhdGZvcm09ZX0sdC5wcm90b3R5cGUucmVnaXN0ZXJGbGFnPWZ1bmN0aW9uKHQsZSxuKXtpZih0aGlzLmZsYWdSZWdpc3RyeVt0XT17ZXZhbHVhdGlvbkZuOmUsc2V0SG9vazpufSxudWxsIT10aGlzLnVybEZsYWdzW3RdKXt2YXIgcj10aGlzLnVybEZsYWdzW3RdO2NvbnNvbGUud2FybihcIlNldHRpbmcgZmVhdHVyZSBvdmVycmlkZSBmcm9tIFVSTCBcIit0K1wiOiBcIityK1wiLlwiKSx0aGlzLnNldCh0LHIpfX0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluIHRoaXMuZmxhZ3M/dGhpcy5mbGFnc1t0XToodGhpcy5mbGFnc1t0XT10aGlzLmV2YWx1YXRlRmxhZyh0KSx0aGlzLmZsYWdzW3RdKX0sdC5wcm90b3R5cGUuZ2V0TnVtYmVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldCh0KX0sdC5wcm90b3R5cGUuZ2V0Qm9vbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXQodCl9LHQucHJvdG90eXBlLmdldEZsYWdzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmxhZ3N9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImZlYXR1cmVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZsYWdzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe2lmKG51bGw9PXRoaXMuZmxhZ1JlZ2lzdHJ5W3RdKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXQgZmxhZyBcIit0K1wiIGFzIGl0IGhhcyBub3QgYmVlbiByZWdpc3RlcmVkLlwiKTt0aGlzLmZsYWdzW3RdPWUsbnVsbCE9dGhpcy5mbGFnUmVnaXN0cnlbdF0uc2V0SG9vayYmdGhpcy5mbGFnUmVnaXN0cnlbdF0uc2V0SG9vayhlKX0sdC5wcm90b3R5cGUuZXZhbHVhdGVGbGFnPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXRoaXMuZmxhZ1JlZ2lzdHJ5W3RdKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBldmFsdWF0ZSBmbGFnICdcIit0K1wiJzogbm8gZXZhbHVhdGlvbiBmdW5jdGlvbiBmb3VuZC5cIik7cmV0dXJuIHRoaXMuZmxhZ1JlZ2lzdHJ5W3RdLmV2YWx1YXRpb25GbigpfSx0LnByb3RvdHlwZS5zZXRGbGFncz1mdW5jdGlvbih0KXt0aGlzLmZsYWdzPU9iamVjdC5hc3NpZ24oe30sdCl9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5mbGFncz17fSx0aGlzLnVybEZsYWdzPXt9LHRoaXMucG9wdWxhdGVVUkxGbGFncygpfSx0LnByb3RvdHlwZS5wb3B1bGF0ZVVSTEZsYWdzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih2b2lkIDAhPT10aGlzLmdsb2JhbCYmdm9pZCAwIT09dGhpcy5nbG9iYWwubG9jYXRpb24mJnZvaWQgMCE9PXRoaXMuZ2xvYmFsLmxvY2F0aW9uLnNlYXJjaCl7dmFyIGUsbixyPShlPXRoaXMuZ2xvYmFsLmxvY2F0aW9uLnNlYXJjaCxuPXt9LGUucmVwbGFjZSgvWz8mXShbXj0/Jl0rKSg/Oj0oW14mXSopKT8vZywoZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKWVbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIGEobixlWzBdLGVbMV0pLGUuam9pbihcIj1cIil9KSksbik7aWYoXCJ0ZmpzZmxhZ3NcImluIHIpci50ZmpzZmxhZ3Muc3BsaXQoXCIsXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUuc3BsaXQoXCI6XCIpLHI9blswXSxvPW5bMV07dC51cmxGbGFnc1tyXT1mdW5jdGlvbih0LGUpe2lmKFwidHJ1ZVwiPT09KGU9ZS50b0xvd2VyQ2FzZSgpKXx8XCJmYWxzZVwiPT09ZSlyZXR1cm5cInRydWVcIj09PWU7aWYoXCJcIisgK2U9PT1lKXJldHVybitlO3Rocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBwYXJzZSB2YWx1ZSBmbGFnIHZhbHVlIFwiK2UrXCIgZm9yIGZsYWcgXCIrdCtcIi5cIil9KHIsbyl9KSl9fSx0fSgpO2Z1bmN0aW9uIGEodCxlLG4pe3RbZGVjb2RlVVJJQ29tcG9uZW50KGUpXT1kZWNvZGVVUklDb21wb25lbnQobnx8XCJcIil9ZnVuY3Rpb24gaSgpe3JldHVybiBzfXZhciBzPW51bGw7dmFyIHU9bmV3IE1hcCxjPW5ldyBNYXA7ZnVuY3Rpb24gbCh0LGUpe3ZhciBuPWcodCxlKTtyZXR1cm4gdS5nZXQobil9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gYy5nZXQodCl9ZnVuY3Rpb24gZih0KXtmb3IodmFyIGU9dS5lbnRyaWVzKCksbj1bXTs7KXt2YXIgcj1lLm5leHQoKSxvPXIuZG9uZSxhPXIudmFsdWU7aWYobylicmVhazt2YXIgaT1hWzBdLHM9YVsxXTtpLnNwbGl0KFwiX1wiKVswXT09PXQmJm4ucHVzaChzKX1yZXR1cm4gbn1mdW5jdGlvbiBkKHQpe3ZhciBlPXQua2VybmVsTmFtZSxuPXQuYmFja2VuZE5hbWUscj1nKGUsbik7aWYodS5oYXMocikpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGtlcm5lbCAnXCIrZStcIicgZm9yIGJhY2tlbmQgJ1wiK24rXCInIGlzIGFscmVhZHkgcmVnaXN0ZXJlZFwiKTt1LnNldChyLHQpfWZ1bmN0aW9uIHAodCl7dmFyIGU9dC5rZXJuZWxOYW1lO2MuaGFzKGUpJiZjb25zb2xlLndhcm4oXCJPdmVycmlkaW5nIHRoZSBncmFkaWVudCBmb3IgJ1wiK2UrXCInXCIpLGMuc2V0KGUsdCl9ZnVuY3Rpb24gdih0LGUpe3ZhciBuPWcodCxlKTtpZighdS5oYXMobikpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGtlcm5lbCAnXCIrdCtcIicgZm9yIGJhY2tlbmQgJ1wiK2UrXCInIGlzIG5vdCByZWdpc3RlcmVkXCIpO3UuZGVsZXRlKG4pfWZ1bmN0aW9uIG0odCl7aWYoIWMuaGFzKHQpKXRocm93IG5ldyBFcnJvcihcIlRoZSBncmFkaWVudCAnXCIrdCtcIicgZm9yIGJhY2tlbmQgaXMgbm90IHJlZ2lzdGVyZWRcIik7Yy5kZWxldGUodCl9ZnVuY3Rpb24gZyh0LGUpe3JldHVybiBlK1wiX1wiK3R9ZnVuY3Rpb24geSh0KXtmb3IodmFyIGU9dC5sZW5ndGgsbj0wLHI9MDtlPjA7KXI9TWF0aC5yYW5kb20oKSplfDAsbj10Wy0tZV0sdFtlXT10W3JdLHRbcl09bn1mdW5jdGlvbiB4KHQsZSxuKXtyZXR1cm4gTWF0aC5tYXgodCxNYXRoLm1pbihlLG4pKX1mdW5jdGlvbiBiKHQpe3JldHVybiB0JTI9PTA/dDp0KzF9ZnVuY3Rpb24gdyh0KXtmb3IodmFyIGU9MCxuPTA7bjx0Lmxlbmd0aDtuKyspZSs9dFtuXTtyZXR1cm4gZX1mdW5jdGlvbiBDKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZSgpKX1mdW5jdGlvbiBFKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1cIlwiKSxDKFModCxlKSwoZnVuY3Rpb24oKXtyZXR1cm4gbitcIiBTaGFwZXMgXCIrdCtcIiBhbmQgXCIrZStcIiBtdXN0IG1hdGNoXCJ9KSl9ZnVuY3Rpb24gUih0KXtDKG51bGwhPXQsKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgaW5wdXQgdG8gdGhlIHRlbnNvciBjb25zdHJ1Y3RvciBtdXN0IGJlIGEgbm9uLW51bGwgdmFsdWUuXCJ9KSl9ZnVuY3Rpb24gSSh0LGUsbil7aWYodm9pZCAwPT09ZSYmKGU9W10pLHZvaWQgMD09PW4mJihuPSExKSxudWxsPT1lJiYoZT1bXSksQXJyYXkuaXNBcnJheSh0KXx8Vih0KSYmIW4pZm9yKHZhciByPTA7cjx0Lmxlbmd0aDsrK3IpSSh0W3JdLGUsbik7ZWxzZSBlLnB1c2godCk7cmV0dXJuIGV9ZnVuY3Rpb24gayh0KXtpZigwPT09dC5sZW5ndGgpcmV0dXJuIDE7Zm9yKHZhciBlPXRbMF0sbj0xO248dC5sZW5ndGg7bisrKWUqPXRbbl07cmV0dXJuIGV9ZnVuY3Rpb24gUyh0LGUpe2lmKHQ9PT1lKXJldHVybiEwO2lmKG51bGw9PXR8fG51bGw9PWUpcmV0dXJuITE7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZih0W25dIT09ZVtuXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBBKHQpe3JldHVybiB0JTE9PTB9ZnVuY3Rpb24gRCh0KXtpZihudWxsIT1NYXRoLnRhbmgpcmV0dXJuIE1hdGgudGFuaCh0KTtpZih0PT09MS8wKXJldHVybiAxO2lmKHQ9PT0tMS8wKXJldHVybi0xO3ZhciBlPU1hdGguZXhwKDIqdCk7cmV0dXJuKGUtMSkvKGUrMSl9ZnVuY3Rpb24gVCh0KXt2YXIgZT1NYXRoLmNlaWwoTWF0aC5zcXJ0KHQpKTtyZXR1cm5bZSxNYXRoLmNlaWwodC9lKV19ZnVuY3Rpb24gTih0LGUpe3JldHVybiBlPD10Lmxlbmd0aD90OnQrXCIgXCIucmVwZWF0KGUtdC5sZW5ndGgpfWZ1bmN0aW9uIEYodCxlLG4pe3JldHVybiB2b2lkIDA9PT1lJiYoZT1mdW5jdGlvbih0KXtyZXR1cm4gMH0pLG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe3ZhciBhPTAsaT1mdW5jdGlvbigpe2lmKHQoKSlyKCk7ZWxzZXthKys7dmFyIHM9ZShhKTtudWxsIT1uJiZhPj1uP28oKTpzZXRUaW1lb3V0KGkscyl9fTtpKCl9KSl9ZnVuY3Rpb24gXyh0LGUpe2Zvcih2YXIgbj0xLHI9LTEsbz0wO288dC5sZW5ndGg7KytvKWlmKHRbb10+PTApbio9dFtvXTtlbHNlIGlmKC0xPT09dFtvXSl7aWYoLTEhPT1yKXRocm93IEVycm9yKFwiU2hhcGVzIGNhbiBvbmx5IGhhdmUgMSBpbXBsaWNpdCBzaXplLiBGb3VuZCAtMSBhdCBkaW0gXCIrcitcIiBhbmQgZGltIFwiK28pO3I9b31lbHNlIGlmKHRbb108MCl0aHJvdyBFcnJvcihcIlNoYXBlcyBjYW4gbm90IGJlIDwgMC4gRm91bmQgXCIrdFtvXStcIiBhdCBkaW0gXCIrbyk7aWYoLTE9PT1yKXtpZihlPjAmJmUhPT1uKXRocm93IEVycm9yKFwiU2l6ZShcIitlK1wiKSBtdXN0IG1hdGNoIHRoZSBwcm9kdWN0IG9mIHNoYXBlIFwiK3QpO3JldHVybiB0fWlmKDA9PT1uKXRocm93IEVycm9yKFwiQ2Fubm90IGluZmVyIHRoZSBtaXNzaW5nIHNpemUgaW4gW1wiK3QrXCJdIHdoZW4gdGhlcmUgYXJlIDAgZWxlbWVudHNcIik7aWYoZSVuIT0wKXRocm93IEVycm9yKFwiVGhlIGltcGxpY2l0IHNoYXBlIGNhbid0IGJlIGEgZnJhY3Rpb25hbCBudW1iZXIuIEdvdCBcIitlK1wiIC8gXCIrbik7dmFyIGE9dC5zbGljZSgpO3JldHVybiBhW3JdPWUvbixhfWZ1bmN0aW9uIE8odCxlKXt2YXIgbj1lLmxlbmd0aDtyZXR1cm4gQygodD1udWxsPT10P2UubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiBlfSkpOltdLmNvbmNhdCh0KSkuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Pj0tbiYmdDxufSkpLChmdW5jdGlvbigpe3JldHVyblwiQWxsIHZhbHVlcyBpbiBheGlzIHBhcmFtIG11c3QgYmUgaW4gcmFuZ2UgWy1cIituK1wiLCBcIituK1wiKSBidXQgZ290IGF4aXMgXCIrdH0pKSxDKHQuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiBBKHQpfSkpLChmdW5jdGlvbigpe3JldHVyblwiQWxsIHZhbHVlcyBpbiBheGlzIHBhcmFtIG11c3QgYmUgaW50ZWdlcnMgYnV0IGdvdCBheGlzIFwiK3R9KSksdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0PDA/bit0OnR9KSl9ZnVuY3Rpb24gTSh0LGUpe2Zvcih2YXIgbj1bXSxyPVtdLG89bnVsbCE9ZSYmQXJyYXkuaXNBcnJheShlKSYmMD09PWUubGVuZ3RoLGE9bnVsbD09ZXx8bz9udWxsOk8oZSx0KS5zb3J0KCksaT0wLHM9MDtzPHQubGVuZ3RoOysrcyl7aWYobnVsbCE9YSl7aWYoYVtpXT09PXMmJjEhPT10W3NdKXRocm93IG5ldyBFcnJvcihcIkNhbid0IHNxdWVlemUgYXhpcyBcIitzK1wiIHNpbmNlIGl0cyBkaW0gJ1wiK3Rbc10rXCInIGlzIG5vdCAxXCIpOyhudWxsPT1hW2ldfHxhW2ldPnMpJiYxPT09dFtzXSYmKG4ucHVzaCh0W3NdKSxyLnB1c2gocykpLGFbaV08PXMmJmkrK30xIT09dFtzXSYmKG4ucHVzaCh0W3NdKSxyLnB1c2gocykpfXJldHVybntuZXdTaGFwZTpuLGtlcHREaW1zOnJ9fWZ1bmN0aW9uIEIodCxlKXt2YXIgbj1udWxsO2lmKG51bGw9PXR8fFwiZmxvYXQzMlwiPT09dCluPW5ldyBGbG9hdDMyQXJyYXkoZSk7ZWxzZSBpZihcImludDMyXCI9PT10KW49bmV3IEludDMyQXJyYXkoZSk7ZWxzZXtpZihcImJvb2xcIiE9PXQpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkYXRhIHR5cGUgXCIrdCk7bj1uZXcgVWludDhBcnJheShlKX1yZXR1cm4gbn1mdW5jdGlvbiBQKHQsZSl7dmFyIG49bnVsbDtpZihudWxsPT10fHxcImZsb2F0MzJcIj09PXQpbj1uZXcgRmxvYXQzMkFycmF5KGUpO2Vsc2UgaWYoXCJpbnQzMlwiPT09dCluPW5ldyBJbnQzMkFycmF5KGUpO2Vsc2UgaWYoXCJib29sXCI9PT10KW49bmV3IFVpbnQ4QXJyYXkoZSk7ZWxzZXtpZihcInN0cmluZ1wiIT09dCl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGRhdGEgdHlwZSBcIit0KTtuPW5ldyBBcnJheShlKX1yZXR1cm4gbn1mdW5jdGlvbiBMKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07aWYoaXNOYU4ocil8fCFpc0Zpbml0ZShyKSl0aHJvdyBFcnJvcihcIkEgdGVuc29yIG9mIHR5cGUgXCIrZStcIiBiZWluZyB1cGxvYWRlZCBjb250YWlucyBcIityK1wiLlwiKX19ZnVuY3Rpb24gVyh0KXtyZXR1cm5cImJvb2xcIj09PXR8fFwiY29tcGxleDY0XCI9PT10fHxcImZsb2F0MzJcIj09PXR8fFwiaW50MzJcIj09PXR8fFwic3RyaW5nXCI9PT10fWZ1bmN0aW9uIFUodCxlKXtyZXR1cm5cImNvbXBsZXg2NFwiIT09ZSYmKChcImZsb2F0MzJcIiE9PWV8fFwiY29tcGxleDY0XCI9PT10KSYmKChcImludDMyXCIhPT1lfHxcImZsb2F0MzJcIj09PXR8fFwiY29tcGxleDY0XCI9PT10KSYmKFwiYm9vbFwiIT09ZXx8XCJib29sXCIhPT10KSkpfWZ1bmN0aW9uIFYodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fHQgaW5zdGFuY2VvZiBJbnQzMkFycmF5fHx0IGluc3RhbmNlb2YgVWludDhBcnJheX1mdW5jdGlvbiB6KHQpe2lmKFwiZmxvYXQzMlwiPT09dHx8XCJpbnQzMlwiPT09dClyZXR1cm4gNDtpZihcImNvbXBsZXg2NFwiPT09dClyZXR1cm4gODtpZihcImJvb2xcIj09PXQpcmV0dXJuIDE7dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkdHlwZSBcIit0KX1mdW5jdGlvbiBHKHQpe2lmKG51bGw9PXQpcmV0dXJuIDA7dmFyIGU9MDtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZSs9dC5sZW5ndGh9KSksZX1mdW5jdGlvbiBIKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgU3RyaW5nfWZ1bmN0aW9uIHEodCl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIEsodCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHR9ZnVuY3Rpb24gaih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9qKHRbMF0pOnQgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/XCJmbG9hdDMyXCI6dCBpbnN0YW5jZW9mIEludDMyQXJyYXl8fHQgaW5zdGFuY2VvZiBVaW50OEFycmF5P1wiaW50MzJcIjpLKHQpP1wiZmxvYXQzMlwiOkgodCk/XCJzdHJpbmdcIjpxKHQpP1wiYm9vbFwiOlwiZmxvYXQzMlwifWZ1bmN0aW9uIFgodCl7cmV0dXJuISEodCYmdC5jb25zdHJ1Y3RvciYmdC5jYWxsJiZ0LmFwcGx5KX1mdW5jdGlvbiBZKHQsZSl7Zm9yKHZhciBuPWU7bjx0OysrbilpZih0JW49PTApcmV0dXJuIG47cmV0dXJuIHR9ZnVuY3Rpb24gJCh0KXt2YXIgZT10Lmxlbmd0aDtpZihlPDIpcmV0dXJuW107dmFyIG49bmV3IEFycmF5KGUtMSk7bltlLTJdPXRbZS0xXTtmb3IodmFyIHI9ZS0zO3I+PTA7LS1yKW5bcl09bltyKzFdKnRbcisxXTtyZXR1cm4gbn1mdW5jdGlvbiBRKHQsZSxuKXtpZihcInN0cmluZ1wiPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29udmVydCBhIHN0cmluZ1tdIHRvIGEgVHlwZWRBcnJheVwiKTtpZihBcnJheS5pc0FycmF5KHQpJiYodD1JKHQpKSxuJiZMKHQsZSksZnVuY3Rpb24odCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSYmXCJmbG9hdDMyXCI9PT1lfHx0IGluc3RhbmNlb2YgSW50MzJBcnJheSYmXCJpbnQzMlwiPT09ZXx8dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJlwiYm9vbFwiPT09ZX0odCxlKSlyZXR1cm4gdDtpZihudWxsPT1lfHxcImZsb2F0MzJcIj09PWV8fFwiY29tcGxleDY0XCI9PT1lKXJldHVybiBuZXcgRmxvYXQzMkFycmF5KHQpO2lmKFwiaW50MzJcIj09PWUpcmV0dXJuIG5ldyBJbnQzMkFycmF5KHQpO2lmKFwiYm9vbFwiPT09ZSl7Zm9yKHZhciByPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoKSxvPTA7bzxyLmxlbmd0aDsrK28pMCE9PU1hdGgucm91bmQodFtvXSkmJihyW29dPTEpO3JldHVybiByfXRocm93IG5ldyBFcnJvcihcIlVua25vd24gZGF0YSB0eXBlIFwiK2UpfWZ1bmN0aW9uIEoodCxlKXtpZigwPT09dC5sZW5ndGgpcmV0dXJuIGVbMF07dmFyIG49dC5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQqZX0pKTtpZigwPT09bilyZXR1cm5bXTtpZihuIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiW1wiK3QrXCJdIGRvZXMgbm90IG1hdGNoIHRoZSBpbnB1dCBzaXplLlwiKTtyZXR1cm4gZnVuY3Rpb24gdChlLG4scil7dmFyIG89bmV3IEFycmF5O2lmKDE9PT1uLmxlbmd0aClmb3IodmFyIGE9blswXSxpPTA7aTxhO2krKylvW2ldPXJbZStpXTtlbHNle2E9blswXTt2YXIgcz1uLnNsaWNlKDEpLHU9cy5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQqZX0pKTtmb3IoaT0wO2k8YTtpKyspb1tpXT10KGUraSp1LHMscil9cmV0dXJuIG99KDAsdCxlKX1mdW5jdGlvbiBaKHQsZSl7Zm9yKHZhciBuPXR0KHQsZSkscj0wO3I8bi5sZW5ndGg7cisrKW5bcl09MTtyZXR1cm4gbn1mdW5jdGlvbiB0dCh0LGUpe2lmKG51bGw9PWV8fFwiZmxvYXQzMlwiPT09ZXx8XCJjb21wbGV4NjRcIj09PWUpcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkodCk7aWYoXCJpbnQzMlwiPT09ZSlyZXR1cm4gbmV3IEludDMyQXJyYXkodCk7aWYoXCJib29sXCI9PT1lKXJldHVybiBuZXcgVWludDhBcnJheSh0KTt0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGRhdGEgdHlwZSBcIitlKX1mdW5jdGlvbiBldCgpe3JldHVybiBpKCkucGxhdGZvcm0ubm93KCl9ZnVuY3Rpb24gbnQodCl7dC5mb3JFYWNoKChmdW5jdGlvbihlKXtDKE51bWJlci5pc0ludGVnZXIoZSkmJmU+PTAsKGZ1bmN0aW9uKCl7cmV0dXJuXCJUZW5zb3IgbXVzdCBoYXZlIGEgc2hhcGUgY29tcHJpc2VkIG9mIHBvc2l0aXZlIGludGVnZXJzIGJ1dCBnb3Qgc2hhcGUgW1wiK3QrXCJdLlwifSkpfSkpfWZ1bmN0aW9uIHJ0KHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVwidXRmLThcIiksZT1lfHxcInV0Zi04XCIsaSgpLnBsYXRmb3JtLmVuY29kZSh0LGUpfWZ1bmN0aW9uIG90KHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVwidXRmLThcIiksZT1lfHxcInV0Zi04XCIsaSgpLnBsYXRmb3JtLmRlY29kZSh0LGUpfWZ1bmN0aW9uIGF0KHQsZSxuKXtpZigwPT09ZSlyZXR1cm4gMDtpZigxPT09ZSlyZXR1cm4gdFswXTtmb3IodmFyIHI9dFt0Lmxlbmd0aC0xXSxvPTA7bzx0Lmxlbmd0aC0xOysrbylyKz1uW29dKnRbb107cmV0dXJuIHJ9ZnVuY3Rpb24gaXQodCxlLG4pe2lmKDA9PT1lKXJldHVybltdO2lmKDE9PT1lKXJldHVyblt0XTtmb3IodmFyIHI9bmV3IEFycmF5KGUpLG89MDtvPHIubGVuZ3RoLTE7KytvKXJbb109TWF0aC5mbG9vcih0L25bb10pLHQtPXJbb10qbltvXTtyZXR1cm4gcltyLmxlbmd0aC0xXT10LHJ9dmFyIHN0PU9iamVjdC5mcmVlemUoe3NodWZmbGU6eSxjbGFtcDp4LG5lYXJlc3RMYXJnZXJFdmVuOmIsc3VtOncscmFuZFVuaWZvcm06ZnVuY3Rpb24odCxlKXt2YXIgbj1NYXRoLnJhbmRvbSgpO3JldHVybiBlKm4rKDEtbikqdH0sZGlzdFNxdWFyZWQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPU51bWJlcih0W3JdKS1OdW1iZXIoZVtyXSk7bis9bypvfXJldHVybiBufSxhc3NlcnQ6Qyxhc3NlcnRTaGFwZXNNYXRjaDpFLGFzc2VydE5vbk51bGw6UixmbGF0dGVuOkksc2l6ZUZyb21TaGFwZTprLGlzU2NhbGFyU2hhcGU6ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10Lmxlbmd0aH0sYXJyYXlzRXF1YWw6Uyxpc0ludDpBLHRhbmg6RCxzaXplVG9TcXVhcmlzaFNoYXBlOlQsY3JlYXRlU2h1ZmZsZWRJbmRpY2VzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgVWludDMyQXJyYXkodCksbj0wO248dDsrK24pZVtuXT1uO3JldHVybiB5KGUpLGV9LHJpZ2h0UGFkOk4scmVwZWF0ZWRUcnk6RixpbmZlckZyb21JbXBsaWNpdFNoYXBlOl8scGFyc2VBeGlzUGFyYW06TyxzcXVlZXplU2hhcGU6TSxnZXRUeXBlZEFycmF5RnJvbURUeXBlOkIsZ2V0QXJyYXlGcm9tRFR5cGU6UCxjaGVja0NvbnZlcnNpb25Gb3JFcnJvcnM6TCxpc1ZhbGlkRHR5cGU6VyxoYXNFbmNvZGluZ0xvc3M6VSxpc1R5cGVkQXJyYXk6VixieXRlc1BlckVsZW1lbnQ6eixieXRlc0Zyb21TdHJpbmdBcnJheTpHLGlzU3RyaW5nOkgsaXNCb29sZWFuOnEsaXNOdW1iZXI6SyxpbmZlckR0eXBlOmosaXNGdW5jdGlvbjpYLG5lYXJlc3REaXZpc29yOlksY29tcHV0ZVN0cmlkZXM6JCx0b1R5cGVkQXJyYXk6USx0b05lc3RlZEFycmF5OkosbWFrZU9uZXNUeXBlZEFycmF5OlosbWFrZVplcm9zVHlwZWRBcnJheTp0dCxub3c6ZXQsYXNzZXJ0Tm9uTmVnYXRpdmVJbnRlZ2VyRGltZW5zaW9uczpudCxmZXRjaDpmdW5jdGlvbih0LGUpe3JldHVybiBpKCkucGxhdGZvcm0uZmV0Y2godCxlKX0sZW5jb2RlU3RyaW5nOnJ0LGRlY29kZVN0cmluZzpvdCxsb2NUb0luZGV4OmF0LGluZGV4VG9Mb2M6aXR9KSx1dD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmJhY2tlbmRUaW1lcj10LHRoaXMubG9nZ2VyPWUsbnVsbD09ZSYmKHRoaXMubG9nZ2VyPW5ldyBjdCl9cmV0dXJuIHQucHJvdG90eXBlLnByb2ZpbGVLZXJuZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciByLG89dGhpcyxhPXRoaXMuYmFja2VuZFRpbWVyLnRpbWUoKGZ1bmN0aW9uKCl7cj1uKCl9KSk7cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24obil7bi5kYXRhKCkudGhlbigoZnVuY3Rpb24ocil7IWZ1bmN0aW9uKHQsZSxuKXtpZihcImZsb2F0MzJcIiE9PWUpcmV0dXJuITE7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07aWYoaXNOYU4obyl8fCFpc0Zpbml0ZShvKSlyZXR1cm4gY29uc29sZS53YXJuKFwiRm91bmQgXCIrbytcIiBpbiB0aGUgcmVzdWx0IG9mICdcIituK1wiJ1wiKSwhMH19KHIsbi5kdHlwZSx0KSxhLnRoZW4oKGZ1bmN0aW9uKGEpe3ZhciBpPVwiXCI7bnVsbCE9YS5nZXRFeHRyYVByb2ZpbGVJbmZvJiYoaT1hLmdldEV4dHJhUHJvZmlsZUluZm8oKSksby5sb2dnZXIubG9nS2VybmVsUHJvZmlsZSh0LG4scixhLmtlcm5lbE1zLGUsaSl9KSl9KSl9KSkscn0sdH0oKTt2YXIgY3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5sb2dLZXJuZWxQcm9maWxlPWZ1bmN0aW9uKHQsZSxuLHIsbyxhKXt2YXIgaT1cIm51bWJlclwiPT10eXBlb2Ygcj9OKHIrXCJtc1wiLDkpOnIuZXJyb3Iscz1OKHQsMjUpLHU9ZS5yYW5rLGM9ZS5zaXplLGw9TihlLnNoYXBlLnRvU3RyaW5nKCksMTQpLGg9XCJcIjtmb3IodmFyIGYgaW4gbyl7dmFyIGQ9b1tmXS5zaGFwZXx8ZS5zaGFwZSxwPWQubGVuZ3RoO2grPWYrXCI6IFwiK3ArXCJEIFwiKyhwPjA/ZDpcIlwiKStcIiBcIn1jb25zb2xlLmxvZyhcIiVjXCIrcytcIlxcdCVjXCIraStcIlxcdCVjXCIrdStcIkQgXCIrbCtcIlxcdCVjXCIrYytcIlxcdCVjXCIraCtcIlxcdCVjXCIrYSxcImZvbnQtd2VpZ2h0OmJvbGRcIixcImNvbG9yOnJlZFwiLFwiY29sb3I6Ymx1ZVwiLFwiY29sb3I6IG9yYW5nZVwiLFwiY29sb3I6IGdyZWVuXCIsXCJjb2xvcjogc3RlZWxibHVlXCIpfSx0fSgpO3ZhciBsdD0yMCxodD0zLGZ0PTc7ZnVuY3Rpb24gZHQodCxlLG4scil7dmFyIG89JChlKSxhPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPWsoZSksYT1yW3IubGVuZ3RoLTFdLGk9bmV3IEFycmF5KGEpLmZpbGwoMCkscz1lLmxlbmd0aCx1PVwiY29tcGxleDY0XCI9PT1uP210KHQpOnQ7aWYocz4xKWZvcih2YXIgYz0wO2M8by9hO2MrKylmb3IodmFyIGw9YyphLGg9MDtoPGE7aCsrKWlbaF09TWF0aC5tYXgoaVtoXSxwdCh1W2wraF0sMCxuKS5sZW5ndGgpO3JldHVybiBpfSh0LGUsbixvKSxpPWUubGVuZ3RoLHM9ZnVuY3Rpb24gdChlLG4scixvLGEsaSl7dm9pZCAwPT09aSYmKGk9ITApO3ZhciBzPVwiY29tcGxleDY0XCI9PT1yPzI6MSx1PW5bMF0sYz1uLmxlbmd0aDtpZigwPT09Yyl7cmV0dXJuXCJjb21wbGV4NjRcIj09PXI/W3B0KG10KGUpWzBdLDAscildOlwiYm9vbFwiPT09cj9bdnQoZVswXSldOltlWzBdLnRvU3RyaW5nKCldfWlmKDE9PT1jKXtpZih1Pmx0KXt2YXIgbD1odCpzLGg9QXJyYXkuZnJvbShlLnNsaWNlKDAsbCkpLGY9QXJyYXkuZnJvbShlLnNsaWNlKCh1LWh0KSpzLHUqcykpO3JldHVyblwiY29tcGxleDY0XCI9PT1yJiYoaD1tdChoKSxmPW10KGYpKSxbXCJbXCIraC5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHB0KHQsYVtlXSxyKX0pKS5qb2luKFwiLCBcIikrXCIsIC4uLiwgXCIrZi5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHB0KHQsYVt1LWh0K2VdLHIpfSkpLmpvaW4oXCIsIFwiKStcIl1cIl19cmV0dXJuW1wiW1wiKyhcImNvbXBsZXg2NFwiPT09cj9tdChlKTpBcnJheS5mcm9tKGUpKS5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHB0KHQsYVtlXSxyKX0pKS5qb2luKFwiLCBcIikrXCJdXCJdfXZhciBkPW4uc2xpY2UoMSkscD1vLnNsaWNlKDEpLHY9b1swXSpzLG09W107aWYodT5sdCl7Zm9yKHZhciBnPTA7ZzxodDtnKyspe3ZhciB5PSh4PWcqdikrdjttLnB1c2guYXBwbHkobSx0KGUuc2xpY2UoeCx5KSxkLHIscCxhLCExKSl9bS5wdXNoKFwiLi4uXCIpO2ZvcihnPXUtaHQ7Zzx1O2crKyl7eT0oeD1nKnYpK3Y7bS5wdXNoLmFwcGx5KG0sdChlLnNsaWNlKHgseSksZCxyLHAsYSxnPT09dS0xKSl9fWVsc2UgZm9yKGc9MDtnPHU7ZysrKXt2YXIgeDt5PSh4PWcqdikrdjttLnB1c2guYXBwbHkobSx0KGUuc2xpY2UoeCx5KSxkLHIscCxhLGc9PT11LTEpKX12YXIgYj0yPT09Yz9cIixcIjpcIlwiO21bMF09XCJbXCIrbVswXStiO2ZvcihnPTE7ZzxtLmxlbmd0aC0xO2crKyltW2ddPVwiIFwiK21bZ10rYjt2YXIgdz1cIixcXG5cIjtmb3IoZz0yO2c8YztnKyspdys9XCJcXG5cIjtyZXR1cm4gbVttLmxlbmd0aC0xXT1cIiBcIittW20ubGVuZ3RoLTFdK1wiXVwiKyhpP1wiXCI6dyksbX0odCxlLG4sbyxhKSx1PVtcIlRlbnNvclwiXTtyZXR1cm4gciYmKHUucHVzaChcIiAgZHR5cGU6IFwiK24pLHUucHVzaChcIiAgcmFuazogXCIraSksdS5wdXNoKFwiICBzaGFwZTogW1wiK2UrXCJdXCIpLHUucHVzaChcIiAgdmFsdWVzOlwiKSksdS5wdXNoKHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm5cIiAgICBcIit0fSkpLmpvaW4oXCJcXG5cIikpLHUuam9pbihcIlxcblwiKX1mdW5jdGlvbiBwdCh0LGUsbil7cmV0dXJuIE4oQXJyYXkuaXNBcnJheSh0KT9wYXJzZUZsb2F0KHRbMF0udG9GaXhlZChmdCkpK1wiICsgXCIrcGFyc2VGbG9hdCh0WzFdLnRvRml4ZWQoZnQpKStcImpcIjpIKHQpP1wiJ1wiK3QrXCInXCI6XCJib29sXCI9PT1uP3Z0KHQpOnBhcnNlRmxvYXQodC50b0ZpeGVkKGZ0KSkudG9TdHJpbmcoKSxlKX1mdW5jdGlvbiB2dCh0KXtyZXR1cm4gMD09PXQ/XCJmYWxzZVwiOlwidHJ1ZVwifWZ1bmN0aW9uIG10KHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKz0yKWUucHVzaChbdFtuXSx0W24rMV1dKTtyZXR1cm4gZX12YXIgZ3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt2YXIgcj10aGlzO2lmKHRoaXMuZHR5cGU9ZSx0aGlzLnNoYXBlPXQuc2xpY2UoKSx0aGlzLnNpemU9ayh0KSxudWxsIT1uKXt2YXIgbz1uLmxlbmd0aDtDKG89PT10aGlzLnNpemUsKGZ1bmN0aW9uKCl7cmV0dXJuXCJMZW5ndGggb2YgdmFsdWVzICdcIitvK1wiJyBkb2VzIG5vdCBtYXRjaCB0aGUgc2l6ZSBpbmZlcnJlZCBieSB0aGUgc2hhcGUgJ1wiK3Iuc2l6ZStcIicuXCJ9KSl9aWYoXCJjb21wbGV4NjRcIj09PWUpdGhyb3cgbmV3IEVycm9yKFwiY29tcGxleDY0IGR0eXBlIFRlbnNvckJ1ZmZlcnMgYXJlIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSBjcmVhdGUgYSBUZW5zb3JCdWZmZXIgZm9yIHRoZSByZWFsIGFuZCBpbWFnaW5hcnkgcGFydHMgc2VwYXJhdGVseSBhbmQgY2FsbCB0Zi5jb21wbGV4KHJlYWwsIGltYWcpLlwiKTt0aGlzLnZhbHVlcz1ufHxQKGUsdGhpcy5zaXplKSx0aGlzLnN0cmlkZXM9JCh0KX1yZXR1cm4gdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLG49W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTswPT09bi5sZW5ndGgmJihuPVswXSksQyhuLmxlbmd0aD09PXRoaXMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBudW1iZXIgb2YgcHJvdmlkZWQgY29vcmRpbmF0ZXMgKFwiK24ubGVuZ3RoK1wiKSBtdXN0IG1hdGNoIHRoZSByYW5rIChcIitlLnJhbmsrXCIpXCJ9KSk7dmFyIG89dGhpcy5sb2NUb0luZGV4KG4pO3RoaXMudmFsdWVzW29dPXR9LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTswPT09dC5sZW5ndGgmJih0PVswXSk7Zm9yKHZhciBuPTAscj0wLG89dDtyPG8ubGVuZ3RoO3IrKyl7dmFyIGE9b1tyXTtpZihhPDB8fGE+PXRoaXMuc2hhcGVbbl0pe3ZhciBpPVwiUmVxdWVzdGVkIG91dCBvZiByYW5nZSBlbGVtZW50IGF0IFwiK3QrXCIuICAgQnVmZmVyIHNoYXBlPVwiK3RoaXMuc2hhcGU7dGhyb3cgbmV3IEVycm9yKGkpfW4rK31mb3IodmFyIHM9dFt0Lmxlbmd0aC0xXSx1PTA7dTx0Lmxlbmd0aC0xOysrdSlzKz10aGlzLnN0cmlkZXNbdV0qdFt1XTtyZXR1cm4gdGhpcy52YWx1ZXNbc119LHQucHJvdG90eXBlLmxvY1RvSW5kZXg9ZnVuY3Rpb24odCl7aWYoMD09PXRoaXMucmFuaylyZXR1cm4gMDtpZigxPT09dGhpcy5yYW5rKXJldHVybiB0WzBdO2Zvcih2YXIgZT10W3QubGVuZ3RoLTFdLG49MDtuPHQubGVuZ3RoLTE7KytuKWUrPXRoaXMuc3RyaWRlc1tuXSp0W25dO3JldHVybiBlfSx0LnByb3RvdHlwZS5pbmRleFRvTG9jPWZ1bmN0aW9uKHQpe2lmKDA9PT10aGlzLnJhbmspcmV0dXJuW107aWYoMT09PXRoaXMucmFuaylyZXR1cm5bdF07Zm9yKHZhciBlPW5ldyBBcnJheSh0aGlzLnNoYXBlLmxlbmd0aCksbj0wO248ZS5sZW5ndGgtMTsrK24pZVtuXT1NYXRoLmZsb29yKHQvdGhpcy5zdHJpZGVzW25dKSx0LT1lW25dKnRoaXMuc3RyaWRlc1tuXTtyZXR1cm4gZVtlLmxlbmd0aC0xXT10LGV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJhbmtcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hhcGUubGVuZ3RofSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvVGVuc29yPWZ1bmN0aW9uKCl7cmV0dXJuIHl0KCkubWFrZVRlbnNvcih0aGlzLnZhbHVlcyx0aGlzLnNoYXBlLHRoaXMuZHR5cGUpfSx0fSgpLHl0PW51bGwseHQ9bnVsbCxidD1udWxsO3ZhciB3dD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dGhpcy5rZXB0PSExLHRoaXMuaXNEaXNwb3NlZEludGVybmFsPSExLHRoaXMuc2hhcGU9dC5zbGljZSgpLHRoaXMuZHR5cGU9ZXx8XCJmbG9hdDMyXCIsdGhpcy5zaXplPWsodCksdGhpcy5zdHJpZGVzPSQodCksdGhpcy5kYXRhSWQ9bix0aGlzLmlkPXIsdGhpcy5yYW5rVHlwZT10aGlzLnJhbms8NT90aGlzLnJhbmsudG9TdHJpbmcoKTpcImhpZ2hlclwifXJldHVybiB0LnByb3RvdHlwZS5mbGF0dGVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCksdGhpcy5hczFEKCl9LHQucHJvdG90eXBlLmFzU2NhbGFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCksQygxPT09dGhpcy5zaXplLChmdW5jdGlvbigpe3JldHVyblwiVGhlIGFycmF5IG11c3QgaGF2ZSBvbmx5IDEgZWxlbWVudC5cIn0pKSx0aGlzLnJlc2hhcGUoW10pfSx0LnByb3RvdHlwZS5hczFEPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCksdGhpcy5yZXNoYXBlKFt0aGlzLnNpemVdKX0sdC5wcm90b3R5cGUuYXMyRD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHRoaXMucmVzaGFwZShbdCxlXSl9LHQucHJvdG90eXBlLmFzM0Q9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHRoaXMucmVzaGFwZShbdCxlLG5dKX0sdC5wcm90b3R5cGUuYXM0RD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx0aGlzLnJlc2hhcGUoW3QsZSxuLHJdKX0sdC5wcm90b3R5cGUuYXM1RD1mdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHRoaXMucmVzaGFwZShbdCxlLG4scixvXSl9LHQucHJvdG90eXBlLmFzVHlwZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5jYXN0KHRoaXMsdCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJhbmtcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hhcGUubGVuZ3RofSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YSgpXTtjYXNlIDE6cmV0dXJuIHQ9ZS5zZW50KCksWzIseHQuYnVmZmVyKHRoaXMuc2hhcGUsdGhpcy5kdHlwZSx0KV19fSkpfSkpfSx0LnByb3RvdHlwZS5idWZmZXJTeW5jPWZ1bmN0aW9uKCl7cmV0dXJuIHh0LmJ1ZmZlcih0aGlzLnNoYXBlLHRoaXMuZHR5cGUsdGhpcy5kYXRhU3luYygpKX0sdC5wcm90b3R5cGUuYXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEoKV07Y2FzZSAxOnJldHVybiB0PWUuc2VudCgpLFsyLEoodGhpcy5zaGFwZSx0KV19fSkpfSkpfSx0LnByb3RvdHlwZS5hcnJheVN5bmM9ZnVuY3Rpb24oKXtyZXR1cm4gSih0aGlzLnNoYXBlLHRoaXMuZGF0YVN5bmMoKSl9LHQucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHQ9eXQoKS5yZWFkKHRoaXMuZGF0YUlkKSxcInN0cmluZ1wiIT09dGhpcy5kdHlwZT9bMywyXTpbNCx0XTtjYXNlIDE6ZT1uLnNlbnQoKTt0cnl7cmV0dXJuWzIsZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBvdCh0KX0pKV19Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGRlY29kZSB0aGUgc3RyaW5nIGJ5dGVzIGludG8gdXRmLTguIFRvIGdldCB0aGUgb3JpZ2luYWwgYnl0ZXMsIGNhbGwgdGVuc29yLmJ5dGVzKCkuXCIpfW4ubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzIsdF19fSkpfSkpfSx0LnByb3RvdHlwZS5kYXRhU3luYz1mdW5jdGlvbigpe3RoaXMudGhyb3dJZkRpc3Bvc2VkKCk7dmFyIHQ9eXQoKS5yZWFkU3luYyh0aGlzLmRhdGFJZCk7aWYoXCJzdHJpbmdcIj09PXRoaXMuZHR5cGUpdHJ5e3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG90KHQpfSkpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBkZWNvZGUgdGhlIHN0cmluZyBieXRlcyBpbnRvIHV0Zi04LiBUbyBnZXQgdGhlIG9yaWdpbmFsIGJ5dGVzLCBjYWxsIHRlbnNvci5ieXRlcygpLlwiKX1yZXR1cm4gdH0sdC5wcm90b3R5cGUuYnl0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSxbNCx5dCgpLnJlYWQodGhpcy5kYXRhSWQpXTtjYXNlIDE6cmV0dXJuIHQ9ZS5zZW50KCksXCJzdHJpbmdcIj09PXRoaXMuZHR5cGU/WzIsdF06WzIsbmV3IFVpbnQ4QXJyYXkodC5idWZmZXIpXX19KSl9KSl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmlzRGlzcG9zZWR8fCh5dCgpLmRpc3Bvc2VUZW5zb3IodGhpcyksdGhpcy5pc0Rpc3Bvc2VkSW50ZXJuYWw9ITApfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpc0Rpc3Bvc2VkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRGlzcG9zZWRJbnRlcm5hbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50aHJvd0lmRGlzcG9zZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLmlzRGlzcG9zZWQpdGhyb3cgbmV3IEVycm9yKFwiVGVuc29yIGlzIGRpc3Bvc2VkLlwiKX0sdC5wcm90b3R5cGUudG9GbG9hdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFzVHlwZShcImZsb2F0MzJcIil9LHQucHJvdG90eXBlLnRvSW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXNUeXBlKFwiaW50MzJcIil9LHQucHJvdG90eXBlLnRvQm9vbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFzVHlwZShcImJvb2xcIil9LHQucHJvdG90eXBlLnByaW50PWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0hMSkseHQucHJpbnQodGhpcyx0KX0sdC5wcm90b3R5cGUucmVzaGFwZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5yZXNoYXBlKHRoaXMsdCl9LHQucHJvdG90eXBlLnJlc2hhcGVBcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx0aGlzLnJlc2hhcGUodC5zaGFwZSl9LHQucHJvdG90eXBlLmV4cGFuZERpbXM9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHh0LmV4cGFuZERpbXModGhpcyx0KX0sdC5wcm90b3R5cGUuY3Vtc3VtPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PW4mJihuPSExKSx4dC5jdW1zdW0odGhpcyx0LGUsbil9LHQucHJvdG90eXBlLnNxdWVlemU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc3F1ZWV6ZSh0aGlzLHQpfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmNsb25lKHRoaXMpfSx0LnByb3RvdHlwZS5vbmVIb3Q9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0Lm9uZUhvdCh0aGlzLHQsZSxuKX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSExKSxkdCh0aGlzLmRhdGFTeW5jKCksdGhpcy5zaGFwZSx0aGlzLmR0eXBlLHQpfSx0LnByb3RvdHlwZS50aWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnRpbGUodGhpcyx0KX0sdC5wcm90b3R5cGUuZ2F0aGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuZ2F0aGVyKHRoaXMsdCxlKX0sdC5wcm90b3R5cGUubWF0TXVsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PW4mJihuPSExKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0Lm1hdE11bCh0aGlzLHQsZSxuKX0sdC5wcm90b3R5cGUuZG90PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmRvdCh0aGlzLHQpfSx0LnByb3RvdHlwZS5ub3JtPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9XCJldWNsaWRlYW5cIiksdm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49ITEpLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubm9ybSh0aGlzLHQsZSxuKX0sdC5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zbGljZSh0aGlzLHQsZSl9LHQucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQucmV2ZXJzZSh0aGlzLHQpfSx0LnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49MCksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSxlIGluc3RhbmNlb2YgdCYmKGU9W2VdKSx4dC5jb25jYXQoW3RoaXNdLmNvbmNhdChlKSxuKX0sdC5wcm90b3R5cGUuc3BsaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zcGxpdCh0aGlzLHQsZSl9LHQucHJvdG90eXBlLnN0YWNrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHh0LnN0YWNrKFt0aGlzLHRdLGUpfSx0LnByb3RvdHlwZS51bnN0YWNrPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx4dC51bnN0YWNrKHRoaXMsdCl9LHQucHJvdG90eXBlLnBhZD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0wKSx4dC5wYWQodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5iYXRjaE5vcm1hbGl6YXRpb249ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gdm9pZCAwPT09biYmKG49LjAwMSksYnQoXCJ0Zi5iYXRjaE5vcm1hbGl6YXRpb24oKSBpcyBnb2luZyBhd2F5LiBVc2UgdGYuYmF0Y2hOb3JtKCkgaW5zdGVhZCwgYW5kIG5vdGUgdGhlIHBvc2l0aW9uYWwgYXJndW1lbnQgY2hhbmdlIG9mIHNjYWxlLCBvZmZzZXQsIGFuZCB2YXJpYW5jZUVwc2lsb25cIiksdGhpcy5iYXRjaE5vcm0odCxlLG8scixuKX0sdC5wcm90b3R5cGUuYmF0Y2hOb3JtPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIHZvaWQgMD09PW8mJihvPS4wMDEpLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuYmF0Y2hOb3JtKHRoaXMsdCxlLG4scixvKX0sdC5wcm90b3R5cGUuYWxsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW51bGwpLHZvaWQgMD09PWUmJihlPSExKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmFsbCh0aGlzLHQsZSl9LHQucHJvdG90eXBlLmFueT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1udWxsKSx2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5hbnkodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5sb2dTdW1FeHA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubG9nU3VtRXhwKHRoaXMsdCxlKX0sdC5wcm90b3R5cGUuc3VtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW51bGwpLHZvaWQgMD09PWUmJihlPSExKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnN1bSh0aGlzLHQsZSl9LHQucHJvdG90eXBlLnByb2Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQucHJvZCh0aGlzLHQsZSl9LHQucHJvdG90eXBlLm1lYW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubWVhbih0aGlzLHQsZSl9LHQucHJvdG90eXBlLm1pbj1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1udWxsKSx2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5taW4odGhpcyx0LGUpfSx0LnByb3RvdHlwZS5tYXg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubWF4KHRoaXMsdCxlKX0sdC5wcm90b3R5cGUuYXJnTWluPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1udWxsKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmFyZ01pbih0aGlzLHQpfSx0LnByb3RvdHlwZS5hcmdNYXg9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW51bGwpLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuYXJnTWF4KHRoaXMsdCl9LHQucHJvdG90eXBlLmNhc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuY2FzdCh0aGlzLHQpfSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuYWRkKHRoaXMsdCl9LHQucHJvdG90eXBlLmFkZFN0cmljdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5hZGRTdHJpY3QodGhpcyx0KX0sdC5wcm90b3R5cGUuYXRhbjI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuYXRhbjIodGhpcyx0KX0sdC5wcm90b3R5cGUuc3ViPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnN1Yih0aGlzLHQpfSx0LnByb3RvdHlwZS5zdWJTdHJpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc3ViU3RyaWN0KHRoaXMsdCl9LHQucHJvdG90eXBlLnBvdz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5wb3codGhpcyx0KX0sdC5wcm90b3R5cGUucG93U3RyaWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnBvd1N0cmljdCh0aGlzLHQpfSx0LnByb3RvdHlwZS5tdWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubXVsKHRoaXMsdCl9LHQucHJvdG90eXBlLm11bFN0cmljdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5tdWxTdHJpY3QodGhpcyx0KX0sdC5wcm90b3R5cGUuZGl2PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmRpdih0aGlzLHQpfSx0LnByb3RvdHlwZS5kaXZOb05hbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5kaXZOb05hbih0aGlzLHQpfSx0LnByb3RvdHlwZS5mbG9vckRpdj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5mbG9vckRpdih0aGlzLHQpfSx0LnByb3RvdHlwZS5kaXZTdHJpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuZGl2U3RyaWN0KHRoaXMsdCl9LHQucHJvdG90eXBlLm1pbmltdW09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubWluaW11bSh0aGlzLHQpfSx0LnByb3RvdHlwZS5taW5pbXVtU3RyaWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0Lm1pbmltdW1TdHJpY3QodGhpcyx0KX0sdC5wcm90b3R5cGUubWF4aW11bT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5tYXhpbXVtKHRoaXMsdCl9LHQucHJvdG90eXBlLm1heGltdW1TdHJpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubWF4aW11bVN0cmljdCh0aGlzLHQpfSx0LnByb3RvdHlwZS5tb2Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubW9kKHRoaXMsdCl9LHQucHJvdG90eXBlLm1vZFN0cmljdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5tb2RTdHJpY3QodGhpcyx0KX0sdC5wcm90b3R5cGUuc3F1YXJlZERpZmZlcmVuY2VTdHJpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc3F1YXJlZERpZmZlcmVuY2VTdHJpY3QodGhpcyx0KX0sdC5wcm90b3R5cGUudHJhbnNwb3NlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnRyYW5zcG9zZSh0aGlzLHQpfSx0LnByb3RvdHlwZS5ub3RFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5ub3RFcXVhbCh0aGlzLHQpfSx0LnByb3RvdHlwZS5ub3RFcXVhbFN0cmljdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5ub3RFcXVhbFN0cmljdCh0aGlzLHQpfSx0LnByb3RvdHlwZS5sZXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0Lmxlc3ModGhpcyx0KX0sdC5wcm90b3R5cGUubGVzc1N0cmljdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5sZXNzU3RyaWN0KHRoaXMsdCl9LHQucHJvdG90eXBlLmVxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmVxdWFsKHRoaXMsdCl9LHQucHJvdG90eXBlLmVxdWFsU3RyaWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmVxdWFsU3RyaWN0KHRoaXMsdCl9LHQucHJvdG90eXBlLmxlc3NFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5sZXNzRXF1YWwodGhpcyx0KX0sdC5wcm90b3R5cGUubGVzc0VxdWFsU3RyaWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0Lmxlc3NFcXVhbFN0cmljdCh0aGlzLHQpfSx0LnByb3RvdHlwZS5ncmVhdGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmdyZWF0ZXIodGhpcyx0KX0sdC5wcm90b3R5cGUuZ3JlYXRlclN0cmljdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5ncmVhdGVyU3RyaWN0KHRoaXMsdCl9LHQucHJvdG90eXBlLmdyZWF0ZXJFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5ncmVhdGVyRXF1YWwodGhpcyx0KX0sdC5wcm90b3R5cGUuZ3JlYXRlckVxdWFsU3RyaWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmdyZWF0ZXJFcXVhbFN0cmljdCh0aGlzLHQpfSx0LnByb3RvdHlwZS5sb2dpY2FsQW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmxvZ2ljYWxBbmQodGhpcyx0KX0sdC5wcm90b3R5cGUubG9naWNhbE9yPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmxvZ2ljYWxPcih0aGlzLHQpfSx0LnByb3RvdHlwZS5sb2dpY2FsTm90PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubG9naWNhbE5vdCh0aGlzKX0sdC5wcm90b3R5cGUubG9naWNhbFhvcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5sb2dpY2FsWG9yKHRoaXMsdCl9LHQucHJvdG90eXBlLndoZXJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQud2hlcmUodCx0aGlzLGUpfSx0LnByb3RvdHlwZS5uZWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5uZWcodGhpcyl9LHQucHJvdG90eXBlLmNlaWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5jZWlsKHRoaXMpfSx0LnByb3RvdHlwZS5mbG9vcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmZsb29yKHRoaXMpfSx0LnByb3RvdHlwZS5zaWduPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc2lnbih0aGlzKX0sdC5wcm90b3R5cGUuaXNOYU49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5pc05hTih0aGlzKX0sdC5wcm90b3R5cGUuaXNJbmY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5pc0luZih0aGlzKX0sdC5wcm90b3R5cGUuaXNGaW5pdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5pc0Zpbml0ZSh0aGlzKX0sdC5wcm90b3R5cGUuZXhwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuZXhwKHRoaXMpfSx0LnByb3RvdHlwZS5leHBtMT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmV4cG0xKHRoaXMpfSx0LnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5sb2codGhpcyl9LHQucHJvdG90eXBlLmxvZzFwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubG9nMXAodGhpcyl9LHQucHJvdG90eXBlLnNxcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zcXJ0KHRoaXMpfSx0LnByb3RvdHlwZS5yc3FydD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnJzcXJ0KHRoaXMpfSx0LnByb3RvdHlwZS5zcXVhcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zcXVhcmUodGhpcyl9LHQucHJvdG90eXBlLnJlY2lwcm9jYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5yZWNpcHJvY2FsKHRoaXMpfSx0LnByb3RvdHlwZS5hYnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5hYnModGhpcyl9LHQucHJvdG90eXBlLmNsaXBCeVZhbHVlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuY2xpcEJ5VmFsdWUodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5yZWx1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQucmVsdSh0aGlzKX0sdC5wcm90b3R5cGUucmVsdTY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5yZWx1Nih0aGlzKX0sdC5wcm90b3R5cGUuZWx1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuZWx1KHRoaXMpfSx0LnByb3RvdHlwZS5zZWx1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc2VsdSh0aGlzKX0sdC5wcm90b3R5cGUubGVha3lSZWx1PWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0uMiksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5sZWFreVJlbHUodGhpcyx0KX0sdC5wcm90b3R5cGUucHJlbHU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQucHJlbHUodGhpcyx0KX0sdC5wcm90b3R5cGUuc2lnbW9pZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnNpZ21vaWQodGhpcyl9LHQucHJvdG90eXBlLmxvZ1NpZ21vaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5sb2dTaWdtb2lkKHRoaXMpfSx0LnByb3RvdHlwZS5zb2Z0cGx1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnNvZnRwbHVzKHRoaXMpfSx0LnByb3RvdHlwZS56ZXJvc0xpa2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC56ZXJvc0xpa2UodGhpcyl9LHQucHJvdG90eXBlLm9uZXNMaWtlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQub25lc0xpa2UodGhpcyl9LHQucHJvdG90eXBlLnNpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnNpbih0aGlzKX0sdC5wcm90b3R5cGUuY29zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuY29zKHRoaXMpfSx0LnByb3RvdHlwZS50YW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC50YW4odGhpcyl9LHQucHJvdG90eXBlLmFzaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5hc2luKHRoaXMpfSx0LnByb3RvdHlwZS5hY29zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuYWNvcyh0aGlzKX0sdC5wcm90b3R5cGUuYXRhbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmF0YW4odGhpcyl9LHQucHJvdG90eXBlLnNpbmg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zaW5oKHRoaXMpfSx0LnByb3RvdHlwZS5jb3NoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuY29zaCh0aGlzKX0sdC5wcm90b3R5cGUudGFuaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnRhbmgodGhpcyl9LHQucHJvdG90eXBlLmFzaW5oPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuYXNpbmgodGhpcyl9LHQucHJvdG90eXBlLmFjb3NoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuYWNvc2godGhpcyl9LHQucHJvdG90eXBlLmF0YW5oPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuYXRhbmgodGhpcyl9LHQucHJvdG90eXBlLmVyZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmVyZih0aGlzKX0sdC5wcm90b3R5cGUucm91bmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5yb3VuZCh0aGlzKX0sdC5wcm90b3R5cGUuc3RlcD1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zdGVwKHRoaXMsdCl9LHQucHJvdG90eXBlLnNvZnRtYXg9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PS0xKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnNvZnRtYXgodGhpcyx0KX0sdC5wcm90b3R5cGUubG9nU29mdG1heD1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9LTEpLHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubG9nU29mdG1heCh0aGlzLHQpfSx0LnByb3RvdHlwZS5yZXNpemVCaWxpbmVhcj1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5pbWFnZS5yZXNpemVCaWxpbmVhcih0aGlzLHQsZSl9LHQucHJvdG90eXBlLnJlc2l6ZU5lYXJlc3ROZWlnaGJvcj1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5pbWFnZS5yZXNpemVOZWFyZXN0TmVpZ2hib3IodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5jb252MWQ9ZnVuY3Rpb24odCxlLG4scixvLGEpe3JldHVybiB2b2lkIDA9PT1yJiYocj1cIk5XQ1wiKSx2b2lkIDA9PT1vJiYobz0xKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmNvbnYxZCh0aGlzLHQsZSxuLHIsbyxhKX0sdC5wcm90b3R5cGUuY29udjJkPWZ1bmN0aW9uKHQsZSxuLHIsbyxhKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9XCJOSFdDXCIpLHZvaWQgMD09PW8mJihvPVsxLDFdKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmNvbnYyZCh0aGlzLHQsZSxuLHIsbyxhKX0sdC5wcm90b3R5cGUuY29udjJkVHJhbnNwb3NlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuY29udjJkVHJhbnNwb3NlKHRoaXMsdCxlLG4scixvKX0sdC5wcm90b3R5cGUuZGVwdGh3aXNlQ29udjJEPWZ1bmN0aW9uKHQsZSxuLHIsbyxhKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9XCJOSFdDXCIpLHZvaWQgMD09PW8mJihvPVsxLDFdKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LmRlcHRod2lzZUNvbnYyZCh0aGlzLHQsZSxuLHIsbyxhKX0sdC5wcm90b3R5cGUuc2VwYXJhYmxlQ29udjJkPWZ1bmN0aW9uKHQsZSxuLHIsbyxhKXtyZXR1cm4gdm9pZCAwPT09byYmKG89WzEsMV0pLHZvaWQgMD09PWEmJihhPVwiTkhXQ1wiKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnNlcGFyYWJsZUNvbnYyZCh0aGlzLHQsZSxuLHIsbyxhKX0sdC5wcm90b3R5cGUuYXZnUG9vbD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5hdmdQb29sKHRoaXMsdCxlLG4scil9LHQucHJvdG90eXBlLm1heFBvb2w9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQubWF4UG9vbCh0aGlzLHQsZSxuLHIpfSx0LnByb3RvdHlwZS5sb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbj1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9NSksdm9pZCAwPT09ZSYmKGU9MSksdm9pZCAwPT09biYmKG49MSksdm9pZCAwPT09ciYmKHI9LjUpLHh0LmxvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9uKHRoaXMsdCxlLG4scil9LHQucHJvdG90eXBlLnBvb2w9ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5wb29sKHRoaXMsdCxlLG4scixvKX0sdC5wcm90b3R5cGUudmFyaWFibGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT10JiYodD0hMCksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx5dCgpLm1ha2VWYXJpYWJsZSh0aGlzLHQsZSxuKX0sdC5wcm90b3R5cGUudW5zb3J0ZWRTZWdtZW50U3VtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQudW5zb3J0ZWRTZWdtZW50U3VtKHRoaXMsdCxlKX0sdC5wcm90b3R5cGUuYmF0Y2hUb1NwYWNlTkQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5iYXRjaFRvU3BhY2VORCh0aGlzLHQsZSl9LHQucHJvdG90eXBlLnNwYWNlVG9CYXRjaE5EPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc3BhY2VUb0JhdGNoTkQodGhpcyx0LGUpfSx0LnByb3RvdHlwZS50b3BrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTEpLHZvaWQgMD09PWUmJihlPSEwKSx0aGlzLnRocm93SWZEaXNwb3NlZCgpLHh0LnRvcGsodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5zdHJpZGVkU2xpY2U9ZnVuY3Rpb24odCxlLG4scixvLGEsaSxzKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09byYmKG89MCksdm9pZCAwPT09YSYmKGE9MCksdm9pZCAwPT09aSYmKGk9MCksdm9pZCAwPT09cyYmKHM9MCksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zdHJpZGVkU2xpY2UodGhpcyx0LGUsbixyLG8sYSxpLHMpfSx0LnByb3RvdHlwZS5kZXB0aFRvU3BhY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5kZXB0aFRvU3BhY2UodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5mZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zcGVjdHJhbC5mZnQodGhpcyl9LHQucHJvdG90eXBlLmlmZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zcGVjdHJhbC5pZmZ0KHRoaXMpfSx0LnByb3RvdHlwZS5yZmZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCkseHQuc3BlY3RyYWwucmZmdCh0aGlzKX0sdC5wcm90b3R5cGUuaXJmZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSx4dC5zcGVjdHJhbC5pcmZmdCh0aGlzKX0sdH0oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkod3QsU3ltYm9sLmhhc0luc3RhbmNlLHt2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4hIXQmJm51bGwhPXQuZGF0YUlkJiZudWxsIT10LnNoYXBlJiZudWxsIT10LmR0eXBlfX0pO3ZhciBDdCxFdCxSdCxJdCxrdCxTdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKGUsbixyLG8pe3ZhciBhPXQuY2FsbCh0aGlzLGUuc2hhcGUsZS5kdHlwZSxlLmRhdGFJZCxvKXx8dGhpcztyZXR1cm4gYS50cmFpbmFibGU9bixhLm5hbWU9cixhfXJldHVybiBlKG4sdCksbi5wcm90b3R5cGUuYXNzaWduPWZ1bmN0aW9uKHQpe2lmKHQuZHR5cGUhPT10aGlzLmR0eXBlKXRocm93IG5ldyBFcnJvcihcImR0eXBlIG9mIHRoZSBuZXcgdmFsdWUgKFwiK3QuZHR5cGUrXCIpIGFuZCBwcmV2aW91cyB2YWx1ZSAoXCIrdGhpcy5kdHlwZStcIikgbXVzdCBtYXRjaFwiKTtpZighUyh0LnNoYXBlLHRoaXMuc2hhcGUpKXRocm93IG5ldyBFcnJvcihcInNoYXBlIG9mIHRoZSBuZXcgdmFsdWUgKFwiK3Quc2hhcGUrXCIpIGFuZCBwcmV2aW91cyB2YWx1ZSAoXCIrdGhpcy5zaGFwZStcIikgbXVzdCBtYXRjaFwiKTt5dCgpLmRpc3Bvc2VUZW5zb3IodGhpcyksdGhpcy5kYXRhSWQ9dC5kYXRhSWQseXQoKS5pbmNSZWYodGhpcyxudWxsKX0sbi5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3l0KCkuZGlzcG9zZVZhcmlhYmxlKHRoaXMpLHRoaXMuaXNEaXNwb3NlZEludGVybmFsPSEwfSxufSh3dCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFN0LFN5bWJvbC5oYXNJbnN0YW5jZSx7dmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB3dCYmbnVsbCE9dC5hc3NpZ24mJnQuYXNzaWduIGluc3RhbmNlb2YgRnVuY3Rpb259fSksZnVuY3Rpb24odCl7dC5SMD1cIlIwXCIsdC5SMT1cIlIxXCIsdC5SMj1cIlIyXCIsdC5SMz1cIlIzXCIsdC5SND1cIlI0XCIsdC5SNT1cIlI1XCIsdC5SNj1cIlI2XCJ9KEN0fHwoQ3Q9e30pKSxmdW5jdGlvbih0KXt0LmZsb2F0MzI9XCJmbG9hdDMyXCIsdC5pbnQzMj1cImludDMyXCIsdC5ib29sPVwiaW50MzJcIix0LmNvbXBsZXg2ND1cImNvbXBsZXg2NFwifShFdHx8KEV0PXt9KSksZnVuY3Rpb24odCl7dC5mbG9hdDMyPVwiZmxvYXQzMlwiLHQuaW50MzI9XCJpbnQzMlwiLHQuYm9vbD1cImJvb2xcIix0LmNvbXBsZXg2ND1cImNvbXBsZXg2NFwifShSdHx8KFJ0PXt9KSksZnVuY3Rpb24odCl7dC5mbG9hdDMyPVwiZmxvYXQzMlwiLHQuaW50MzI9XCJmbG9hdDMyXCIsdC5ib29sPVwiZmxvYXQzMlwiLHQuY29tcGxleDY0PVwiY29tcGxleDY0XCJ9KEl0fHwoSXQ9e30pKSxmdW5jdGlvbih0KXt0LmZsb2F0MzI9XCJjb21wbGV4NjRcIix0LmludDMyPVwiY29tcGxleDY0XCIsdC5ib29sPVwiY29tcGxleDY0XCIsdC5jb21wbGV4NjQ9XCJjb21wbGV4NjRcIn0oa3R8fChrdD17fSkpO3ZhciBBdD17ZmxvYXQzMjpJdCxpbnQzMjpFdCxib29sOlJ0LGNvbXBsZXg2NDprdH07ZnVuY3Rpb24gRHQodCxlKXtpZihcInN0cmluZ1wiPT09dHx8XCJzdHJpbmdcIj09PWUpe2lmKFwic3RyaW5nXCI9PT10JiZcInN0cmluZ1wiPT09ZSlyZXR1cm5cInN0cmluZ1wiO3Rocm93IG5ldyBFcnJvcihcIkNhbiBub3QgdXBjYXN0IFwiK3QrXCIgd2l0aCBcIitlKX1yZXR1cm4gQXRbdF1bZV19ZnVuY3Rpb24gVHQodCl7cmV0dXJuIER0KHQsXCJpbnQzMlwiKX1mdW5jdGlvbiBOdCh0LGUpe2lmKHQuZHR5cGU9PT1lLmR0eXBlKXJldHVyblt0LGVdO3ZhciBuPUR0KHQuZHR5cGUsZS5kdHlwZSk7cmV0dXJuW3QuY2FzdChuKSxlLmNhc3QobildfWZ1bmN0aW9uIEZ0KHQsZSl7Qyh0LmR0eXBlPT09ZS5kdHlwZSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBkdHlwZXMgb2YgdGhlIGZpcnN0KFwiK3QuZHR5cGUrXCIpIGFuZCBzZWNvbmQoXCIrZS5kdHlwZStcIikgaW5wdXQgbXVzdCBtYXRjaFwifSkpfWZ1bmN0aW9uIF90KHQpe3ZhciBlPVtdO3JldHVybiBmdW5jdGlvbiB0KGUsbixyKXtpZihudWxsPT1lKXJldHVybjtpZihlIGluc3RhbmNlb2Ygd3QpcmV0dXJuIHZvaWQgbi5wdXNoKGUpO2lmKG89ZSwhQXJyYXkuaXNBcnJheShvKSYmXCJvYmplY3RcIiE9dHlwZW9mIG8pcmV0dXJuO3ZhciBvO3ZhciBhPWU7Zm9yKHZhciBpIGluIGEpe3ZhciBzPWFbaV07ci5oYXMocyl8fChyLmFkZChzKSx0KHMsbixyKSl9fSh0LGUsbmV3IFNldCksZX12YXIgT3QsTXQ9T2JqZWN0LmZyZWV6ZSh7bWFrZVR5cGVzTWF0Y2g6TnQsYXNzZXJ0VHlwZXNNYXRjaDpGdCxpc1RlbnNvckluTGlzdDpmdW5jdGlvbih0LGUpe3JldHVybiBlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09dC5pZH0pKX0sZ2V0VGVuc29yc0luQ29udGFpbmVyOl90fSksQnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5yZWdpc3RlcmVkVmFyaWFibGVzPXt9LHRoaXMubmV4dFRhcGVOb2RlSWQ9MCx0aGlzLm51bUJ5dGVzPTAsdGhpcy5udW1UZW5zb3JzPTAsdGhpcy5udW1TdHJpbmdUZW5zb3JzPTAsdGhpcy5udW1EYXRhQnVmZmVycz0wLHRoaXMuZ3JhZGllbnREZXB0aD0wLHRoaXMua2VybmVsRGVwdGg9MCx0aGlzLnNjb3BlU3RhY2s9W10sdGhpcy5udW1EYXRhTW92ZXNTdGFjaz1bXSx0aGlzLm5leHRTY29wZUlkPTAsdGhpcy50ZW5zb3JJbmZvPW5ldyBXZWFrTWFwLHRoaXMucHJvZmlsaW5nPSExLHRoaXMuYWN0aXZlUHJvZmlsZT17bmV3Qnl0ZXM6MCxuZXdUZW5zb3JzOjAscGVha0J5dGVzOjAsa2VybmVsczpbXSxyZXN1bHQ6bnVsbH19cmV0dXJuIHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5yZWdpc3RlcmVkVmFyaWFibGVzKXRoaXMucmVnaXN0ZXJlZFZhcmlhYmxlc1t0XS5kaXNwb3NlKCl9LHR9KCksUHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuRU5WPXQsdGhpcy5yZWdpc3RyeT17fSx0aGlzLnJlZ2lzdHJ5RmFjdG9yeT17fSx0aGlzLnBlbmRpbmdCYWNrZW5kSW5pdElkPTAsdGhpcy5zdGF0ZT1uZXcgQnR9cmV0dXJuIHQucHJvdG90eXBlLnJlYWR5PWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LGUsbjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmlmKG51bGwhPXRoaXMucGVuZGluZ0JhY2tlbmRJbml0KXJldHVyblsyLHRoaXMucGVuZGluZ0JhY2tlbmRJbml0LnRoZW4oKGZ1bmN0aW9uKCl7fSkpXTtpZihudWxsIT10aGlzLmJhY2tlbmRJbnN0YW5jZSlyZXR1cm5bMl07dD10aGlzLmdldFNvcnRlZEJhY2tlbmRzKCksZT0wLHIubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGU8dC5sZW5ndGg/KG49dFtlXSxbNCx0aGlzLmluaXRpYWxpemVCYWNrZW5kKG4pLnN1Y2Nlc3NdKTpbMyw1XTtjYXNlIDI6cmV0dXJuIHIuc2VudCgpP1s0LHRoaXMuc2V0QmFja2VuZChuKV06WzMsNF07Y2FzZSAzOnJldHVybiByLnNlbnQoKSxbMl07Y2FzZSA0OnJldHVybiBlKyssWzMsMV07Y2FzZSA1OnRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBpbml0aWFsaXplIGFueSBiYWNrZW5kcywgYWxsIGJhY2tlbmQgaW5pdGlhbGl6YXRpb25zIGZhaWxlZC5cIil9fSkpfSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJiYWNrZW5kXCIse2dldDpmdW5jdGlvbigpe2lmKG51bGwhPXRoaXMucGVuZGluZ0JhY2tlbmRJbml0KXRocm93IG5ldyBFcnJvcihcIkJhY2tlbmQgJ1wiK3RoaXMuYmFja2VuZE5hbWUrXCInIGhhcyBub3QgeWV0IGJlZW4gaW5pdGlhbGl6ZWQuIE1ha2Ugc3VyZSB0byBhd2FpdCB0Zi5yZWFkeSgpIG9yIGF3YWl0IHRmLnNldEJhY2tlbmQoKSBiZWZvcmUgY2FsbGluZyBvdGhlciBtZXRob2RzXCIpO2lmKG51bGw9PXRoaXMuYmFja2VuZEluc3RhbmNlKXt2YXIgdD10aGlzLmluaXRpYWxpemVCYWNrZW5kc0FuZFJldHVybkJlc3QoKSxlPXQubmFtZTtpZih0LmFzeW5jSW5pdCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgaGlnaGVzdCBwcmlvcml0eSBiYWNrZW5kICdcIitlK1wiJyBoYXMgbm90IHlldCBiZWVuIGluaXRpYWxpemVkLiBNYWtlIHN1cmUgdG8gYXdhaXQgdGYucmVhZHkoKSBvciBhd2FpdCB0Zi5zZXRCYWNrZW5kKCkgYmVmb3JlIGNhbGxpbmcgb3RoZXIgbWV0aG9kc1wiKTt0aGlzLnNldEJhY2tlbmQoZSl9cmV0dXJuIHRoaXMuYmFja2VuZEluc3RhbmNlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmJhY2tlbmROYW1lcz1mdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLnJlZ2lzdHJ5RmFjdG9yeSl9LHQucHJvdG90eXBlLmZpbmRCYWNrZW5kPWZ1bmN0aW9uKHQpe2lmKCEodCBpbiB0aGlzLnJlZ2lzdHJ5KSl7aWYoISh0IGluIHRoaXMucmVnaXN0cnlGYWN0b3J5KSlyZXR1cm4gbnVsbDtpZih0aGlzLmluaXRpYWxpemVCYWNrZW5kKHQpLmFzeW5jSW5pdClyZXR1cm4gbnVsbH1yZXR1cm4gdGhpcy5yZWdpc3RyeVt0XX0sdC5wcm90b3R5cGUuZmluZEJhY2tlbmRGYWN0b3J5PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluIHRoaXMucmVnaXN0cnlGYWN0b3J5P3RoaXMucmVnaXN0cnlGYWN0b3J5W3RdLmZhY3Rvcnk6bnVsbH0sdC5wcm90b3R5cGUucmVnaXN0ZXJCYWNrZW5kPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49MSksdCBpbiB0aGlzLnJlZ2lzdHJ5RmFjdG9yeT8oY29uc29sZS53YXJuKHQrXCIgYmFja2VuZCB3YXMgYWxyZWFkeSByZWdpc3RlcmVkLiBSZXVzaW5nIGV4aXN0aW5nIGJhY2tlbmQgZmFjdG9yeS5cIiksITEpOih0aGlzLnJlZ2lzdHJ5RmFjdG9yeVt0XT17ZmFjdG9yeTplLHByaW9yaXR5Om59LCEwKX0sdC5wcm90b3R5cGUuc2V0QmFja2VuZD1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbixvO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6aWYobnVsbD09dGhpcy5yZWdpc3RyeUZhY3RvcnlbdF0pdGhyb3cgbmV3IEVycm9yKFwiQmFja2VuZCBuYW1lICdcIit0K1wiJyBub3QgZm91bmQgaW4gcmVnaXN0cnlcIik7cmV0dXJuIHRoaXMuYmFja2VuZE5hbWU9dCxudWxsIT10aGlzLnJlZ2lzdHJ5W3RdP1szLDRdOih0aGlzLmJhY2tlbmRJbnN0YW5jZT1udWxsLGU9dGhpcy5pbml0aWFsaXplQmFja2VuZCh0KSxuPWUuc3VjY2VzcyxlLmFzeW5jSW5pdD9bNCxuXTpbMywyXSk7Y2FzZSAxOnJldHVybiBvPXIuc2VudCgpLFszLDNdO2Nhc2UgMjpvPW4sci5sYWJlbD0zO2Nhc2UgMzppZighbylyZXR1cm5bMiwhMV07ci5sYWJlbD00O2Nhc2UgNDpyZXR1cm4gdGhpcy5iYWNrZW5kSW5zdGFuY2U9dGhpcy5yZWdpc3RyeVt0XSx0aGlzLnNldHVwUmVnaXN0ZXJlZEtlcm5lbHMoKSx0aGlzLnByb2ZpbGVyPW5ldyB1dCh0aGlzLmJhY2tlbmRJbnN0YW5jZSksWzIsITBdfX0pKX0pKX0sdC5wcm90b3R5cGUuc2V0dXBSZWdpc3RlcmVkS2VybmVscz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7Zih0aGlzLmJhY2tlbmROYW1lKS5mb3JFYWNoKChmdW5jdGlvbihlKXtudWxsIT1lLnNldHVwRnVuYyYmZS5zZXR1cEZ1bmModC5iYWNrZW5kSW5zdGFuY2UpfSkpfSx0LnByb3RvdHlwZS5kaXNwb3NlUmVnaXN0ZXJlZEtlcm5lbHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztmKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe251bGwhPW4uZGlzcG9zZUZ1bmMmJm4uZGlzcG9zZUZ1bmMoZS5yZWdpc3RyeVt0XSl9KSl9LHQucHJvdG90eXBlLmluaXRpYWxpemVCYWNrZW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLnJlZ2lzdHJ5RmFjdG9yeVt0XTtpZihudWxsPT1uKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBpbml0aWFsaXplIGJhY2tlbmQgXCIrdCtcIiwgbm8gcmVnaXN0cmF0aW9uIGZvdW5kLlwiKTt0cnl7dmFyIHI9bi5mYWN0b3J5KCk7aWYoUHJvbWlzZS5yZXNvbHZlKHIpPT09cil7dmFyIG89Kyt0aGlzLnBlbmRpbmdCYWNrZW5kSW5pdElkLGE9ci50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4hKG88ZS5wZW5kaW5nQmFja2VuZEluaXRJZCkmJihlLnJlZ2lzdHJ5W3RdPW4sZS5wZW5kaW5nQmFja2VuZEluaXQ9bnVsbCwhMCl9KSkuY2F0Y2goKGZ1bmN0aW9uKG4pe3JldHVybiEobzxlLnBlbmRpbmdCYWNrZW5kSW5pdElkKSYmKGUucGVuZGluZ0JhY2tlbmRJbml0PW51bGwsY29uc29sZS53YXJuKFwiSW5pdGlhbGl6YXRpb24gb2YgYmFja2VuZCBcIit0K1wiIGZhaWxlZFwiKSxjb25zb2xlLndhcm4obi5zdGFja3x8bi5tZXNzYWdlKSwhMSl9KSk7cmV0dXJuIHRoaXMucGVuZGluZ0JhY2tlbmRJbml0PWEse3N1Y2Nlc3M6YSxhc3luY0luaXQ6ITB9fXJldHVybiB0aGlzLnJlZ2lzdHJ5W3RdPXIse3N1Y2Nlc3M6ITAsYXN5bmNJbml0OiExfX1jYXRjaChlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiSW5pdGlhbGl6YXRpb24gb2YgYmFja2VuZCBcIit0K1wiIGZhaWxlZFwiKSxjb25zb2xlLndhcm4oZS5zdGFja3x8ZS5tZXNzYWdlKSx7c3VjY2VzczohMSxhc3luY0luaXQ6ITF9fX0sdC5wcm90b3R5cGUucmVtb3ZlQmFja2VuZD1mdW5jdGlvbih0KXtpZighKHQgaW4gdGhpcy5yZWdpc3RyeUZhY3RvcnkpKXRocm93IG5ldyBFcnJvcih0K1wiIGJhY2tlbmQgbm90IGZvdW5kIGluIHJlZ2lzdHJ5XCIpO3RoaXMuYmFja2VuZE5hbWU9PT10JiZudWxsIT10aGlzLnBlbmRpbmdCYWNrZW5kSW5pdCYmdGhpcy5wZW5kaW5nQmFja2VuZEluaXRJZCsrLHQgaW4gdGhpcy5yZWdpc3RyeSYmKHRoaXMuZGlzcG9zZVJlZ2lzdGVyZWRLZXJuZWxzKHQpLHRoaXMucmVnaXN0cnlbdF0uZGlzcG9zZSgpLGRlbGV0ZSB0aGlzLnJlZ2lzdHJ5W3RdKSxkZWxldGUgdGhpcy5yZWdpc3RyeUZhY3RvcnlbdF0sdGhpcy5iYWNrZW5kTmFtZT09PXQmJih0aGlzLnBlbmRpbmdCYWNrZW5kSW5pdD1udWxsLHRoaXMuYmFja2VuZE5hbWU9bnVsbCx0aGlzLmJhY2tlbmRJbnN0YW5jZT1udWxsKX0sdC5wcm90b3R5cGUuZ2V0U29ydGVkQmFja2VuZHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDA9PT1PYmplY3Qua2V5cyh0aGlzLnJlZ2lzdHJ5RmFjdG9yeSkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk5vIGJhY2tlbmQgZm91bmQgaW4gcmVnaXN0cnkuXCIpO3JldHVybiBPYmplY3Qua2V5cyh0aGlzLnJlZ2lzdHJ5RmFjdG9yeSkuc29ydCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5yZWdpc3RyeUZhY3Rvcnlbbl0ucHJpb3JpdHktdC5yZWdpc3RyeUZhY3RvcnlbZV0ucHJpb3JpdHl9KSl9LHQucHJvdG90eXBlLmluaXRpYWxpemVCYWNrZW5kc0FuZFJldHVybkJlc3Q9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nZXRTb3J0ZWRCYWNrZW5kcygpLGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49dFtlXSxyPXRoaXMuaW5pdGlhbGl6ZUJhY2tlbmQobiksbz1yLnN1Y2Nlc3MsYT1yLmFzeW5jSW5pdDtpZihhfHxvKXJldHVybntuYW1lOm4sYXN5bmNJbml0OmF9fXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBpbml0aWFsaXplIGFueSBiYWNrZW5kcywgYWxsIGJhY2tlbmQgaW5pdGlhbGl6YXRpb25zIGZhaWxlZC5cIil9LHQucHJvdG90eXBlLm1vdmVEYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5zdGF0ZS50ZW5zb3JJbmZvLmdldChlKSxyPW4uYmFja2VuZCxvPXRoaXMucmVhZFN5bmMoZSk7ci5kaXNwb3NlRGF0YShlKSxuLmJhY2tlbmQ9dCx0Lm1vdmUoZSxvLG4uc2hhcGUsbi5kdHlwZSksdGhpcy5zaG91bGRDaGVja0Zvck1lbUxlYWtzKCkmJnRoaXMuc3RhdGUubnVtRGF0YU1vdmVzU3RhY2tbdGhpcy5zdGF0ZS5udW1EYXRhTW92ZXNTdGFjay5sZW5ndGgtMV0rK30sdC5wcm90b3R5cGUudGlkeT1mdW5jdGlvbih0LGUpe3ZhciBuLHI9dGhpcyxvPW51bGw7aWYobnVsbD09ZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgcHJvdmlkZSBhIGZ1bmN0aW9uIHRvIHRpZHkoKVwiKTtlPXR9ZWxzZXtpZihcInN0cmluZ1wiIT10eXBlb2YgdCYmISh0IGluc3RhbmNlb2YgU3RyaW5nKSl0aHJvdyBuZXcgRXJyb3IoXCJXaGVuIGNhbGxpbmcgd2l0aCB0d28gYXJndW1lbnRzLCB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGlkeSgpIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJXaGVuIGNhbGxpbmcgd2l0aCB0d28gYXJndW1lbnRzLCB0aGUgMm5kIGFyZ3VtZW50IHRvIHRpZHkoKSBtdXN0IGJlIGEgZnVuY3Rpb25cIik7bz10fXJldHVybiB0aGlzLnNjb3BlZFJ1bigoZnVuY3Rpb24oKXtyZXR1cm4gci5zdGFydFNjb3BlKG8pfSksKGZ1bmN0aW9uKCl7cmV0dXJuIHIuZW5kU2NvcGUobil9KSwoZnVuY3Rpb24oKXtyZXR1cm4obj1lKCkpaW5zdGFuY2VvZiBQcm9taXNlJiZjb25zb2xlLmVycm9yKFwiQ2Fubm90IHJldHVybiBhIFByb21pc2UgaW5zaWRlIG9mIHRpZHkuXCIpLG59KSl9LHQucHJvdG90eXBlLnNjb3BlZFJ1bj1mdW5jdGlvbih0LGUsbil7dCgpO3RyeXt2YXIgcj1uKCk7cmV0dXJuIGUoKSxyfWNhdGNoKHQpe3Rocm93IGUoKSx0fX0sdC5wcm90b3R5cGUubmV4dFRlbnNvcklkPWZ1bmN0aW9uKCl7cmV0dXJuIHQubmV4dFRlbnNvcklkKyt9LHQucHJvdG90eXBlLm5leHRWYXJpYWJsZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHQubmV4dFZhcmlhYmxlSWQrK30sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tYWtlVGVuc29yRnJvbURhdGFJZCh0LmRhdGFJZCx0LnNoYXBlLHQuZHR5cGUpLG49e3g6dH07cmV0dXJuIHRoaXMuYWRkVGFwZU5vZGUodGhpcy5zdGF0ZS5hY3RpdmVTY29wZS5uYW1lLG4sW2VdLChmdW5jdGlvbih0KXtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiB0LnRvRmxvYXQoKX19fSksW10pLGV9LHQucHJvdG90eXBlLnJ1bktlcm5lbD1mdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiB0aGlzLnJ1bktlcm5lbEZ1bmMobnVsbCxlLG51bGwsdCxuLHIsbyl9LHQucHJvdG90eXBlLnNob3VsZENoZWNrRm9yTWVtTGVha3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5FTlYuZ2V0Qm9vbChcIklTX1RFU1RcIil9LHQucHJvdG90eXBlLmNoZWNrS2VybmVsRm9yTWVtTGVhaz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5iYWNrZW5kLm51bURhdGFJZHMoKSxvPTA7bi5mb3JFYWNoKChmdW5jdGlvbih0KXtvKz1cImNvbXBsZXg2NFwiPT09dC5kdHlwZT8zOjF9KSk7dmFyIGE9dGhpcy5zdGF0ZS5udW1EYXRhTW92ZXNTdGFja1t0aGlzLnN0YXRlLm51bURhdGFNb3Zlc1N0YWNrLmxlbmd0aC0xXSxpPXItZS1vLWE7aWYoaT4wKXRocm93IG5ldyBFcnJvcihcIkJhY2tlbmQgJ1wiK3RoaXMuYmFja2VuZE5hbWUrXCInIGhhcyBhbiBpbnRlcm5hbCBtZW1vcnkgbGVhayAoXCIraStcIiBkYXRhIGlkcykgYWZ0ZXIgcnVubmluZyAnXCIrdCtcIidcIil9LHQucHJvdG90eXBlLnJ1bktlcm5lbEZ1bmM9ZnVuY3Rpb24odCxlLG4scixvLGEsaSl7dmFyIHMsdT10aGlzO3ZvaWQgMD09PWEmJihhPVtdKSx2b2lkIDA9PT1pJiYoaT1bXSk7dmFyIGM9W10saD10aGlzLmlzVGFwZU9uKCk7bnVsbD09ciYmKHI9bnVsbCE9dGhpcy5zdGF0ZS5hY3RpdmVTY29wZT90aGlzLnN0YXRlLmFjdGl2ZVNjb3BlLm5hbWU6XCJcIik7dmFyIGYsZD1mdW5jdGlvbih0KXtoJiYoYz10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHUua2VlcCh1LmNsb25lKHQpKX0pKSl9LHA9dGhpcy5zdGF0ZS5udW1CeXRlcyx2PXRoaXMuc3RhdGUubnVtVGVuc29yczt0aGlzLnNob3VsZENoZWNrRm9yTWVtTGVha3MoKSYmdGhpcy5zdGF0ZS5udW1EYXRhTW92ZXNTdGFjay5wdXNoKDApO3ZhciBtLGc9bChyLHRoaXMuYmFja2VuZE5hbWUpO3JldHVybiBmPW51bGwhPWc/ZnVuY3Rpb24oKXt2YXIgdD11LmJhY2tlbmQubnVtRGF0YUlkcygpO209Zy5rZXJuZWxGdW5jKHtpbnB1dHM6ZSxhdHRyczpvLGJhY2tlbmQ6dS5iYWNrZW5kfSk7dmFyIG49QXJyYXkuaXNBcnJheShtKT9tOlttXTt1LnNob3VsZENoZWNrRm9yTWVtTGVha3MoKSYmdS5jaGVja0tlcm5lbEZvck1lbUxlYWsocix0LG4pO3ZhciBzPW4ubWFwKChmdW5jdGlvbih0KXt2YXIgZT10LmRhdGFJZCxuPXQuc2hhcGUscj10LmR0eXBlO3JldHVybiB1Lm1ha2VUZW5zb3JGcm9tRGF0YUlkKGUsbixyKX0pKSxjPXMuZmlsdGVyKChmdW5jdGlvbih0LGUpe3JldHVybiBpW2VdfSkpO3JldHVybiBkKChhfHxbXSkuc2xpY2UoKS5jb25jYXQoYykpLHN9OmZ1bmN0aW9uKCl7dmFyIGU9dS5iYWNrZW5kLm51bURhdGFJZHMoKTttPXUudGlkeSgoZnVuY3Rpb24oKXtyZXR1cm4gdCh1LmJhY2tlbmQsZCl9KSk7dmFyIG49QXJyYXkuaXNBcnJheShtKT9tOlttXTtyZXR1cm4gdS5zaG91bGRDaGVja0Zvck1lbUxlYWtzKCkmJnUuY2hlY2tLZXJuZWxGb3JNZW1MZWFrKHIsZSxuKSxufSx0aGlzLnNjb3BlZFJ1bigoZnVuY3Rpb24oKXtyZXR1cm4gdS5zdGF0ZS5rZXJuZWxEZXB0aCsrfSksKGZ1bmN0aW9uKCl7cmV0dXJuIHUuc3RhdGUua2VybmVsRGVwdGgtLX0pLChmdW5jdGlvbigpe3M9dS5FTlYuZ2V0Qm9vbChcIkRFQlVHXCIpP3UucHJvZmlsZXIucHJvZmlsZUtlcm5lbChyLGUsKGZ1bmN0aW9uKCl7cmV0dXJuIGYoKX0pKTpmKCl9KSksaCYmdGhpcy5hZGRUYXBlTm9kZShyLGUscyxuLGMpLHRoaXMuc3RhdGUucHJvZmlsaW5nJiZ0aGlzLnN0YXRlLmFjdGl2ZVByb2ZpbGUua2VybmVscy5wdXNoKHtuYW1lOnIsYnl0ZXNBZGRlZDp0aGlzLnN0YXRlLm51bUJ5dGVzLXAsdG90YWxCeXRlc1NuYXBzaG90OnRoaXMuc3RhdGUubnVtQnl0ZXMsdGVuc29yc0FkZGVkOnRoaXMuc3RhdGUubnVtVGVuc29ycy12LHRvdGFsVGVuc29yc1NuYXBzaG90OnRoaXMuc3RhdGUubnVtVGVuc29ycyxpbnB1dFNoYXBlczpPYmplY3Qua2V5cyhlKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdLnNoYXBlfSkpLG91dHB1dFNoYXBlczpzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2hhcGV9KSl9KSxBcnJheS5pc0FycmF5KG0pP3M6c1swXX0sdC5wcm90b3R5cGUubWFrZVRlbnNvcj1mdW5jdGlvbih0LGUsbixyKXtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihcIlZhbHVlcyBwYXNzZWQgdG8gZW5naW5lLm1ha2VUZW5zb3IoKSBhcmUgbnVsbFwiKTtuPW58fFwiZmxvYXQzMlwiLHI9cnx8dGhpcy5iYWNrZW5kO3ZhciBvPXQ7XCJzdHJpbmdcIj09PW4mJkgodFswXSkmJihvPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gcnQodCl9KSkpO3ZhciBhPXIud3JpdGUobyxlLG4pLGk9bmV3IHd0KGUsbixhLHRoaXMubmV4dFRlbnNvcklkKCkpO2lmKHRoaXMuaW5jUmVmKGksciksXCJzdHJpbmdcIj09PW4pe3ZhciBzPXRoaXMuc3RhdGUudGVuc29ySW5mby5nZXQoYSksdT1HKG8pO3RoaXMuc3RhdGUubnVtQnl0ZXMrPXUtcy5ieXRlcyxzLmJ5dGVzPXV9cmV0dXJuIGl9LHQucHJvdG90eXBlLm1ha2VUZW5zb3JGcm9tRGF0YUlkPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPW5ldyB3dChlLG49bnx8XCJmbG9hdDMyXCIsdCx0aGlzLm5leHRUZW5zb3JJZCgpKTtyZXR1cm4gdGhpcy5pbmNSZWYobyxyKSxvfSx0LnByb3RvdHlwZS5tYWtlVmFyaWFibGU9ZnVuY3Rpb24odCxlLG4scil7dm9pZCAwPT09ZSYmKGU9ITApLG49bnx8dGhpcy5uZXh0VmFyaWFibGVJZCgpLnRvU3RyaW5nKCksbnVsbCE9ciYmciE9PXQuZHR5cGUmJih0PXQuYXNUeXBlKHIpKTt2YXIgbz1uZXcgU3QodCxlLG4sdGhpcy5uZXh0VGVuc29ySWQoKSk7aWYobnVsbCE9dGhpcy5zdGF0ZS5yZWdpc3RlcmVkVmFyaWFibGVzW28ubmFtZV0pdGhyb3cgbmV3IEVycm9yKFwiVmFyaWFibGUgd2l0aCBuYW1lIFwiK28ubmFtZStcIiB3YXMgYWxyZWFkeSByZWdpc3RlcmVkXCIpO3JldHVybiB0aGlzLnN0YXRlLnJlZ2lzdGVyZWRWYXJpYWJsZXNbby5uYW1lXT1vLHRoaXMuaW5jUmVmKG8sdGhpcy5iYWNrZW5kKSxvfSx0LnByb3RvdHlwZS5pbmNSZWY9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnN0YXRlLnRlbnNvckluZm8uaGFzKHQuZGF0YUlkKT90aGlzLnN0YXRlLnRlbnNvckluZm8uZ2V0KHQuZGF0YUlkKS5yZWZDb3VudDowO2lmKHRoaXMuc3RhdGUubnVtVGVuc29ycysrLFwic3RyaW5nXCI9PT10LmR0eXBlJiZ0aGlzLnN0YXRlLm51bVN0cmluZ1RlbnNvcnMrKywwPT09bil7dGhpcy5zdGF0ZS5udW1EYXRhQnVmZmVycysrO3ZhciByPTA7XCJjb21wbGV4NjRcIiE9PXQuZHR5cGUmJlwic3RyaW5nXCIhPT10LmR0eXBlJiYocj10LnNpemUqeih0LmR0eXBlKSksdGhpcy5zdGF0ZS50ZW5zb3JJbmZvLnNldCh0LmRhdGFJZCx7YmFja2VuZDplfHx0aGlzLmJhY2tlbmQsZHR5cGU6dC5kdHlwZSxzaGFwZTp0LnNoYXBlLGJ5dGVzOnIscmVmQ291bnQ6MH0pLHRoaXMuc3RhdGUubnVtQnl0ZXMrPXJ9dGhpcy5zdGF0ZS50ZW5zb3JJbmZvLmdldCh0LmRhdGFJZCkucmVmQ291bnQrKyx0IGluc3RhbmNlb2YgU3R8fHRoaXMudHJhY2sodCl9LHQucHJvdG90eXBlLmRpc3Bvc2VUZW5zb3I9ZnVuY3Rpb24odCl7aWYodGhpcy5zdGF0ZS50ZW5zb3JJbmZvLmhhcyh0LmRhdGFJZCkpe3RoaXMuc3RhdGUubnVtVGVuc29ycy0tLFwic3RyaW5nXCI9PT10LmR0eXBlJiZ0aGlzLnN0YXRlLm51bVN0cmluZ1RlbnNvcnMtLTt2YXIgZT10aGlzLnN0YXRlLnRlbnNvckluZm8uZ2V0KHQuZGF0YUlkKTtlLnJlZkNvdW50PD0xPyhcImNvbXBsZXg2NFwiIT09dC5kdHlwZSYmKHRoaXMuc3RhdGUubnVtQnl0ZXMtPWUuYnl0ZXMpLHRoaXMuc3RhdGUubnVtRGF0YUJ1ZmZlcnMtLSxlLmJhY2tlbmQuZGlzcG9zZURhdGEodC5kYXRhSWQpLHRoaXMuc3RhdGUudGVuc29ySW5mby5kZWxldGUodC5kYXRhSWQpKTp0aGlzLnN0YXRlLnRlbnNvckluZm8uZ2V0KHQuZGF0YUlkKS5yZWZDb3VudC0tfX0sdC5wcm90b3R5cGUuZGlzcG9zZVZhcmlhYmxlcz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnN0YXRlLnJlZ2lzdGVyZWRWYXJpYWJsZXMpe3ZhciBlPXRoaXMuc3RhdGUucmVnaXN0ZXJlZFZhcmlhYmxlc1t0XTt0aGlzLmRpc3Bvc2VWYXJpYWJsZShlKX19LHQucHJvdG90eXBlLmRpc3Bvc2VWYXJpYWJsZT1mdW5jdGlvbih0KXt0aGlzLmRpc3Bvc2VUZW5zb3IodCksbnVsbCE9dGhpcy5zdGF0ZS5yZWdpc3RlcmVkVmFyaWFibGVzW3QubmFtZV0mJmRlbGV0ZSB0aGlzLnN0YXRlLnJlZ2lzdGVyZWRWYXJpYWJsZXNbdC5uYW1lXX0sdC5wcm90b3R5cGUubWVtb3J5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5iYWNrZW5kLm1lbW9yeSgpO3JldHVybiB0Lm51bVRlbnNvcnM9dGhpcy5zdGF0ZS5udW1UZW5zb3JzLHQubnVtRGF0YUJ1ZmZlcnM9dGhpcy5zdGF0ZS5udW1EYXRhQnVmZmVycyx0Lm51bUJ5dGVzPXRoaXMuc3RhdGUubnVtQnl0ZXMsdGhpcy5zdGF0ZS5udW1TdHJpbmdUZW5zb3JzPjAmJih0LnVucmVsaWFibGU9ITAsbnVsbD09dC5yZWFzb25zJiYodC5yZWFzb25zPVtdKSx0LnJlYXNvbnMucHVzaChcIk1lbW9yeSB1c2FnZSBieSBzdHJpbmcgdGVuc29ycyBpcyBhcHByb3hpbWF0ZSAoMiBieXRlcyBwZXIgY2hhcmFjdGVyKVwiKSksdH0sdC5wcm90b3R5cGUucHJvZmlsZT1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtyZXR1cm4gdGhpcy5zdGF0ZS5wcm9maWxpbmc9ITAsZT10aGlzLnN0YXRlLm51bUJ5dGVzLG49dGhpcy5zdGF0ZS5udW1UZW5zb3JzLHRoaXMuc3RhdGUuYWN0aXZlUHJvZmlsZS5rZXJuZWxzPVtdLHRoaXMuc3RhdGUuYWN0aXZlUHJvZmlsZS5yZXN1bHQ9dCgpLHRoaXMuc3RhdGUucHJvZmlsaW5nPSExLHRoaXMuc3RhdGUuYWN0aXZlUHJvZmlsZS5wZWFrQnl0ZXM9TWF0aC5tYXguYXBwbHkoTWF0aCx0aGlzLnN0YXRlLmFjdGl2ZVByb2ZpbGUua2VybmVscy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvdGFsQnl0ZXNTbmFwc2hvdH0pKSksdGhpcy5zdGF0ZS5hY3RpdmVQcm9maWxlLm5ld0J5dGVzPXRoaXMuc3RhdGUubnVtQnl0ZXMtZSx0aGlzLnN0YXRlLmFjdGl2ZVByb2ZpbGUubmV3VGVuc29ycz10aGlzLnN0YXRlLm51bVRlbnNvcnMtbixbMix0aGlzLnN0YXRlLmFjdGl2ZVByb2ZpbGVdfSkpfSkpfSx0LnByb3RvdHlwZS5pc1RhcGVPbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLmdyYWRpZW50RGVwdGg+MCYmMD09PXRoaXMuc3RhdGUua2VybmVsRGVwdGh9LHQucHJvdG90eXBlLmFkZFRhcGVOb2RlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dmFyIGE9dGhpcyxpPXtpZDp0aGlzLnN0YXRlLm5leHRUYXBlTm9kZUlkKyssa2VybmVsTmFtZTp0LGlucHV0czplLG91dHB1dHM6bixzYXZlZDpvfSxzPWgodCk7bnVsbCE9cyYmKHI9cy5ncmFkRnVuYyksbnVsbCE9ciYmKGkuZ3JhZGllbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5tYXAoKGZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dCl7dmFyIHI9bltlXSxvPXR0KHIuc2l6ZSxyLmR0eXBlKTtyZXR1cm4gYS5tYWtlVGVuc29yKG8sci5zaGFwZSxyLmR0eXBlKX1yZXR1cm4gdH0pKSxyKHQubGVuZ3RoPjE/dDp0WzBdLG8pfSksdGhpcy5zdGF0ZS5hY3RpdmVUYXBlLnB1c2goaSl9LHQucHJvdG90eXBlLmtlZXA9ZnVuY3Rpb24odCl7cmV0dXJuIHQua2VwdD0hMCx0fSx0LnByb3RvdHlwZS5zdGFydFRhcGU9ZnVuY3Rpb24oKXswPT09dGhpcy5zdGF0ZS5ncmFkaWVudERlcHRoJiYodGhpcy5zdGF0ZS5hY3RpdmVUYXBlPVtdKSx0aGlzLnN0YXRlLmdyYWRpZW50RGVwdGgrK30sdC5wcm90b3R5cGUuZW5kVGFwZT1mdW5jdGlvbigpe3RoaXMuc3RhdGUuZ3JhZGllbnREZXB0aC0tfSx0LnByb3RvdHlwZS5zdGFydFNjb3BlPWZ1bmN0aW9uKHQpe3ZhciBlPXt0cmFjazpbXSxuYW1lOlwidW5uYW1lZCBzY29wZVwiLGlkOnRoaXMuc3RhdGUubmV4dFNjb3BlSWQrK307dCYmKGUubmFtZT10KSx0aGlzLnN0YXRlLnNjb3BlU3RhY2sucHVzaChlKSx0aGlzLnN0YXRlLmFjdGl2ZVNjb3BlPWV9LHQucHJvdG90eXBlLmVuZFNjb3BlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLG49X3QodCkscj1uZXcgU2V0KG4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKSksbz0wO288dGhpcy5zdGF0ZS5hY3RpdmVTY29wZS50cmFjay5sZW5ndGg7bysrKXt2YXIgYT10aGlzLnN0YXRlLmFjdGl2ZVNjb3BlLnRyYWNrW29dO2Eua2VwdHx8ci5oYXMoYS5pZCl8fGEuZGlzcG9zZSgpfXZhciBpPXRoaXMuc3RhdGUuc2NvcGVTdGFjay5wb3AoKTt0aGlzLnN0YXRlLmFjdGl2ZVNjb3BlPTA9PT10aGlzLnN0YXRlLnNjb3BlU3RhY2subGVuZ3RoP251bGw6dGhpcy5zdGF0ZS5zY29wZVN0YWNrW3RoaXMuc3RhdGUuc2NvcGVTdGFjay5sZW5ndGgtMV0sbi5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmtlcHR8fHQuc2NvcGVJZCE9PWkuaWR8fGUudHJhY2sodCl9KSl9LHQucHJvdG90eXBlLmdyYWRpZW50cz1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10aGlzO2lmKHZvaWQgMD09PXImJihyPSExKSxDKGUubGVuZ3RoPjAsKGZ1bmN0aW9uKCl7cmV0dXJuXCJncmFkaWVudHMoKSByZWNlaXZlZCBhbiBlbXB0eSBsaXN0IG9mIHhzLlwifSkpLG51bGwhPW4mJlwiZmxvYXQzMlwiIT09bi5kdHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJkeSBtdXN0IGhhdmUgJ2Zsb2F0MzInIGR0eXBlLCBidXQgaGFzICdcIituLmR0eXBlK1wiJ1wiKTt2YXIgYT10aGlzLnNjb3BlZFJ1bigoZnVuY3Rpb24oKXtyZXR1cm4gby5zdGFydFRhcGUoKX0pLChmdW5jdGlvbigpe3JldHVybiBvLmVuZFRhcGUoKX0pLChmdW5jdGlvbigpe3JldHVybiBvLnRpZHkoXCJmb3J3YXJkXCIsdCl9KSk7QyhhIGluc3RhbmNlb2Ygd3QsKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgcmVzdWx0IHkgcmV0dXJuZWQgYnkgZigpIG11c3QgYmUgYSB0ZW5zb3IuXCJ9KSk7dmFyIGk9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj17fSxvPXt9LGE9MDthPGUubGVuZ3RoO2ErKylyW2VbYV0uaWRdPSEwO2ZvcihhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBpPShwPXRbYV0pLmlucHV0cztmb3IodmFyIHMgaW4gaSl7Zm9yKHZhciB1PWlbc10sYz0hMSxsPTA7bDxlLmxlbmd0aDtsKyspaWYoclt1LmlkXSl7cC5vdXRwdXRzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiByW3QuaWRdPSEwfSkpLGM9ITAsb1twLmlkXT0hMDticmVha31pZihjKWJyZWFrfX12YXIgaD17fTtoW24uaWRdPSEwO3ZhciBmPXt9O2ZvcihhPXQubGVuZ3RoLTE7YT49MDthLS0pZm9yKGk9KHA9dFthXSkuaW5wdXRzLGw9MDtsPHAub3V0cHV0cy5sZW5ndGg7bCsrKWlmKGhbcC5vdXRwdXRzW2xdLmlkXSl7Zm9yKHZhciBzIGluIGkpaFtpW3NdLmlkXT0hMCxmW3AuaWRdPSEwO2JyZWFrfXZhciBkPVtdO2ZvcihhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBwO2lmKG9bKHA9dFthXSkuaWRdJiZmW3AuaWRdKXt2YXIgdj17fTtmb3IodmFyIHMgaW4gcC5pbnB1dHMpe3ZhciBtPXAuaW5wdXRzW3NdO3JbbS5pZF0mJih2W3NdPW0pfXZhciBnPU9iamVjdC5hc3NpZ24oe30scCk7Zy5pbnB1dHM9dixnLm91dHB1dHM9cC5vdXRwdXRzLGQucHVzaChnKX19cmV0dXJuIGR9KHRoaXMuc3RhdGUuYWN0aXZlVGFwZSxlLGEpO2lmKCFyJiYwPT09aS5sZW5ndGgmJmUubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbXB1dGUgZ3JhZGllbnQgb2YgeT1mKHgpIHdpdGggcmVzcGVjdCB0byB4LiBNYWtlIHN1cmUgdGhhdCB0aGUgZiB5b3UgcGFzc2VkIGVuY2xvc2VzIGFsbCBvcGVyYXRpb25zIHRoYXQgbGVhZCBmcm9tIHggdG8geS5cIik7cmV0dXJuIHRoaXMudGlkeShcImJhY2t3YXJkXCIsKGZ1bmN0aW9uKCl7dmFyIHQscixzPXt9O3NbYS5pZF09bnVsbD09bj8odD1hLnNoYXBlLHI9WihrKHQpLFwiZmxvYXQzMlwiKSxMdC5tYWtlVGVuc29yKHIsdCxcImZsb2F0MzJcIikpOm4sZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1mdW5jdGlvbihyKXt2YXIgbz1lW3JdLGE9W107aWYoby5vdXRwdXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXRbZS5pZF07bnVsbCE9bj9hLnB1c2gobik6YS5wdXNoKG51bGwpfSkpLG51bGw9PW8uZ3JhZGllbnQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbXB1dGUgZ3JhZGllbnQ6IGdyYWRpZW50IGZ1bmN0aW9uIG5vdCBmb3VuZCBmb3IgXCIrby5rZXJuZWxOYW1lK1wiLlwiKTt2YXIgaT1vLmdyYWRpZW50KGEpLHM9ZnVuY3Rpb24oZSl7aWYoIShlIGluIGkpKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBiYWNrcHJvcCB0aHJvdWdoIGlucHV0IFwiK2UrXCIuIEF2YWlsYWJsZSBncmFkaWVudHMgZm91bmQ6IFwiK09iamVjdC5rZXlzKGkpK1wiLlwiKTt2YXIgcj1uKChmdW5jdGlvbigpe3JldHVybiBpW2VdKCl9KSk7aWYoXCJmbG9hdDMyXCIhPT1yLmR0eXBlKXRocm93IG5ldyBFcnJvcihcIkVycm9yIGluIGdyYWRpZW50IGZvciBvcCBcIitvLmtlcm5lbE5hbWUrXCIuIFRoZSBncmFkaWVudCBvZiBpbnB1dCBcIitlK1wiIG11c3QgaGF2ZSAnZmxvYXQzMicgZHR5cGUsIGJ1dCBoYXMgJ1wiK3IuZHR5cGUrXCInXCIpO3ZhciBhPW8uaW5wdXRzW2VdO2lmKCFTKHIuc2hhcGUsYS5zaGFwZSkpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgaW4gZ3JhZGllbnQgZm9yIG9wIFwiK28ua2VybmVsTmFtZStcIi4gVGhlIGdyYWRpZW50IG9mIGlucHV0ICdcIitlK1wiJyBoYXMgc2hhcGUgJ1wiK3Iuc2hhcGUrXCInLCB3aGljaCBkb2VzIG5vdCBtYXRjaCB0aGUgc2hhcGUgb2YgdGhlIGlucHV0ICdcIithLnNoYXBlK1wiJ1wiKTtpZihudWxsPT10W2EuaWRdKXRbYS5pZF09cjtlbHNle3ZhciBzPXRbYS5pZF07dFthLmlkXT1zLmFkZChyKSxzLmRpc3Bvc2UoKX19O2Zvcih2YXIgdSBpbiBvLmlucHV0cylzKHUpfSxvPWUubGVuZ3RoLTE7bz49MDtvLS0pcihvKX0ocyxpLChmdW5jdGlvbih0KXtyZXR1cm4gby50aWR5KHQpfSkpO3ZhciB1PWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gc1t0LmlkXX0pKTtyZXR1cm4gMD09PW8uc3RhdGUuZ3JhZGllbnREZXB0aCYmKG8uc3RhdGUuYWN0aXZlVGFwZS5mb3JFYWNoKChmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXQuc2F2ZWQ7ZTxuLmxlbmd0aDtlKyspe25bZV0uZGlzcG9zZSgpfX0pKSxvLnN0YXRlLmFjdGl2ZVRhcGU9bnVsbCkse3ZhbHVlOmEsZ3JhZHM6dX19KSl9LHQucHJvdG90eXBlLmN1c3RvbUdyYWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gQyhYKHQpLChmdW5jdGlvbigpe3JldHVyblwiVGhlIGYgcGFzc2VkIGluIGN1c3RvbUdyYWQoZikgbXVzdCBiZSBhIGZ1bmN0aW9uLlwifSkpLGZ1bmN0aW9uKCl7Zm9yKHZhciBuLHI9W10sbz0wO288YXJndW1lbnRzLmxlbmd0aDtvKyspcltvXT1hcmd1bWVudHNbb107QyhyLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHd0fSkpLChmdW5jdGlvbigpe3JldHVyblwiVGhlIGFyZ3MgcGFzc2VkIGluIGN1c3RvbUdyYWQoZikoeDEsIHgyLC4uLikgbXVzdCBhbGwgYmUgdGVuc29yc1wifSkpO3ZhciBhPXt9O3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7YVtlXT10fSkpLGUucnVuS2VybmVsRnVuYygoZnVuY3Rpb24oZSxvKXtyZXR1cm4gQygobj10LmFwcGx5KHZvaWQgMCxyLmNvbmNhdChbb10pKSkudmFsdWUgaW5zdGFuY2VvZiB3dCwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBmdW5jdGlvbiBmIHBhc3NlZCBpbiBjdXN0b21HcmFkKGYpIG11c3QgcmV0dXJuIGFuIG9iamVjdCB3aGVyZSBgb2JqLnZhbHVlYCBpcyBhIHRlbnNvclwifSkpLEMoWChuLmdyYWRGdW5jKSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBmdW5jdGlvbiBmIHBhc3NlZCBpbiBjdXN0b21HcmFkKGYpIG11c3QgcmV0dXJuIGFuIG9iamVjdCB3aGVyZSBgb2JqLmdyYWRGdW5jYCBpcyBhIGZ1bmN0aW9uLlwifSkpLG4udmFsdWV9KSxhLChmdW5jdGlvbih0LGUpe3ZhciBvPW4uZ3JhZEZ1bmModCxlKSxhPUFycmF5LmlzQXJyYXkobyk/bzpbb107QyhhLmxlbmd0aD09PXIubGVuZ3RoLChmdW5jdGlvbigpe3JldHVyblwiVGhlIGZ1bmN0aW9uIGYgcGFzc2VkIGluIGN1c3RvbUdyYWQoZikgbXVzdCByZXR1cm4gYW4gb2JqZWN0IHdoZXJlIGBvYmouZ3JhZEZ1bmNgIGlzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBzYW1lIG51bWJlciBvZiB0ZW5zb3JzIGFzIGlucHV0cyBwYXNzZWQgdG8gZiguLi4pLlwifSkpLEMoYS5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB3dH0pKSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBmdW5jdGlvbiBmIHBhc3NlZCBpbiBjdXN0b21HcmFkKGYpIG11c3QgcmV0dXJuIGFuIG9iamVjdCB3aGVyZSBgb2JqLmdyYWRGdW5jYCBpcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGxpc3Qgb2Ygb25seSB0ZW5zb3JzLlwifSkpO3ZhciBpPXt9O3JldHVybiBhLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7aVtlXT1mdW5jdGlvbigpe3JldHVybiB0fX0pKSxpfSkpfX0sdC5wcm90b3R5cGUucmVhZFN5bmM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdGUudGVuc29ySW5mby5nZXQodCkuYmFja2VuZC5yZWFkU3luYyh0KX0sdC5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZS50ZW5zb3JJbmZvLmdldCh0KS5iYWNrZW5kLnJlYWQodCl9LHQucHJvdG90eXBlLnRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1ldCgpLFs0LHRoaXMuYmFja2VuZC50aW1lKHQpXTtjYXNlIDE6cmV0dXJuKG49ci5zZW50KCkpLndhbGxNcz1ldCgpLWUsWzIsbl19fSkpfSkpfSx0LnByb3RvdHlwZS50cmFjaz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dGhpcy5zdGF0ZS5hY3RpdmVTY29wZSYmKHQuc2NvcGVJZD10aGlzLnN0YXRlLmFjdGl2ZVNjb3BlLmlkLHRoaXMuc3RhdGUuYWN0aXZlU2NvcGUudHJhY2sucHVzaCh0KSksdH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicmVnaXN0ZXJlZFZhcmlhYmxlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZS5yZWdpc3RlcmVkVmFyaWFibGVzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMucGVuZGluZ0JhY2tlbmRJbml0SWQrKyx0aGlzLnN0YXRlLmRpc3Bvc2UoKSx0aGlzLkVOVi5yZXNldCgpLHRoaXMuc3RhdGU9bmV3IEJ0LHRoaXMucmVnaXN0cnkpdGhpcy5kaXNwb3NlUmVnaXN0ZXJlZEtlcm5lbHModCksdGhpcy5yZWdpc3RyeVt0XS5kaXNwb3NlKCksZGVsZXRlIHRoaXMucmVnaXN0cnlbdF07dGhpcy5iYWNrZW5kTmFtZT1udWxsLHRoaXMuYmFja2VuZEluc3RhbmNlPW51bGwsdGhpcy5wZW5kaW5nQmFja2VuZEluaXQ9bnVsbH0sdC5uZXh0VGVuc29ySWQ9MCx0Lm5leHRWYXJpYWJsZUlkPTAsdH0oKTt2YXIgTHQ9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbigpe2lmKG51bGw9PU90KXt2YXIgdD12b2lkIDA7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl0PXdpbmRvdztlbHNlIGlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWwpdD1nbG9iYWw7ZWxzZSBpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2Vzcyl0PXByb2Nlc3M7ZWxzZXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2VsZil0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBhIGdsb2JhbCBvYmplY3RcIik7dD1zZWxmfU90PXR9cmV0dXJuIE90fSgpO2lmKG51bGw9PXQuX3RmZW5naW5lKXt2YXIgZT1uZXcgbyh0KTt0Ll90ZmVuZ2luZT1uZXcgUHQoZSl9cmV0dXJuIGZ1bmN0aW9uKHQpe3M9dH0odC5fdGZlbmdpbmUuRU5WKSx5dD1mdW5jdGlvbigpe3JldHVybiB0Ll90ZmVuZ2luZX0sdC5fdGZlbmdpbmV9KCk7ZnVuY3Rpb24gV3QoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZudWxsIT13aW5kb3cuZG9jdW1lbnR8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZX12YXIgVXQ9aSgpO1V0LnJlZ2lzdGVyRmxhZyhcIkRFQlVHXCIsKGZ1bmN0aW9uKCl7cmV0dXJuITF9KSwoZnVuY3Rpb24odCl7dCYmY29uc29sZS53YXJuKFwiRGVidWdnaW5nIG1vZGUgaXMgT04uIFRoZSBvdXRwdXQgb2YgZXZlcnkgbWF0aCBjYWxsIHdpbGwgYmUgZG93bmxvYWRlZCB0byBDUFUgYW5kIGNoZWNrZWQgZm9yIE5hTnMuIFRoaXMgc2lnbmlmaWNhbnRseSBpbXBhY3RzIHBlcmZvcm1hbmNlLlwiKX0pKSxVdC5yZWdpc3RlckZsYWcoXCJJU19CUk9XU0VSXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFd0KCl9KSksVXQucmVnaXN0ZXJGbGFnKFwiSVNfTk9ERVwiLChmdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiZ2b2lkIDAhPT1wcm9jZXNzLnZlcnNpb25zJiZ2b2lkIDAhPT1wcm9jZXNzLnZlcnNpb25zLm5vZGV9KSksVXQucmVnaXN0ZXJGbGFnKFwiSVNfQ0hST01FXCIsKGZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmbnVsbCE9bmF2aWdhdG9yJiZudWxsIT1uYXZpZ2F0b3IudXNlckFnZW50JiYvQ2hyb21lLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiYvR29vZ2xlIEluYy8udGVzdChuYXZpZ2F0b3IudmVuZG9yKX0pKSxVdC5yZWdpc3RlckZsYWcoXCJQUk9EXCIsKGZ1bmN0aW9uKCl7cmV0dXJuITF9KSksVXQucmVnaXN0ZXJGbGFnKFwiVEVOU09STElLRV9DSEVDS19TSEFQRV9DT05TSVNURU5DWVwiLChmdW5jdGlvbigpe3JldHVybiBVdC5nZXRCb29sKFwiREVCVUdcIil9KSksVXQucmVnaXN0ZXJGbGFnKFwiREVQUkVDQVRJT05fV0FSTklOR1NfRU5BQkxFRFwiLChmdW5jdGlvbigpe3JldHVybiEwfSkpLFV0LnJlZ2lzdGVyRmxhZyhcIklTX1RFU1RcIiwoZnVuY3Rpb24oKXtyZXR1cm4hMX0pKTt2YXIgVnQsenQsR3QsSHQ9e30scXQ9e2FscGhhOiExLGFudGlhbGlhczohMSxwcmVtdWx0aXBsaWVkQWxwaGE6ITEscHJlc2VydmVEcmF3aW5nQnVmZmVyOiExLGRlcHRoOiExLHN0ZW5jaWw6ITEsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDohMH07ZnVuY3Rpb24gS3QodCxlKXtIdFt0XT1lfWZ1bmN0aW9uIGp0KHQpe3QgaW4gSHR8fChIdFt0XT1mdW5jdGlvbih0KXtpZigxIT09dCYmMiE9PXQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBXZWJHTCByZW5kZXJpbmcgY29udGV4dCwgV2ViR0wgaXMgZGlzYWJsZWQuXCIpO3ZhciBlPWZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBPZmZzY3JlZW5DYW52YXMmJjI9PT10KXJldHVybiBuZXcgT2Zmc2NyZWVuQ2FudmFzKDMwMCwxNTApO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudClyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGEgY2FudmFzIGluIHRoaXMgY29udGV4dFwiKX0odCk7aWYoZS5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLChmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZGVsZXRlIEh0W3RdfSksITEpLDE9PT10KXJldHVybiBlLmdldENvbnRleHQoXCJ3ZWJnbFwiLHF0KXx8ZS5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIscXQpO3JldHVybiBlLmdldENvbnRleHQoXCJ3ZWJnbDJcIixxdCl9KHQpKTt2YXIgZT1IdFt0XTtyZXR1cm4gZS5pc0NvbnRleHRMb3N0KCk/KGRlbGV0ZSBIdFt0XSxqdCh0KSk6KGUuZGlzYWJsZShlLkRFUFRIX1RFU1QpLGUuZGlzYWJsZShlLlNURU5DSUxfVEVTVCksZS5kaXNhYmxlKGUuQkxFTkQpLGUuZGlzYWJsZShlLkRJVEhFUiksZS5kaXNhYmxlKGUuUE9MWUdPTl9PRkZTRVRfRklMTCksZS5kaXNhYmxlKGUuU0FNUExFX0NPVkVSQUdFKSxlLmVuYWJsZShlLlNDSVNTT1JfVEVTVCksZS5lbmFibGUoZS5DVUxMX0ZBQ0UpLGUuY3VsbEZhY2UoZS5CQUNLKSxIdFt0XSl9ZnVuY3Rpb24gWHQodCxlKXtyZXR1cm5bZSx0XX1mdW5jdGlvbiBZdCh0KXt2YXIgZT1rKHQpO3JldHVybiBUKE1hdGguY2VpbChlLzQpKX1mdW5jdGlvbiAkdCh0LGUpe3JldHVybltNYXRoLm1heCgxLE1hdGguY2VpbChlLzIpKSxNYXRoLm1heCgxLE1hdGguY2VpbCh0LzIpKV19ZnVuY3Rpb24gUXQodCxlKXt2YXIgbixyLG8sYSxzLHUsYyxsLGgsZj10O3JldHVybiAyPT09aSgpLmdldE51bWJlcihcIldFQkdMX1ZFUlNJT05cIik/KG49Zi5SMzJGLHI9Zi5SMTZGLG89Zi5SR0JBMTZGLGE9Zi5SR0JBMzJGLHM9Zi5SRUQsdT00LGM9MSxsPWYuSEFMRl9GTE9BVCxoPWYuRkxPQVQpOihuPXQuUkdCQSxyPXQuUkdCQSxvPXQuUkdCQSxhPWYuUkdCQSxzPXQuUkdCQSx1PTQsYz00LGw9bnVsbCE9ZT9lLkhBTEZfRkxPQVRfT0VTOm51bGwsaD10LkZMT0FUKSx7aW50ZXJuYWxGb3JtYXRGbG9hdDpuLGludGVybmFsRm9ybWF0SGFsZkZsb2F0OnIsaW50ZXJuYWxGb3JtYXRQYWNrZWRIYWxmRmxvYXQ6byxpbnRlcm5hbEZvcm1hdFBhY2tlZEZsb2F0OmEsdGV4dHVyZUZvcm1hdEZsb2F0OnMsZG93bmxvYWRUZXh0dXJlRm9ybWF0OnQuUkdCQSxkb3dubG9hZFVucGFja051bUNoYW5uZWxzOnUsZGVmYXVsdE51bUNoYW5uZWxzOmMsdGV4dHVyZVR5cGVIYWxmRmxvYXQ6bCx0ZXh0dXJlVHlwZUZsb2F0Omh9fWZ1bmN0aW9uIEp0KHQsZSxuKXt2YXIgcj1uKCk7cmV0dXJuIGUmJmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RXJyb3IoKTtpZihlIT09dC5OT19FUlJPUil0aHJvdyBuZXcgRXJyb3IoXCJXZWJHTCBFcnJvcjogXCIrbmUodCxlKSl9KHQpLHJ9IWZ1bmN0aW9uKHQpe3RbdC5ERU5TRT0wXT1cIkRFTlNFXCIsdFt0LlNIQVJFRF9CQVRDSD0xXT1cIlNIQVJFRF9CQVRDSFwifShWdHx8KFZ0PXt9KSksZnVuY3Rpb24odCl7dFt0LlJFTkRFUj0wXT1cIlJFTkRFUlwiLHRbdC5VUExPQUQ9MV09XCJVUExPQURcIix0W3QuUElYRUxTPTJdPVwiUElYRUxTXCIsdFt0LkRPV05MT0FEPTNdPVwiRE9XTkxPQURcIn0oenR8fCh6dD17fSkpLGZ1bmN0aW9uKHQpe3RbdC5VTlBBQ0tFRF9GTE9BVDE2PTBdPVwiVU5QQUNLRURfRkxPQVQxNlwiLHRbdC5VTlBBQ0tFRF9GTE9BVDMyPTFdPVwiVU5QQUNLRURfRkxPQVQzMlwiLHRbdC5QQUNLRURfNFgxX1VOU0lHTkVEX0JZVEU9Ml09XCJQQUNLRURfNFgxX1VOU0lHTkVEX0JZVEVcIix0W3QuUEFDS0VEXzJYMl9GTE9BVDMyPTNdPVwiUEFDS0VEXzJYMl9GTE9BVDMyXCIsdFt0LlBBQ0tFRF8yWDJfRkxPQVQxNj00XT1cIlBBQ0tFRF8yWDJfRkxPQVQxNlwifShHdHx8KEd0PXt9KSk7dmFyIFp0PTUuOTZlLTgsdGU9NjU1MDQ7ZnVuY3Rpb24gZWUodCl7cmV0dXJuISEoaSgpLmdldEJvb2woXCJXRUJHTF9SRU5ERVJfRkxPQVQzMl9FTkFCTEVEXCIpfHwwPT09dHx8WnQ8TWF0aC5hYnModCkmJk1hdGguYWJzKHQpPHRlKX1mdW5jdGlvbiBuZSh0LGUpe3N3aXRjaChlKXtjYXNlIHQuTk9fRVJST1I6cmV0dXJuXCJOT19FUlJPUlwiO2Nhc2UgdC5JTlZBTElEX0VOVU06cmV0dXJuXCJJTlZBTElEX0VOVU1cIjtjYXNlIHQuSU5WQUxJRF9WQUxVRTpyZXR1cm5cIklOVkFMSURfVkFMVUVcIjtjYXNlIHQuSU5WQUxJRF9PUEVSQVRJT046cmV0dXJuXCJJTlZBTElEX09QRVJBVElPTlwiO2Nhc2UgdC5JTlZBTElEX0ZSQU1FQlVGRkVSX09QRVJBVElPTjpyZXR1cm5cIklOVkFMSURfRlJBTUVCVUZGRVJfT1BFUkFUSU9OXCI7Y2FzZSB0Lk9VVF9PRl9NRU1PUlk6cmV0dXJuXCJPVVRfT0ZfTUVNT1JZXCI7Y2FzZSB0LkNPTlRFWFRfTE9TVF9XRUJHTDpyZXR1cm5cIkNPTlRFWFRfTE9TVF9XRUJHTFwiO2RlZmF1bHQ6cmV0dXJuXCJVbmtub3duIGVycm9yIGNvZGUgXCIrZX19ZnVuY3Rpb24gcmUodCxlLG4pe3JldHVybiBrZSh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0RXh0ZW5zaW9uKG4pfSksJ0V4dGVuc2lvbiBcIicrbisnXCIgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGJyb3dzZXIuJyl9ZnVuY3Rpb24gb2UodCxlLG4pe3ZhciByPWtlKHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5jcmVhdGVTaGFkZXIodC5WRVJURVhfU0hBREVSKX0pLFwiVW5hYmxlIHRvIGNyZWF0ZSB2ZXJ0ZXggV2ViR0xTaGFkZXIuXCIpO2lmKEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5zaGFkZXJTb3VyY2UocixuKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuY29tcGlsZVNoYWRlcihyKX0pKSwhMT09PXQuZ2V0U2hhZGVyUGFyYW1ldGVyKHIsdC5DT01QSUxFX1NUQVRVUykpdGhyb3cgY29uc29sZS5sb2codC5nZXRTaGFkZXJJbmZvTG9nKHIpKSxuZXcgRXJyb3IoXCJGYWlsZWQgdG8gY29tcGlsZSB2ZXJ0ZXggc2hhZGVyLlwiKTtyZXR1cm4gcn1mdW5jdGlvbiBhZSh0LGUsbil7dmFyIHI9a2UodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmNyZWF0ZVNoYWRlcih0LkZSQUdNRU5UX1NIQURFUil9KSxcIlVuYWJsZSB0byBjcmVhdGUgZnJhZ21lbnQgV2ViR0xTaGFkZXIuXCIpO2lmKEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5zaGFkZXJTb3VyY2UocixuKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuY29tcGlsZVNoYWRlcihyKX0pKSwhMT09PXQuZ2V0U2hhZGVyUGFyYW1ldGVyKHIsdC5DT01QSUxFX1NUQVRVUykpdGhyb3cgZnVuY3Rpb24odCxlKXt2YXIgbj11ZS5leGVjKGUpO2lmKG51bGw9PW4pcmV0dXJuIGNvbnNvbGUubG9nKFwiQ291bGRuJ3QgcGFyc2UgbGluZSBudW1iZXIgaW4gZXJyb3I6IFwiK2UpLHZvaWQgY29uc29sZS5sb2codCk7Zm9yKHZhciByPStuWzFdLG89dC5zcGxpdChcIlxcblwiKSxhPW8ubGVuZ3RoLnRvU3RyaW5nKCkubGVuZ3RoKzIsaT1vLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gTigoZSsxKS50b1N0cmluZygpLGEpK3R9KSkscz0wLHU9MDt1PGkubGVuZ3RoO3UrKylzPU1hdGgubWF4KGlbdV0ubGVuZ3RoLHMpO3ZhciBjPWkuc2xpY2UoMCxyLTEpLGw9aS5zbGljZShyLTEsciksaD1pLnNsaWNlKHIpO2NvbnNvbGUubG9nKGMuam9pbihcIlxcblwiKSksY29uc29sZS5sb2coZS5zcGxpdChcIlxcblwiKVswXSksY29uc29sZS5sb2coXCIlYyBcIitOKGxbMF0scyksXCJib3JkZXI6MXB4IHNvbGlkIHJlZDsgYmFja2dyb3VuZC1jb2xvcjojZTNkMmQyOyBjb2xvcjojYTYxNzE3XCIpLGNvbnNvbGUubG9nKGguam9pbihcIlxcblwiKSl9KG4sdC5nZXRTaGFkZXJJbmZvTG9nKHIpKSxuZXcgRXJyb3IoXCJGYWlsZWQgdG8gY29tcGlsZSBmcmFnbWVudCBzaGFkZXIuXCIpO3JldHVybiByfXZhciBpZSxzZSx1ZT0vRVJST1I6IFswLTldKzooWzAtOV0rKTovZztmdW5jdGlvbiBjZSh0LGUpe3JldHVybiBrZSh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuY3JlYXRlUHJvZ3JhbSgpfSksXCJVbmFibGUgdG8gY3JlYXRlIFdlYkdMUHJvZ3JhbS5cIil9ZnVuY3Rpb24gbGUodCxlLG4pe2lmKEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5saW5rUHJvZ3JhbShuKX0pKSwhMT09PXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihuLHQuTElOS19TVEFUVVMpKXRocm93IGNvbnNvbGUubG9nKHQuZ2V0UHJvZ3JhbUluZm9Mb2cobikpLG5ldyBFcnJvcihcIkZhaWxlZCB0byBsaW5rIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVycy5cIil9ZnVuY3Rpb24gaGUodCxlLG4pe2lmKEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC52YWxpZGF0ZVByb2dyYW0obil9KSksITE9PT10LmdldFByb2dyYW1QYXJhbWV0ZXIobix0LlZBTElEQVRFX1NUQVRVUykpdGhyb3cgY29uc29sZS5sb2codC5nZXRQcm9ncmFtSW5mb0xvZyhuKSksbmV3IEVycm9yKFwiU2hhZGVyIHByb2dyYW0gdmFsaWRhdGlvbiBmYWlsZWQuXCIpfWZ1bmN0aW9uIGZlKHQsZSxuKXt2YXIgcj1rZSh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuY3JlYXRlQnVmZmVyKCl9KSxcIlVuYWJsZSB0byBjcmVhdGUgV2ViR0xCdWZmZXJcIik7cmV0dXJuIEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5iaW5kQnVmZmVyKHQuQVJSQVlfQlVGRkVSLHIpfSkpLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5idWZmZXJEYXRhKHQuQVJSQVlfQlVGRkVSLG4sdC5TVEFUSUNfRFJBVyl9KSkscn1mdW5jdGlvbiBkZSh0LGUsbil7dmFyIHI9a2UodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmNyZWF0ZUJ1ZmZlcigpfSksXCJVbmFibGUgdG8gY3JlYXRlIFdlYkdMQnVmZmVyXCIpO3JldHVybiBKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYmluZEJ1ZmZlcih0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLHIpfSkpLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5idWZmZXJEYXRhKHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsbix0LlNUQVRJQ19EUkFXKX0pKSxyfWZ1bmN0aW9uIHBlKHQsZSl7cmV0dXJuIGtlKHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5jcmVhdGVUZXh0dXJlKCl9KSxcIlVuYWJsZSB0byBjcmVhdGUgV2ViR0xUZXh0dXJlLlwiKX1mdW5jdGlvbiB2ZSh0LGUpe3ZhciBuPWkoKS5nZXROdW1iZXIoXCJXRUJHTF9NQVhfVEVYVFVSRV9TSVpFXCIpO2lmKHQ8PTB8fGU8PTApe3ZhciByPVwiW1wiK3QrXCJ4XCIrZStcIl1cIjt0aHJvdyBuZXcgRXJyb3IoXCJSZXF1ZXN0ZWQgdGV4dHVyZSBzaXplIFwiK3IrXCIgaXMgaW52YWxpZC5cIil9aWYodD5ufHxlPm4pe3I9XCJbXCIrdCtcInhcIitlK1wiXVwiO3Rocm93IG5ldyBFcnJvcihcIlJlcXVlc3RlZCB0ZXh0dXJlIHNpemUgXCIrcitcIiBncmVhdGVyIHRoYW4gV2ViR0wgbWF4aW11bSBvbiB0aGlzIGJyb3dzZXIgLyBHUFUgXCIrKFwiW1wiK24rXCJ4XCIrbitcIl1cIikrXCIuXCIpfX1mdW5jdGlvbiBtZSh0LGUpe3JldHVybiBrZSh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuY3JlYXRlRnJhbWVidWZmZXIoKX0pLFwiVW5hYmxlIHRvIGNyZWF0ZSBXZWJHTEZyYW1lYnVmZmVyLlwiKX1mdW5jdGlvbiBnZSh0LGUsbixyLG8sYSxpLHMpe3ZhciB1PXQuZ2V0QXR0cmliTG9jYXRpb24obixyKTtyZXR1cm4tMSE9PXUmJihKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYmluZEJ1ZmZlcih0LkFSUkFZX0JVRkZFUixvKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQudmVydGV4QXR0cmliUG9pbnRlcih1LGEsdC5GTE9BVCwhMSxpLHMpfSkpLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh1KX0pKSwhMCl9ZnVuY3Rpb24geWUodCxlLG4scil7U2UodCxyKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYWN0aXZlVGV4dHVyZSh0LlRFWFRVUkUwK3IpfSkpLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsbil9KSl9ZnVuY3Rpb24geGUodCxlLG4scil7cmV0dXJuIGtlKHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5nZXRVbmlmb3JtTG9jYXRpb24obixyKX0pLCd1bmlmb3JtIFwiJytyKydcIiBub3QgcHJlc2VudCBpbiBwcm9ncmFtLicpfWZ1bmN0aW9uIGJlKHQsZSxuKXtyZXR1cm4gdC5nZXRVbmlmb3JtTG9jYXRpb24oZSxuKX1mdW5jdGlvbiB3ZSh0LGUsbixyLG8sYSl7SnQodCxlLChmdW5jdGlvbigpe3JldHVybiB5ZSh0LGUscixhKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQudW5pZm9ybTFpKG8sYSl9KSl9ZnVuY3Rpb24gQ2UodCxlLG4scil7SnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLHIpfSkpLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuQ09MT1JfQVRUQUNITUVOVDAsdC5URVhUVVJFXzJELG4sMCl9KSl9ZnVuY3Rpb24gRWUodCxlLG4pe0p0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixuKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJhbWVidWZmZXJUZXh0dXJlMkQodC5GUkFNRUJVRkZFUix0LkNPTE9SX0FUVEFDSE1FTlQwLHQuVEVYVFVSRV8yRCxudWxsLDApfSkpfWZ1bmN0aW9uIFJlKHQpe3ZhciBlPXQuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyh0LkZSQU1FQlVGRkVSKTtpZihlIT09dC5GUkFNRUJVRkZFUl9DT01QTEVURSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBiaW5kaW5nIGZyYW1lYnVmZmVyOiBcIitJZSh0LGUpKX1mdW5jdGlvbiBJZSh0LGUpe3N3aXRjaChlKXtjYXNlIHQuRlJBTUVCVUZGRVJfSU5DT01QTEVURV9BVFRBQ0hNRU5UOnJldHVyblwiRlJBTUVCVUZGRVJfSU5DT01QTEVURV9BVFRBQ0hNRU5UXCI7Y2FzZSB0LkZSQU1FQlVGRkVSX0lOQ09NUExFVEVfTUlTU0lOR19BVFRBQ0hNRU5UOnJldHVyblwiRlJBTUVCVUZGRVJfSU5DT01QTEVURV9NSVNTSU5HX0FUVEFDSE1FTlRcIjtjYXNlIHQuRlJBTUVCVUZGRVJfSU5DT01QTEVURV9ESU1FTlNJT05TOnJldHVyblwiRlJBTUVCVUZGRVJfSU5DT01QTEVURV9ESU1FTlNJT05TXCI7Y2FzZSB0LkZSQU1FQlVGRkVSX1VOU1VQUE9SVEVEOnJldHVyblwiRlJBTUVCVUZGRVJfVU5TVVBQT1JURURcIjtkZWZhdWx0OnJldHVyblwidW5rbm93biBlcnJvciBcIitlfX1mdW5jdGlvbiBrZSh0LGUsbixyKXt2YXIgbz1KdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIG4oKX0pKTtpZihudWxsPT1vKXRocm93IG5ldyBFcnJvcihyKTtyZXR1cm4gb31mdW5jdGlvbiBTZSh0LGUpe3ZhciBuPXQuTUFYX0NPTUJJTkVEX1RFWFRVUkVfSU1BR0VfVU5JVFMtMSxyPWUrdC5URVhUVVJFMDtpZihyPHQuVEVYVFVSRTB8fHI+bil0aHJvdyBuZXcgRXJyb3IoXCJ0ZXh0dXJlVW5pdCBtdXN0IGJlIGluIFwiKyhcIltnbC5URVhUVVJFMCwgZ2wuVEVYVFVSRVwiK24rXCJdXCIpK1wiLlwiKX1mdW5jdGlvbiBBZSh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0yKSxrKHQuc2xpY2UoMCx0Lmxlbmd0aC1lKSl9ZnVuY3Rpb24gRGUodCl7aWYoMD09PXQubGVuZ3RoKXRocm93IEVycm9yKFwiQ2Fubm90IGdldCByb3dzIGFuZCBjb2x1bW5zIG9mIGFuIGVtcHR5IHNoYXBlIGFycmF5LlwiKTtyZXR1cm5bdC5sZW5ndGg+MT90W3QubGVuZ3RoLTJdOjEsdFt0Lmxlbmd0aC0xXV19ZnVuY3Rpb24gVGUodCl7dmFyIGU9WzEsMSwxXTtyZXR1cm4gMD09PXQubGVuZ3RofHwxPT09dC5sZW5ndGgmJjE9PT10WzBdfHwoZT1bQWUodCldLmNvbmNhdChEZSh0KSkpLGV9ZnVuY3Rpb24gTmUodCxlKXt2YXIgbjt2b2lkIDA9PT1lJiYoZT0hMSk7dmFyIHI9aSgpLmdldE51bWJlcihcIldFQkdMX01BWF9URVhUVVJFX1NJWkVcIik7aWYoZSYmKHIqPTIsMT09PSh0PXQubWFwKChmdW5jdGlvbihlLG4pe3JldHVybiBuPj10Lmxlbmd0aC0yP2IodFtuXSk6dFtuXX0pKSkubGVuZ3RoJiYodD1bMix0WzBdXSkpLDIhPT10Lmxlbmd0aCl7dmFyIG89TSh0KTt0PW8ubmV3U2hhcGV9dmFyIGE9ayh0KTtpZih0Lmxlbmd0aDw9MSYmYTw9cilyZXR1cm5bMSxhXTtpZigyPT09dC5sZW5ndGgmJnRbMF08PXImJnRbMV08PXIpcmV0dXJuIHQ7aWYoMz09PXQubGVuZ3RoJiZ0WzBdKnRbMV08PXImJnRbMl08PXIpcmV0dXJuW3RbMF0qdFsxXSx0WzJdXTtpZigzPT09dC5sZW5ndGgmJnRbMF08PXImJnRbMV0qdFsyXTw9cilyZXR1cm5bdFswXSx0WzFdKnRbMl1dO2lmKDQ9PT10Lmxlbmd0aCYmdFswXSp0WzFdKnRbMl08PXImJnRbM108PXIpcmV0dXJuW3RbMF0qdFsxXSp0WzJdLHRbM11dO2lmKDQ9PT10Lmxlbmd0aCYmdFswXTw9ciYmdFsxXSp0WzJdKnRbM108PXIpcmV0dXJuW3RbMF0sdFsxXSp0WzJdKnRbM11dO2lmKGUpe3ZhciBzPUFlKHQpLHU9MixjPTI7cmV0dXJuIHQubGVuZ3RoJiYodT0obj1EZSh0KSlbMF0sYz1uWzFdKSxUKGE9cyoodS8yKSooYy8yKSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gMip0fSkpfXJldHVybiBUKGEpfWZ1bmN0aW9uIEZlKHQpe3JldHVybiB0JTI9PTB9ZnVuY3Rpb24gX2UodCxlKXtpZihTKHQ9dC5zbGljZSgtMiksZT1lLnNsaWNlKC0yKSkpcmV0dXJuITA7aWYoIXQubGVuZ3RofHwhZS5sZW5ndGgpcmV0dXJuITA7aWYoMD09PXRbMF18fDA9PT10WzFdfHwwPT09ZVswXXx8MD09PWVbMV0pcmV0dXJuITA7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl7dmFyIG49dC5zbGljZSgtMSlbMF0scj1lLnNsaWNlKC0xKVswXTtpZihuPT09cilyZXR1cm4hMDtpZihGZShuKSYmRmUocikmJigxPT09dFswXXx8MT09PWVbMF0pKXJldHVybiEwfXJldHVybiB0WzFdPT09ZVsxXSYmRmUodFswXSkmJkZlKGVbMF0pfWZ1bmN0aW9uIE9lKHQpe2lmKG51bGw9PWllKXt2YXIgZT1qdCh0KTtpZT1lLmdldFBhcmFtZXRlcihlLk1BWF9URVhUVVJFX1NJWkUpfXJldHVybiBpZX1mdW5jdGlvbiBNZSh0KXtpZihudWxsPT1zZSl7dmFyIGU9anQodCk7c2U9ZS5nZXRQYXJhbWV0ZXIoZS5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyl9cmV0dXJuIE1hdGgubWluKDE2LHNlKX1mdW5jdGlvbiBCZSh0KXtpZigwPT09dClyZXR1cm4gMDt2YXIgZT1qdCh0KTtyZXR1cm4gUGUoZSxcIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeV93ZWJnbDJcIikmJjI9PT10PzI6UGUoZSxcIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeVwiKT8xOjB9ZnVuY3Rpb24gUGUodCxlKXtyZXR1cm4gbnVsbCE9dC5nZXRFeHRlbnNpb24oZSl9ZnVuY3Rpb24gTGUodCl7dHJ5e2lmKG51bGwhPWp0KHQpKXJldHVybiEwfWNhdGNoKHQpe3JldHVybiExfXJldHVybiExfWZ1bmN0aW9uIFdlKHQpe2lmKDA9PT10KXJldHVybiExO3ZhciBlPWp0KHQpO2lmKDE9PT10KXtpZighUGUoZSxcIk9FU190ZXh0dXJlX2Zsb2F0XCIpKXJldHVybiExfWVsc2UgaWYoIVBlKGUsXCJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0XCIpKXJldHVybiExO3JldHVybiBWZShlKX1mdW5jdGlvbiBVZSh0KXtpZigwPT09dClyZXR1cm4hMTt2YXIgZT1qdCh0KTtpZigxIT09dCl7aWYoUGUoZSxcIkVYVF9jb2xvcl9idWZmZXJfZmxvYXRcIikpcmV0dXJuIFZlKGUpO2lmKFBlKGUsXCJFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXRcIikpe3ZhciBuPWUuZ2V0RXh0ZW5zaW9uKFwiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0XCIpO3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPVF0KHQsZSkscj10LmNyZWF0ZVRleHR1cmUoKTt0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxyKTt0LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsbi5pbnRlcm5hbEZvcm1hdEhhbGZGbG9hdCwxLDEsMCxuLnRleHR1cmVGb3JtYXRGbG9hdCxuLnRleHR1cmVUeXBlSGFsZkZsb2F0LG51bGwpO3ZhciBvPXQuY3JlYXRlRnJhbWVidWZmZXIoKTt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG8pLHQuZnJhbWVidWZmZXJUZXh0dXJlMkQodC5GUkFNRUJVRkZFUix0LkNPTE9SX0FUVEFDSE1FTlQwLHQuVEVYVFVSRV8yRCxyLDApO3ZhciBhPXQuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyh0LkZSQU1FQlVGRkVSKT09PXQuRlJBTUVCVUZGRVJfQ09NUExFVEU7cmV0dXJuIHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELG51bGwpLHQuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsbnVsbCksdC5kZWxldGVUZXh0dXJlKHIpLHQuZGVsZXRlRnJhbWVidWZmZXIobyksYX0oZSxuKX1yZXR1cm4hMX1yZXR1cm4hIVBlKGUsXCJPRVNfdGV4dHVyZV9mbG9hdFwiKSYmKCEhUGUoZSxcIldFQkdMX2NvbG9yX2J1ZmZlcl9mbG9hdFwiKSYmVmUoZSkpfWZ1bmN0aW9uIFZlKHQpe3ZhciBlPVF0KHQpLG49dC5jcmVhdGVUZXh0dXJlKCk7dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsbik7dC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLGUuaW50ZXJuYWxGb3JtYXRGbG9hdCwxLDEsMCxlLnRleHR1cmVGb3JtYXRGbG9hdCxlLnRleHR1cmVUeXBlRmxvYXQsbnVsbCk7dmFyIHI9dC5jcmVhdGVGcmFtZWJ1ZmZlcigpO3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsciksdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuQ09MT1JfQVRUQUNITUVOVDAsdC5URVhUVVJFXzJELG4sMCk7dmFyIG89dC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKHQuRlJBTUVCVUZGRVIpPT09dC5GUkFNRUJVRkZFUl9DT01QTEVURTtyZXR1cm4gdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsbnVsbCksdC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixudWxsKSx0LmRlbGV0ZVRleHR1cmUobiksdC5kZWxldGVGcmFtZWJ1ZmZlcihyKSxvfWZ1bmN0aW9uIHplKHQpe3JldHVybiAyPT09dCYmbnVsbCE9anQodCkuZmVuY2VTeW5jfXZhciBHZT1PYmplY3QuZnJlZXplKHtjYWxsQW5kQ2hlY2s6SnQsY2FuQmVSZXByZXNlbnRlZDplZSxnZXRXZWJHTEVycm9yTWVzc2FnZTpuZSxnZXRFeHRlbnNpb25PclRocm93OnJlLGNyZWF0ZVZlcnRleFNoYWRlcjpvZSxjcmVhdGVGcmFnbWVudFNoYWRlcjphZSxjcmVhdGVQcm9ncmFtOmNlLGxpbmtQcm9ncmFtOmxlLHZhbGlkYXRlUHJvZ3JhbTpoZSxjcmVhdGVTdGF0aWNWZXJ0ZXhCdWZmZXI6ZmUsY3JlYXRlU3RhdGljSW5kZXhCdWZmZXI6ZGUsZ2V0TnVtQ2hhbm5lbHM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PWkoKS5nZXROdW1iZXIoXCJXRUJHTF9WRVJTSU9OXCIpPzE6NH0sY3JlYXRlVGV4dHVyZTpwZSx2YWxpZGF0ZVRleHR1cmVTaXplOnZlLGNyZWF0ZUZyYW1lYnVmZmVyOm1lLGJpbmRWZXJ0ZXhCdWZmZXJUb1Byb2dyYW1BdHRyaWJ1dGU6Z2UsYmluZFRleHR1cmVVbml0OnllLHVuYmluZFRleHR1cmVVbml0OmZ1bmN0aW9uKHQsZSxuKXtTZSh0LG4pLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5hY3RpdmVUZXh0dXJlKHQuVEVYVFVSRTArbil9KSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxudWxsKX0pKX0sZ2V0UHJvZ3JhbVVuaWZvcm1Mb2NhdGlvbk9yVGhyb3c6eGUsZ2V0UHJvZ3JhbVVuaWZvcm1Mb2NhdGlvbjpiZSxiaW5kVGV4dHVyZVRvUHJvZ3JhbVVuaWZvcm1TYW1wbGVyOndlLGJpbmRDYW52YXNUb0ZyYW1lYnVmZmVyOmZ1bmN0aW9uKHQsZSl7SnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG51bGwpfSkpLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC52aWV3cG9ydCgwLDAsdC5jYW52YXMud2lkdGgsdC5jYW52YXMuaGVpZ2h0KX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuc2Npc3NvcigwLDAsdC5jYW52YXMud2lkdGgsdC5jYW52YXMuaGVpZ2h0KX0pKX0sYmluZENvbG9yVGV4dHVyZVRvRnJhbWVidWZmZXI6Q2UsdW5iaW5kQ29sb3JUZXh0dXJlRnJvbUZyYW1lYnVmZmVyOkVlLHZhbGlkYXRlRnJhbWVidWZmZXI6UmUsZ2V0RnJhbWVidWZmZXJFcnJvck1lc3NhZ2U6SWUsZ2V0QmF0Y2hEaW06QWUsZ2V0Um93c0NvbHM6RGUsZ2V0U2hhcGVBczNEOlRlLGdldFRleHR1cmVTaGFwZUZyb21Mb2dpY2FsU2hhcGU6TmUsaXNSZXNoYXBlRnJlZTpfZSxnZXRXZWJHTE1heFRleHR1cmVTaXplOk9lLHJlc2V0TWF4VGV4dHVyZVNpemU6ZnVuY3Rpb24oKXtpZT1udWxsfSxyZXNldE1heFRleHR1cmVzSW5TaGFkZXI6ZnVuY3Rpb24oKXtzZT1udWxsfSxnZXRNYXhUZXh0dXJlc0luU2hhZGVyOk1lLGdldFdlYkdMRGlzam9pbnRRdWVyeVRpbWVyVmVyc2lvbjpCZSxoYXNFeHRlbnNpb246UGUsaXNXZWJHTFZlcnNpb25FbmFibGVkOkxlLGlzQ2FwYWJsZU9mUmVuZGVyaW5nVG9GbG9hdFRleHR1cmU6V2UsaXNEb3dubG9hZEZsb2F0VGV4dHVyZUVuYWJsZWQ6VWUsaXNXZWJHTEZlbmNlRW5hYmxlZDp6ZX0pLEhlPWkoKTtmdW5jdGlvbiBxZSgpe2koKS5zZXQoXCJQUk9EXCIsITApfWZ1bmN0aW9uIEtlKCl7aSgpLnNldChcIkRFQlVHXCIsITApfWZ1bmN0aW9uIGplKCl7aSgpLnNldChcIkRFUFJFQ0FUSU9OX1dBUk5JTkdTX0VOQUJMRURcIiwhMSksY29uc29sZS53YXJuKFwiVGVuc29yRmxvdy5qcyBkZXByZWNhdGlvbiB3YXJuaW5ncyBoYXZlIGJlZW4gZGlzYWJsZWQuXCIpfWZ1bmN0aW9uIFhlKHQpe2koKS5nZXRCb29sKFwiREVQUkVDQVRJT05fV0FSTklOR1NfRU5BQkxFRFwiKSYmY29uc29sZS53YXJuKHQrXCIgWW91IGNhbiBkaXNhYmxlIGRlcHJlY2F0aW9uIHdhcm5pbmdzIHdpdGggdGYuZGlzYWJsZURlcHJlY2F0aW9uV2FybmluZ3MoKS5cIil9ZnVuY3Rpb24gWWUoKXtMdC5kaXNwb3NlVmFyaWFibGVzKCl9ZnVuY3Rpb24gJGUoKXtyZXR1cm4gTHR9ZnVuY3Rpb24gUWUoKXtyZXR1cm4gTHQubWVtb3J5KCl9ZnVuY3Rpb24gSmUodCl7cmV0dXJuIEx0LnByb2ZpbGUodCl9ZnVuY3Rpb24gWmUodCxlKXtyZXR1cm4gTHQudGlkeSh0LGUpfWZ1bmN0aW9uIHRuKHQpe190KHQpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRpc3Bvc2UoKX0pKX1mdW5jdGlvbiBlbih0KXtyZXR1cm4gTHQua2VlcCh0KX1mdW5jdGlvbiBubih0KXtyZXR1cm4gTHQudGltZSh0KX1mdW5jdGlvbiBybih0KXtyZXR1cm4gTHQuc2V0QmFja2VuZCh0KX1mdW5jdGlvbiBvbigpe3JldHVybiBMdC5yZWFkeSgpfWZ1bmN0aW9uIGFuKCl7cmV0dXJuIEx0LmJhY2tlbmROYW1lfWZ1bmN0aW9uIHNuKHQpe0x0LnJlbW92ZUJhY2tlbmQodCl9ZnVuY3Rpb24gdW4odCl7cmV0dXJuIEx0LmZpbmRCYWNrZW5kKHQpfWZ1bmN0aW9uIGNuKHQpe3JldHVybiBMdC5maW5kQmFja2VuZEZhY3RvcnkodCl9ZnVuY3Rpb24gbG4odCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj0xKSxMdC5yZWdpc3RlckJhY2tlbmQodCxlLG4pfWZ1bmN0aW9uIGhuKCl7cmV0dXJuIEx0LmJhY2tlbmR9ZnVuY3Rpb24gZm4odCxlKXtpKCkuc2V0UGxhdGZvcm0odCxlKX1mdW5jdGlvbiBkbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtpKCkuZ2V0Qm9vbChcIklTX1RFU1RcIil8fGNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLHQpfWZ1bmN0aW9uIHBuKHQsZSl7dmFyIG49dDtpZihWKHQpKXJldHVyblwic3RyaW5nXCI9PT1lP1tdOlt0Lmxlbmd0aF07aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuW107Zm9yKHZhciByPVtdO0FycmF5LmlzQXJyYXkobil8fFYobikmJlwic3RyaW5nXCIhPT1lOylyLnB1c2gobi5sZW5ndGgpLG49blswXTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KSYmaSgpLmdldEJvb2woXCJURU5TT1JMSUtFX0NIRUNLX1NIQVBFX0NPTlNJU1RFTkNZXCIpJiZmdW5jdGlvbiB0KGUsbixyKXtpZihyPXJ8fFtdLCFBcnJheS5pc0FycmF5KGUpJiYhVihlKSlyZXR1cm4gdm9pZCBDKDA9PT1uLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cIkVsZW1lbnQgYXJyW1wiK3Iuam9pbihcIl1bXCIpK1wiXSBpcyBhIHByaW1pdGl2ZSwgYnV0IHNob3VsZCBiZSBhbiBhcnJheS9UeXBlZEFycmF5IG9mIFwiK25bMF0rXCIgZWxlbWVudHNcIn0pKTtDKG4ubGVuZ3RoPjAsKGZ1bmN0aW9uKCl7cmV0dXJuXCJFbGVtZW50IGFycltcIityLmpvaW4oXCJdW1wiKStcIl0gc2hvdWxkIGJlIGEgcHJpbWl0aXZlLCBidXQgaXMgYW4gYXJyYXkgb2YgXCIrZS5sZW5ndGgrXCIgZWxlbWVudHNcIn0pKSxDKGUubGVuZ3RoPT09blswXSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVsZW1lbnQgYXJyW1wiK3Iuam9pbihcIl1bXCIpK1wiXSBzaG91bGQgaGF2ZSBcIituWzBdK1wiIGVsZW1lbnRzLCBidXQgaGFzIFwiK2UubGVuZ3RoK1wiIGVsZW1lbnRzXCJ9KSk7Zm9yKHZhciBvPW4uc2xpY2UoMSksYT0wO2E8ZS5sZW5ndGg7KythKXQoZVthXSxvLHIuY29uY2F0KGEpKX0odCxyLFtdKSxyfWZ1bmN0aW9uIHZuKHQsZSxuLHIpe2lmKG51bGwhPXQmJihcIm51bWVyaWNcIiE9PXQmJnQhPT1lfHxcIm51bWVyaWNcIj09PXQmJlwic3RyaW5nXCI9PT1lKSl0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudCAnXCIrbitcIicgcGFzc2VkIHRvICdcIityK1wiJyBtdXN0IGJlIFwiK3QrXCIgdGVuc29yLCBidXQgZ290IFwiK2UrXCIgdGVuc29yXCIpfWZ1bmN0aW9uIG1uKHQsZSxuLHIpe2lmKHZvaWQgMD09PXImJihyPVwibnVtZXJpY1wiKSx0IGluc3RhbmNlb2Ygd3QpcmV0dXJuIHZuKHIsdC5kdHlwZSxlLG4pLHQ7dmFyIG89aih0KTtpZihcInN0cmluZ1wiIT09byYmW1wiYm9vbFwiLFwiaW50MzJcIixcImZsb2F0MzJcIl0uaW5kZXhPZihyKT49MCYmKG89ciksdm4ocixvLGUsbiksbnVsbD09dHx8IVYodCkmJiFBcnJheS5pc0FycmF5KHQpJiZcIm51bWJlclwiIT10eXBlb2YgdCYmXCJib29sZWFuXCIhPXR5cGVvZiB0JiZcInN0cmluZ1wiIT10eXBlb2YgdCl7dmFyIGE9bnVsbD09dD9cIm51bGxcIjp0LmNvbnN0cnVjdG9yLm5hbWU7dGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgJ1wiK2UrXCInIHBhc3NlZCB0byAnXCIrbitcIicgbXVzdCBiZSBhIFRlbnNvciBvciBUZW5zb3JMaWtlLCBidXQgZ290ICdcIithK1wiJ1wiKX12YXIgcz1wbih0LG8pO1YodCl8fEFycmF5LmlzQXJyYXkodCl8fCh0PVt0XSk7dmFyIHU9XCJzdHJpbmdcIiE9PW8/USh0LG8saSgpLmdldEJvb2woXCJERUJVR1wiKSk6SSh0LFtdLCEwKTtyZXR1cm4gTHQubWFrZVRlbnNvcih1LHMsbyl9ZnVuY3Rpb24gZ24odCxlLG4scil7aWYodm9pZCAwPT09ciYmKHI9XCJudW1lcmljXCIpLCFBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBFcnJvcihcIkFyZ3VtZW50IFwiK2UrXCIgcGFzc2VkIHRvIFwiK24rXCIgbXVzdCBiZSBhIGBUZW5zb3JbXWAgb3IgYFRlbnNvckxpa2VbXWBcIik7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0LHIpe3JldHVybiBtbih0LGUrXCJbXCIrcitcIl1cIixuKX0pLHIpfWZ1bmN0aW9uIHluKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24paWYodFt0Lmxlbmd0aC1uLTFdIT09ZS0xLW4pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24geG4odCxlLG4pe2Zvcih2YXIgcj10Lmxlbmd0aCtlLmxlbmd0aCxvPVtdLGE9MCxpPTAscz0wO3M8cjtzKyspLTE9PT1uLmluZGV4T2Yocyk/by5wdXNoKHRbYSsrXSk6by5wdXNoKGVbaSsrXSk7cmV0dXJuIG99ZnVuY3Rpb24gYm4odCxlKXtmb3IodmFyIG49W10scj10Lmxlbmd0aCxvPTA7bzxyO28rKyktMT09PWUuaW5kZXhPZihvKSYmbi5wdXNoKHRbb10pO3JldHVybltuLGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKV19ZnVuY3Rpb24gd24odCxlKXtyZXR1cm4geG4odCxlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIDF9KSksZSl9ZnVuY3Rpb24gQ24odCxlLG4pe0MoeW4oZSxuKSwoZnVuY3Rpb24oKXtyZXR1cm4gdCtcIiBzdXBwb3J0cyBvbmx5IGlubmVyLW1vc3QgYXhlcyBmb3Igbm93LiBHb3QgYXhlcyBcIitlK1wiIGFuZCByYW5rLVwiK24rXCIgaW5wdXQuXCJ9KSl9ZnVuY3Rpb24gRW4odCxlKXtpZih5bih0LGUpKXJldHVybiBudWxsO2Zvcih2YXIgbj1bXSxyPTA7cjxlOysrciktMT09PXQuaW5kZXhPZihyKSYmbi5wdXNoKHIpO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBuLnB1c2godCl9KSksbn1mdW5jdGlvbiBSbih0KXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuW2UsdF19KSkuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdFsxXS1lWzFdfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSl9ZnVuY3Rpb24gSW4odCxlKXtmb3IodmFyIG49W10scj1lLXQ7cjxlOysrciluLnB1c2gocik7cmV0dXJuIG59ZnVuY3Rpb24ga24odCxlKXt2YXIgbj10WzBdLmxlbmd0aDt0LmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7Qyh0Lmxlbmd0aD09PW4sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb25jYXRcIituK1wiRDogcmFuayBvZiB0ZW5zb3JzW1wiK2UrXCJdIG11c3QgYmUgdGhlIHNhbWUgYXMgdGhlIHJhbmsgb2YgdGhlIHJlc3QgKFwiK24rXCIpXCJ9KSl9KSksQyhlPj0wJiZlPG4sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb25jYXRcIituK1wiRDogYXhpcyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgXCIrKG4tMSkrXCIuXCJ9KSk7dmFyIHI9dFswXTt0LmZvckVhY2goKGZ1bmN0aW9uKHQsbyl7Zm9yKHZhciBhPTA7YTxuO2ErKylDKGE9PT1lfHx0W2FdPT09clthXSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbmNhdFwiK24rXCJEOiBTaGFwZSBvZiB0ZW5zb3JzW1wiK28rXCJdIChcIit0K1wiKSBkb2VzIG5vdCBtYXRjaCB0aGUgc2hhcGUgb2YgdGhlIHJlc3QgKFwiK3IrXCIpIGFsb25nIHRoZSBub24tY29uY2F0ZW5hdGVkIGF4aXMgXCIrbytcIi5cIn0pKX0pKX1mdW5jdGlvbiBTbih0LGUpe2Zvcih2YXIgbj10WzBdLnNsaWNlKCkscj0xO3I8dC5sZW5ndGg7cisrKW5bZV0rPXRbcl1bZV07cmV0dXJuIG59ZnVuY3Rpb24gQW4odCl7dmFyIGU9T2JqZWN0LmtleXModCk7aWYoMSE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIGFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIGtleSAob3BlcmF0aW9uIG5hbWUpIG1hcHBpbmcgdG8gYSBmdW5jdGlvbi4gR290IGFuIG9iamVjdCB3aXRoIFwiK2UubGVuZ3RoK1wiIGtleXMuXCIpO3ZhciBuPWVbMF0scj10W25dO24uZW5kc1dpdGgoXCJfXCIpJiYobj1uLnN1YnN0cmluZygwLG4ubGVuZ3RoLTEpKTt2YXIgbz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtMdC5zdGFydFNjb3BlKG4pO3RyeXt2YXIgbz1yLmFwcGx5KHZvaWQgMCx0KTtyZXR1cm4gbyBpbnN0YW5jZW9mIFByb21pc2UmJmNvbnNvbGUuZXJyb3IoXCJDYW5ub3QgcmV0dXJuIGEgUHJvbWlzZSBpbnNpZGUgb2YgdGlkeS5cIiksTHQuZW5kU2NvcGUobyksb31jYXRjaCh0KXt0aHJvdyBMdC5lbmRTY29wZShudWxsKSx0fX07cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwibmFtZVwiLHt2YWx1ZTpuLGNvbmZpZ3VyYWJsZTohMH0pLG99SGUucmVnaXN0ZXJGbGFnKFwiSEFTX1dFQkdMXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEhlLmdldE51bWJlcihcIldFQkdMX1ZFUlNJT05cIik+MH0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9WRVJTSU9OXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIExlKDIpPzI6TGUoMSk/MTowfSkpLEhlLnJlZ2lzdGVyRmxhZyhcIldFQkdMX0JVRkZFUl9TVVBQT1JURURcIiwoZnVuY3Rpb24oKXtyZXR1cm4gMj09PUhlLmdldChcIldFQkdMX1ZFUlNJT05cIil9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfQ1BVX0ZPUldBUkRcIiwoZnVuY3Rpb24oKXtyZXR1cm4hMH0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9GT1JDRV9GMTZfVEVYVFVSRVNcIiwoZnVuY3Rpb24oKXtyZXR1cm4hMX0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9QQUNLXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEhlLmdldEJvb2woXCJIQVNfV0VCR0xcIil9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfUEFDS19OT1JNQUxJWkFUSU9OXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEhlLmdldEJvb2woXCJXRUJHTF9QQUNLXCIpfSkpLEhlLnJlZ2lzdGVyRmxhZyhcIldFQkdMX1BBQ0tfQ0xJUFwiLChmdW5jdGlvbigpe3JldHVybiBIZS5nZXRCb29sKFwiV0VCR0xfUEFDS1wiKX0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9QQUNLX0RFUFRIV0lTRUNPTlZcIiwoZnVuY3Rpb24oKXtyZXR1cm4hMX0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEhlLmdldEJvb2woXCJXRUJHTF9QQUNLXCIpfSkpLEhlLnJlZ2lzdGVyRmxhZyhcIldFQkdMX1BBQ0tfVU5BUllfT1BFUkFUSU9OU1wiLChmdW5jdGlvbigpe3JldHVybiBIZS5nZXRCb29sKFwiV0VCR0xfUEFDS1wiKX0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9QQUNLX0FSUkFZX09QRVJBVElPTlNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSGUuZ2V0Qm9vbChcIldFQkdMX1BBQ0tcIil9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfUEFDS19JTUFHRV9PUEVSQVRJT05TXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEhlLmdldEJvb2woXCJXRUJHTF9QQUNLXCIpfSkpLEhlLnJlZ2lzdGVyRmxhZyhcIldFQkdMX1BBQ0tfUkVEVUNFXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEhlLmdldEJvb2woXCJXRUJHTF9QQUNLXCIpfSkpLEhlLnJlZ2lzdGVyRmxhZyhcIldFQkdMX0xBWklMWV9VTlBBQ0tcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSGUuZ2V0Qm9vbChcIldFQkdMX1BBQ0tcIil9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfQ09OVl9JTTJDT0xcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSGUuZ2V0Qm9vbChcIldFQkdMX1BBQ0tcIil9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfTUFYX1RFWFRVUkVfU0laRVwiLChmdW5jdGlvbigpe3JldHVybiBPZShIZS5nZXROdW1iZXIoXCJXRUJHTF9WRVJTSU9OXCIpKX0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9NQVhfVEVYVFVSRVNfSU5fU0hBREVSXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE1lKEhlLmdldE51bWJlcihcIldFQkdMX1ZFUlNJT05cIikpfSkpLEhlLnJlZ2lzdGVyRmxhZyhcIldFQkdMX0RJU0pPSU5UX1FVRVJZX1RJTUVSX0VYVEVOU0lPTl9WRVJTSU9OXCIsKGZ1bmN0aW9uKCl7dmFyIHQ9SGUuZ2V0TnVtYmVyKFwiV0VCR0xfVkVSU0lPTlwiKTtyZXR1cm4gMD09PXQ/MDpCZSh0KX0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9ESVNKT0lOVF9RVUVSWV9USU1FUl9FWFRFTlNJT05fUkVMSUFCTEVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSGUuZ2V0TnVtYmVyKFwiV0VCR0xfRElTSk9JTlRfUVVFUllfVElNRVJfRVhURU5TSU9OX1ZFUlNJT05cIik+MCYmKHQ9bmF2aWdhdG9yLnVzZXJBZ2VudHx8bmF2aWdhdG9yLnZlbmRvcnx8d2luZG93Lm9wZXJhLCEoLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWluby9pLnRlc3QodCl8fC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLnRlc3QodC5zdWJzdHIoMCw0KSkpKTt2YXIgdH0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9SRU5ERVJfRkxPQVQzMl9DQVBBQkxFXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFdlKEhlLmdldE51bWJlcihcIldFQkdMX1ZFUlNJT05cIikpfSkpLEhlLnJlZ2lzdGVyRmxhZyhcIldFQkdMX1JFTkRFUl9GTE9BVDMyX0VOQUJMRURcIiwoZnVuY3Rpb24oKXtyZXR1cm4hSGUuZ2V0Qm9vbChcIldFQkdMX0ZPUkNFX0YxNl9URVhUVVJFU1wiKSYmSGUuZ2V0Qm9vbChcIldFQkdMX1JFTkRFUl9GTE9BVDMyX0NBUEFCTEVcIil9KSksSGUucmVnaXN0ZXJGbGFnKFwiV0VCR0xfRE9XTkxPQURfRkxPQVRfRU5BQkxFRFwiLChmdW5jdGlvbigpe3JldHVybiBVZShIZS5nZXROdW1iZXIoXCJXRUJHTF9WRVJTSU9OXCIpKX0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9GRU5DRV9BUElfRU5BQkxFRFwiLChmdW5jdGlvbigpe3JldHVybiB6ZShIZS5nZXROdW1iZXIoXCJXRUJHTF9WRVJTSU9OXCIpKX0pKSxIZS5yZWdpc3RlckZsYWcoXCJXRUJHTF9TSVpFX1VQTE9BRF9VTklGT1JNXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEhlLmdldEJvb2woXCJXRUJHTF9SRU5ERVJfRkxPQVQzMl9FTkFCTEVEXCIpPzQ6MH0pKSxidD1YZTt2YXIgRG49QW4oe2NvbXBsZXhfOmZ1bmN0aW9uKHQsZSl7dmFyIG49bW4odCxcInJlYWxcIixcImNvbXBsZXhcIikscj1tbihlLFwiaW1hZ1wiLFwiY29tcGxleFwiKTtyZXR1cm4gRShuLnNoYXBlLHIuc2hhcGUsXCJyZWFsIGFuZCBpbWFnIHNoYXBlcywgXCIrbi5zaGFwZStcIiBhbmQgXCIrci5zaGFwZStcIiwgbXVzdCBtYXRjaCBpbiBjYWxsIHRvIHRmLmNvbXBsZXgoKS5cIiksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29tcGxleChuLHIpfSkseyRyZWFsOm4sJGltYWc6cn0pfX0pLFRuPUFuKHtyZWFsXzpmdW5jdGlvbih0KXt2YXIgZT1tbih0LFwiaW5wdXRcIixcInJlYWxcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlYWwoZSl9KSx7JGlucHV0OmV9KX19KSxObj1Bbih7aW1hZ186ZnVuY3Rpb24odCl7dmFyIGU9bW4odCxcImlucHV0XCIsXCJpbWFnXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pbWFnKGUpfSkseyRpbnB1dDplfSl9fSk7ZnVuY3Rpb24gRm4odCxlLG4pe3JldHVybiBfbih0LGUscG4odCxuKSxuKX1mdW5jdGlvbiBfbih0LGUsbixyKXtpZihudWxsPT1yJiYocj1qKHQpKSxcImNvbXBsZXg2NFwiPT09cil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29uc3RydWN0IGEgY29tcGxleDY0IHRlbnNvciBkaXJlY3RseS4gUGxlYXNlIHVzZSB0Zi5jb21wbGV4KHJlYWwsIGltYWcpLlwiKTtpZighVih0KSYmIUFycmF5LmlzQXJyYXkodCkmJlwibnVtYmVyXCIhPXR5cGVvZiB0JiZcImJvb2xlYW5cIiE9dHlwZW9mIHQmJlwic3RyaW5nXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcInZhbHVlcyBwYXNzZWQgdG8gdGVuc29yKHZhbHVlcykgbXVzdCBiZSBhIG51bWJlci9ib29sZWFuL3N0cmluZyBvciBhbiBhcnJheSBvZiBudW1iZXJzL2Jvb2xlYW5zL3N0cmluZ3MsIG9yIGEgVHlwZWRBcnJheVwiKTtpZihudWxsIT1lKXtudChlKTt2YXIgbz1rKGUpLGE9ayhuKTtDKG89PT1hLChmdW5jdGlvbigpe3JldHVyblwiQmFzZWQgb24gdGhlIHByb3ZpZGVkIHNoYXBlLCBbXCIrZStcIl0sIHRoZSB0ZW5zb3Igc2hvdWxkIGhhdmUgXCIrbytcIiB2YWx1ZXMgYnV0IGhhcyBcIithfSkpO2Zvcih2YXIgcz0wO3M8bi5sZW5ndGg7KytzKXt2YXIgdT1uW3NdLGM9cyE9PW4ubGVuZ3RoLTF8fHUhPT1rKGUuc2xpY2UocykpO0MobltzXT09PWVbc118fCFjLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgY3JlYXRpbmcgYSBuZXcgVGVuc29yLiBJbmZlcnJlZCBzaGFwZSAoXCIrbitcIikgZG9lcyBub3QgbWF0Y2ggdGhlIHByb3ZpZGVkIHNoYXBlIChcIitlK1wiKS4gXCJ9KSl9fXJldHVybiBWKHQpfHxBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLGU9ZXx8bix0PVwic3RyaW5nXCIhPT1yP1EodCxyLGkoKS5nZXRCb29sKFwiREVCVUdcIikpOkkodCxbXSwhMCksTHQubWFrZVRlbnNvcih0LGUscil9ZnVuY3Rpb24gT24odCxlKXtpZigoVih0KSYmXCJzdHJpbmdcIiE9PWV8fEFycmF5LmlzQXJyYXkodCkpJiZcImNvbXBsZXg2NFwiIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBjcmVhdGluZyBhIG5ldyBTY2FsYXI6IHZhbHVlIG11c3QgYmUgYSBwcmltaXRpdmUgKG51bWJlcnxib29sZWFufHN0cmluZylcIik7aWYoXCJzdHJpbmdcIj09PWUmJlYodCkmJiEodCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKXRocm93IG5ldyBFcnJvcihcIldoZW4gbWFraW5nIGEgc2NhbGFyIGZyb20gZW5jb2RlZCBzdHJpbmcsIHRoZSB2YWx1ZSBtdXN0IGJlIGBVaW50OEFycmF5YC5cIik7cmV0dXJuIF9uKHQsW10sW10sZSl9ZnVuY3Rpb24gTW4odCxlKXtSKHQpO3ZhciBuPXBuKHQsZSk7aWYoMSE9PW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInRlbnNvcjFkKCkgcmVxdWlyZXMgdmFsdWVzIHRvIGJlIGEgZmxhdC9UeXBlZEFycmF5XCIpO3JldHVybiBfbih0LG51bGwsbixlKX1mdW5jdGlvbiBCbih0LGUsbil7aWYoUih0KSxudWxsIT1lJiYyIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwidGVuc29yMmQoKSByZXF1aXJlcyBzaGFwZSB0byBoYXZlIHR3byBudW1iZXJzXCIpO3ZhciByPXBuKHQsbik7aWYoMiE9PXIubGVuZ3RoJiYxIT09ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwidGVuc29yMmQoKSByZXF1aXJlcyB2YWx1ZXMgdG8gYmUgbnVtYmVyW11bXSBvciBmbGF0L1R5cGVkQXJyYXlcIik7aWYoMT09PXIubGVuZ3RoJiZudWxsPT1lKXRocm93IG5ldyBFcnJvcihcInRlbnNvcjJkKCkgcmVxdWlyZXMgc2hhcGUgdG8gYmUgcHJvdmlkZWQgd2hlbiBgdmFsdWVzYCBhcmUgYSBmbGF0L1R5cGVkQXJyYXlcIik7cmV0dXJuIF9uKHQsZSxyLG4pfWZ1bmN0aW9uIFBuKHQsZSxuKXtpZihSKHQpLG51bGwhPWUmJjMhPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJ0ZW5zb3IzZCgpIHJlcXVpcmVzIHNoYXBlIHRvIGhhdmUgdGhyZWUgbnVtYmVyc1wiKTt2YXIgcj1wbih0LG4pO2lmKDMhPT1yLmxlbmd0aCYmMSE9PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInRlbnNvcjNkKCkgcmVxdWlyZXMgdmFsdWVzIHRvIGJlIG51bWJlcltdW11bXSBvciBmbGF0L1R5cGVkQXJyYXlcIik7aWYoMT09PXIubGVuZ3RoJiZudWxsPT1lKXRocm93IG5ldyBFcnJvcihcInRlbnNvcjNkKCkgcmVxdWlyZXMgc2hhcGUgdG8gYmUgcHJvdmlkZWQgd2hlbiBgdmFsdWVzYCBhcmUgYSBmbGF0IGFycmF5XCIpO3JldHVybiBfbih0LGUscixuKX1mdW5jdGlvbiBMbih0LGUsbil7aWYoUih0KSxudWxsIT1lJiY0IT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwidGVuc29yNGQoKSByZXF1aXJlcyBzaGFwZSB0byBoYXZlIGZvdXIgbnVtYmVyc1wiKTt2YXIgcj1wbih0LG4pO2lmKDQhPT1yLmxlbmd0aCYmMSE9PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInRlbnNvcjRkKCkgcmVxdWlyZXMgdmFsdWVzIHRvIGJlIG51bWJlcltdW11bXVtdIG9yIGZsYXQvVHlwZWRBcnJheVwiKTtpZigxPT09ci5sZW5ndGgmJm51bGw9PWUpdGhyb3cgbmV3IEVycm9yKFwidGVuc29yNGQoKSByZXF1aXJlcyBzaGFwZSB0byBiZSBwcm92aWRlZCB3aGVuIGB2YWx1ZXNgIGFyZSBhIGZsYXQgYXJyYXlcIik7cmV0dXJuIF9uKHQsZSxyLG4pfWZ1bmN0aW9uIFduKHQsZSxuKXtpZihSKHQpLG51bGwhPWUmJjUhPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJ0ZW5zb3I1ZCgpIHJlcXVpcmVzIHNoYXBlIHRvIGhhdmUgZml2ZSBudW1iZXJzXCIpO3ZhciByPXBuKHQsbik7aWYoNSE9PXIubGVuZ3RoJiYxIT09ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwidGVuc29yNWQoKSByZXF1aXJlcyB2YWx1ZXMgdG8gYmUgbnVtYmVyW11bXVtdW11bXSBvciBmbGF0L1R5cGVkQXJyYXlcIik7aWYoMT09PXIubGVuZ3RoJiZudWxsPT1lKXRocm93IG5ldyBFcnJvcihcInRlbnNvcjVkKCkgcmVxdWlyZXMgc2hhcGUgdG8gYmUgcHJvdmlkZWQgd2hlbiBgdmFsdWVzYCBhcmUgYSBmbGF0IGFycmF5XCIpO3JldHVybiBfbih0LGUscixuKX1mdW5jdGlvbiBVbih0LGUsbil7aWYoUih0KSxudWxsIT1lJiY2IT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwidGVuc29yNmQoKSByZXF1aXJlcyBzaGFwZSB0byBoYXZlIHNpeCBudW1iZXJzXCIpO3ZhciByPXBuKHQsbik7aWYoNiE9PXIubGVuZ3RoJiYxIT09ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwidGVuc29yNmQoKSByZXF1aXJlcyB2YWx1ZXMgdG8gYmUgbnVtYmVyW11bXVtdW11bXVtdIG9yIGZsYXQvVHlwZWRBcnJheVwiKTtpZigxPT09ci5sZW5ndGgmJm51bGw9PWUpdGhyb3cgbmV3IEVycm9yKFwidGVuc29yNmQoKSByZXF1aXJlcyBzaGFwZSB0byBiZSBwcm92aWRlZCB3aGVuIGB2YWx1ZXNgIGFyZSBhIGZsYXQgYXJyYXlcIik7cmV0dXJuIF9uKHQsZT1lfHxyLHIsbil9ZnVuY3Rpb24gVm4odCxlLG4scil7cmV0dXJuIHZvaWQgMD09PWUmJihlPSEwKSxMdC5tYWtlVmFyaWFibGUodCxlLG4scil9ZnVuY3Rpb24gem4odCxlKXtpZih2b2lkIDA9PT1lJiYoZT1cImZsb2F0MzJcIiksXCJjb21wbGV4NjRcIj09PWUpe3ZhciBuPXpuKHQsXCJmbG9hdDMyXCIpLHI9R24odCxcImZsb2F0MzJcIik7cmV0dXJuIERuKG4scil9dmFyIG89WihrKHQpLGUpO3JldHVybiBMdC5tYWtlVGVuc29yKG8sdCxlKX1mdW5jdGlvbiBHbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPVwiZmxvYXQzMlwiKSxcImNvbXBsZXg2NFwiPT09ZSl7dmFyIG49R24odCxcImZsb2F0MzJcIikscj1Hbih0LFwiZmxvYXQzMlwiKTtyZXR1cm4gRG4obixyKX12YXIgbz10dChrKHQpLGUpO3JldHVybiBMdC5tYWtlVGVuc29yKG8sdCxlKX1mdW5jdGlvbiBIbih0LGUsbil7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHIpe3JldHVybiByLmZpbGwodCxlLG4pfSkse30pfWZ1bmN0aW9uIHFuKHQsZSxuKXtpZihuPD0wKXRocm93IG5ldyBFcnJvcihcIlRoZSBudW1iZXIgb2YgdmFsdWVzIHNob3VsZCBiZSBwb3NpdGl2ZS5cIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHIpe3JldHVybiByLmxpbnNwYWNlKHQsZSxuKX0pLHt9KX1mdW5jdGlvbiBLbih0LGUsbixyKXtpZih2b2lkIDA9PT1uJiYobj0xKSx2b2lkIDA9PT1yJiYocj1cImZsb2F0MzJcIiksMD09PW4pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGhhdmUgYSBzdGVwIG9mIHplcm9cIik7aWYodD09PWV8fHQ8ZSYmbjwwfHxlPHQmJm4+MSlyZXR1cm4gR24oWzBdLHIpO3ZhciBvPXR0KE1hdGguYWJzKE1hdGguY2VpbCgoZS10KS9uKSkscik7ZTx0JiYxPT09biYmKG49LTEpLG9bMF09dDtmb3IodmFyIGE9MTthPG8ubGVuZ3RoO2ErKylvW2FdPW9bYS0xXStuO3JldHVybiBNbihvLHIpfXZhciBqbj1Bbih7b25lc0xpa2VfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJvbmVzTGlrZVwiKTtpZihcImNvbXBsZXg2NFwiPT09ZS5kdHlwZSl7dmFyIG49am4oVG4oZSkpLHI9WG4oTm4oZSkpO3JldHVybiBEbihuLHIpfXJldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5vbmVzTGlrZShlKX0pLHskeDplfSwoZnVuY3Rpb24odCxlKXtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gWG4odCl9fX0pKX19KSxYbj1Bbih7emVyb3NMaWtlXzpmdW5jdGlvbih0KXt2YXIgZT1tbih0LFwieFwiLFwiemVyb3NMaWtlXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC56ZXJvc0xpa2UoZSl9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQsZSl7cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIFhuKHQpfX19KSl9fSk7dmFyIFluPUFuKHtjb25jYXRfOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MCksQyh0Lmxlbmd0aD49MSwoZnVuY3Rpb24oKXtyZXR1cm5cIlBhc3MgYXQgbGVhc3Qgb25lIHRlbnNvciB0byBjb25jYXRcIn0pKTt2YXIgbj1nbih0LFwidGVuc29yc1wiLFwiY29uY2F0XCIpO1wiY29tcGxleDY0XCI9PT1uWzBdLmR0eXBlJiZuLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKFwiY29tcGxleDY0XCIhPT10LmR0eXBlKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb25jYXRlbmF0ZSBjb21wbGV4NjQgdGVuc29ycyB3aXRoIGEgdGVuc29yXFxuICAgICAgICAgIHdpdGggZHR5cGUgXCIrdC5kdHlwZStcIi4gXCIpfSkpLGU9TyhlLG5bMF0uc2hhcGUpWzBdO3ZhciByPVNuKG4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaGFwZX0pKSxlKTtpZigwPT09ayhyKSlyZXR1cm4gRm4oW10scik7aWYoMT09PShuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaXplPjB9KSkpLmxlbmd0aClyZXR1cm4gblswXTt2YXIgbz1uLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2hhcGV9KSk7a24obyxlKTt2YXIgYT1uLGk9e2F4aXM6ZX07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbmNhdChuLGUpfSksYSwoZnVuY3Rpb24odCl7dmFyIG49by5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0W2VdfSkpO3JldHVybiB0cih0LG4sZSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19KSl9KSxcIkNvbmNhdFwiLGkpfX0pLCRuPUFuKHtjb25jYXQxZF86ZnVuY3Rpb24odCl7cmV0dXJuIFluKHQsMCl9fSksUW49QW4oe2NvbmNhdDJkXzpmdW5jdGlvbih0LGUpe3JldHVybiBZbih0LGUpfX0pLEpuPUFuKHtjb25jYXQzZF86ZnVuY3Rpb24odCxlKXtyZXR1cm4gWW4odCxlKX19KSxabj1Bbih7Y29uY2F0NGRfOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFluKHQsZSl9fSksdHI9QW4oe3NwbGl0XzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49MCk7dmFyIHIsbz1tbih0LFwieFwiLFwic3BsaXRcIik7cmV0dXJuIG49TyhuLG8uc2hhcGUpWzBdLFwibnVtYmVyXCI9PXR5cGVvZiBlPyhDKG8uc2hhcGVbbl0lZT09MCwoZnVuY3Rpb24oKXtyZXR1cm5cIk51bWJlciBvZiBzcGxpdHMgbXVzdCBldmVubHkgZGl2aWRlIHRoZSBheGlzLlwifSkpLHI9bmV3IEFycmF5KGUpLmZpbGwoby5zaGFwZVtuXS9lKSk6KEMoby5zaGFwZVtuXT09PWUucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0K2V9KSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgc3VtIG9mIHNpemVzIG11c3QgbWF0Y2ggdGhlIHNpemUgb2YgdGhlIGF4aXMgZGltZW5zaW9uLlwifSkpLHI9ZSksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3BsaXQobyxyLG4pfSkseyR4Om99LChmdW5jdGlvbih0KXtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gWW4odCxuKX19fSkpfX0pO1widW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGY7ZnVuY3Rpb24gZXIodCxlKXtyZXR1cm4gdChlPXtleHBvcnRzOnt9fSxlLmV4cG9ydHMpLGUuZXhwb3J0c312YXIgbnI9ZXIoKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXt2YXIgZSxuPXRoaXMscj0oZT00MDIyODcxMTk3LGZ1bmN0aW9uKHQpe3Q9dC50b1N0cmluZygpO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj0uMDI1MTk2MDMyODI0MTY5MzgqKGUrPXQuY2hhckNvZGVBdChuKSk7ci09ZT1yPj4+MCxlPShyKj1lKT4+PjAsZSs9NDI5NDk2NzI5Niooci09ZSl9cmV0dXJuIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTAqKGU+Pj4wKX0pO24ubmV4dD1mdW5jdGlvbigpe3ZhciB0PTIwOTE2Mzkqbi5zMCsyLjMyODMwNjQzNjUzODY5NjNlLTEwKm4uYztyZXR1cm4gbi5zMD1uLnMxLG4uczE9bi5zMixuLnMyPXQtKG4uYz0wfHQpfSxuLmM9MSxuLnMwPXIoXCIgXCIpLG4uczE9cihcIiBcIiksbi5zMj1yKFwiIFwiKSxuLnMwLT1yKHQpLG4uczA8MCYmKG4uczArPTEpLG4uczEtPXIodCksbi5zMTwwJiYobi5zMSs9MSksbi5zMi09cih0KSxuLnMyPDAmJihuLnMyKz0xKSxyPW51bGx9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiBlLmM9dC5jLGUuczA9dC5zMCxlLnMxPXQuczEsZS5zMj10LnMyLGV9ZnVuY3Rpb24gYSh0LGUpe3ZhciBuPW5ldyByKHQpLGE9ZSYmZS5zdGF0ZSxpPW4ubmV4dDtyZXR1cm4gaS5pbnQzMj1mdW5jdGlvbigpe3JldHVybiA0Mjk0OTY3Mjk2Km4ubmV4dCgpfDB9LGkuZG91YmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGkoKSsxMTEwMjIzMDI0NjI1MTU2NWUtMzIqKDIwOTcxNTIqaSgpfDApfSxpLnF1aWNrPWksYSYmKFwib2JqZWN0XCI9PXR5cGVvZiBhJiZvKGEsbiksaS5zdGF0ZT1mdW5jdGlvbigpe3JldHVybiBvKG4se30pfSksaX1lJiZlLmV4cG9ydHM/ZS5leHBvcnRzPWE6biYmbi5hbWQ/bigoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTp0aGlzLmFsZWE9YX0oMCx0LCExKX0pKSxycj1lcigoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3ZhciBlPXRoaXMsbj1cIlwiO2UueD0wLGUueT0wLGUuej0wLGUudz0wLGUubmV4dD1mdW5jdGlvbigpe3ZhciB0PWUueF5lLng8PDExO3JldHVybiBlLng9ZS55LGUueT1lLnosZS56PWUudyxlLndePWUudz4+PjE5XnRedD4+Pjh9LHQ9PT0oMHx0KT9lLng9dDpuKz10O2Zvcih2YXIgcj0wO3I8bi5sZW5ndGgrNjQ7cisrKWUueF49MHxuLmNoYXJDb2RlQXQociksZS5uZXh0KCl9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiBlLng9dC54LGUueT10LnksZS56PXQueixlLnc9dC53LGV9ZnVuY3Rpb24gYSh0LGUpe3ZhciBuPW5ldyByKHQpLGE9ZSYmZS5zdGF0ZSxpPWZ1bmN0aW9uKCl7cmV0dXJuKG4ubmV4dCgpPj4+MCkvNDI5NDk2NzI5Nn07cmV0dXJuIGkuZG91YmxlPWZ1bmN0aW9uKCl7ZG97dmFyIHQ9KChuLm5leHQoKT4+PjExKSsobi5uZXh0KCk+Pj4wKS80Mjk0OTY3Mjk2KS8oMTw8MjEpfXdoaWxlKDA9PT10KTtyZXR1cm4gdH0saS5pbnQzMj1uLm5leHQsaS5xdWljaz1pLGEmJihcIm9iamVjdFwiPT10eXBlb2YgYSYmbyhhLG4pLGkuc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbyhuLHt9KX0pLGl9ZSYmZS5leHBvcnRzP2UuZXhwb3J0cz1hOm4mJm4uYW1kP24oKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk6dGhpcy54b3IxMjg9YX0oMCx0LCExKX0pKSxvcj1lcigoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3ZhciBlPXRoaXMsbj1cIlwiO2UubmV4dD1mdW5jdGlvbigpe3ZhciB0PWUueF5lLng+Pj4yO3JldHVybiBlLng9ZS55LGUueT1lLnosZS56PWUudyxlLnc9ZS52LChlLmQ9ZS5kKzM2MjQzN3wwKSsoZS52PWUudl5lLnY8PDRedF50PDwxKXwwfSxlLng9MCxlLnk9MCxlLno9MCxlLnc9MCxlLnY9MCx0PT09KDB8dCk/ZS54PXQ6bis9dDtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoKzY0O3IrKyllLnhePTB8bi5jaGFyQ29kZUF0KHIpLHI9PW4ubGVuZ3RoJiYoZS5kPWUueDw8MTBeZS54Pj4+NCksZS5uZXh0KCl9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiBlLng9dC54LGUueT10LnksZS56PXQueixlLnc9dC53LGUudj10LnYsZS5kPXQuZCxlfWZ1bmN0aW9uIGEodCxlKXt2YXIgbj1uZXcgcih0KSxhPWUmJmUuc3RhdGUsaT1mdW5jdGlvbigpe3JldHVybihuLm5leHQoKT4+PjApLzQyOTQ5NjcyOTZ9O3JldHVybiBpLmRvdWJsZT1mdW5jdGlvbigpe2Rve3ZhciB0PSgobi5uZXh0KCk+Pj4xMSkrKG4ubmV4dCgpPj4+MCkvNDI5NDk2NzI5NikvKDE8PDIxKX13aGlsZSgwPT09dCk7cmV0dXJuIHR9LGkuaW50MzI9bi5uZXh0LGkucXVpY2s9aSxhJiYoXCJvYmplY3RcIj09dHlwZW9mIGEmJm8oYSxuKSxpLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG8obix7fSl9KSxpfWUmJmUuZXhwb3J0cz9lLmV4cG9ydHM9YTpuJiZuLmFtZD9uKChmdW5jdGlvbigpe3JldHVybiBhfSkpOnRoaXMueG9yd293PWF9KDAsdCwhMSl9KSksYXI9ZXIoKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXt2YXIgZT10aGlzO2UubmV4dD1mdW5jdGlvbigpe3ZhciB0LG4scj1lLngsbz1lLmk7cmV0dXJuIHQ9cltvXSxuPSh0Xj10Pj4+NyledDw8MjQsbl49KHQ9cltvKzEmN10pXnQ+Pj4xMCxuXj0odD1yW28rMyY3XSledD4+PjMsbl49KHQ9cltvKzQmN10pXnQ8PDcsdD1yW28rNyY3XSxuXj0odF49dDw8MTMpXnQ8PDkscltvXT1uLGUuaT1vKzEmNyxufSxmdW5jdGlvbih0LGUpe3ZhciBuLHI9W107aWYoZT09PSgwfGUpKXJbMF09ZTtlbHNlIGZvcihlPVwiXCIrZSxuPTA7bjxlLmxlbmd0aDsrK24pcls3Jm5dPXJbNyZuXTw8MTVeZS5jaGFyQ29kZUF0KG4pK3JbbisxJjddPDwxMztmb3IoO3IubGVuZ3RoPDg7KXIucHVzaCgwKTtmb3Iobj0wO248OCYmMD09PXJbbl07KytuKTtmb3IoOD09bj9yWzddPS0xOnJbbl0sdC54PXIsdC5pPTAsbj0yNTY7bj4wOy0tbil0Lm5leHQoKX0oZSx0KX1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIGUueD10Lnguc2xpY2UoKSxlLmk9dC5pLGV9ZnVuY3Rpb24gYSh0LGUpe251bGw9PXQmJih0PStuZXcgRGF0ZSk7dmFyIG49bmV3IHIodCksYT1lJiZlLnN0YXRlLGk9ZnVuY3Rpb24oKXtyZXR1cm4obi5uZXh0KCk+Pj4wKS80Mjk0OTY3Mjk2fTtyZXR1cm4gaS5kb3VibGU9ZnVuY3Rpb24oKXtkb3t2YXIgdD0oKG4ubmV4dCgpPj4+MTEpKyhuLm5leHQoKT4+PjApLzQyOTQ5NjcyOTYpLygxPDwyMSl9d2hpbGUoMD09PXQpO3JldHVybiB0fSxpLmludDMyPW4ubmV4dCxpLnF1aWNrPWksYSYmKGEueCYmbyhhLG4pLGkuc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbyhuLHt9KX0pLGl9ZSYmZS5leHBvcnRzP2UuZXhwb3J0cz1hOm4mJm4uYW1kP24oKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk6dGhpcy54b3JzaGlmdDc9YX0oMCx0LCExKX0pKSxpcj1lcigoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3ZhciBlPXRoaXM7ZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIHQsbixyPWUudyxvPWUuWCxhPWUuaTtyZXR1cm4gZS53PXI9cisxNjQwNTMxNTI3fDAsbj1vW2ErMzQmMTI3XSx0PW9bYT1hKzEmMTI3XSxuXj1uPDwxMyx0Xj10PDwxNyxuXj1uPj4+MTUsdF49dD4+PjEyLG49b1thXT1uXnQsZS5pPWEsbisocl5yPj4+MTYpfDB9LGZ1bmN0aW9uKHQsZSl7dmFyIG4scixvLGEsaSxzPVtdLHU9MTI4O2ZvcihlPT09KDB8ZSk/KHI9ZSxlPW51bGwpOihlKz1cIlxcMFwiLHI9MCx1PU1hdGgubWF4KHUsZS5sZW5ndGgpKSxvPTAsYT0tMzI7YTx1OysrYSllJiYocl49ZS5jaGFyQ29kZUF0KChhKzMyKSVlLmxlbmd0aCkpLDA9PT1hJiYoaT1yKSxyXj1yPDwxMCxyXj1yPj4+MTUscl49cjw8NCxyXj1yPj4+MTMsYT49MCYmKGk9aSsxNjQwNTMxNTI3fDAsbz0wPT0obj1zWzEyNyZhXV49citpKT9vKzE6MCk7Zm9yKG8+PTEyOCYmKHNbMTI3JihlJiZlLmxlbmd0aHx8MCldPS0xKSxvPTEyNyxhPTUxMjthPjA7LS1hKXI9c1tvKzM0JjEyN10sbj1zW289bysxJjEyN10scl49cjw8MTMsbl49bjw8MTcscl49cj4+PjE1LG5ePW4+Pj4xMixzW29dPXJebjt0Lnc9aSx0Llg9cyx0Lmk9b30oZSx0KX1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIGUuaT10LmksZS53PXQudyxlLlg9dC5YLnNsaWNlKCksZX1mdW5jdGlvbiBhKHQsZSl7bnVsbD09dCYmKHQ9K25ldyBEYXRlKTt2YXIgbj1uZXcgcih0KSxhPWUmJmUuc3RhdGUsaT1mdW5jdGlvbigpe3JldHVybihuLm5leHQoKT4+PjApLzQyOTQ5NjcyOTZ9O3JldHVybiBpLmRvdWJsZT1mdW5jdGlvbigpe2Rve3ZhciB0PSgobi5uZXh0KCk+Pj4xMSkrKG4ubmV4dCgpPj4+MCkvNDI5NDk2NzI5NikvKDE8PDIxKX13aGlsZSgwPT09dCk7cmV0dXJuIHR9LGkuaW50MzI9bi5uZXh0LGkucXVpY2s9aSxhJiYoYS5YJiZvKGEsbiksaS5zdGF0ZT1mdW5jdGlvbigpe3JldHVybiBvKG4se30pfSksaX1lJiZlLmV4cG9ydHM/ZS5leHBvcnRzPWE6biYmbi5hbWQ/bigoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTp0aGlzLnhvcjQwOTY9YX0oMCx0LCExKX0pKSxzcj1lcigoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3ZhciBlPXRoaXMsbj1cIlwiO2UubmV4dD1mdW5jdGlvbigpe3ZhciB0PWUuYixuPWUuYyxyPWUuZCxvPWUuYTtyZXR1cm4gdD10PDwyNV50Pj4+N15uLG49bi1yfDAscj1yPDwyNF5yPj4+OF5vLG89by10fDAsZS5iPXQ9dDw8MjBedD4+PjEyXm4sZS5jPW49bi1yfDAsZS5kPXI8PDE2Xm4+Pj4xNl5vLGUuYT1vLXR8MH0sZS5hPTAsZS5iPTAsZS5jPS0xNjQwNTMxNTI3LGUuZD0xMzY3MTMwNTUxLHQ9PT1NYXRoLmZsb29yKHQpPyhlLmE9dC80Mjk0OTY3Mjk2fDAsZS5iPTB8dCk6bis9dDtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoKzIwO3IrKyllLmJePTB8bi5jaGFyQ29kZUF0KHIpLGUubmV4dCgpfWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gZS5hPXQuYSxlLmI9dC5iLGUuYz10LmMsZS5kPXQuZCxlfWZ1bmN0aW9uIGEodCxlKXt2YXIgbj1uZXcgcih0KSxhPWUmJmUuc3RhdGUsaT1mdW5jdGlvbigpe3JldHVybihuLm5leHQoKT4+PjApLzQyOTQ5NjcyOTZ9O3JldHVybiBpLmRvdWJsZT1mdW5jdGlvbigpe2Rve3ZhciB0PSgobi5uZXh0KCk+Pj4xMSkrKG4ubmV4dCgpPj4+MCkvNDI5NDk2NzI5NikvKDE8PDIxKX13aGlsZSgwPT09dCk7cmV0dXJuIHR9LGkuaW50MzI9bi5uZXh0LGkucXVpY2s9aSxhJiYoXCJvYmplY3RcIj09dHlwZW9mIGEmJm8oYSxuKSxpLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG8obix7fSl9KSxpfWUmJmUuZXhwb3J0cz9lLmV4cG9ydHM9YTpuJiZuLmFtZD9uKChmdW5jdGlvbigpe3JldHVybiBhfSkpOnRoaXMudHljaGVpPWF9KDAsdCwhMSl9KSksdXI9ZXIoKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbihlLG4pe3ZhciByLG89dGhpcyxhPTI1NixpPTYscz1cInJhbmRvbVwiLHU9bi5wb3coYSxpKSxjPW4ucG93KDIsNTIpLGw9MipjLGg9YS0xO2Z1bmN0aW9uIGYodCxoLGYpe3ZhciBnPVtdLHk9dihmdW5jdGlvbiB0KGUsbil7dmFyIHIsbz1bXSxhPXR5cGVvZiBlO2lmKG4mJlwib2JqZWN0XCI9PWEpZm9yKHIgaW4gZSl0cnl7by5wdXNoKHQoZVtyXSxuLTEpKX1jYXRjaCh0KXt9cmV0dXJuIG8ubGVuZ3RoP286XCJzdHJpbmdcIj09YT9lOmUrXCJcXDBcIn0oKGg9MT09aD97ZW50cm9weTohMH06aHx8e30pLmVudHJvcHk/W3QsbShlKV06bnVsbD09dD9mdW5jdGlvbigpe3RyeXt2YXIgdDtyZXR1cm4gciYmKHQ9ci5yYW5kb21CeXRlcyk/dD10KGEpOih0PW5ldyBVaW50OEFycmF5KGEpLChvLmNyeXB0b3x8by5tc0NyeXB0bykuZ2V0UmFuZG9tVmFsdWVzKHQpKSxtKHQpfWNhdGNoKHQpe3ZhciBuPW8ubmF2aWdhdG9yLGk9biYmbi5wbHVnaW5zO3JldHVyblsrbmV3IERhdGUsbyxpLG8uc2NyZWVuLG0oZSldfX0oKTp0LDMpLGcpLHg9bmV3IGQoZyksYj1mdW5jdGlvbigpe2Zvcih2YXIgdD14LmcoaSksZT11LG49MDt0PGM7KXQ9KHQrbikqYSxlKj1hLG49eC5nKDEpO2Zvcig7dD49bDspdC89MixlLz0yLG4+Pj49MTtyZXR1cm4odCtuKS9lfTtyZXR1cm4gYi5pbnQzMj1mdW5jdGlvbigpe3JldHVybiAwfHguZyg0KX0sYi5xdWljaz1mdW5jdGlvbigpe3JldHVybiB4LmcoNCkvNDI5NDk2NzI5Nn0sYi5kb3VibGU9Yix2KG0oeC5TKSxlKSwoaC5wYXNzfHxmfHxmdW5jdGlvbih0LGUscixvKXtyZXR1cm4gbyYmKG8uUyYmcChvLHgpLHQuc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gcCh4LHt9KX0pLHI/KG5bc109dCxlKTp0fSkoYix5LFwiZ2xvYmFsXCJpbiBoP2guZ2xvYmFsOnRoaXM9PW4saC5zdGF0ZSl9ZnVuY3Rpb24gZCh0KXt2YXIgZSxuPXQubGVuZ3RoLHI9dGhpcyxvPTAsaT1yLmk9ci5qPTAscz1yLlM9W107Zm9yKG58fCh0PVtuKytdKTtvPGE7KXNbb109bysrO2ZvcihvPTA7bzxhO28rKylzW29dPXNbaT1oJmkrdFtvJW5dKyhlPXNbb10pXSxzW2ldPWU7KHIuZz1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj0wLG89ci5pLGk9ci5qLHM9ci5TO3QtLTspZT1zW289aCZvKzFdLG49biphK3NbaCYoc1tvXT1zW2k9aCZpK2VdKSsoc1tpXT1lKV07cmV0dXJuIHIuaT1vLHIuaj1pLG59KShhKX1mdW5jdGlvbiBwKHQsZSl7cmV0dXJuIGUuaT10LmksZS5qPXQuaixlLlM9dC5TLnNsaWNlKCksZX1mdW5jdGlvbiB2KHQsZSl7Zm9yKHZhciBuLHI9dCtcIlwiLG89MDtvPHIubGVuZ3RoOyllW2gmb109aCYobl49MTkqZVtoJm9dKStyLmNoYXJDb2RlQXQobysrKTtyZXR1cm4gbShlKX1mdW5jdGlvbiBtKHQpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KDAsdCl9aWYobltcInNlZWRcIitzXT1mLHYobi5yYW5kb20oKSxlKSx0LmV4cG9ydHMpe3QuZXhwb3J0cz1mO3RyeXtyPXJlcXVpcmUoXCJjcnlwdG9cIil9Y2F0Y2godCl7fX19KFtdLE1hdGgpfSkpO3VyLmFsZWE9bnIsdXIueG9yMTI4PXJyLHVyLnhvcndvdz1vcix1ci54b3JzaGlmdDc9YXIsdXIueG9yNDA5Nj1pcix1ci50eWNoZWk9c3I7dmFyIGNyPXVyLmFsZWEsbHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsbyl7dGhpcy5tZWFuPXQsdGhpcy5zdGREZXY9ZSx0aGlzLmR0eXBlPW4sdGhpcy5uZXh0VmFsPU5hTix0aGlzLnRydW5jYXRlZD1yLHRoaXMudHJ1bmNhdGVkJiYodGhpcy51cHBlcj10aGlzLm1lYW4rMip0aGlzLnN0ZERldix0aGlzLmxvd2VyPXRoaXMubWVhbi0yKnRoaXMuc3RkRGV2KTt2YXIgYT1vfHxNYXRoLnJhbmRvbSgpO3RoaXMucmFuZG9tPWNyKGEudG9TdHJpbmcoKSl9cmV0dXJuIHQucHJvdG90eXBlLm5leHRWYWx1ZT1mdW5jdGlvbigpe2lmKCFpc05hTih0aGlzLm5leHRWYWwpKXt2YXIgdD10aGlzLm5leHRWYWw7cmV0dXJuIHRoaXMubmV4dFZhbD1OYU4sdH1mb3IodmFyIGUsbixyPSExOyFyOyl7dmFyIG89dm9pZCAwLGE9dm9pZCAwLGk9dm9pZCAwO2Rve2k9KG89Mip0aGlzLnJhbmRvbSgpLTEpKm8rKGE9Mip0aGlzLnJhbmRvbSgpLTEpKmF9d2hpbGUoaT49MXx8MD09PWkpO3ZhciBzPU1hdGguc3FydCgtMipNYXRoLmxvZyhpKS9pKTtlPXRoaXMubWVhbit0aGlzLnN0ZERldipvKnMsbj10aGlzLm1lYW4rdGhpcy5zdGREZXYqYSpzLHRoaXMudHJ1bmNhdGVkJiYhdGhpcy5pc1ZhbGlkVHJ1bmNhdGVkKGUpfHwocj0hMCl9cmV0dXJuIHRoaXMudHJ1bmNhdGVkJiYhdGhpcy5pc1ZhbGlkVHJ1bmNhdGVkKG4pfHwodGhpcy5uZXh0VmFsPXRoaXMuY29udmVydFZhbHVlKG4pKSx0aGlzLmNvbnZlcnRWYWx1ZShlKX0sdC5wcm90b3R5cGUuY29udmVydFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10aGlzLmR0eXBlfHxcImZsb2F0MzJcIj09PXRoaXMuZHR5cGU/dDpNYXRoLnJvdW5kKHQpfSx0LnByb3RvdHlwZS5pc1ZhbGlkVHJ1bmNhdGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0PD10aGlzLnVwcGVyJiZ0Pj10aGlzLmxvd2VyfSx0fSgpLGhyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLmFscGhhPXQsdGhpcy5iZXRhPTEvZSx0aGlzLmR0eXBlPW47dmFyIG89cnx8TWF0aC5yYW5kb20oKTt0aGlzLnJhbmR1PWNyKG8udG9TdHJpbmcoKSksdGhpcy5yYW5kbj1uZXcgbHIoMCwxLG4sITEsdGhpcy5yYW5kdSgpKSx0aGlzLmQ9dDwxP3QrMi8zOnQtMS8zLHRoaXMuYz0xL01hdGguc3FydCg5KnRoaXMuZCl9cmV0dXJuIHQucHJvdG90eXBlLm5leHRWYWx1ZT1mdW5jdGlvbigpe2Zvcih2YXIgdCxlLG4scixvLGE7Oyl7ZG97cj10aGlzLnJhbmRuLm5leHRWYWx1ZSgpLGE9MSt0aGlzLmMqcn13aGlsZShhPD0wKTtpZihhKj1hKmEsZT0xLS4zMzEqKHQ9cipyKSp0LG49LjUqdCt0aGlzLmQqKDEtYStNYXRoLmxvZyhhKSksKG89dGhpcy5yYW5kdSgpKTxlfHxNYXRoLmxvZyhvKTxuKWJyZWFrfXJldHVybiBhPTEvdGhpcy5iZXRhKnRoaXMuZCphLHRoaXMuYWxwaGE8MSYmKGEqPU1hdGgucG93KHRoaXMucmFuZHUoKSwxL3RoaXMuYWxwaGEpKSx0aGlzLmNvbnZlcnRWYWx1ZShhKX0sdC5wcm90b3R5cGUuY29udmVydFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVyblwiZmxvYXQzMlwiPT09dGhpcy5kdHlwZT90Ok1hdGgucm91bmQodCl9LHR9KCksZnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3ZhciBvPXRoaXM7aWYodm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5jYW5SZXR1cm5GbG9hdD1mdW5jdGlvbigpe3JldHVybiBudWxsPT1vLmR0eXBlfHxcImZsb2F0MzJcIj09PW8uZHR5cGV9LHRoaXMubWluPXQsdGhpcy5yYW5nZT1lLXQsdGhpcy5kdHlwZT1uLG51bGw9PXImJihyPU1hdGgucmFuZG9tKCkpLFwibnVtYmVyXCI9PXR5cGVvZiByJiYocj1yLnRvU3RyaW5nKCkpLCF0aGlzLmNhblJldHVybkZsb2F0KCkmJnRoaXMucmFuZ2U8PTEpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBcIit0K1wiIC0gXCIrZStcIiA8PSAxIGFuZCBkdHlwZSBpcyBub3QgZmxvYXRcIik7dGhpcy5yYW5kb209Y3Iocil9cmV0dXJuIHQucHJvdG90eXBlLmNvbnZlcnRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jYW5SZXR1cm5GbG9hdCgpP3Q6TWF0aC5yb3VuZCh0KX0sdC5wcm90b3R5cGUubmV4dFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udmVydFZhbHVlKHRoaXMubWluK3RoaXMucmFuZ2UqdGhpcy5yYW5kb20oKSl9LHR9KCk7ZnVuY3Rpb24gZHIodCxlLG4pe3JldHVybiB2b2lkIDA9PT1lJiYoZT1cImZsb2F0MzJcIiksZT1lfHxcImZsb2F0MzJcIixudCh0KSxuZXcgZ3QodCxlLG4pfWZ1bmN0aW9uIHByKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITEpLGNvbnNvbGUubG9nKHQudG9TdHJpbmcoZSkpfXZhciB2cj1Bbih7YmF0Y2hUb1NwYWNlTkRfOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1tbih0LFwieFwiLFwiYmF0Y2hUb1NwYWNlTkRcIiksbz1lLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCplfSkpO3JldHVybiBDKHIucmFuaz49MStlLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cImlucHV0IHJhbmsgaXMgXCIrci5yYW5rK1wiIGJ1dCBzaG91bGQgYmUgPiB0aGFuIGJsb2NrU2hhcGUubGVuZ3RoIFwiK2UubGVuZ3RofSkpLEMobi5sZW5ndGg9PT1lLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cImNyb3BzLmxlbmd0aCBpcyBcIituLmxlbmd0aCtcIiBidXQgc2hvdWxkIGJlIGVxdWFsIHRvIGJsb2NrU2hhcGUubGVuZ3RoICBcIitlLmxlbmd0aH0pKSxDKHIuc2hhcGVbMF0lbz09MCwoZnVuY3Rpb24oKXtyZXR1cm5cImlucHV0IHRlbnNvciBiYXRjaCBpcyBcIityLnNoYXBlWzBdK1wiIGJ1dCBpcyBub3QgZGl2aXNpYmxlIGJ5IHRoZSBwcm9kdWN0IG9mIHRoZSBlbGVtZW50cyBvZiBibG9ja1NoYXBlIFwiK2Uuam9pbihcIiAqIFwiKStcIiA9PT0gXCIrb30pKSxMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5iYXRjaFRvU3BhY2VORChyLGUsbil9KSx7JHg6cn0sKGZ1bmN0aW9uKHQpe3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiB0LnNwYWNlVG9CYXRjaE5EKGUsbil9fX0pKX19KSxtcj1Bbih7YnJvYWRjYXN0VG9fOmZ1bmN0aW9uKHQsZSl7dmFyIG49bW4odCxcImJyb2FkY2FzdFRvXCIsXCJ4XCIpLHI9bi5zaGFwZTtpZihlLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiEodD4wKXx8dCUxIT0wfSkpKXRocm93IG5ldyBFcnJvcihcImJyb2FkY2FzdFRvKCk6IEludmFsaWQgYnJvYWRjYXN0IHNoYXBlIFtcIitlK1wiXS5cIik7aWYoZS5sZW5ndGg8bi5yYW5rKXRocm93IG5ldyBFcnJvcihcImJyb2FkY2FzdFRvKCk6IHNoYXBlLmxlbmd0aD1cIitlLmxlbmd0aCtcIiA8IGlucHV0LnJhbms9XCIrbi5yYW5rK1wiLlwiKTtpZihlLmxlbmd0aD5uLnJhbmspe2Zvcih2YXIgbz1uLnNoYXBlLnNsaWNlKCk7by5sZW5ndGg8ZS5sZW5ndGg7KW8udW5zaGlmdCgxKTtuPW4ucmVzaGFwZShvKX1mb3IodmFyIGE9QXJyYXkuZnJvbShlKSxpPWUubGVuZ3RoLTE7aT49MDtpLS0paWYobi5zaGFwZVtpXT09PWVbaV0pYVtpXT0xO2Vsc2UgaWYoMSE9PW4uc2hhcGVbaV0pdGhyb3cgbmV3IEVycm9yKFwiYnJvYWRjYXN0VG8oKTogW1wiK3IrXCJdIGNhbm5vdCBiZSBicm9hZGNhc3QgdG8gW1wiK2UrXCJdLlwiKTt2YXIgcz1hLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4xP2U6LTF9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdD49MH0pKTtyZXR1cm4gMD09PXMubGVuZ3RoP24uY2xvbmUoKTpMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC50aWxlKG4sYSl9KSx7aW5wdXQ6bn0sKGZ1bmN0aW9uKHQpe3JldHVybntpbnB1dDpmdW5jdGlvbigpe3JldHVybiB0LnN1bShzLCEwKX19fSkpfX0pLGdyPUFuKHtjYXN0XzpmdW5jdGlvbih0LGUpe3ZhciBuPW1uKHQsXCJ4XCIsXCJjYXN0XCIpO2lmKCFXKGUpKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBjYXN0IHRvIHVua25vd24gZHR5cGUgXCIrZSk7aWYoXCJzdHJpbmdcIj09PWUmJlwic3RyaW5nXCIhPT1uLmR0eXBlfHxcInN0cmluZ1wiIT09ZSYmXCJzdHJpbmdcIj09PW4uZHR5cGUpdGhyb3cgbmV3IEVycm9yKFwiT25seSBzdHJpbmdzIGNhbiBiZSBjYXN0ZWQgdG8gc3RyaW5nc1wiKTt2YXIgcj17ZHR5cGU6ZX07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNhc3QobixlKX0pLHt4Om59LChmdW5jdGlvbih0KXtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiB0LmNsb25lKCl9fX0pLFwiQ2FzdFwiLHIpfX0pLHlyPUFuKHtjbG9uZV86ZnVuY3Rpb24odCl7dmFyIGU9bW4odCxcInhcIixcImNsb25lXCIsbnVsbCk7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKCl7cmV0dXJuIEx0Lm1ha2VUZW5zb3JGcm9tRGF0YUlkKGUuZGF0YUlkLGUuc2hhcGUsZS5kdHlwZSl9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQpe3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiB0LnRvRmxvYXQoKX19fSkpfX0pLHhyPUFuKHtjdW1zdW1fOmZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PW4mJihuPSExKSx2b2lkIDA9PT1yJiYocj0hMSk7dmFyIG89bW4odCxcInhcIixcImN1bXN1bVwiKSxhPUVuKFtlfD0wXSxvLnJhbmspLGk9bztudWxsIT1hJiYoaT1vLnRyYW5zcG9zZShhKSk7dmFyIHM9SW4oMSxvLnJhbmspWzBdLHU9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuY3Vtc3VtKGkscyxuLHIpfSkse3Blcm11dGVkWDppfSwoZnVuY3Rpb24odCl7cmV0dXJue3Blcm11dGVkWDpmdW5jdGlvbigpe3JldHVybiB0LmN1bXN1bShlLG4sIXIpfX19KSk7cmV0dXJuIG51bGwhPWEmJih1PXUudHJhbnNwb3NlKGEpKSx1fX0pLGJyPUFuKHtkZXB0aFRvU3BhY2VfOmZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1cIk5IV0NcIik7dmFyIHI9bW4odCxcInhcIixcImRlcHRoVG9TcGFjZVwiKSxvPVwiTkhXQ1wiPT09bj9yLnNoYXBlWzFdOnIuc2hhcGVbMl0sYT1cIk5IV0NcIj09PW4/ci5zaGFwZVsyXTpyLnNoYXBlWzNdLGk9XCJOSFdDXCI9PT1uP3Iuc2hhcGVbM106ci5zaGFwZVsxXTtyZXR1cm4gQyhvKmU+PTAsKGZ1bmN0aW9uKCl7cmV0dXJuXCJOZWdhdGl2ZSBkaW1lbnNpb24gc2l6ZSBjYXVzZWQgYnkgb3ZlcmZsb3cgd2hlbiBtdWx0aXBseWluZ1xcbiAgICAgIFwiK28rXCIgYW5kIFwiK2UrXCIgIGZvciBkZXB0aFRvU3BhY2Ugd2l0aCBpbnB1dCBzaGFwZVxcbiAgICAgIFwiK3Iuc2hhcGV9KSksQyhhKmU+PTAsKGZ1bmN0aW9uKCl7cmV0dXJuXCJOZWdhdGl2ZSBkaW1lbnNpb24gc2l6ZSBjYXVzZWQgYnkgb3ZlcmZsb3cgd2hlbiBtdWx0aXBseWluZ1xcbiAgICAgIFwiK2ErXCIgYW5kIFwiK2UrXCIgZm9yIGRlcHRoVG9TcGFjZSB3aXRoIGlucHV0IHNoYXBlXFxuICAgICAgICAgIFwiK3Iuc2hhcGV9KSksQyhpJShlKmUpPT0wLChmdW5jdGlvbigpe3JldHVyblwiRGltZW5zaW9uIHNpemUgbXVzdCBiZSBldmVubHkgZGl2aXNpYmxlIGJ5IFwiK2UqZStcIiBidXQgaXMgXCIraStcIiBmb3IgZGVwdGhUb1NwYWNlIHdpdGggaW5wdXQgc2hhcGUgXCIrci5zaGFwZX0pKSxMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kZXB0aFRvU3BhY2UocixlLG4pfSkseyR4OnJ9KX19KSx3cj1Bbih7ZXhwYW5kRGltc186ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKTt2YXIgbj1tbih0LFwieFwiLFwiZXhwYW5kRGltc1wiLG51bGwpO0MoZTw9bi5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiQXhpcyBtdXN0IGJlIDw9IHJhbmsgb2YgdGhlIHRlbnNvclwifSkpO3ZhciByPW4uc2hhcGUuc2xpY2UoKTtyZXR1cm4gZTwwJiYoQygtKG4ucmFuaysxKTw9ZSwoZnVuY3Rpb24oKXtyZXR1cm5cIkF4aXMgbXVzdCBiZSBpbiB0aGUgaW50ZXJ2YWwgW1wiKy0obi5yYW5rKzEpK1wiLCBcIituLnJhbmsrXCJdXCJ9KSksZT1uLnJhbmsrZSsxKSxyLnNwbGljZShlLDAsMSksT3IobixyKX19KSxDcj1Bbih7ZXllXzpmdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1yJiYocj1cImZsb2F0MzJcIiksbnVsbD09ZSYmKGU9dCk7Zm9yKHZhciBvPWRyKFt0LGVdLHIpLGE9dDw9ZT90OmUsaT0wO2k8YTsrK2kpby5zZXQoMSxpLGkpO3ZhciBzPW8udG9UZW5zb3IoKS5hczJEKHQsZSk7aWYobnVsbD09bilyZXR1cm4gcztpZigxPT09bi5sZW5ndGgpcmV0dXJuIExyKHdyKHMsMCksW25bMF0sMSwxXSk7aWYoMj09PW4ubGVuZ3RoKXJldHVybiBMcih3cih3cihzLDApLDApLFtuWzBdLG5bMV0sMSwxXSk7aWYoMz09PW4ubGVuZ3RoKXJldHVybiBMcih3cih3cih3cihzLDApLDApLDApLFtuWzBdLG5bMV0sblsyXSwxLDFdKTt0aHJvdyBuZXcgRXJyb3IoXCJleWUoKSBjdXJyZW50bHkgc3VwcG9ydHMgb25seSAxRCBhbmQgMkQgYmF0Y2hTaGFwZXMsIGJ1dCByZWNlaXZlZCBcIituLmxlbmd0aCtcIkQuXCIpfX0pLEVyPUFuKHttdWx0aW5vbWlhbF86ZnVuY3Rpb24odCxlLG4scil7dm9pZCAwPT09ciYmKHI9ITEpO3ZhciBvPW1uKHQsXCJsb2dpdHNcIixcIm11bHRpbm9taWFsXCIpLGE9by5zaXplLGk9by5yYW5rO2lmKGE8Mil0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBpbiBtdWx0aW5vbWlhbDogeW91IG5lZWQgYXQgbGVhc3QgMiBvdXRjb21lcywgYnV0IGdvdCBcIithK1wiLlwiKTtpZihpPjIpdGhyb3cgbmV3IEVycm9yKFwiUmFuayBvZiBwcm9iYWJpbGl0aWVzIG11c3QgYmUgMSBvciAyLCBidXQgaXMgXCIraSk7bj1ufHxNYXRoLnJhbmRvbSgpO3ZhciBzPTE9PT1pP28uYXMyRCgxLC0xKTpvLHU9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQubXVsdGlub21pYWwocyxyLGUsbil9KSx7bG9naXRzMkQ6c30pO3JldHVybiAxPT09aT91LmFzMUQoKTp1fX0pLFJyPUFuKHtvbmVIb3RfOmZ1bmN0aW9uKHQsZSxuLHIpe2lmKHZvaWQgMD09PW4mJihuPTEpLHZvaWQgMD09PXImJihyPTApLGU8Mil0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBpbiBvbmVIb3Q6IGRlcHRoIG11c3QgYmUgPj0yLCBidXQgaXQgaXMgXCIrZSk7dmFyIG89bW4odCxcImluZGljZXNcIixcIm9uZUhvdFwiLFwiaW50MzJcIiksYT1vLnNoYXBlLmNvbmNhdChbZV0pO3JldHVybiBvPW8uZmxhdHRlbigpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm9uZUhvdChvLGUsbixyKX0pLHskaW5kaWNlczpvfSwoZnVuY3Rpb24odCl7cmV0dXJueyRpbmRpY2VzOmZ1bmN0aW9uKCl7cmV0dXJuIEduKG8uc2hhcGUsXCJmbG9hdDMyXCIpfX19KSkucmVzaGFwZShhKX19KSxJcj1Bbih7cGFkXzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49MCk7dmFyIHI9bW4odCxcInhcIixcInBhZFwiKTtpZigwPT09ci5yYW5rKXRocm93IG5ldyBFcnJvcihcInBhZChzY2FsYXIpIGlzIG5vdCBkZWZpbmVkLiBQYXNzIG5vbi1zY2FsYXIgdG8gcGFkXCIpO3ZhciBvPXtwYWRkaW5nczplLGNvbnN0YW50VmFsdWU6bn07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBhZChyLGUsbil9KSx7eDpyfSwoZnVuY3Rpb24odCl7dmFyIG49ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQuc2xpY2UobixyLnNoYXBlKX19fSksXCJQYWRWMlwiLG8pfX0pLGtyPUFuKHtwYWQxZF86ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj0wKSxDKDI9PT1lLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cIkludmFsaWQgbnVtYmVyIG9mIHBhZGRpbmdzLiBNdXN0IGJlIGxlbmd0aCBvZiAyLlwifSkpLElyKHQsW2VdLG4pfX0pLFNyPUFuKHtwYWQyZF86ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj0wKSxDKDI9PT1lLmxlbmd0aCYmMj09PWVbMF0ubGVuZ3RoJiYyPT09ZVsxXS5sZW5ndGgsKGZ1bmN0aW9uKCl7cmV0dXJuXCJJbnZhbGlkIG51bWJlciBvZiBwYWRkaW5ncy4gTXVzdCBiZSBsZW5ndGggb2YgMiBlYWNoLlwifSkpLElyKHQsZSxuKX19KSxBcj1Bbih7cGFkM2RfOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49MCksQygzPT09ZS5sZW5ndGgmJjI9PT1lWzBdLmxlbmd0aCYmMj09PWVbMV0ubGVuZ3RoJiYyPT09ZVsyXS5sZW5ndGgsKGZ1bmN0aW9uKCl7cmV0dXJuXCJJbnZhbGlkIG51bWJlciBvZiBwYWRkaW5ncy4gTXVzdCBiZSBsZW5ndGggb2YgMiBlYWNoLlwifSkpLElyKHQsZSxuKX19KSxEcj1Bbih7cGFkNGRfOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49MCksQyg0PT09ZS5sZW5ndGgmJjI9PT1lWzBdLmxlbmd0aCYmMj09PWVbMV0ubGVuZ3RoJiYyPT09ZVsyXS5sZW5ndGgmJjI9PT1lWzNdLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cIkludmFsaWQgbnVtYmVyIG9mIHBhZGRpbmdzLiBNdXN0IGJlIGxlbmd0aCBvZiAyIGVhY2guXCJ9KSksSXIodCxlLG4pfX0pLFRyPUFuKHtyYW5kXzpmdW5jdGlvbih0LGUsbil7dmFyIHI9ayh0KSxvPW51bGw7aWYobnVsbD09bnx8XCJmbG9hdDMyXCI9PT1uKW89bmV3IEZsb2F0MzJBcnJheShyKTtlbHNlIGlmKFwiaW50MzJcIj09PW4pbz1uZXcgSW50MzJBcnJheShyKTtlbHNle2lmKFwiYm9vbFwiIT09bil0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGRhdGEgdHlwZSBcIituKTtvPW5ldyBVaW50OEFycmF5KHIpfWZvcih2YXIgYT0wO2E8cjthKyspb1thXT1lKCk7cmV0dXJuIEx0Lm1ha2VUZW5zb3Iobyx0LG4pfX0pLE5yPUFuKHtyYW5kb21Ob3JtYWxfOmZ1bmN0aW9uKHQsZSxuLHIsbyl7aWYodm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49MSksbnVsbCE9ciYmXCJib29sXCI9PT1yKXRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGRhdGEgdHlwZSBcIityKTtmb3IodmFyIGE9bmV3IGxyKGUsbixyLCExLG8pLGk9ZHIodCxyKSxzPTA7czxpLnZhbHVlcy5sZW5ndGg7cysrKWkudmFsdWVzW3NdPWEubmV4dFZhbHVlKCk7cmV0dXJuIGkudG9UZW5zb3IoKX19KSxGcj1Bbih7cmFuZG9tR2FtbWFfOmZ1bmN0aW9uKHQsZSxuLHIsbyl7aWYodm9pZCAwPT09biYmKG49MSksdm9pZCAwPT09ciYmKHI9XCJmbG9hdDMyXCIpLG51bGw9PW4mJihuPTEpLG51bGw9PXImJihyPVwiZmxvYXQzMlwiKSxcImZsb2F0MzJcIiE9PXImJlwiaW50MzJcIiE9PXIpdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZGF0YSB0eXBlIFwiK3IpO2Zvcih2YXIgYT1uZXcgaHIoZSxuLHIsbyksaT1kcih0LHIpLHM9MDtzPGkudmFsdWVzLmxlbmd0aDtzKyspaS52YWx1ZXNbc109YS5uZXh0VmFsdWUoKTtyZXR1cm4gaS50b1RlbnNvcigpfX0pLF9yPUFuKHtyYW5kb21Vbmlmb3JtXzpmdW5jdGlvbih0LGUsbixyLG8pe3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PW4mJihuPTEpLHZvaWQgMD09PXImJihyPVwiZmxvYXQzMlwiKTtmb3IodmFyIGE9ZHIodCxyKSxpPW5ldyBmcihlLG4sbnVsbCxvKSxzPTA7czxhLnZhbHVlcy5sZW5ndGg7cysrKWEudmFsdWVzW3NdPWkubmV4dFZhbHVlKCk7cmV0dXJuIGEudG9UZW5zb3IoKX19KSxPcj1Bbih7cmVzaGFwZV86ZnVuY3Rpb24odCxlKXt2YXIgbj1tbih0LFwieFwiLFwicmVzaGFwZVwiLG51bGwpO2U9XyhlLG4uc2l6ZSksQyhuLnNpemU9PT1rKGUpLChmdW5jdGlvbigpe3JldHVyblwibmV3IHNoYXBlIGFuZCBvbGQgc2hhcGUgbXVzdCBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBlbGVtZW50cy5cIn0pKTt2YXIgcj17c2hhcGU6ZX07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlc2hhcGUobixlKX0pLHt4Om59LChmdW5jdGlvbih0KXtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiB0LnJlc2hhcGUobi5zaGFwZSl9fX0pLFwiUmVzaGFwZVwiLHIpfX0pLE1yPUFuKHtzcGFjZVRvQmF0Y2hORF86ZnVuY3Rpb24odCxlLG4pe3ZhciByPW1uKHQsXCJ4XCIsXCJzcGFjZVRvQmF0Y2hORFwiKTtyZXR1cm4gQyhyLnJhbms+PTErZS5sZW5ndGgsKGZ1bmN0aW9uKCl7cmV0dXJuXCJpbnB1dCByYW5rIFwiK3IucmFuaytcIiBzaG91bGQgYmUgPiB0aGFuIFtibG9ja1NoYXBlXSBcIitlLmxlbmd0aH0pKSxDKG4ubGVuZ3RoPT09ZS5sZW5ndGgsKGZ1bmN0aW9uKCl7cmV0dXJuXCJwYWRkaW5ncy5zaGFwZVswXSBcIituLmxlbmd0aCtcIiBtdXN0IGJlIGVxdWFsIHRvIFtibG9ja1NoYXBlXSBcIitlLmxlbmd0aH0pKSxDKHIuc2hhcGUucmVkdWNlKChmdW5jdGlvbih0LHIsbyl7cmV0dXJuIG8+MCYmbzw9ZS5sZW5ndGg/dCYmKHIrbltvLTFdWzBdK25bby0xXVsxXSklZVtvLTFdPT0wOnR9KSwhMCksKGZ1bmN0aW9uKCl7cmV0dXJuXCJpbnB1dCBzcGF0aWFsIGRpbWVuc2lvbnMgXCIrci5zaGFwZS5zbGljZSgxKStcIiB3aXRoIHBhZGRpbmdzIFwiK24udG9TdHJpbmcoKStcIiBtdXN0IGJlIGRpdmlzaWJsZSBieSBibG9ja1NoYXBlcyBcIitlLnRvU3RyaW5nKCl9KSksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3BhY2VUb0JhdGNoTkQocixlLG4pfSkseyR4OnJ9LChmdW5jdGlvbih0KXtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gdC5iYXRjaFRvU3BhY2VORChlLG4pfX19KSl9fSksQnI9QW4oe3NxdWVlemVfOmZ1bmN0aW9uKHQsZSl7dmFyIG49bW4odCxcInhcIixcInNxdWVlemVcIik7cmV0dXJuIE9yKG4sTShuLnNoYXBlLGUpLm5ld1NoYXBlKX19KSxQcj1Bbih7c3RhY2tfOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MCk7dmFyIG49Z24odCxcInRlbnNvcnNcIixcInN0YWNrXCIpO2lmKEMobi5sZW5ndGg+PTEsKGZ1bmN0aW9uKCl7cmV0dXJuXCJQYXNzIGF0IGxlYXN0IG9uZSB0ZW5zb3IgdG8gdGYuc3RhY2tcIn0pKSwxPT09bi5sZW5ndGgpcmV0dXJuIG5bMF0uZXhwYW5kRGltcyhlKTt2YXIgcj1uWzBdLnJhbmssbz1uWzBdLnNoYXBlLGE9blswXS5kdHlwZTtDKGU8PXIsKGZ1bmN0aW9uKCl7cmV0dXJuXCJBeGlzIG11c3QgYmUgPD0gcmFuayBvZiB0aGUgdGVuc29yXCJ9KSksbi5mb3JFYWNoKChmdW5jdGlvbih0KXtFKG8sdC5zaGFwZSxcIkFsbCB0ZW5zb3JzIHBhc3NlZCB0byBzdGFjayBtdXN0IGhhdmUgbWF0Y2hpbmcgc2hhcGVzXCIpfSkpLG4uZm9yRWFjaCgoZnVuY3Rpb24odCl7QyhhPT09dC5kdHlwZSwoZnVuY3Rpb24oKXtyZXR1cm5cIkFsbCB0ZW5zb3JzIHBhc3NlZCB0byBzdGFjayBtdXN0IGhhdmUgbWF0Y2hpbmcgZHR5cGVzXCJ9KSl9KSk7dmFyIGk9bi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmV4cGFuZERpbXMoZSl9KSk7cmV0dXJuIFluKGksZSl9fSksTHI9QW4oe3RpbGVfOmZ1bmN0aW9uKHQsZSl7dmFyIG49bW4odCxcInhcIixcInRpbGVcIixudWxsKTtDKG4ucmFuaz09PWUubGVuZ3RoLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gdHJhbnNwb3NlOiByYW5rIG9mIGlucHV0IFwiK24ucmFuaytcIiBtdXN0IG1hdGNoIGxlbmd0aCBvZiByZXBzIFwiK2UrXCIuXCJ9KSk7dmFyIHI9W25dLG89e3JlcHM6ZX07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQscil7dmFyIG89dC50aWxlKG4sZSk7cmV0dXJuIHIoW25dKSxvfSkse3g6bn0sKGZ1bmN0aW9uKHQsbil7dmFyIHI9blswXTtyZXR1cm57eDpmdW5jdGlvbigpe3ZhciBuPVhuKHIpO2lmKDE9PT1yLnJhbmspZm9yKHZhciBvPTA7bzxlWzBdOysrbyluPW4uYWRkKHQuc2xpY2UoW28qci5zaGFwZVswXV0sW3Iuc2hhcGVbMF1dKSk7ZWxzZSBpZigyPT09ci5yYW5rKWZvcihvPTA7bzxlWzBdOysrbylmb3IodmFyIGE9MDthPGVbMV07KythKW49bi5hZGQodC5zbGljZShbbypyLnNoYXBlWzBdLGEqci5zaGFwZVsxXV0sW3Iuc2hhcGVbMF0sci5zaGFwZVsxXV0pKTtlbHNlIGlmKDM9PT1yLnJhbmspZm9yKG89MDtvPGVbMF07KytvKWZvcihhPTA7YTxlWzFdOysrYSlmb3IodmFyIGk9MDtpPGVbMl07KytpKW49bi5hZGQodC5zbGljZShbbypyLnNoYXBlWzBdLGEqci5zaGFwZVsxXSxpKnIuc2hhcGVbMl1dLFtyLnNoYXBlWzBdLHIuc2hhcGVbMV0sci5zaGFwZVsyXV0pKTtlbHNle2lmKDQhPT1yLnJhbmspdGhyb3cgbmV3IEVycm9yKFwiR3JhZGllbnQgZm9yIHRpbGUgb3BlcmF0aW9uIGlzIG5vdCBpbXBsZW1lbnRlZCBmb3IgcmFuay1cIityLnJhbmsrXCIgdGVuc29ycyB5ZXQuXCIpO2ZvcihvPTA7bzxlWzBdOysrbylmb3IoYT0wO2E8ZVsxXTsrK2EpZm9yKGk9MDtpPGVbMl07KytpKWZvcih2YXIgcz0wO3M8ZVszXTsrK3Mpbj1uLmFkZCh0LnNsaWNlKFtvKnIuc2hhcGVbMF0sYSpyLnNoYXBlWzFdLGkqci5zaGFwZVsyXSxzKnIuc2hhcGVbM11dLFtyLnNoYXBlWzBdLHIuc2hhcGVbMV0sci5zaGFwZVsyXSxyLnNoYXBlWzNdXSkpfXJldHVybiBufX19KSxcIlRpbGVcIixvLHIpfX0pLFdyPUFuKHt0cnVuY2F0ZWROb3JtYWxfOmZ1bmN0aW9uKHQsZSxuLHIsbyl7aWYodm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49MSksbnVsbCE9ciYmXCJib29sXCI9PT1yKXRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGRhdGEgdHlwZSBcIityKTtmb3IodmFyIGE9bmV3IGxyKGUsbixyLCEwLG8pLGk9ZHIodCxyKSxzPTA7czxpLnZhbHVlcy5sZW5ndGg7cysrKWkudmFsdWVzW3NdPWEubmV4dFZhbHVlKCk7cmV0dXJuIGkudG9UZW5zb3IoKX19KSxVcj1Bbih7dW5zdGFja186ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKSxlPWV8fDA7dmFyIG49bW4odCxcInhcIixcInVuc3RhY2tcIik7QyhlPj0tbi5zaGFwZS5sZW5ndGgmJmU8bi5zaGFwZS5sZW5ndGgsKGZ1bmN0aW9uKCl7cmV0dXJuXCJBeGlzID0gXCIrZStcIiBpcyBub3QgaW4gWy1cIituLnNoYXBlLmxlbmd0aCtcIiwgXCIrbi5zaGFwZS5sZW5ndGgrXCIpXCJ9KSksZTwwJiYoZSs9bi5zaGFwZS5sZW5ndGgpO3ZhciByPXtheGlzOmV9O3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC51bnN0YWNrKG4sZSl9KSx7eDpufSwoZnVuY3Rpb24odCl7cmV0dXJue3g6ZnVuY3Rpb24oKXtyZXR1cm4gUHIodCxlKX19fSksXCJVbnBhY2tcIixyKX19KSxWcj1mdW5jdGlvbih0LGUpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixvLGEsaSxzLHUsYyxsLGgsZjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPW1uKHQsXCJ4XCIsXCJzZXRkaWZmMWRcIiksbz1tbihlLFwieVwiLFwic2V0ZGlmZjFkXCIpLEMobi5kdHlwZT09PW8uZHR5cGUsKGZ1bmN0aW9uKCl7cmV0dXJuXCJ4IGFuZCB5IHNob3VsZCBoYXZlIHRoZSBzYW1lIGR0eXBlLCBidXQgZ290IHggKFwiK24uZHR5cGUrXCIpIGFuZCB5IChcIitvLmR0eXBlK1wiKS5cIn0pKSxDKDE9PT1uLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJ4IHNob3VsZCBiZSAxRCB0ZW5zb3IsIGJ1dCBnb3QgeCAoXCIrbi5zaGFwZStcIikuXCJ9KSksQygxPT09by5yYW5rLChmdW5jdGlvbigpe3JldHVyblwieSBzaG91bGQgYmUgMUQgdGVuc29yLCBidXQgZ290IHkgKFwiK28uc2hhcGUrXCIpLlwifSkpLFs0LG4uZGF0YSgpXTtjYXNlIDE6cmV0dXJuIGE9ci5zZW50KCksWzQsby5kYXRhKCldO2Nhc2UgMjpmb3IoaT1yLnNlbnQoKSxzPW5ldyBTZXQoaSksdT0wLGg9MDtoPGEubGVuZ3RoO2grKylzLmhhcyhhW2hdKXx8dSsrO2ZvcihjPW5ldyBndChbdV0sbi5kdHlwZSksbD1uZXcgZ3QoW3VdLFwiaW50MzJcIiksaD0wLGY9MDtoPGEubGVuZ3RoO2grKylzLmhhcyhhW2hdKXx8KGMudmFsdWVzW2ZdPWFbaF0sbC52YWx1ZXNbZl09aCxmKyspO3JldHVyblsyLFtjLnRvVGVuc29yKCksbC50b1RlbnNvcigpXV19fSkpfSkpfTtmdW5jdGlvbiB6cih0LGUsbixyKXt2b2lkIDA9PT1yJiYocj0hMCk7dmFyIG89W107aWYocikobz1vLmNvbmNhdChlLnNsaWNlKDApKSkucHVzaCh0WzBdL24pLG89by5jb25jYXQodC5zbGljZSgxKSk7ZWxzZXtvPW8uY29uY2F0KHRbMF0pO2Zvcih2YXIgYT1lLmxlbmd0aCxpPTA7aTxhOysraSlvPW8uY29uY2F0KFt0W2krMV0vZVtpXSxlW2ldXSk7bz1vLmNvbmNhdCh0LnNsaWNlKGErMSkpfXJldHVybiBvfWZ1bmN0aW9uIEdyKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0hMCk7dmFyIHI9W107aWYobil7ci5wdXNoKGUpO2Zvcih2YXIgbz1lKzE7bzx0OysrbylvPD0yKmU/KHIucHVzaChvKSxyLnB1c2goby0oZSsxKSkpOnIucHVzaChvKX1lbHNle3ZhciBhPVtdLGk9W107Zm9yKG89MTtvPHQ7KytvKW8+PTIqZSsxfHxvJTI9PTE/aS5wdXNoKG8pOmEucHVzaChvKTtyLnB1c2guYXBwbHkocixhKSxyLnB1c2goMCksci5wdXNoLmFwcGx5KHIsaSl9cmV0dXJuIHJ9ZnVuY3Rpb24gSHIodCxlLG4scil7dm9pZCAwPT09ciYmKHI9ITApO3ZhciBvPVtdO3I/by5wdXNoKHRbMF0vbik6by5wdXNoKHRbMF0qbik7Zm9yKHZhciBhPTE7YTx0Lmxlbmd0aDsrK2EpYTw9ZS5sZW5ndGg/cj9vLnB1c2goZVthLTFdKnRbYV0pOm8ucHVzaCh0W2FdL2VbYS0xXSk6by5wdXNoKHRbYV0pO3JldHVybiBvfWZ1bmN0aW9uIHFyKHQsZSl7Zm9yKHZhciBuPVswXSxyPTA7cjxlOysrciluLnB1c2godFtyXVswXSk7cmV0dXJuIG59ZnVuY3Rpb24gS3IodCxlLG4pe2Zvcih2YXIgcj10LnNsaWNlKDAsMSksbz0wO288bjsrK28pci5wdXNoKHRbbysxXS1lW29dWzBdLWVbb11bMV0pO3JldHVybiByfWZ1bmN0aW9uIGpyKHQsZSl7aWYodC5yYW5rPDEpdGhyb3cgbmV3IEVycm9yKFwidGYuZ2F0aGVyTkQoKSBleHBlY3RzIHRoZSBpbnB1dCB0byBiZSByYW5rIDEgb3IgaGlnaGVyLCBidXQgdGhlIHJhbmsgd2FzIFwiK3QucmFuaytcIi5cIik7aWYoZS5yYW5rPDEpdGhyb3cgbmV3IEVycm9yKFwidGYuZ2F0aGVyTkQoKSBleHBlY3RzIHRoZSBpbmRpY2VzIHRvIGJlIHJhbmsgMSBvciBoaWdoZXIsIGJ1dCB0aGUgcmFuayB3YXMgXCIrZS5yYW5rK1wiLlwiKTtpZihcImludDMyXCIhPT1lLmR0eXBlKXRocm93IG5ldyBFcnJvcihcInRmLmdhdGhlck5EKCkgZXhwZWN0cyB0aGUgaW5kaWNlcyB0byBiZSBpbnQzMiB0eXBlLCBidXQgdGhlIGR0eXBlIHdhcyBcIitlLmR0eXBlK1wiLlwiKTtpZihlLnNoYXBlW2UucmFuay0xXT50LnJhbmspdGhyb3cgbmV3IEVycm9yKFwiaW5kZXggaW5uZXJtb3N0IGRpbWVuc2lvbiBsZW5ndGggbXVzdCBiZSA8PSB0ZW5zb3IgcmFuazsgc2F3OiBcIitlLnNoYXBlW2UucmFuay0xXStcIiB2cy4gXCIrdC5yYW5rKTtpZigwPT09dC5zaXplKXRocm93IG5ldyBFcnJvcihcIlJlcXVlc3RlZCBtb3JlIHRoYW4gMCBlbnRyaWVzLCBidXQgaW5wdXQgaXMgZW1wdHkuIElucHV0IHNoYXBlOiBcIit0LnNoYXBlK1wiLlwiKTtmb3IodmFyIG49ZS5zaGFwZSxyPW5bbi5sZW5ndGgtMV0sbz0xLGE9MDthPG4ubGVuZ3RoLTE7KythKW8qPW5bYV07dmFyIGk9dC5zaGFwZSxzPW4uc2xpY2UoKTtzLnBvcCgpO3ZhciB1PTE7Zm9yKGE9cjthPHQucmFuazsrK2EpdSo9aVthXSxzLnB1c2goaVthXSk7dmFyIGM9JCh0LnNoYXBlKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0L3V9KSkuY29uY2F0KFsxXSkuc2xpY2UoMCxyKTtyZXR1cm5bcyxvLHUsY119dmFyIFhyPU9iamVjdC5mcmVlemUoe3ByZXBhcmVBbmRWYWxpZGF0ZTpqcn0pLFlyPTMwO2Z1bmN0aW9uICRyKHQpe3JldHVybiB0PD1Zcj90OlkodCxNYXRoLmZsb29yKE1hdGguc3FydCh0KSkpfWZ1bmN0aW9uIFFyKHQsZSxuKXt2YXIgcj1lLnJhbms+MT9lLnNoYXBlW2UucmFuay0xXToxLG89ZS5yYW5rPjE/ZS5yYW5rLTE6MSxhPVwiTXVzdCBoYXZlIHVwZGF0ZXMuc2hhcGUgPSBpbmRpY2VzLnNoYXBlWzpiYXRjaERpbV0gKyBzaGFwZVtzbGljZURpbTpdLCBnb3QgdXBkYXRlcy5zaGFwZTogXCIrbi5zaGFwZStcIiwgaW5kaWNlcy5zaGFwZTogXCIrZS5zaGFwZStcIiwgc2hhcGU6IFwiK3QrXCIsIHNsaWNlRGltOiBcIityK1wiLCBhbmQgYmF0Y2hEaW06IFwiK28rXCIuXCI7aWYobi5yYW5rPG8pdGhyb3cgbmV3IEVycm9yKGErXCIgdXBkYXRlLnJhbmsgPCBcIitvK1wiLiBcIik7aWYodC5sZW5ndGg8cisobi5yYW5rLW8pKXRocm93IG5ldyBFcnJvcihhK1wiIE91dHB1dCBzaGFwZSBsZW5ndGggPCBcIisocisobi5yYW5rLW8pKSk7aWYobi5yYW5rIT09byt0Lmxlbmd0aC1yKXRocm93IG5ldyBFcnJvcihhK1wiIHVwZGF0ZS5yYW5rICE9IFwiKyhvK3QubGVuZ3RoLXIpKTtmb3IodmFyIGk9MDtpPG87KytpKWlmKG4uc2hhcGVbaV0hPT1lLnNoYXBlW2ldKXRocm93IG5ldyBFcnJvcihhK1wiIHVwZGF0ZXMuc2hhcGVbXCIraStcIl0gKFwiK24uc2hhcGVbaV0rXCIpICE9IGluZGljZXMuc2hhcGVbXCIraStcIl0gKFwiK2Uuc2hhcGVbaV0rXCIpLlwiKTtmb3IoaT0wO2k8bi5yYW5rLW87KytpKWlmKG4uc2hhcGVbaStvXSE9PXRbaStyXSl0aHJvdyBuZXcgRXJyb3IoYStcIiB1cGRhdGVzLnNoYXBlW1wiKyhpK28pK1wiXSAoXCIrbi5zaGFwZVtpK29dK1wiKSAhPSBzaGFwZVtcIisoaStvKStcIl0gKFwiK3RbaStvXStcIilcIil9ZnVuY3Rpb24gSnIodCxlLG4pe2lmKGUucmFuazwxKXRocm93IG5ldyBFcnJvcihcInRmLnNjYXR0ZXJORCgpIGV4cGVjdHMgdGhlIGluZGljZXMgdG8gYmUgcmFuayAxIG9yIGhpZ2hlciwgYnV0IHRoZSByYW5rIHdhcyBcIitlLnJhbmsrXCIuXCIpO2lmKHQucmFuazwxKXRocm93IG5ldyBFcnJvcihcInRmLnNjYXR0ZXJORCgpIGV4cGVjdHMgdGhlIHVwZGF0ZXMgdG8gYmUgcmFuayAxIG9yIGhpZ2hlciwgYnV0IHRoZSByYW5rIHdhcyBcIit0LnJhbmsrXCIuXCIpO2lmKFwiaW50MzJcIiE9PWUuZHR5cGUpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGR0eXBlIG9mICdpbmRpY2VzJyBzaG91bGQgYmUgaW50MzIsIGJ1dCBnb3QgZHR5cGU6IFwiK2UuZHR5cGUpO2lmKG4ubGVuZ3RoPDEpdGhyb3cgbmV3IEVycm9yKFwiT3V0cHV0IHJhbmsgbXVzdCBiZSBncmVhdGVyIG9yIGVxdWFsIHRvIDEsIGJ1dCBnb3Qgc2hhcGU6IFwiK24pO2lmKDA9PT1uLmxlbmd0aCl7aWYoMD09PWUuc2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJJbmRpY2VzIHNwZWNpZmllZCBmb3IgZW1wdHkgb3V0cHV0LiBpbmRpY2VzIHNoYXBlOiBcIitlLnNoYXBlKTtpZigwPT09dC5zaXplKXRocm93IG5ldyBFcnJvcihcIlVwZGF0ZXMgc3BlY2lmaWVkIGZvciBlbXB0eSBvdXRwdXQuIHVwZGF0ZXMgc2hhcGU6IFwiK3Quc2hhcGUpfVFyKG4sZSx0KX1mdW5jdGlvbiBacih0LGUsbil7Zm9yKHZhciByPWUuc2hhcGUubGVuZ3RoLG89cj4xP2Uuc2hhcGVbci0xXToxLGE9bi5sZW5ndGgsaT0xLHM9bztzPGE7KytzKWkqPW5bc107dmFyIHU9bzwxPzE6bztyZXR1cm57c2xpY2VSYW5rOm8sbnVtVXBkYXRlczprKGUuc2hhcGUpL3Usc2xpY2VTaXplOmksc3RyaWRlczokKG4uc2xpY2UoMCxvKSkuY29uY2F0KFsxXSksb3V0cHV0U2l6ZTprKG4pfX12YXIgdG89T2JqZWN0LmZyZWV6ZSh7dmFsaWRhdGVVcGRhdGVTaGFwZTpRcix2YWxpZGF0ZUlucHV0OkpyLGNhbGN1bGF0ZVNoYXBlczpacn0pO2Z1bmN0aW9uIGVvKHQsZSxuKXtDKHQucmFuaz09PWUubGVuZ3RoLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gc2xpY2VcIit0LnJhbmsrXCJEOiBMZW5ndGggb2YgYmVnaW4gXCIrZStcIiBtdXN0IG1hdGNoIHRoZSByYW5rIG9mIHRoZSBhcnJheSAoXCIrdC5yYW5rK1wiKS5cIn0pKSxDKHQucmFuaz09PW4ubGVuZ3RoLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gc2xpY2VcIit0LnJhbmsrXCJEOiBMZW5ndGggb2Ygc2l6ZSBcIituK1wiIG11c3QgbWF0Y2ggdGhlIHJhbmsgb2YgdGhlIGFycmF5IChcIit0LnJhbmsrXCIpLlwifSkpO2Zvcih2YXIgcj1mdW5jdGlvbihyKXtDKGVbcl0rbltyXTw9dC5zaGFwZVtyXSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHNsaWNlXCIrdC5yYW5rK1wiRDogYmVnaW5bXCIrcitcIl0gKyBzaXplW1wiK3IrXCJdIChcIisoZVtyXStuW3JdKStcIikgd291bGQgb3ZlcmZsb3cgaW5wdXQuc2hhcGVbXCIrcitcIl0gKFwiK3Quc2hhcGVbcl0rXCIpXCJ9KSl9LG89MDtvPHQucmFuazsrK28pcihvKX1mdW5jdGlvbiBubyh0KXtmb3IodmFyIGU9W10sbj0wO3Q+MDspMSZ0JiZlLnB1c2gobiksdC89MixuKys7cmV0dXJuIGV9ZnVuY3Rpb24gcm8odCxlLG4pe2Zvcih2YXIgcj1bXSxvPTA7bzx0Lmxlbmd0aDtvKyspcltvXT1NYXRoLmNlaWwoKGVbb10tdFtvXSkvbltvXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gb28odCxlLG4scixvKXt2YXIgYT1lW29dLGk9bltvXXx8MTsodCYxPDxvfHxudWxsPT1hKSYmKGE9aT4wP051bWJlci5NSU5fU0FGRV9JTlRFR0VSOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSKTt2YXIgcz1yW29dO3JldHVybiBhPDAmJihhKz1zKSxhPXgoMCxhLHMtMSl9ZnVuY3Rpb24gYW8odCxlLG4scixvKXt2YXIgYT1lW29dLGk9bltvXXx8MTsodCYxPDxvfHxudWxsPT1hKSYmKGE9aT4wP051bWJlci5NQVhfU0FGRV9JTlRFR0VSOk51bWJlci5NSU5fU0FGRV9JTlRFR0VSKTt2YXIgcz1yW29dO3JldHVybiBhPDAmJihhKz1zKSxhPWk+MD94KDAsYSxzKTp4KC0xLGEscy0xKX1mdW5jdGlvbiBpbyh0LGUsbil7Zm9yKHZhciByPW4ubGVuZ3RoLG89MDtvPG4ubGVuZ3RoO28rKylpZihuW29dPjEpe3I9bzticmVha31mb3Iobz1yKzE7bzxuLmxlbmd0aDtvKyspaWYoZVtvXT4wfHxuW29dIT09dFtvXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBzbyh0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aD4wP3RbdC5sZW5ndGgtMV06MSxyPTA7cjx0Lmxlbmd0aC0xO3IrKyluKz10W3JdKmVbcl07cmV0dXJuIG59dmFyIHVvPU9iamVjdC5mcmVlemUoe2Fzc2VydFBhcmFtc1ZhbGlkOmVvLG1hc2tUb0F4ZXM6bm8sY29tcHV0ZU91dFNoYXBlOnJvLHN0YXJ0Rm9yQXhpczpvbyxzdG9wRm9yQXhpczphbyxpc1NsaWNlQ29udGlub3VzOmlvLGNvbXB1dGVGbGF0T2Zmc2V0OnNvfSk7ZnVuY3Rpb24gY28odCl7cmV0dXJuIEMoWCh0KSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBmIHBhc3NlZCBpbiBncmFkKGYpIG11c3QgYmUgYSBmdW5jdGlvblwifSkpLGZ1bmN0aW9uKGUsbil7dmFyIHI9bW4oZSxcInhcIixcInRmLmdyYWRcIixudWxsKSxvPW51bGwhPW4/bW4obixcImR5XCIsXCJ0Zi5ncmFkXCIpOm51bGw7cmV0dXJuIEx0LnRpZHkoKGZ1bmN0aW9uKCl7dmFyIGU9THQuZ3JhZGllbnRzKChmdW5jdGlvbigpe3JldHVybiB0KHIpfSksW3JdLG8pLG49ZS52YWx1ZSxhPWUuZ3JhZHM7cmV0dXJuIG51bGwhPW8mJkUobi5zaGFwZSxvLnNoYXBlLFwiVGhlIHNoYXBlIG9mIGR5IHBhc3NlZCBpbiBncmFkKGYpKHgsIGR5KSBtdXN0IG1hdGNoIHRoZSBzaGFwZSByZXR1cm5lZCBieSBmKHgpXCIpLG1vKGEpLGFbMF19KSl9fWZ1bmN0aW9uIGxvKHQpe3JldHVybiBDKFgodCksKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgZiBwYXNzZWQgaW4gZ3JhZHMoZikgbXVzdCBiZSBhIGZ1bmN0aW9uXCJ9KSksZnVuY3Rpb24oZSxuKXtDKEFycmF5LmlzQXJyYXkoZSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgYXJncyBwYXNzZWQgaW4gZ3JhZHMoZikoYXJncykgbXVzdCBiZSBhbiBhcnJheSBvZiBgVGVuc29yYHMgb3IgYFRlbnNvckxpa2Vgc1wifSkpO3ZhciByPWduKGUsXCJhcmdzXCIsXCJ0Zi5ncmFkc1wiLG51bGwpLG89bnVsbCE9bj9tbihuLFwiZHlcIixcInRmLmdyYWRzXCIpOm51bGw7cmV0dXJuIEx0LnRpZHkoKGZ1bmN0aW9uKCl7dmFyIGU9THQuZ3JhZGllbnRzKChmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHZvaWQgMCxyKX0pLHIsbyksbj1lLnZhbHVlLGE9ZS5ncmFkcztyZXR1cm4gbnVsbCE9byYmRShuLnNoYXBlLG8uc2hhcGUsXCJUaGUgc2hhcGUgb2YgZHkgcGFzc2VkIGluIGdyYWRzKGYpKFt4MSwuLi5dLCBkeSkgbXVzdCBtYXRjaCB0aGUgc2hhcGUgcmV0dXJuZWQgYnkgZihbeDEsLi4uXSlcIiksbW8oYSksYX0pKX19ZnVuY3Rpb24gaG8odCl7cmV0dXJuIEMoWCh0KSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBmIHBhc3NlZCBpbiB2YWx1ZUFuZEdyYWQoZikgbXVzdCBiZSBhIGZ1bmN0aW9uXCJ9KSksZnVuY3Rpb24oZSxuKXtDKGUgaW5zdGFuY2VvZiB3dCwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSB4IHBhc3NlZCBpbiB2YWx1ZUFuZEdyYWQoZikoeCkgbXVzdCBiZSBhIHRlbnNvclwifSkpLEMobnVsbD09bnx8biBpbnN0YW5jZW9mIHd0LChmdW5jdGlvbigpe3JldHVyblwiVGhlIGR5IHBhc3NlZCBpbiB2YWx1ZUFuZEdyYWQoZikoeCwgZHkpIG11c3QgYmUgYSB0ZW5zb3JcIn0pKTt2YXIgcj1MdC5ncmFkaWVudHMoKGZ1bmN0aW9uKCl7cmV0dXJuIHQoZSl9KSxbZV0sbiksbz1yLmdyYWRzLGE9ci52YWx1ZTtyZXR1cm4gbW8obykse2dyYWQ6b1swXSx2YWx1ZTphfX19ZnVuY3Rpb24gZm8odCl7cmV0dXJuIEMoWCh0KSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBmIHBhc3NlZCBpbiB2YWx1ZUFuZEdyYWRzKGYpIG11c3QgYmUgYSBmdW5jdGlvblwifSkpLGZ1bmN0aW9uKGUsbil7QyhBcnJheS5pc0FycmF5KGUpJiZlLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHd0fSkpLChmdW5jdGlvbigpe3JldHVyblwiVGhlIGFyZ3MgcGFzc2VkIGluIHZhbHVlQW5kR3JhZHMoZikoYXJncykgbXVzdCBiZSBhcnJheSBvZiB0ZW5zb3JzXCJ9KSksQyhudWxsPT1ufHxuIGluc3RhbmNlb2Ygd3QsKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgZHkgcGFzc2VkIGluIHZhbHVlQW5kR3JhZHMoZikoYXJncywgZHkpIG11c3QgYmUgYSB0ZW5zb3JcIn0pKTt2YXIgcj1MdC5ncmFkaWVudHMoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodm9pZCAwLGUpfSksZSxuKTtyZXR1cm4gbnVsbCE9biYmRShyLnZhbHVlLnNoYXBlLG4uc2hhcGUsXCJUaGUgc2hhcGUgb2YgZHkgcGFzc2VkIGluIHZhbHVlQW5kR3JhZHMoZikoW3gxLC4uLl0sIGR5KSBtdXN0IG1hdGNoIHRoZSBzaGFwZSByZXR1cm5lZCBieSBmKFt4MSwuLi5dKVwiKSxtbyhyLmdyYWRzKSxyfX1mdW5jdGlvbiBwbyh0LGUpe0MoWCh0KSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBmIHBhc3NlZCBpbiB2YXJpYWJsZUdyYWRzKGYpIG11c3QgYmUgYSBmdW5jdGlvblwifSkpLEMobnVsbD09ZXx8QXJyYXkuaXNBcnJheShlKSYmZS5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBTdH0pKSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSB2YXJMaXN0IHBhc3NlZCBpbiB2YXJpYWJsZUdyYWRzKGYsIHZhckxpc3QpIG11c3QgYmUgYW4gYXJyYXkgb2YgdmFyaWFibGVzXCJ9KSk7dmFyIG49bnVsbCE9ZTtpZighbilmb3IodmFyIHIgaW4gZT1bXSxMdC5yZWdpc3RlcmVkVmFyaWFibGVzKWUucHVzaChMdC5yZWdpc3RlcmVkVmFyaWFibGVzW3JdKTt2YXIgbz1uP2UuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hdC50cmFpbmFibGV9KSk6bnVsbCxhPWUubGVuZ3RoO0MoKGU9ZS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYWluYWJsZX0pKSkubGVuZ3RoPjAsKGZ1bmN0aW9uKCl7cmV0dXJuXCJ2YXJpYWJsZUdyYWRzKCkgZXhwZWN0cyBhdCBsZWFzdCBvbmUgb2YgdGhlIGlucHV0IHZhcmlhYmxlcyB0byBiZSB0cmFpbmFibGUsIGJ1dCBub25lIG9mIHRoZSBcIithK1wiIHZhcmlhYmxlcyBpcyB0cmFpbmFibGUuXCJ9KSk7dmFyIGk9THQuZ3JhZGllbnRzKHQsZSxudWxsLCEwKSxzPWkudmFsdWUsdT1pLmdyYWRzO0ModS5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dH0pKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkNhbm5vdCBmaW5kIGEgY29ubmVjdGlvbiBiZXR3ZWVuIGFueSB2YXJpYWJsZSBhbmQgdGhlIHJlc3VsdCBvZiB0aGUgbG9zcyBmdW5jdGlvbiB5PWYoeCkuIFBsZWFzZSBtYWtlIHN1cmUgdGhlIG9wZXJhdGlvbnMgdGhhdCB1c2UgdmFyaWFibGVzIGFyZSBpbnNpZGUgdGhlIGZ1bmN0aW9uIGYgcGFzc2VkIHRvIG1pbmltaXplKCkuXCJ9KSksQygwPT09cy5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiVGhlIGYgcGFzc2VkIGluIHZhcmlhYmxlR3JhZHMoZikgbXVzdCByZXR1cm4gYSBzY2FsYXIsIGJ1dCBpdCByZXR1cm5lZCBhIHJhbmstXCIrcy5yYW5rK1wiIHRlbnNvclwifSkpO3ZhciBjPXt9O3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7bnVsbCE9dVtlXSYmKGNbdC5uYW1lXT11W2VdKX0pKSxudWxsIT1vJiZvLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBjW3QubmFtZV09bnVsbH0pKSx7dmFsdWU6cyxncmFkczpjfX1mdW5jdGlvbiB2byh0KXtyZXR1cm4gTHQuY3VzdG9tR3JhZCh0KX1mdW5jdGlvbiBtbyh0KXtpZih0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXR9KSkubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbXB1dGUgZ3JhZGllbnQgb2YgeT1mKHgpIHdpdGggcmVzcGVjdCB0byB4LiBNYWtlIHN1cmUgdGhhdFxcbiAgICB0aGUgZiB5b3UgcGFzc2VkIGVuY2xvc2VzIGFsbCBvcGVyYXRpb25zIHRoYXQgbGVhZCBmcm9tIHggdG8geS5cIil9dmFyIGdvPUFuKHtzb2Z0bWF4XzpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPS0xKTt2YXIgbj1tbih0LFwibG9naXRzXCIsXCJzb2Z0bWF4XCIsXCJmbG9hdDMyXCIpO2lmKC0xPT09ZSYmKGU9bi5yYW5rLTEpLGUhPT1uLnJhbmstMSl0aHJvdyBFcnJvcihcIlNvZnRtYXggYWxvbmcgYSBub24tbGFzdCBkaW1lbnNpb24gaXMgbm90IHlldCBzdXBwb3J0ZWQuIExvZ2l0cyB3YXMgcmFuayBcIituLnJhbmsrXCIgYW5kIGRpbSB3YXMgXCIrZSk7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQscil7dmFyIG89dC5zb2Z0bWF4KG4sZSk7cmV0dXJuIHIoW29dKSxvfSkse2xvZ2l0czpufSwoZnVuY3Rpb24odCxuKXt2YXIgcj1uWzBdLG89dC5tdWwocik7cmV0dXJue2xvZ2l0czpmdW5jdGlvbigpe3JldHVybiBvLnN1YihvLnN1bShbZV0sITApLm11bChyKSl9fX0pLFwiU29mdG1heFwiLHtkaW06ZX0sW10sWyEwXSl9fSkseW89QW4oe2xvZ1NvZnRtYXhfOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9LTEpO3ZhciBuPW1uKHQsXCJsb2dpdHNcIixcImxvZ1NvZnRtYXhcIik7aWYoLTE9PT1lJiYoZT1uLnJhbmstMSksZSE9PW4ucmFuay0xKXRocm93IEVycm9yKFwiTG9nIFNvZnRtYXggYWxvbmcgYSBub24tbGFzdCBkaW1lbnNpb24gaXMgbm90IHlldCBzdXBwb3J0ZWQuIExvZ2l0cyB3YXMgcmFuayBcIituLnJhbmsrXCIgYW5kIGF4aXMgd2FzIFwiK2UpO3JldHVybiB2bygoZnVuY3Rpb24odCxuKXt2YXIgcj10Lm1heChlLCEwKSxvPXQuc3ViKHIpLGE9by50b0Zsb2F0KCkuc3ViKG8uZXhwKCkuc3VtKGUsITApLmxvZygpKTtuKFthXSk7cmV0dXJue3ZhbHVlOmEsZ3JhZEZ1bmM6ZnVuY3Rpb24odCxuKXt2YXIgcj1uWzBdLmV4cCgpO3JldHVybiB0LnN1Yih0LnN1bShlLCEwKS5tdWwocikpfX19KSkobil9fSkseG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5iYWNrZW5kPXQsdGhpcy5kYXRhTW92ZXI9ZSx0aGlzLmRhdGE9bmV3IFdlYWtNYXAsdGhpcy5kYXRhSWRzQ291bnQ9MH1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGEuaGFzKHQpfHx0aGlzLmRhdGFNb3Zlci5tb3ZlRGF0YSh0aGlzLmJhY2tlbmQsdCksdGhpcy5kYXRhLmdldCh0KX0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5kYXRhSWRzQ291bnQrKyx0aGlzLmRhdGEuc2V0KHQsZSl9LHQucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhLmhhcyh0KX0sdC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGFJZHNDb3VudC0tLHRoaXMuZGF0YS5kZWxldGUodCl9LHQucHJvdG90eXBlLm51bURhdGFJZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhSWRzQ291bnR9LHR9KCksYm89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS50aW1lPWZ1bmN0aW9uKHQpe3JldHVybiB3byhcInRpbWVcIil9LHQucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwicmVhZFwiKX0sdC5wcm90b3R5cGUucmVhZFN5bmM9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwicmVhZFN5bmNcIil9LHQucHJvdG90eXBlLm51bURhdGFJZHM9ZnVuY3Rpb24oKXtyZXR1cm4gd28oXCJudW1EYXRhSWRzXCIpfSx0LnByb3RvdHlwZS5kaXNwb3NlRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gd28oXCJkaXNwb3NlRGF0YVwiKX0sdC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3byhcIndyaXRlXCIpfSx0LnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB3byhcIm1vdmVcIil9LHQucHJvdG90eXBlLm1lbW9yeT1mdW5jdGlvbigpe3JldHVybiB3byhcIm1lbW9yeVwiKX0sdC5wcm90b3R5cGUuZmxvYXRQcmVjaXNpb249ZnVuY3Rpb24oKXtyZXR1cm4gd28oXCJmbG9hdFByZWNpc2lvblwiKX0sdC5wcm90b3R5cGUuZXBzaWxvbj1mdW5jdGlvbigpe3JldHVybiAzMj09PXRoaXMuZmxvYXRQcmVjaXNpb24oKT8xZS03OjFlLTR9LHQucHJvdG90eXBlLmJhdGNoTWF0TXVsPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB3byhcImJhdGNoTWF0TXVsXCIpfSx0LnByb3RvdHlwZS5mdXNlZEJhdGNoTWF0TXVsPWZ1bmN0aW9uKHQpe3QuYSx0LmIsdC50cmFuc3Bvc2VBLHQudHJhbnNwb3NlQix0LmJpYXMsdC5hY3RpdmF0aW9uLHQucHJlbHVBY3RpdmF0aW9uV2VpZ2h0cztyZXR1cm4gd28oXCJmdXNlZEJhdGNoTWF0TXVsXCIpfSx0LnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHdvKFwic2xpY2VcIil9LHQucHJvdG90eXBlLnN0cmlkZWRTbGljZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gd28oXCJzdHJpZGVkU2xpY2VcIil9LHQucHJvdG90eXBlLnVuc3RhY2s9ZnVuY3Rpb24odCxlKXtyZXR1cm4gd28oXCJ1bnN0YWNrXCIpfSx0LnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHdvKFwicmV2ZXJzZVwiKX0sdC5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHdvKFwiY29uY2F0XCIpfSx0LnByb3RvdHlwZS5uZWc9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwibmVnXCIpfSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gd28oXCJhZGRcIil9LHQucHJvdG90eXBlLmFkZE49ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwiYWRkTlwiKX0sdC5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gd28oXCJzdWJ0cmFjdFwiKX0sdC5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gd28oXCJtdWx0aXBseVwiKX0sdC5wcm90b3R5cGUucmVhbERpdmlkZT1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcInJlYWxEaXZpZGVcIil9LHQucHJvdG90eXBlLmZsb29yRGl2PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHdvKFwiZmxvb3JEaXZcIil9LHQucHJvdG90eXBlLnN1bT1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcInN1bVwiKX0sdC5wcm90b3R5cGUucHJvZD1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcInByb2RcIil9LHQucHJvdG90eXBlLnVuc29ydGVkU2VnbWVudFN1bT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHdvKFwidW5zb3J0ZWRTZWdtZW50U3VtXCIpfSx0LnByb3RvdHlwZS5hcmdNaW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gd28oXCJhcmdNaW5cIil9LHQucHJvdG90eXBlLmFyZ01heD1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcImFyZ01heFwiKX0sdC5wcm90b3R5cGUuZXF1YWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gd28oXCJlcXVhbFwiKX0sdC5wcm90b3R5cGUubm90RXF1YWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gd28oXCJub3RFcXVhbFwiKX0sdC5wcm90b3R5cGUubGVzcz1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcImxlc3NcIil9LHQucHJvdG90eXBlLmxlc3NFcXVhbD1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcImxlc3NFcXVhbFwiKX0sdC5wcm90b3R5cGUuZ3JlYXRlcj1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcImdyZWF0ZXJcIil9LHQucHJvdG90eXBlLmdyZWF0ZXJFcXVhbD1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcImdyZWF0ZXJFcXVhbFwiKX0sdC5wcm90b3R5cGUubG9naWNhbE5vdD1mdW5jdGlvbih0KXtyZXR1cm4gd28oXCJsb2dpY2FsTm90XCIpfSx0LnByb3RvdHlwZS5sb2dpY2FsQW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHdvKFwibG9naWNhbEFuZFwiKX0sdC5wcm90b3R5cGUubG9naWNhbE9yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHdvKFwibG9naWNhbE9yXCIpfSx0LnByb3RvdHlwZS53aGVyZT1mdW5jdGlvbih0KXtyZXR1cm4gd28oXCJ3aGVyZVwiKX0sdC5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gd28oXCJzZWxlY3RcIil9LHQucHJvdG90eXBlLnRvcGs9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3byhcInRvcGtcIil9LHQucHJvdG90eXBlLm1pbj1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcIm1pblwiKX0sdC5wcm90b3R5cGUubWluaW11bT1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcIm1pbmltdW1cIil9LHQucHJvdG90eXBlLm1vZD1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcIm1vZFwiKX0sdC5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHdvKFwibWF4XCIpfSx0LnByb3RvdHlwZS5tYXhpbXVtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHdvKFwibWF4aW11bVwiKX0sdC5wcm90b3R5cGUuYWxsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHdvKFwiYWxsXCIpfSx0LnByb3RvdHlwZS5hbnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gd28oXCJhbnlcIil9LHQucHJvdG90eXBlLnNxdWFyZWREaWZmZXJlbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHdvKFwic3F1YXJlZERpZmZlcmVuY2VcIil9LHQucHJvdG90eXBlLmNlaWw9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwiY2VpbFwiKX0sdC5wcm90b3R5cGUuZmxvb3I9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwiZmxvb3JcIil9LHQucHJvdG90eXBlLnJvdW5kPWZ1bmN0aW9uKHQpe3JldHVybiB3byhcInJvdW5kXCIpfSx0LnByb3RvdHlwZS5zaWduPWZ1bmN0aW9uKHQpe3JldHVybiB3byhcInNpZ25cIil9LHQucHJvdG90eXBlLmlzTmFOPWZ1bmN0aW9uKHQpe3JldHVybiB3byhcImlzTmFOXCIpfSx0LnByb3RvdHlwZS5pc0luZj1mdW5jdGlvbih0KXtyZXR1cm4gd28oXCJpc0luZlwiKX0sdC5wcm90b3R5cGUuaXNGaW5pdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwiaXNGaW5pdGVcIil9LHQucHJvdG90eXBlLnBvdz1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcInBvd1wiKX0sdC5wcm90b3R5cGUuZXhwPWZ1bmN0aW9uKHQpe3JldHVybiB3byhcImV4cFwiKX0sdC5wcm90b3R5cGUuZXhwbTE9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwiZXhwbTFcIil9LHQucHJvdG90eXBlLnNvZnRtYXg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gd28oXCJzb2Z0bWF4XCIpfSx0LnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwibG9nXCIpfSx0LnByb3RvdHlwZS5sb2cxcD1mdW5jdGlvbih0KXtyZXR1cm4gd28oXCJsb2cxcFwiKX0sdC5wcm90b3R5cGUuc3FydD1mdW5jdGlvbih0KXtyZXR1cm4gd28oXCJzcXJ0XCIpfSx0LnByb3RvdHlwZS5yc3FydD1mdW5jdGlvbih0KXtyZXR1cm4gd28oXCJyc3FydFwiKX0sdC5wcm90b3R5cGUuc3F1YXJlPWZ1bmN0aW9uKHQpe3JldHVybiB3byhcInNxdWFyZVwiKX0sdC5wcm90b3R5cGUucmVjaXByb2NhbD1mdW5jdGlvbih0KXtyZXR1cm4gd28oXCJyZWNpcHJvY2FsXCIpfSx0LnByb3RvdHlwZS5yZWx1PWZ1bmN0aW9uKHQpe3JldHVybiB3byhcInJlbHVcIil9LHQucHJvdG90eXBlLnJlbHU2PWZ1bmN0aW9uKHQpe3JldHVybiB3byhcInJlbHU2XCIpfSx0LnByb3RvdHlwZS5wcmVsdT1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcInByZWx1XCIpfSx0LnByb3RvdHlwZS5lbHU9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwiZWx1XCIpfSx0LnByb3RvdHlwZS5lbHVEZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gd28oXCJlbHVEZXJcIil9LHQucHJvdG90eXBlLnNlbHU9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwic2VsdVwiKX0sdC5wcm90b3R5cGUuaW50PWZ1bmN0aW9uKHQpe3JldHVybiB3byhcImludFwiKX0sdC5wcm90b3R5cGUuY2xpcD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHdvKFwiY2xpcFwiKX0sdC5wcm90b3R5cGUuYWJzPWZ1bmN0aW9uKHQpe3JldHVybiB3byhcImFic1wiKX0sdC5wcm90b3R5cGUuY29tcGxleEFicz1mdW5jdGlvbih0KXtyZXR1cm4gd28oXCJjb21wbGV4QWJzXCIpfSx0LnByb3RvdHlwZS5zaWdtb2lkPWZ1bmN0aW9uKHQpe3JldHVybiB3byhcInNpZ21vaWRcIil9LHQucHJvdG90eXBlLnNvZnRwbHVzPWZ1bmN0aW9uKHQpe3JldHVybiB3byhcInNvZnRwbHVzXCIpfSx0LnByb3RvdHlwZS5zaW49ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwic2luXCIpfSx0LnByb3RvdHlwZS5jb3M9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwiY29zXCIpfSx0LnByb3RvdHlwZS50YW49ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwidGFuXCIpfSx0LnByb3RvdHlwZS5hc2luPWZ1bmN0aW9uKHQpe3JldHVybiB3byhcImFzaW5cIil9LHQucHJvdG90eXBlLmFjb3M9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwiYWNvc1wiKX0sdC5wcm90b3R5cGUuYXRhbj1mdW5jdGlvbih0KXtyZXR1cm4gd28oXCJhdGFuXCIpfSx0LnByb3RvdHlwZS5hdGFuMj1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcImF0YW4yXCIpfSx0LnByb3RvdHlwZS5zaW5oPWZ1bmN0aW9uKHQpe3JldHVybiB3byhcInNpbmhcIil9LHQucHJvdG90eXBlLmNvc2g9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwiY29zaFwiKX0sdC5wcm90b3R5cGUudGFuaD1mdW5jdGlvbih0KXtyZXR1cm4gd28oXCJ0YW5oXCIpfSx0LnByb3RvdHlwZS5hc2luaD1mdW5jdGlvbih0KXtyZXR1cm4gd28oXCJhc2luaFwiKX0sdC5wcm90b3R5cGUuYWNvc2g9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwiYWNvc2hcIil9LHQucHJvdG90eXBlLmF0YW5oPWZ1bmN0aW9uKHQpe3JldHVybiB3byhcImF0YW5oXCIpfSx0LnByb3RvdHlwZS5lcmY9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwiZXJmXCIpfSx0LnByb3RvdHlwZS5zdGVwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHdvKFwic3RlcFwiKX0sdC5wcm90b3R5cGUuZnVzZWRDb252MmQ9ZnVuY3Rpb24odCl7dC5pbnB1dCx0LmZpbHRlcix0LmNvbnZJbmZvLHQuYmlhcyx0LmFjdGl2YXRpb24sdC5wcmVsdUFjdGl2YXRpb25XZWlnaHRzO3JldHVybiB3byhcImZ1c2VkQ29udjJkXCIpfSx0LnByb3RvdHlwZS5jb252MmQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3byhcImNvbnYyZFwiKX0sdC5wcm90b3R5cGUuY29udjJkRGVySW5wdXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3byhcImNvbnYyZERlcklucHV0XCIpfSx0LnByb3RvdHlwZS5jb252MmREZXJGaWx0ZXI9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3byhcImNvbnYyZERlckZpbHRlclwiKX0sdC5wcm90b3R5cGUuZnVzZWREZXB0aHdpc2VDb252MkQ9ZnVuY3Rpb24odCl7dC5pbnB1dCx0LmZpbHRlcix0LmNvbnZJbmZvLHQuYmlhcyx0LmFjdGl2YXRpb24sdC5wcmVsdUFjdGl2YXRpb25XZWlnaHRzO3JldHVybiB3byhcImZ1c2VkRGVwdGh3aXNlQ29udjJEXCIpfSx0LnByb3RvdHlwZS5kZXB0aHdpc2VDb252MkQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3byhcImRlcHRod2lzZUNvbnYyRFwiKX0sdC5wcm90b3R5cGUuZGVwdGh3aXNlQ29udjJERGVySW5wdXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3byhcImRlcHRod2lzZUNvbnYyRERlcklucHV0XCIpfSx0LnByb3RvdHlwZS5kZXB0aHdpc2VDb252MkREZXJGaWx0ZXI9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3byhcImRlcHRod2lzZUNvbnYyRERlckZpbHRlclwiKX0sdC5wcm90b3R5cGUuY29udjNkPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gd28oXCJjb252M2RcIil9LHQucHJvdG90eXBlLmNvbnYzZERlcklucHV0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gd28oXCJjb252M2REZXJJbnB1dFwiKX0sdC5wcm90b3R5cGUuY29udjNkRGVyRmlsdGVyPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gd28oXCJjb252M2REZXJGaWx0ZXJcIil9LHQucHJvdG90eXBlLm1heFBvb2w9ZnVuY3Rpb24odCxlKXtyZXR1cm4gd28oXCJtYXhQb29sXCIpfSx0LnByb3RvdHlwZS5tYXhQb29sQmFja3Byb3A9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHdvKFwibWF4UG9vbEJhY2twcm9wXCIpfSx0LnByb3RvdHlwZS5hdmdQb29sPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHdvKFwiYXZnUG9vbFwiKX0sdC5wcm90b3R5cGUuYXZnUG9vbEJhY2twcm9wPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gd28oXCJhdmdQb29sQmFja3Byb3BcIil9LHQucHJvdG90eXBlLmF2Z1Bvb2wzZD1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcImF2Z1Bvb2wzZFwiKX0sdC5wcm90b3R5cGUuYXZnUG9vbDNkQmFja3Byb3A9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3byhcImF2Z1Bvb2wzZEJhY2twcm9wXCIpfSx0LnByb3RvdHlwZS5tYXhQb29sM2Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gd28oXCJtYXhQb29sM2RcIil9LHQucHJvdG90eXBlLm1heFBvb2wzZEJhY2twcm9wPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB3byhcIm1heFBvb2wzZEJhY2twcm9wXCIpfSx0LnByb3RvdHlwZS5yZXNoYXBlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHdvKFwicmVzaGFwZVwiKX0sdC5wcm90b3R5cGUuY2FzdD1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcImNhc3RcIil9LHQucHJvdG90eXBlLnRpbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gd28oXCJ0aWxlXCIpfSx0LnByb3RvdHlwZS5wYWQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3byhcInBhZFwiKX0sdC5wcm90b3R5cGUudHJhbnNwb3NlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHdvKFwidHJhbnNwb3NlXCIpfSx0LnByb3RvdHlwZS5nYXRoZXI9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3byhcImdhdGhlclwiKX0sdC5wcm90b3R5cGUuZ2F0aGVyTkQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gd28oXCJnYXRoZXJORFwiKX0sdC5wcm90b3R5cGUuc2NhdHRlck5EPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gd28oXCJzY2F0dGVyTkRcIil9LHQucHJvdG90eXBlLmJhdGNoVG9TcGFjZU5EPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gd28oXCJiYXRjaFRvU3BhY2VORFwiKX0sdC5wcm90b3R5cGUuc3BhY2VUb0JhdGNoTkQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3byhcInNwYWNlVG9CYXRjaE5EXCIpfSx0LnByb3RvdHlwZS5yZXNpemVCaWxpbmVhcj1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gd28oXCJyZXNpemVCaWxpbmVhclwiKX0sdC5wcm90b3R5cGUucmVzaXplQmlsaW5lYXJCYWNrcHJvcD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHdvKFwicmVzaXplQmlsaW5lYXJCYWNrcHJvcFwiKX0sdC5wcm90b3R5cGUucmVzaXplTmVhcmVzdE5laWdoYm9yPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB3byhcInJlc2l6ZU5lYXJlc3ROZWlnaGJvclwiKX0sdC5wcm90b3R5cGUucmVzaXplTmVhcmVzdE5laWdoYm9yQmFja3Byb3A9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3byhcInJlc2l6ZU5lYXJlc3ROZWlnaGJvckJhY2twcm9wXCIpfSx0LnByb3RvdHlwZS5iYXRjaE5vcm1hbGl6YXRpb249ZnVuY3Rpb24odCxlLG4scixvLGEpe3JldHVybiB3byhcImJhdGNoTm9ybWFsaXphdGlvblwiKX0sdC5wcm90b3R5cGUubG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb240RD1mdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiB3byhcImxvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9uNERcIil9LHQucHJvdG90eXBlLkxSTkdyYWQ9ZnVuY3Rpb24odCxlLG4scixvLGEsaSl7cmV0dXJuIHdvKFwiTFJOR3JhZFwiKX0sdC5wcm90b3R5cGUubXVsdGlub21pYWw9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHdvKFwibXVsdGlub21pYWxcIil9LHQucHJvdG90eXBlLm9uZUhvdD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gd28oXCJvbmVIb3RcIil9LHQucHJvdG90eXBlLmN1bXN1bT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gd28oXCJjdW1zdW1cIil9LHQucHJvdG90eXBlLm5vbk1heFN1cHByZXNzaW9uPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIHdvKFwibm9uTWF4U3VwcHJlc3Npb25cIil9LHQucHJvdG90eXBlLmZmdD1mdW5jdGlvbih0KXtyZXR1cm4gd28oXCJmZnRcIil9LHQucHJvdG90eXBlLmlmZnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwiaWZmdFwiKX0sdC5wcm90b3R5cGUuY29tcGxleD1mdW5jdGlvbih0LGUpe3JldHVybiB3byhcImNvbXBsZXhcIil9LHQucHJvdG90eXBlLnJlYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwicmVhbFwiKX0sdC5wcm90b3R5cGUuaW1hZz1mdW5jdGlvbih0KXtyZXR1cm4gd28oXCJpbWFnXCIpfSx0LnByb3RvdHlwZS5jcm9wQW5kUmVzaXplPWZ1bmN0aW9uKHQsZSxuLHIsbyxhKXtyZXR1cm4gd28oXCJjcm9wQW5kUmVzaXplXCIpfSx0LnByb3RvdHlwZS5kZXB0aFRvU3BhY2U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3byhcImRlcHRoVG9TcGFjZVwiKX0sdC5wcm90b3R5cGUuc3BsaXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3byhcInNwbGl0XCIpfSx0LnByb3RvdHlwZS5zcGFyc2VUb0RlbnNlPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB3byhcInNwYXJzZVRvRGVuc2VcIil9LHQucHJvdG90eXBlLmRpYWc9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwiZGlhZ1wiKX0sdC5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHdvKFwiZmlsbFwiKX0sdC5wcm90b3R5cGUub25lc0xpa2U9ZnVuY3Rpb24odCl7cmV0dXJuIHdvKFwib25lc0xpa2VcIil9LHQucHJvdG90eXBlLnplcm9zTGlrZT1mdW5jdGlvbih0KXtyZXR1cm4gd28oXCJ6ZXJvc0xpa2VcIil9LHQucHJvdG90eXBlLmxpbnNwYWNlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gd28oXCJsaW5zcGFjZVwiKX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB3byhcImRpc3Bvc2VcIil9LHR9KCk7ZnVuY3Rpb24gd28odCl7dGhyb3cgbmV3IEVycm9yKFwiJ1wiK3QrXCInIG5vdCB5ZXQgaW1wbGVtZW50ZWQgb3Igbm90IGZvdW5kIGluIHRoZSByZWdpc3RyeS4gRGlkIHlvdSBmb3JnZXQgdG8gaW1wb3J0IHRoZSBrZXJuZWw/XCIpfWZ1bmN0aW9uIENvKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLHI9W10sbz0wO288bjtvKyspe3ZhciBhPW4tMS1vLGk9dFthXXx8MTsoZVtlLmxlbmd0aC0xLW9dfHwxKT4xJiYxPT09aSYmci51bnNoaWZ0KGEpfXJldHVybiByfWZ1bmN0aW9uIEVvKHQsZSl7Zm9yKHZhciBuPVtdLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89dFt0Lmxlbmd0aC1yLTFdLGE9ZS5sZW5ndGgtci0xLGk9ZVthXTsobnVsbD09b3x8MT09PW8mJmk+MSkmJm4udW5zaGlmdChhKX1yZXR1cm4gbn1mdW5jdGlvbiBSbyh0LGUpe2Zvcih2YXIgbj1bXSxyPU1hdGgubWF4KHQubGVuZ3RoLGUubGVuZ3RoKSxvPTA7bzxyO28rKyl7dmFyIGE9dFt0Lmxlbmd0aC1vLTFdO251bGw9PWEmJihhPTEpO3ZhciBpPWVbZS5sZW5ndGgtby0xXTtpZihudWxsPT1pJiYoaT0xKSwxPT09YSluLnVuc2hpZnQoaSk7ZWxzZSBpZigxPT09aSluLnVuc2hpZnQoYSk7ZWxzZXtpZihhIT09aSl0aHJvdyBFcnJvcihcIk9wZXJhbmRzIGNvdWxkIG5vdCBiZSBicm9hZGNhc3QgdG9nZXRoZXIgd2l0aCBzaGFwZXMgXCIrdCtcIiBhbmQgXCIrZStcIi5cIik7bi51bnNoaWZ0KGEpfX1yZXR1cm4gbn1mdW5jdGlvbiBJbyh0LGUsbixyLG8sYSxpKXt2b2lkIDA9PT1pJiYoaT1cImNoYW5uZWxzTGFzdFwiKTt2YXIgcyx1PVRvKGUpLGM9dVswXSxsPXVbMV07aWYoXCJjaGFubmVsc0xhc3RcIj09PWkpcz1bYyxsLHRbM10sdFszXV07ZWxzZXtpZihcImNoYW5uZWxzRmlyc3RcIiE9PWkpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkYXRhRm9ybWF0IFwiK2kpO3M9W2MsbCx0WzFdLHRbMV1dfXJldHVybiBTbyh0LHMsbixyLG8sYSwhMSxpKX1mdW5jdGlvbiBrbyh0LGUsbixyLG8sYSxpKXt2b2lkIDA9PT1pJiYoaT1cIk5ESFdDXCIpO3ZhciBzLHUsYz1ObyhlKSxsPWNbMF0saD1jWzFdLGY9Y1syXTtpZihcIk5ESFdDXCI9PT1pKXU9XCJjaGFubmVsc0xhc3RcIixzPVtsLGgsZix0WzRdLHRbNF1dO2Vsc2V7aWYoXCJOQ0RIV1wiIT09aSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGRhdGFGb3JtYXQgXCIraSk7dT1cImNoYW5uZWxzRmlyc3RcIixzPVtsLGgsZix0WzFdLHRbMV1dfXJldHVybiBBbyh0LHMsbixyLG8sITEsdSxhKX1mdW5jdGlvbiBTbyh0LGUsbixyLG8sYSxpLHMpe3ZvaWQgMD09PWkmJihpPSExKSx2b2lkIDA9PT1zJiYocz1cImNoYW5uZWxzTGFzdFwiKTt2YXIgdT1bLTEsLTEsLTEsLTFdLGM9dVswXSxsPXVbMV0saD11WzJdLGY9dVszXTtpZihcImNoYW5uZWxzTGFzdFwiPT09cyljPXRbMF0sbD10WzFdLGg9dFsyXSxmPXRbM107ZWxzZXtpZihcImNoYW5uZWxzRmlyc3RcIiE9PXMpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkYXRhRm9ybWF0IFwiK3MpO2M9dFswXSxmPXRbMV0sbD10WzJdLGg9dFszXX12YXIgZCxwPWVbMF0sdj1lWzFdLG09ZVszXSxnPVRvKG4pLHk9Z1swXSx4PWdbMV0sYj1UbyhyKSx3PWJbMF0sRT1iWzFdLFI9Rm8ocCx3KSxJPUZvKHYsRSksaz1mdW5jdGlvbih0LGUsbixyLG8sYSxpLHMpe3ZhciB1LGMsbDtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7dT17dG9wOnQsYm90dG9tOnQsbGVmdDp0LHJpZ2h0OnQsdHlwZTowPT09dD9cIlZBTElEXCI6XCJOVU1CRVJcIn07dmFyIGg9ZnVuY3Rpb24odCxlLG4scixvKXtudWxsPT1yJiYocj1Ebyh0LGUsbikpO3ZhciBhPXRbMF0saT10WzFdLHM9X28oKGEtZSsyKnIpL24rMSxvKTtDKEEocyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgb3V0cHV0ICMgb2Ygcm93cyAoXCIrcytcIikgbXVzdCBiZSBhbiBpbnRlZ2VyLiBDaGFuZ2UgdGhlIHN0cmlkZSBhbmQvb3IgemVybyBwYWQgcGFyYW1ldGVyc1wifSkpO3ZhciB1PV9vKChpLWUrMipyKS9uKzEsbyk7cmV0dXJuIEMoQSh1KSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBvdXRwdXQgIyBvZiBjb2x1bW5zIChcIit1K1wiKSBtdXN0IGJlIGFuIGludGVnZXIuIENoYW5nZSB0aGUgc3RyaWRlIGFuZC9vciB6ZXJvIHBhZCBwYXJhbWV0ZXJzXCJ9KSksW3MsdV19KFtlLG5dLGEscix0LHMpO2M9aFswXSxsPWhbMV19ZWxzZSBpZihcInNhbWVcIj09PXQpe2M9TWF0aC5jZWlsKGUvciksbD1NYXRoLmNlaWwobi9vKTt2YXIgZj1NYXRoLm1heCgwLChjLTEpKnIrYS1lKSxkPU1hdGgubWF4KDAsKGwtMSkqbytpLW4pLHA9TWF0aC5mbG9vcihmLzIpLHY9Zi1wLG09TWF0aC5mbG9vcihkLzIpO3U9e3RvcDpwLGJvdHRvbTp2LGxlZnQ6bSxyaWdodDpkLW0sdHlwZTpcIlNBTUVcIn19ZWxzZXtpZihcInZhbGlkXCIhPT10KXRocm93IEVycm9yKFwiVW5rbm93biBwYWRkaW5nIHBhcmFtZXRlcjogXCIrdCk7dT17dG9wOjAsYm90dG9tOjAsbGVmdDowLHJpZ2h0OjAsdHlwZTpcIlZBTElEXCJ9LGM9TWF0aC5jZWlsKChlLWErMSkvciksbD1NYXRoLmNlaWwoKG4taSsxKS9vKX1yZXR1cm57cGFkSW5mbzp1LG91dEhlaWdodDpjLG91dFdpZHRoOmx9fShvLGwsaCx5LHgsUixJLGEpLFM9ay5wYWRJbmZvLEQ9ay5vdXRIZWlnaHQsVD1rLm91dFdpZHRoLE49aT9tKmY6bTtyZXR1cm5cImNoYW5uZWxzRmlyc3RcIj09PXM/ZD1bYyxOLEQsVF06XCJjaGFubmVsc0xhc3RcIj09PXMmJihkPVtjLEQsVCxOXSkse2JhdGNoU2l6ZTpjLGRhdGFGb3JtYXQ6cyxpbkhlaWdodDpsLGluV2lkdGg6aCxpbkNoYW5uZWxzOmYsb3V0SGVpZ2h0OkQsb3V0V2lkdGg6VCxvdXRDaGFubmVsczpOLHBhZEluZm86UyxzdHJpZGVIZWlnaHQ6eSxzdHJpZGVXaWR0aDp4LGZpbHRlckhlaWdodDpwLGZpbHRlcldpZHRoOnYsZWZmZWN0aXZlRmlsdGVySGVpZ2h0OlIsZWZmZWN0aXZlRmlsdGVyV2lkdGg6SSxkaWxhdGlvbkhlaWdodDp3LGRpbGF0aW9uV2lkdGg6RSxpblNoYXBlOnQsb3V0U2hhcGU6ZCxmaWx0ZXJTaGFwZTplfX1mdW5jdGlvbiBBbyh0LGUsbixyLG8sYSxpLHMpe3ZvaWQgMD09PWEmJihhPSExKSx2b2lkIDA9PT1pJiYoaT1cImNoYW5uZWxzTGFzdFwiKTt2YXIgdT1bLTEsLTEsLTEsLTEsLTFdLGM9dVswXSxsPXVbMV0saD11WzJdLGY9dVszXSxkPXVbNF07aWYoXCJjaGFubmVsc0xhc3RcIj09PWkpYz10WzBdLGw9dFsxXSxoPXRbMl0sZj10WzNdLGQ9dFs0XTtlbHNle2lmKFwiY2hhbm5lbHNGaXJzdFwiIT09aSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGRhdGFGb3JtYXQgXCIraSk7Yz10WzBdLGQ9dFsxXSxsPXRbMl0saD10WzNdLGY9dFs0XX12YXIgcCx2PWVbMF0sbT1lWzFdLGc9ZVsyXSx5PWVbNF0seD1ObyhuKSxiPXhbMF0sdz14WzFdLEU9eFsyXSxSPU5vKHIpLEk9UlswXSxrPVJbMV0sUz1SWzJdLEQ9Rm8odixJKSxUPUZvKG0sayksTj1GbyhnLFMpLEY9ZnVuY3Rpb24odCxlLG4scixvLGEsaSxzLHUsYyxsKXt2YXIgaCxmLGQscDtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7aD17dG9wOnQsYm90dG9tOnQsbGVmdDp0LHJpZ2h0OnQsZnJvbnQ6dCxiYWNrOnQsdHlwZTowPT09dD9cIlZBTElEXCI6XCJOVU1CRVJcIn07dmFyIHY9ZnVuY3Rpb24odCxlLG4scixvLGEpe251bGw9PW8mJihvPURvKHQsZSxyKSk7dmFyIGk9dFswXSxzPXRbMV0sdT10WzJdLGM9X28oKGktZSsyKm8pL3IrMSxhKTtDKEEoYyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgb3V0cHV0ICMgb2YgZGVwdGhzIChcIitjK1wiKSBtdXN0IGJlIGFuIGludGVnZXIuIENoYW5nZSB0aGUgc3RyaWRlIGFuZC9vciB6ZXJvIHBhZCBwYXJhbWV0ZXJzXCJ9KSk7dmFyIGw9X28oKHMtZSsyKm8pL3IrMSxhKTtDKEEobCksKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgb3V0cHV0ICMgb2Ygcm93cyAoXCIrbCtcIikgbXVzdCBiZSBhbiBpbnRlZ2VyLiBDaGFuZ2UgdGhlIHN0cmlkZSBhbmQvb3IgemVybyBwYWQgcGFyYW1ldGVyc1wifSkpO3ZhciBoPV9vKCh1LWUrMipvKS9yKzEsYSk7cmV0dXJuIEMoQShoKSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBvdXRwdXQgIyBvZiBjb2x1bW5zIChcIitoK1wiKSBtdXN0IGJlIGFuIGludGVnZXIuIENoYW5nZSB0aGUgc3RyaWRlIGFuZC9vciB6ZXJvIHBhZCBwYXJhbWV0ZXJzXCJ9KSksW2MsbCxoLG5dfShbZSxuLHIsMV0scywxLG8sdCxsKTtmPXZbMF0sZD12WzFdLHA9dlsyXX1lbHNlIGlmKFwic2FtZVwiPT09dCl7Zj1NYXRoLmNlaWwoZS9vKSxkPU1hdGguY2VpbChuL2EpLHA9TWF0aC5jZWlsKHIvaSk7dmFyIG09KGYtMSkqbytzLWUsZz0oZC0xKSphK3Utbix5PShwLTEpKmkrYy1yLHg9TWF0aC5mbG9vcihtLzIpLGI9bS14LHc9TWF0aC5mbG9vcihnLzIpLEU9Zy13LFI9TWF0aC5mbG9vcih5LzIpO2g9e3RvcDp3LGJvdHRvbTpFLGxlZnQ6UixyaWdodDp5LVIsZnJvbnQ6eCxiYWNrOmIsdHlwZTpcIlNBTUVcIn19ZWxzZXtpZihcInZhbGlkXCIhPT10KXRocm93IEVycm9yKFwiVW5rbm93biBwYWRkaW5nIHBhcmFtZXRlcjogXCIrdCk7aD17dG9wOjAsYm90dG9tOjAsbGVmdDowLHJpZ2h0OjAsZnJvbnQ6MCxiYWNrOjAsdHlwZTpcIlZBTElEXCJ9LGY9TWF0aC5jZWlsKChlLXMrMSkvbyksZD1NYXRoLmNlaWwoKG4tdSsxKS9hKSxwPU1hdGguY2VpbCgoci1jKzEpL2kpfXJldHVybntwYWRJbmZvOmgsb3V0RGVwdGg6ZixvdXRIZWlnaHQ6ZCxvdXRXaWR0aDpwfX0obyxsLGgsZixiLHcsRSxELFQsTixzKSxfPUYucGFkSW5mbyxPPUYub3V0RGVwdGgsTT1GLm91dEhlaWdodCxCPUYub3V0V2lkdGgsUD1hP3kqZDp5O3JldHVyblwiY2hhbm5lbHNGaXJzdFwiPT09aT9wPVtjLFAsTyxNLEJdOlwiY2hhbm5lbHNMYXN0XCI9PT1pJiYocD1bYyxPLE0sQixQXSkse2JhdGNoU2l6ZTpjLGRhdGFGb3JtYXQ6aSxpbkRlcHRoOmwsaW5IZWlnaHQ6aCxpbldpZHRoOmYsaW5DaGFubmVsczpkLG91dERlcHRoOk8sb3V0SGVpZ2h0Ok0sb3V0V2lkdGg6QixvdXRDaGFubmVsczpQLHBhZEluZm86XyxzdHJpZGVEZXB0aDpiLHN0cmlkZUhlaWdodDp3LHN0cmlkZVdpZHRoOkUsZmlsdGVyRGVwdGg6dixmaWx0ZXJIZWlnaHQ6bSxmaWx0ZXJXaWR0aDpnLGVmZmVjdGl2ZUZpbHRlckRlcHRoOkQsZWZmZWN0aXZlRmlsdGVySGVpZ2h0OlQsZWZmZWN0aXZlRmlsdGVyV2lkdGg6TixkaWxhdGlvbkRlcHRoOkksZGlsYXRpb25IZWlnaHQ6ayxkaWxhdGlvbldpZHRoOlMsaW5TaGFwZTp0LG91dFNoYXBlOnAsZmlsdGVyU2hhcGU6ZX19ZnVuY3Rpb24gRG8odCxlLG4scil7dm9pZCAwPT09ciYmKHI9MSk7dmFyIG89Rm8oZSxyKTtyZXR1cm4gTWF0aC5mbG9vcigodFswXSoobi0xKS1uK28pLzIpfWZ1bmN0aW9uIFRvKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P1t0LHQsdF06Mj09PXQubGVuZ3RoP1t0WzBdLHRbMV0sMV06dH1mdW5jdGlvbiBObyh0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD9bdCx0LHRdOnR9ZnVuY3Rpb24gRm8odCxlKXtyZXR1cm4gZTw9MT90OnQrKHQtMSkqKGUtMSl9ZnVuY3Rpb24gX28odCxlKXtpZighZSlyZXR1cm4gdDtzd2l0Y2goZSl7Y2FzZVwicm91bmRcIjpyZXR1cm4gTWF0aC5yb3VuZCh0KTtjYXNlXCJjZWlsXCI6cmV0dXJuIE1hdGguY2VpbCh0KTtjYXNlXCJmbG9vclwiOnJldHVybiBNYXRoLmZsb29yKHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biByb3VuZGluZ01vZGUgXCIrZSl9fWZ1bmN0aW9uIE9vKHQpe3ZhciBlPVRvKHQpLG49ZVswXSxyPWVbMV0sbz1lWzJdO3JldHVybiAxPT09biYmMT09PXImJjE9PT1vfWZ1bmN0aW9uIE1vKHQsZSl7cmV0dXJuIE9vKHQpfHxPbyhlKX1mdW5jdGlvbiBCbyh0KXtpZihcIk5IV0NcIj09PXQpcmV0dXJuXCJjaGFubmVsc0xhc3RcIjtpZihcIk5DSFdcIj09PXQpcmV0dXJuXCJjaGFubmVsc0ZpcnN0XCI7dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkYXRhRm9ybWF0IFwiK3QpfWZ1bmN0aW9uIFBvKHQsZSxuKXtpZihcImNvbXBsZXg2NFwiPT09ZSl7aWYoXCJjb21wbGV4NjRcIj09PXQuZHR5cGUpcmV0dXJuIHQuY2xvbmUoKTt2YXIgcj1Hbih0LnNoYXBlKSxvPXQudG9GbG9hdCgpLGE9bi5jb21wbGV4KG8scik7cmV0dXJuIHIuZGlzcG9zZSgpLG8uZGlzcG9zZSgpLGF9aWYoIVUodC5kdHlwZSxlKSlyZXR1cm4gTHQubWFrZVRlbnNvckZyb21EYXRhSWQodC5kYXRhSWQsdC5zaGFwZSxlKTtpZihcImNvbXBsZXg2NFwiPT09dC5kdHlwZSl7dmFyIGk9bi5yZWFsKHQpO2E9aS5jYXN0KGUpO3JldHVybiBpLmRpc3Bvc2UoKSxhfWlmKFwiaW50MzJcIj09PWUpcmV0dXJuIG4uaW50KHQpO2lmKFwiYm9vbFwiPT09ZSl7dmFyIHM9T24oMCx0LmR0eXBlKTthPW4ubm90RXF1YWwodCxzKTtyZXR1cm4gcy5kaXNwb3NlKCksYX10aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBpbiBDYXN0OiBmYWlsZWQgdG8gY2FzdCBcIit0LmR0eXBlK1wiIHRvIFwiK2UpfWZ1bmN0aW9uIExvKHQsZSl7cmV0dXJuIEx0Lm1ha2VUZW5zb3JGcm9tRGF0YUlkKHQuZGF0YUlkLGUsdC5kdHlwZSl9ZnVuY3Rpb24gV28odCxlLG4pe3ZhciByPShlLXQpLyhuLTEpLG89dHQobixcImZsb2F0MzJcIik7b1swXT10O2Zvcih2YXIgYT0xO2E8by5sZW5ndGg7YSsrKW9bYV09b1thLTFdK3I7cmV0dXJuIE1uKG8sXCJmbG9hdDMyXCIpfXZhciBVbz1PYmplY3QuZnJlZXplKHtjYXN0VGVuc29yOlBvLHJlc2hhcGVUZW5zb3I6TG8sbGluc3BhY2VJbXBsOldvLHVwY2FzdFR5cGU6RHQsYXhlc0FyZUlubmVyTW9zdERpbXM6eW4sY29tYmluZUxvY2F0aW9uczp4bixjb21wdXRlT3V0QW5kUmVkdWNlU2hhcGVzOmJuLGV4cGFuZFNoYXBlVG9LZWVwRGltOnduLGFzc2VydEF4ZXNBcmVJbm5lck1vc3REaW1zOkNuLGdldEF4ZXNQZXJtdXRhdGlvbjpFbixnZXRVbmRvQXhlc1Blcm11dGF0aW9uOlJuLGdldElubmVyTW9zdEF4ZXM6SW4sZ2V0QnJvYWRjYXN0RGltczpDbyxnZXRSZWR1Y3Rpb25BeGVzOkVvLGFzc2VydEFuZEdldEJyb2FkY2FzdFNoYXBlOlJvLGFzc2VydFBhcmFtc0NvbnNpc3RlbnQ6a24sY29tcHV0ZU91dFNoYXBlOlNuLGNvbXB1dGVQb29sMkRJbmZvOklvLGNvbXB1dGVQb29sM0RJbmZvOmtvLGNvbXB1dGVDb252MkRJbmZvOlNvLGNvbXB1dGVDb252M0RJbmZvOkFvLGNvbXB1dGVEZWZhdWx0UGFkOkRvLHR1cGxlVmFsdWVzQXJlT25lOk9vLGVpdGhlclN0cmlkZXNPckRpbGF0aW9uc0FyZU9uZTpNbyxjb252ZXJ0Q29udjJERGF0YUZvcm1hdDpCbyxQQVJBTExFTElaRV9USFJFU0hPTEQ6WXIsY29tcHV0ZU9wdGltYWxXaW5kb3dTaXplOiRyfSk7ZnVuY3Rpb24gVm8odCxlKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBtZXJnZSByZWFsIGFuZCBpbWFnIGFycmF5cyBvZiBkaWZmZXJlbnQgbGVuZ3Rocy4gcmVhbDpcIit0Lmxlbmd0aCtcIiwgaW1hZzogXCIrZS5sZW5ndGgrXCIuXCIpO2Zvcih2YXIgbj1uZXcgRmxvYXQzMkFycmF5KDIqdC5sZW5ndGgpLHI9MDtyPG4ubGVuZ3RoO3IrPTIpbltyXT10W3IvMl0sbltyKzFdPWVbci8yXTtyZXR1cm4gbn1mdW5jdGlvbiB6byh0LGUpe3JldHVybntyZWFsOnRbMiplXSxpbWFnOnRbMiplKzFdfX1mdW5jdGlvbiBHbyh0LGUsbixyKXt0WzIqcl09ZSx0WzIqcisxXT1ufWZ1bmN0aW9uIEhvKHQsZSxuKXt2YXIgcj0obj8yOi0yKSpNYXRoLlBJKih0L2UpO3JldHVybntyZWFsOk1hdGguY29zKHIpLGltYWc6TWF0aC5zaW4ocil9fWZ1bmN0aW9uIHFvKHQsZSxuKXt2YXIgcj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0wLG89dC5sZW5ndGgsYT0wLGk9ITE7Zm9yKDtyPG87KXt2YXIgcz1uKGUsdFthPXIrKG8tcj4+PjEpXSk7cz4wP3I9YSsxOihvPWEsaT0hcyl9cmV0dXJuIGk/cjotci0xfSh0LGUsbnx8S28pfSh0LGUsbiksbz1yPDA/LShyKzEpOnI7dC5zcGxpY2UobywwLGUpfWZ1bmN0aW9uIEtvKHQsZSl7cmV0dXJuIHQ+ZT8xOnQ8ZT8tMTowfWZ1bmN0aW9uIGpvKHQsZSxuLHIsbyl7cmV0dXJuIFlvKHQsZSxuLHIsbywwKS5zZWxlY3RlZEluZGljZXN9ZnVuY3Rpb24gWG8odCxlLG4scixvLGEpe3ZhciBpPVlvKHQsZSxuLHIsbyxhLCEwKTtyZXR1cm4gaS5udW1WYWxpZE91dHB1dHMuZGlzcG9zZSgpLHtzZWxlY3RlZEluZGljZXM6aS5zZWxlY3RlZEluZGljZXMsc2VsZWN0ZWRTY29yZXM6aS5zZWxlY3RlZFNjb3Jlc319ZnVuY3Rpb24gWW8odCxlLG4scixvLGEsaSxzKXt2b2lkIDA9PT1pJiYoaT0hMSksdm9pZCAwPT09cyYmKHM9ITEpO2Zvcih2YXIgdT1BcnJheS5mcm9tKGUpLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm57c2NvcmU6dCxib3hJbmRleDplLHN1cHByZXNzQmVnaW5JbmRleDowfX0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNjb3JlPm99KSkuc29ydChKbyksYz1hPjA/LS41L2E6MCxsPVtdLGg9W107bC5sZW5ndGg8biYmdS5sZW5ndGg+MDspe3ZhciBmPXUucG9wKCksZD1mLnNjb3JlLHA9Zi5ib3hJbmRleCx2PWYuc3VwcHJlc3NCZWdpbkluZGV4O2lmKGQ8bylicmVhaztmb3IodmFyIG09ITEsZz1sLmxlbmd0aC0xO2c+PXY7LS1nKXt2YXIgeT0kbyh0LHAsbFtnXSk7aWYoeT49cil7bT0hMDticmVha31pZihmLnNjb3JlPWYuc2NvcmUqUW8ocixjLHkpLGYuc2NvcmU8PW8pYnJlYWt9Zi5zdXBwcmVzc0JlZ2luSW5kZXg9bC5sZW5ndGgsbXx8KGYuc2NvcmU9PT1kPyhsLnB1c2gocCksaC5wdXNoKGYuc2NvcmUpKTpmLnNjb3JlPm8mJnFvKHUsZixKbykpfXZhciB4PWwubGVuZ3RoO3JldHVybiBzJiYobC5maWxsKDAseCksaC5maWxsKDAseCkpLHtzZWxlY3RlZEluZGljZXM6TW4obCxcImludDMyXCIpLHNlbGVjdGVkU2NvcmVzOk1uKGgsXCJmbG9hdDMyXCIpLG51bVZhbGlkT3V0cHV0czpPbih4LFwiaW50MzJcIil9fWZ1bmN0aW9uICRvKHQsZSxuKXt2YXIgcj10LnN1YmFycmF5KDQqZSw0KmUrNCksbz10LnN1YmFycmF5KDQqbiw0Km4rNCksYT1NYXRoLm1pbihyWzBdLHJbMl0pLGk9TWF0aC5taW4oclsxXSxyWzNdKSxzPU1hdGgubWF4KHJbMF0sclsyXSksdT1NYXRoLm1heChyWzFdLHJbM10pLGM9TWF0aC5taW4ob1swXSxvWzJdKSxsPU1hdGgubWluKG9bMV0sb1szXSksaD1NYXRoLm1heChvWzBdLG9bMl0pLGY9TWF0aC5tYXgob1sxXSxvWzNdKSxkPShzLWEpKih1LWkpLHA9KGgtYykqKGYtbCk7aWYoZDw9MHx8cDw9MClyZXR1cm4gMDt2YXIgdj1NYXRoLm1heChhLGMpLG09TWF0aC5tYXgoaSxsKSxnPU1hdGgubWluKHMsaCkseT1NYXRoLm1pbih1LGYpLHg9TWF0aC5tYXgoZy12LDApKk1hdGgubWF4KHktbSwwKTtyZXR1cm4geC8oZCtwLXgpfWZ1bmN0aW9uIFFvKHQsZSxuKXt2YXIgcj1NYXRoLmV4cChlKm4qbik7cmV0dXJuIG48PXQ/cjowfWZ1bmN0aW9uIEpvKHQsZSl7cmV0dXJuIHQuc2NvcmUtZS5zY29yZXx8dC5zY29yZT09PWUuc2NvcmUmJmUuYm94SW5kZXgtdC5ib3hJbmRleH1mdW5jdGlvbiBabyh0LGUsbil7dmFyIHI9bmV3IEFycmF5KHQucmFuaykuZmlsbCgwKSxvPXQuc2hhcGUuc2xpY2UoKTtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe29bbl09ZTt2YXIgYT10LnNsaWNlKHIsbyk7cmV0dXJuIHJbbl0rPWUsYX0pKX1mdW5jdGlvbiB0YSh0LGUpe2Zvcih2YXIgbj1uZXcgQXJyYXkodC5yYW5rKSxyPTA7cjxuLmxlbmd0aDtyKyspbltyXT10LnNoYXBlW3JdKmVbcl07dmFyIG89ZHIobix0LmR0eXBlKTtmb3Iocj0wO3I8by52YWx1ZXMubGVuZ3RoOysrcil7Zm9yKHZhciBhPW8uaW5kZXhUb0xvYyhyKSxpPW5ldyBBcnJheSh0LnJhbmspLHM9MDtzPGkubGVuZ3RoO3MrKylpW3NdPWFbc10ldC5zaGFwZVtzXTt2YXIgdT10LmxvY1RvSW5kZXgoaSk7by52YWx1ZXNbcl09dC52YWx1ZXNbdV19cmV0dXJuIG8udG9UZW5zb3IoKX1mdW5jdGlvbiBlYSh0LGUsbixyLG8pe2Zvcih2YXIgYT1lW2UubGVuZ3RoLTFdLGk9W3QubGVuZ3RoL2EsYV0scz1pWzBdLHU9aVsxXSxjPUIobixzKnIpLGw9QihcImludDMyXCIscypyKSxoPTA7aDxzO2grKyl7Zm9yKHZhciBmPWgqdSxkPXQuc3ViYXJyYXkoZixmK3UpLHA9W10sdj0wO3Y8ZC5sZW5ndGg7disrKXAucHVzaCh7dmFsdWU6ZFt2XSxpbmRleDp2fSk7cC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLnZhbHVlLXQudmFsdWV9KSk7dmFyIG09aCpyLGc9Yy5zdWJhcnJheShtLG0rcikseT1sLnN1YmFycmF5KG0sbStyKTtmb3Iodj0wO3Y8cjt2KyspZ1t2XT1wW3ZdLnZhbHVlLHlbdl09cFt2XS5pbmRleH12YXIgeD1lLnNsaWNlKCk7cmV0dXJuIHhbeC5sZW5ndGgtMV09cixbRm4oYyx4LG4pLEZuKGwseCxcImludDMyXCIpXX1mdW5jdGlvbiBuYSh0LGUpe2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspZVtyXSYmbi5wdXNoKHIpO3ZhciBvPWRyKHQsXCJpbnQzMlwiKSxhPWRyKFtuLmxlbmd0aCx0Lmxlbmd0aF0sXCJpbnQzMlwiKTtmb3Iocj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgaT1vLmluZGV4VG9Mb2MobltyXSkscz1yKnQubGVuZ3RoO2EudmFsdWVzLnNldChpLHMpfXJldHVybiBhLnRvVGVuc29yKCl9dmFyIHJhPWZ1bmN0aW9uKHQsZSl7dGhpcy5vdXRwdXRTaGFwZT1bXSx0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy52YXJpYWJsZU5hbWVzPWUubWFwKChmdW5jdGlvbih0LGUpe3JldHVyblwiVFwiK2V9KSk7dmFyIG49W107dGhpcy52YXJpYWJsZU5hbWVzLmZvckVhY2goKGZ1bmN0aW9uKHQpe24ucHVzaChcImZsb2F0IHZcIit0K1wiID0gZ2V0XCIrdCtcIkF0T3V0Q29vcmRzKCk7XCIpfSkpO3ZhciByPXRoaXMudmFyaWFibGVOYW1lcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwidlwiK3R9KSkuam9pbihcIiArIFwiKTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrbi5qb2luKFwiXFxuICAgICAgICBcIikrXCJcXG5cXG4gICAgICAgIGZsb2F0IHJlc3VsdCA9IFwiK3IrXCI7XFxuICAgICAgICBzZXRPdXRwdXQocmVzdWx0KTtcXG4gICAgICB9XFxuICAgIFwifSxvYT1mdW5jdGlvbih0LGUpe3RoaXMub3V0cHV0U2hhcGU9W10sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsdGhpcy5vdXRwdXRTaGFwZT10LHRoaXMudmFyaWFibGVOYW1lcz1lLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm5cIlRcIitlfSkpO3ZhciBuPVtdO3RoaXMudmFyaWFibGVOYW1lcy5mb3JFYWNoKChmdW5jdGlvbih0KXtuLnB1c2goXCJ2ZWM0IHZcIit0K1wiID0gZ2V0XCIrdCtcIkF0T3V0Q29vcmRzKCk7XCIpfSkpO3ZhciByPXRoaXMudmFyaWFibGVOYW1lcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwidlwiK3R9KSkuam9pbihcIiArIFwiKTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrbi5qb2luKFwiXFxuICAgICAgICBcIikrXCJcXG5cXG4gICAgICAgIHZlYzQgcmVzdWx0ID0gXCIrcitcIjtcXG4gICAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICAgIH1cXG4gICAgXCJ9LGFhPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXTt2YXIgcj10LndpbmRvd1NpemUsbz10LmJhdGNoU2l6ZSxhPXQuaW5TaXplLGk9TWF0aC5jZWlsKGEvcik7bnx8dGhpcy52YXJpYWJsZU5hbWVzLnB1c2goXCJiZXN0SW5kaWNlc0FcIiksdGhpcy5vdXRwdXRTaGFwZT1bbyxpXTt2YXIgcz1cIm1heFwiPT09ZT9cIj5cIjpcIjxcIix1PW4/XCJpbk9mZnNldCArIGk7XCI6XCJyb3VuZChnZXRCZXN0SW5kaWNlc0EoYmF0Y2gsIGluT2Zmc2V0ICsgaSkpO1wiO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjMiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiYXRjaCA9IGNvb3Jkc1swXTtcXG4gICAgICAgIGludCBvdXRJZHggPSBjb29yZHNbMV07XFxuICAgICAgICBpbnQgaW5PZmZzZXQgPSBvdXRJZHggKiBcIityK1wiO1xcblxcbiAgICAgICAgaW50IGJlc3RJbmRleCA9IGluT2Zmc2V0O1xcbiAgICAgICAgZmxvYXQgYmVzdFZhbHVlID0gZ2V0QShiYXRjaCwgYmVzdEluZGV4KTtcXG5cXG4gICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgXCIrcitcIjsgaSsrKSB7XFxuICAgICAgICAgIGludCBpbklkeCA9IFwiK3UrXCI7XFxuICAgICAgICAgIGZsb2F0IGNhbmRpZGF0ZSA9IGdldEEoYmF0Y2gsIGluSWR4KTtcXG4gICAgICAgICAgaWYgKGNhbmRpZGF0ZSBcIitzK1wiIGJlc3RWYWx1ZSkge1xcbiAgICAgICAgICAgIGJlc3RWYWx1ZSA9IGNhbmRpZGF0ZTtcXG4gICAgICAgICAgICBiZXN0SW5kZXggPSBpbklkeDtcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgc2V0T3V0cHV0KGZsb2F0KGJlc3RJbmRleCkpO1xcbiAgICAgIH1cXG4gICAgXCJ9O2Z1bmN0aW9uIGlhKHQsZSl7cmV0dXJuW1wieFwiLFwieVwiLFwielwiLFwid1wiLFwidVwiLFwidlwiXS5zbGljZSgwLGUpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQrXCIuXCIrZX0pKX1mdW5jdGlvbiBzYSh0LGUpe3JldHVybiAxPT09ZT9bdF06aWEodCxlKX1mdW5jdGlvbiB1YSgpe3ZhciB0LGUsbixyLG8sYSxzLHUsYyxsO3JldHVybiAyPT09aSgpLmdldE51bWJlcihcIldFQkdMX1ZFUlNJT05cIik/KHQ9XCIjdmVyc2lvbiAzMDAgZXNcIixlPVwiaW5cIixuPVwib3V0XCIscj1cImluXCIsbz1cInRleHR1cmVcIixhPVwib3V0cHV0Q29sb3JcIixzPVwib3V0IHZlYzQgb3V0cHV0Q29sb3I7XCIsdT1cIlxcbiAgICAgIGJvb2wgaXNuYW5fY3VzdG9tKGZsb2F0IHZhbCkge1xcbiAgICAgICAgcmV0dXJuICh2YWwgPiAwLjAgfHwgdmFsIDwgMC4wKSA/IGZhbHNlIDogdmFsICE9IDAuMDtcXG4gICAgICB9XFxuXFxuICAgICAgYnZlYzQgaXNuYW5fY3VzdG9tKHZlYzQgdmFsKSB7XFxuICAgICAgICByZXR1cm4gYnZlYzQoaXNuYW5fY3VzdG9tKHZhbC54KSxcXG4gICAgICAgICAgaXNuYW5fY3VzdG9tKHZhbC55KSwgaXNuYW5fY3VzdG9tKHZhbC56KSwgaXNuYW5fY3VzdG9tKHZhbC53KSk7XFxuICAgICAgfVxcblxcbiAgICAgICNkZWZpbmUgaXNuYW4odmFsdWUpIGlzbmFuX2N1c3RvbSh2YWx1ZSlcXG4gICAgXCIsYz1cIlwiLGw9XCJcXG4gICAgICAjZGVmaW5lIHJvdW5kKHZhbHVlKSBuZXdSb3VuZCh2YWx1ZSlcXG4gICAgICBpbnQgbmV3Um91bmQoZmxvYXQgdmFsdWUpIHtcXG4gICAgICAgIHJldHVybiBpbnQoZmxvb3IodmFsdWUgKyAwLjUpKTtcXG4gICAgICB9XFxuXFxuICAgICAgaXZlYzQgbmV3Um91bmQodmVjNCB2YWx1ZSkge1xcbiAgICAgICAgcmV0dXJuIGl2ZWM0KGZsb29yKHZhbHVlICsgdmVjNCgwLjUpKSk7XFxuICAgICAgfVxcbiAgICBcIik6KHQ9XCJcIixlPVwiYXR0cmlidXRlXCIsbj1cInZhcnlpbmdcIixyPVwidmFyeWluZ1wiLG89XCJ0ZXh0dXJlMkRcIixhPVwiZ2xfRnJhZ0NvbG9yXCIscz1cIlwiLHU9XCJcXG4gICAgICAjZGVmaW5lIGlzbmFuKHZhbHVlKSBpc25hbl9jdXN0b20odmFsdWUpXFxuICAgICAgYm9vbCBpc25hbl9jdXN0b20oZmxvYXQgdmFsKSB7XFxuICAgICAgICByZXR1cm4gKHZhbCA+IDAuIHx8IHZhbCA8IDEuIHx8IHZhbCA9PSAwLikgPyBmYWxzZSA6IHRydWU7XFxuICAgICAgfVxcbiAgICAgIGJ2ZWM0IGlzbmFuX2N1c3RvbSh2ZWM0IHZhbCkge1xcbiAgICAgICAgcmV0dXJuIGJ2ZWM0KGlzbmFuKHZhbC54KSwgaXNuYW4odmFsLnkpLCBpc25hbih2YWwueiksIGlzbmFuKHZhbC53KSk7XFxuICAgICAgfVxcbiAgICBcIixjPVwiXFxuICAgICAgdW5pZm9ybSBmbG9hdCBJTkZJTklUWTtcXG5cXG4gICAgICBib29sIGlzaW5mKGZsb2F0IHZhbCkge1xcbiAgICAgICAgcmV0dXJuIGFicyh2YWwpID09IElORklOSVRZO1xcbiAgICAgIH1cXG4gICAgICBidmVjNCBpc2luZih2ZWM0IHZhbCkge1xcbiAgICAgICAgcmV0dXJuIGVxdWFsKGFicyh2YWwpLCB2ZWM0KElORklOSVRZKSk7XFxuICAgICAgfVxcbiAgICBcIixsPVwiXFxuICAgICAgaW50IHJvdW5kKGZsb2F0IHZhbHVlKSB7XFxuICAgICAgICByZXR1cm4gaW50KGZsb29yKHZhbHVlICsgMC41KSk7XFxuICAgICAgfVxcblxcbiAgICAgIGl2ZWM0IHJvdW5kKHZlYzQgdmFsdWUpIHtcXG4gICAgICAgIHJldHVybiBpdmVjNChmbG9vcih2YWx1ZSArIHZlYzQoMC41KSkpO1xcbiAgICAgIH1cXG4gICAgXCIpLHt2ZXJzaW9uOnQsYXR0cmlidXRlOmUsdmFyeWluZ1ZzOm4sdmFyeWluZ0ZzOnIsdGV4dHVyZTJEOm8sb3V0cHV0OmEsZGVmaW5lT3V0cHV0OnMsZGVmaW5lU3BlY2lhbE5hTjp1LGRlZmluZVNwZWNpYWxJbmY6YyxkZWZpbmVSb3VuZDpsfX1mdW5jdGlvbiBjYSh0LGUsbil7dm9pZCAwPT09biYmKG49XCJpbmRleFwiKTt2YXIgcj0kKGUpO3JldHVybiByLm1hcCgoZnVuY3Rpb24oZSxvKXtyZXR1cm5cImludCBcIit0W29dK1wiID0gXCIrbitcIiAvIFwiK2UrXCI7IFwiKyhvPT09ci5sZW5ndGgtMT9cImludCBcIit0W28rMV0rXCIgPSBcIituK1wiIC0gXCIrdFtvXStcIiAqIFwiK2U6XCJpbmRleCAtPSBcIit0W29dK1wiICogXCIrZSkrXCI7XCJ9KSkuam9pbihcIlwiKX1mdW5jdGlvbiBsYSh0KXt2YXIgZT0kKHQpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9TdHJpbmcoKX0pKTtyZXR1cm5cIlxcbiAgaW50IGdldEZsYXRJbmRleChpdmVjMyBjb29yZHMpIHtcXG4gICAgcmV0dXJuIGNvb3Jkcy54ICogXCIrZVswXStcIiArIGNvb3Jkcy55ICogXCIrZVsxXStcIiArIGNvb3Jkcy56O1xcbiAgfVxcblwifXZhciBoYT1cIlxcbiAgY29uc3QgZmxvYXQgRkxPQVRfTUFYID0gMS43MDE0MTE4NGUzODtcXG4gIGNvbnN0IGZsb2F0IEZMT0FUX01JTiA9IDEuMTc1NDk0MzVlLTM4O1xcblxcbiAgbG93cCB2ZWM0IGVuY29kZV9mbG9hdChoaWdocCBmbG9hdCB2KSB7XFxuICAgIGlmIChpc25hbih2KSkge1xcbiAgICAgIHJldHVybiB2ZWM0KDI1NSwgMjU1LCAyNTUsIDI1NSk7XFxuICAgIH1cXG5cXG4gICAgaGlnaHAgZmxvYXQgYXYgPSBhYnModik7XFxuXFxuICAgIGlmKGF2IDwgRkxPQVRfTUlOKSB7XFxuICAgICAgcmV0dXJuIHZlYzQoMC4wLCAwLjAsIDAuMCwgMC4wKTtcXG4gICAgfSBlbHNlIGlmKHYgPiBGTE9BVF9NQVgpIHtcXG4gICAgICByZXR1cm4gdmVjNCgwLjAsIDAuMCwgMTI4LjAsIDEyNy4wKSAvIDI1NS4wO1xcbiAgICB9IGVsc2UgaWYodiA8IC1GTE9BVF9NQVgpIHtcXG4gICAgICByZXR1cm4gdmVjNCgwLjAsIDAuMCwgIDEyOC4wLCAyNTUuMCkgLyAyNTUuMDtcXG4gICAgfVxcblxcbiAgICBoaWdocCB2ZWM0IGMgPSB2ZWM0KDAsMCwwLDApO1xcblxcbiAgICBoaWdocCBmbG9hdCBlID0gZmxvb3IobG9nMihhdikpO1xcbiAgICBoaWdocCBmbG9hdCBtID0gZXhwMihmcmFjdChsb2cyKGF2KSkpIC0gMS4wO1xcblxcbiAgICBjWzJdID0gZmxvb3IoMTI4LjAgKiBtKTtcXG4gICAgbSAtPSBjWzJdIC8gMTI4LjA7XFxuICAgIGNbMV0gPSBmbG9vcigzMjc2OC4wICogbSk7XFxuICAgIG0gLT0gY1sxXSAvIDMyNzY4LjA7XFxuICAgIGNbMF0gPSBmbG9vcig4Mzg4NjA4LjAgKiBtKTtcXG5cXG4gICAgaGlnaHAgZmxvYXQgZWJpYXMgPSBlICsgMTI3LjA7XFxuICAgIGNbM10gPSBmbG9vcihlYmlhcyAvIDIuMCk7XFxuICAgIGViaWFzIC09IGNbM10gKiAyLjA7XFxuICAgIGNbMl0gKz0gZmxvb3IoZWJpYXMpICogMTI4LjA7XFxuXFxuICAgIGNbM10gKz0gMTI4LjAgKiBzdGVwKDAuMCwgLXYpO1xcblxcbiAgICByZXR1cm4gYyAvIDI1NS4wO1xcbiAgfVxcblwiO2Z1bmN0aW9uIGZhKHQsZSxuLHIpe3ZhciBvPVtdO3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9ayh0LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUpO3Quc2hhcGVJbmZvLmlzVW5pZm9ybT9vLnB1c2goXCJ1bmlmb3JtIGZsb2F0IFwiK3QubmFtZSsoZT4xP1wiW1wiK2UrXCJdXCI6XCJcIikrXCI7XCIpOihvLnB1c2goXCJ1bmlmb3JtIHNhbXBsZXIyRCBcIit0Lm5hbWUrXCI7XCIpLG8ucHVzaChcInVuaWZvcm0gaW50IG9mZnNldFwiK3QubmFtZStcIjtcIikpfSkpO3ZhciBhLGkscz1vLmpvaW4oXCJcXG5cIiksdT10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0hMSk7dmFyIHI9XCJcIjtyKz1uP3BhKHQpOmRhKHQpO3ZhciBvPXQuc2hhcGVJbmZvLmxvZ2ljYWxTaGFwZSxhPWUubG9naWNhbFNoYXBlO28ubGVuZ3RoPD1hLmxlbmd0aCYmKHIrPW4/ZnVuY3Rpb24odCxlKXt2YXIgbixyPXQubmFtZSxvPXIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrci5zbGljZSgxKSxhPVwiZ2V0XCIrbytcIkF0T3V0Q29vcmRzXCIsaT10LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUubGVuZ3RoLHM9ZS5sb2dpY2FsU2hhcGUubGVuZ3RoLHU9Q28odC5zaGFwZUluZm8ubG9naWNhbFNoYXBlLGUubG9naWNhbFNoYXBlKSxjPXdhKHMpLGw9cy1pLGg9W1wieFwiLFwieVwiLFwielwiLFwid1wiLFwidVwiLFwidlwiXTtuPTA9PT1pP1wiXCI6czwyJiZ1Lmxlbmd0aD49MT9cImNvb3JkcyA9IDA7XCI6dS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwiY29vcmRzLlwiK2hbdCtsXStcIiA9IDA7XCJ9KSkuam9pbihcIlxcblwiKTt2YXIgZj1cIlwiO2Y9czwyJiZpPjA/XCJjb29yZHNcIjp0LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUubWFwKChmdW5jdGlvbih0LGUpe3JldHVyblwiY29vcmRzLlwiK2hbZStsXX0pKS5qb2luKFwiLCBcIik7dmFyIGQ9XCJyZXR1cm4gb3V0cHV0VmFsdWU7XCIscD0xPT09ayh0LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUpLHY9MT09PWsoZS5sb2dpY2FsU2hhcGUpO2lmKDEhPT1pfHxwfHx2KXtpZihwJiYhdilkPTE9PT1zP1wiXFxuICAgICAgICByZXR1cm4gdmVjNChvdXRwdXRWYWx1ZS54LCBvdXRwdXRWYWx1ZS54LCAwLiwgMC4pO1xcbiAgICAgIFwiOlwiXFxuICAgICAgICByZXR1cm4gdmVjNChvdXRwdXRWYWx1ZS54KTtcXG4gICAgICBcIjtlbHNlIGlmKHUubGVuZ3RoKXt2YXIgbT1pLTIsZz1pLTE7dS5pbmRleE9mKG0pPi0xJiZ1LmluZGV4T2YoZyk+LTE/ZD1cInJldHVybiB2ZWM0KG91dHB1dFZhbHVlLngpO1wiOnUuaW5kZXhPZihtKT4tMT9kPVwicmV0dXJuIHZlYzQob3V0cHV0VmFsdWUueCwgb3V0cHV0VmFsdWUueSwgb3V0cHV0VmFsdWUueCwgb3V0cHV0VmFsdWUueSk7XCI6dS5pbmRleE9mKGcpPi0xJiYoZD1cInJldHVybiB2ZWM0KG91dHB1dFZhbHVlLnh4LCBvdXRwdXRWYWx1ZS56eik7XCIpfX1lbHNlIGQ9XCJcXG4gICAgICByZXR1cm4gdmVjNChvdXRwdXRWYWx1ZS54eSwgb3V0cHV0VmFsdWUueHkpO1xcbiAgICBcIjtyZXR1cm5cIlxcbiAgICB2ZWM0IFwiK2ErXCIoKSB7XFxuICAgICAgXCIrYytcIiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICBcIituK1wiXFxuICAgICAgdmVjNCBvdXRwdXRWYWx1ZSA9IGdldFwiK28rXCIoXCIrZitcIik7XFxuICAgICAgXCIrZCtcIlxcbiAgICB9XFxuICBcIn0odCxlKTpmdW5jdGlvbih0LGUpe3ZhciBuPXQubmFtZSxyPW4uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSxvPVwiZ2V0XCIrcitcIkF0T3V0Q29vcmRzXCIsYT1lLnRleFNoYXBlLGk9dC5zaGFwZUluZm8udGV4U2hhcGUscz10LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUubGVuZ3RoLHU9ZS5sb2dpY2FsU2hhcGUubGVuZ3RoO2lmKCF0LnNoYXBlSW5mby5pc1VuaWZvcm0mJnM9PT11JiZudWxsPT10LnNoYXBlSW5mby5mbGF0T2Zmc2V0JiZTKGksYSkpcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIitvK1wiKCkge1xcbiAgICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrbitcIiwgcmVzdWx0VVYpO1xcbiAgICAgIH1cXG4gICAgXCI7dmFyIGMsbD13YSh1KSxoPUNvKHQuc2hhcGVJbmZvLmxvZ2ljYWxTaGFwZSxlLmxvZ2ljYWxTaGFwZSksZj11LXMsZD1bXCJ4XCIsXCJ5XCIsXCJ6XCIsXCJ3XCIsXCJ1XCIsXCJ2XCJdO2M9MD09PXM/XCJcIjp1PDImJmgubGVuZ3RoPj0xP1wiY29vcmRzID0gMDtcIjpoLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuXCJjb29yZHMuXCIrZFt0K2ZdK1wiID0gMDtcIn0pKS5qb2luKFwiXFxuXCIpO3ZhciBwPVwiXCI7cD11PDImJnM+MD9cImNvb3Jkc1wiOnQuc2hhcGVJbmZvLmxvZ2ljYWxTaGFwZS5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJjb29yZHMuXCIrZFtlK2ZdfSkpLmpvaW4oXCIsIFwiKTtyZXR1cm5cIlxcbiAgICBmbG9hdCBcIitvK1wiKCkge1xcbiAgICAgIFwiK2wrXCIgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgXCIrYytcIlxcbiAgICAgIHJldHVybiBnZXRcIityK1wiKFwiK3ArXCIpO1xcbiAgICB9XFxuICBcIn0odCxlKSk7cmV0dXJuIHJ9KHQsZSxyKX0pKS5qb2luKFwiXFxuXCIpLGM9ZS50ZXhTaGFwZSxsPXVhKCksaD1mdW5jdGlvbih0KXtyZXR1cm5cIlxcbiAgICBmbG9hdCBzYW1wbGVUZXh0dXJlKHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlciwgdmVjMiB1dikge1xcbiAgICAgIHJldHVybiBcIit0LnRleHR1cmUyRCtcIih0ZXh0dXJlU2FtcGxlciwgdXYpLnI7XFxuICAgIH1cXG4gIFwifShsKSxmPWZ1bmN0aW9uKHQpe3JldHVybiB0LnZlcnNpb24rXCJcXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiAgICBwcmVjaXNpb24gaGlnaHAgaW50O1xcbiAgICBwcmVjaXNpb24gaGlnaHAgc2FtcGxlcjJEO1xcbiAgICBcIit0LnZhcnlpbmdGcytcIiB2ZWMyIHJlc3VsdFVWO1xcbiAgICBcIit0LmRlZmluZU91dHB1dCtcIlxcbiAgICBjb25zdCB2ZWMyIGhhbGZDUiA9IHZlYzIoMC41LCAwLjUpO1xcblxcbiAgICBzdHJ1Y3QgaXZlYzVcXG4gICAge1xcbiAgICAgIGludCB4O1xcbiAgICAgIGludCB5O1xcbiAgICAgIGludCB6O1xcbiAgICAgIGludCB3O1xcbiAgICAgIGludCB1O1xcbiAgICB9O1xcblxcbiAgICBzdHJ1Y3QgaXZlYzZcXG4gICAge1xcbiAgICAgIGludCB4O1xcbiAgICAgIGludCB5O1xcbiAgICAgIGludCB6O1xcbiAgICAgIGludCB3O1xcbiAgICAgIGludCB1O1xcbiAgICAgIGludCB2O1xcbiAgICB9O1xcblxcbiAgICB1bmlmb3JtIGZsb2F0IE5BTjtcXG4gICAgXCIrdC5kZWZpbmVTcGVjaWFsTmFOK1wiXFxuICAgIFwiK3QuZGVmaW5lU3BlY2lhbEluZitcIlxcbiAgICBcIit0LmRlZmluZVJvdW5kK1wiXFxuXFxuICAgIGludCBpbW9kKGludCB4LCBpbnQgeSkge1xcbiAgICAgIHJldHVybiB4IC0geSAqICh4IC8geSk7XFxuICAgIH1cXG5cXG4gICAgaW50IGlkaXYoaW50IGEsIGludCBiLCBmbG9hdCBzaWduKSB7XFxuICAgICAgaW50IHJlcyA9IGEgLyBiO1xcbiAgICAgIGludCBtb2QgPSBpbW9kKGEsIGIpO1xcbiAgICAgIGlmIChzaWduIDwgMC4gJiYgbW9kICE9IDApIHtcXG4gICAgICAgIHJlcyAtPSAxO1xcbiAgICAgIH1cXG4gICAgICByZXR1cm4gcmVzO1xcbiAgICB9XFxuXFxuICAgIC8vQmFzZWQgb24gdGhlIHdvcmsgb2YgRGF2ZSBIb3NraW5zXFxuICAgIC8vaHR0cHM6Ly93d3cuc2hhZGVydG95LmNvbS92aWV3LzRkalNSV1xcbiAgICAjZGVmaW5lIEhBU0hTQ0FMRTEgNDQzLjg5NzVcXG4gICAgZmxvYXQgcmFuZG9tKGZsb2F0IHNlZWQpe1xcbiAgICAgIHZlYzIgcCA9IHJlc3VsdFVWICogc2VlZDtcXG4gICAgICB2ZWMzIHAzICA9IGZyYWN0KHZlYzMocC54eXgpICogSEFTSFNDQUxFMSk7XFxuICAgICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7XFxuICAgICAgcmV0dXJuIGZyYWN0KChwMy54ICsgcDMueSkgKiBwMy56KTtcXG4gICAgfVxcblxcbiAgICBcIit2YStcIlxcbiAgICBcIittYStcIlxcbiAgICBcIitnYStcIlxcbiAgXCJ9KGwpO3JldHVybiBlLmlzUGFja2VkPyhhPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuXCJcXG4gICAgaW50IGdldE91dHB1dENvb3JkcygpIHtcXG4gICAgICByZXR1cm4gMDtcXG4gICAgfVxcbiAgXCI7Y2FzZSAxOnJldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPVtNYXRoLmNlaWwoZVswXS8yKSxNYXRoLmNlaWwoZVsxXS8yKV07aWYoMT09PW5bMF0pcmV0dXJuXCJcXG4gICAgICBpbnQgZ2V0T3V0cHV0Q29vcmRzKCkge1xcbiAgICAgICAgcmV0dXJuIDIgKiBpbnQocmVzdWx0VVYueCAqIFwiK25bMV0rXCIuMCk7XFxuICAgICAgfVxcbiAgICBcIjtpZigxPT09blsxXSlyZXR1cm5cIlxcbiAgICAgIGludCBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgICByZXR1cm4gMiAqIGludChyZXN1bHRVVi55ICogXCIrblswXStcIi4wKTtcXG4gICAgICB9XFxuICAgIFwiO3JldHVyblwiXFxuICAgIGludCBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihyZXN1bHRVVi55eCAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyKFwiK25bMF0rXCIsIFwiK25bMV0rXCIpKTtcXG4gICAgICByZXR1cm4gMiAqIChyZXNUZXhSQy54ICogXCIrblsxXStcIiArIHJlc1RleFJDLnkpO1xcbiAgICB9XFxuICBcIn0oMCxlKTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49W01hdGguY2VpbChlWzBdLzIpLE1hdGguY2VpbChlWzFdLzIpXTtpZihTKHQsZSkpcmV0dXJuXCJcXG4gICAgICBpdmVjMiBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgICByZXR1cm4gMiAqIGl2ZWMyKHJlc3VsdFVWLnl4ICogdmVjMihcIituWzBdK1wiLCBcIituWzFdK1wiKSk7XFxuICAgICAgfVxcbiAgICBcIjt2YXIgcj1NYXRoLmNlaWwodFsxXS8yKTtyZXR1cm5cIlxcbiAgICBpdmVjMiBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihyZXN1bHRVVi55eCAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyKFwiK25bMF0rXCIsIFwiK25bMV0rXCIpKTtcXG5cXG4gICAgICBpbnQgaW5kZXggPSByZXNUZXhSQy54ICogXCIrblsxXStcIiArIHJlc1RleFJDLnk7XFxuICAgICAgaW50IHIgPSAyICogKGluZGV4IC8gXCIrcitcIik7XFxuICAgICAgaW50IGMgPSBpbW9kKGluZGV4LCBcIityK1wiKSAqIDI7XFxuXFxuICAgICAgcmV0dXJuIGl2ZWMyKHIsIGMpO1xcbiAgICB9XFxuICBcIn0odCxlKTtjYXNlIDM6cmV0dXJuIG49dCxyPWUsbz1bTWF0aC5jZWlsKHJbMF0vMiksTWF0aC5jZWlsKHJbMV0vMildLGE9TWF0aC5jZWlsKG5bMl0vMiksaT1hKk1hdGguY2VpbChuWzFdLzIpLFwiXFxuICAgIGl2ZWMzIGdldE91dHB1dENvb3JkcygpIHtcXG4gICAgICBpdmVjMiByZXNUZXhSQyA9IGl2ZWMyKHJlc3VsdFVWLnl4ICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoXCIrb1swXStcIiwgXCIrb1sxXStcIikpO1xcbiAgICAgIGludCBpbmRleCA9IHJlc1RleFJDLnggKiBcIitvWzFdK1wiICsgcmVzVGV4UkMueTtcXG5cXG4gICAgICBpbnQgYiA9IGluZGV4IC8gXCIraStcIjtcXG4gICAgICBpbmRleCAtPSBiICogXCIraStcIjtcXG5cXG4gICAgICBpbnQgciA9IDIgKiAoaW5kZXggLyBcIithK1wiKTtcXG4gICAgICBpbnQgYyA9IGltb2QoaW5kZXgsIFwiK2ErXCIpICogMjtcXG5cXG4gICAgICByZXR1cm4gaXZlYzMoYiwgciwgYyk7XFxuICAgIH1cXG4gIFwiO2RlZmF1bHQ6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtNYXRoLmNlaWwoZVswXS8yKSxNYXRoLmNlaWwoZVsxXS8yKV0scj1NYXRoLmNlaWwodFt0Lmxlbmd0aC0xXS8yKSxvPXIqTWF0aC5jZWlsKHRbdC5sZW5ndGgtMl0vMiksYT1vLGk9XCJcIixzPVwiYiwgciwgY1wiLHU9Mjt1PHQubGVuZ3RoLTE7dSsrKWEqPXRbdC5sZW5ndGgtdS0xXSxpPVwiXFxuICAgICAgaW50IGJcIit1K1wiID0gaW5kZXggLyBcIithK1wiO1xcbiAgICAgIGluZGV4IC09IGJcIit1K1wiICogXCIrYStcIjtcXG4gICAgXCIraSxzPVwiYlwiK3UrXCIsIFwiK3M7cmV0dXJuXCJcXG4gICAgaXZlY1wiK3QubGVuZ3RoK1wiIGdldE91dHB1dENvb3JkcygpIHtcXG4gICAgICBpdmVjMiByZXNUZXhSQyA9IGl2ZWMyKHJlc3VsdFVWLnl4ICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoXCIrblswXStcIiwgXCIrblsxXStcIikpO1xcbiAgICAgIGludCBpbmRleCA9IHJlc1RleFJDLnggKiBcIituWzFdK1wiICsgcmVzVGV4UkMueTtcXG5cXG4gICAgICBcIitpK1wiXFxuXFxuICAgICAgaW50IGIgPSBpbmRleCAvIFwiK28rXCI7XFxuICAgICAgaW5kZXggLT0gYiAqIFwiK28rXCI7XFxuXFxuICAgICAgaW50IHIgPSAyICogKGluZGV4IC8gXCIrcitcIik7XFxuICAgICAgaW50IGMgPSBpbW9kKGluZGV4LCBcIityK1wiKSAqIDI7XFxuXFxuICAgICAgcmV0dXJuIGl2ZWNcIit0Lmxlbmd0aCtcIihcIitzK1wiKTtcXG4gICAgfVxcbiAgXCJ9KHQsZSl9dmFyIG4scixvLGEsaX0oZS5sb2dpY2FsU2hhcGUsYyksaT1mdW5jdGlvbih0KXtyZXR1cm5cIlxcbiAgICB2b2lkIHNldE91dHB1dCh2ZWM0IHZhbCkge1xcbiAgICAgIFwiK3Qub3V0cHV0K1wiID0gdmFsO1xcbiAgICB9XFxuICBcIn0obCkpOihhPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuXCJcXG4gICAgaW50IGdldE91dHB1dENvb3JkcygpIHtcXG4gICAgICByZXR1cm4gMDtcXG4gICAgfVxcbiAgXCI7Y2FzZSAxOnJldHVybiBmdW5jdGlvbih0LGUpe2lmKDE9PT1lWzBdKXJldHVyblwiXFxuICAgICAgaW50IGdldE91dHB1dENvb3JkcygpIHtcXG4gICAgICAgIHJldHVybiBpbnQocmVzdWx0VVYueCAqIFwiK2VbMV0rXCIuMCk7XFxuICAgICAgfVxcbiAgICBcIjtpZigxPT09ZVsxXSlyZXR1cm5cIlxcbiAgICAgIGludCBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgICByZXR1cm4gaW50KHJlc3VsdFVWLnkgKiBcIitlWzBdK1wiLjApO1xcbiAgICAgIH1cXG4gICAgXCI7cmV0dXJuXCJcXG4gICAgaW50IGdldE91dHB1dENvb3JkcygpIHtcXG4gICAgICBpdmVjMiByZXNUZXhSQyA9IGl2ZWMyKHJlc3VsdFVWLnl4ICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoXCIrZVswXStcIiwgXCIrZVsxXStcIikpO1xcbiAgICAgIHJldHVybiByZXNUZXhSQy54ICogXCIrZVsxXStcIiArIHJlc1RleFJDLnk7XFxuICAgIH1cXG4gIFwifSgwLGUpO2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihTKHQsZSkpcmV0dXJuXCJcXG4gICAgICBpdmVjMiBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgICByZXR1cm4gaXZlYzIocmVzdWx0VVYueXggKiB2ZWMyKFwiK2VbMF0rXCIsIFwiK2VbMV0rXCIpKTtcXG4gICAgICB9XFxuICAgIFwiO2lmKDE9PT10WzFdKXJldHVyblwiXFxuICAgICAgaXZlYzIgZ2V0T3V0cHV0Q29vcmRzKCkge1xcbiAgICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihyZXN1bHRVVi55eCAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoXCIrZVswXStcIiwgXCIrZVsxXStcIikpO1xcbiAgICAgICAgaW50IGluZGV4ID0gcmVzVGV4UkMueCAqIFwiK2VbMV0rXCIgKyByZXNUZXhSQy55O1xcbiAgICAgICAgcmV0dXJuIGl2ZWMyKGluZGV4LCAwKTtcXG4gICAgICB9XFxuICAgIFwiO2lmKDE9PT10WzBdKXJldHVyblwiXFxuICAgICAgaXZlYzIgZ2V0T3V0cHV0Q29vcmRzKCkge1xcbiAgICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihyZXN1bHRVVi55eCAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoXCIrZVswXStcIiwgXCIrZVsxXStcIikpO1xcbiAgICAgICAgaW50IGluZGV4ID0gcmVzVGV4UkMueCAqIFwiK2VbMV0rXCIgKyByZXNUZXhSQy55O1xcbiAgICAgICAgcmV0dXJuIGl2ZWMyKDAsIGluZGV4KTtcXG4gICAgICB9XFxuICAgIFwiO3JldHVyblwiXFxuICAgIGl2ZWMyIGdldE91dHB1dENvb3JkcygpIHtcXG4gICAgICBpdmVjMiByZXNUZXhSQyA9IGl2ZWMyKHJlc3VsdFVWLnl4ICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoXCIrZVswXStcIiwgXCIrZVsxXStcIikpO1xcbiAgICAgIGludCBpbmRleCA9IHJlc1RleFJDLnggKiBcIitlWzFdK1wiICsgcmVzVGV4UkMueTtcXG4gICAgICBpbnQgciA9IGluZGV4IC8gXCIrdFsxXStcIjtcXG4gICAgICBpbnQgYyA9IGluZGV4IC0gciAqIFwiK3RbMV0rXCI7XFxuICAgICAgcmV0dXJuIGl2ZWMyKHIsIGMpO1xcbiAgICB9XFxuICBcIn0odCxlKTtjYXNlIDM6cmV0dXJuIG49ZSxyPWNhKFtcInJcIixcImNcIixcImRcIl0sdCksXCJcXG4gICAgaXZlYzMgZ2V0T3V0cHV0Q29vcmRzKCkge1xcbiAgICAgIGl2ZWMyIHJlc1RleFJDID0gaXZlYzIocmVzdWx0VVYueXggKlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVjMihcIituWzBdK1wiLCBcIituWzFdK1wiKSk7XFxuICAgICAgaW50IGluZGV4ID0gcmVzVGV4UkMueCAqIFwiK25bMV0rXCIgKyByZXNUZXhSQy55O1xcbiAgICAgIFwiK3IrXCJcXG4gICAgICByZXR1cm4gaXZlYzMociwgYywgZCk7XFxuICAgIH1cXG4gIFwiO2Nhc2UgNDpyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj1jYShbXCJyXCIsXCJjXCIsXCJkXCIsXCJkMlwiXSx0KTtyZXR1cm5cIlxcbiAgICBpdmVjNCBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihyZXN1bHRVVi55eCAqXFxuICAgICAgICB2ZWMyKFwiK2VbMF0rXCIsIFwiK2VbMV0rXCIpKTtcXG4gICAgICBpbnQgaW5kZXggPSByZXNUZXhSQy54ICogXCIrZVsxXStcIiArIHJlc1RleFJDLnk7XFxuICAgICAgXCIrbitcIlxcbiAgICAgIHJldHVybiBpdmVjNChyLCBjLCBkLCBkMik7XFxuICAgIH1cXG4gIFwifSh0LGUpO2Nhc2UgNTpyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj1jYShbXCJyXCIsXCJjXCIsXCJkXCIsXCJkMlwiLFwiZDNcIl0sdCk7cmV0dXJuXCJcXG4gICAgaXZlYzUgZ2V0T3V0cHV0Q29vcmRzKCkge1xcbiAgICAgIGl2ZWMyIHJlc1RleFJDID0gaXZlYzIocmVzdWx0VVYueXggKiB2ZWMyKFwiK2VbMF0rXCIsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIitlWzFdK1wiKSk7XFxuXFxuICAgICAgaW50IGluZGV4ID0gcmVzVGV4UkMueCAqIFwiK2VbMV0rXCIgKyByZXNUZXhSQy55O1xcblxcbiAgICAgIFwiK24rXCJcXG5cXG4gICAgICBpdmVjNSBvdXRTaGFwZSA9IGl2ZWM1KHIsIGMsIGQsIGQyLCBkMyk7XFxuICAgICAgcmV0dXJuIG91dFNoYXBlO1xcbiAgICB9XFxuICBcIn0odCxlKTtjYXNlIDY6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49Y2EoW1wiclwiLFwiY1wiLFwiZFwiLFwiZDJcIixcImQzXCIsXCJkNFwiXSx0KTtyZXR1cm5cIlxcbiAgICBpdmVjNiBnZXRPdXRwdXRDb29yZHMoKSB7XFxuICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihyZXN1bHRVVi55eCAqXFxuICAgICAgICB2ZWMyKFwiK2VbMF0rXCIsIFwiK2VbMV0rXCIpKTtcXG4gICAgICBpbnQgaW5kZXggPSByZXNUZXhSQy54ICogXCIrZVsxXStcIiArIHJlc1RleFJDLnk7XFxuXFxuICAgICAgXCIrbitcIlxcblxcbiAgICAgIGl2ZWM2IHJlc3VsdCA9IGl2ZWM2KHIsIGMsIGQsIGQyLCBkMywgZDQpO1xcbiAgICAgIHJldHVybiByZXN1bHQ7XFxuICAgIH1cXG4gIFwifSh0LGUpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKHQubGVuZ3RoK1wiLUQgb3V0cHV0IHNhbXBsaW5nIGlzIG5vdCB5ZXQgc3VwcG9ydGVkXCIpfXZhciBuLHJ9KGUubG9naWNhbFNoYXBlLGMpLGk9ZnVuY3Rpb24odCl7cmV0dXJuXCJcXG4gICAgdm9pZCBzZXRPdXRwdXQoZmxvYXQgdmFsKSB7XFxuICAgICAgXCIrdC5vdXRwdXQrXCIgPSB2ZWM0KHZhbCwgMCwgMCwgMCk7XFxuICAgIH1cXG4gIFwifShsKSksciYmKGYrPXlhKSxbZixoLGkscyxhLHUsbl0uam9pbihcIlxcblwiKX1mdW5jdGlvbiBkYSh0KXt2YXIgZT10LnNoYXBlSW5mby5sb2dpY2FsU2hhcGU7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXQubmFtZSxuPVwiZ2V0XCIrZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpO2lmKHQuc2hhcGVJbmZvLmlzVW5pZm9ybSlyZXR1cm5cImZsb2F0IFwiK24rXCIoKSB7cmV0dXJuIFwiK2UrXCI7fVwiO3ZhciByPXQuc2hhcGVJbmZvLnRleFNoYXBlLG89clswXSxhPXJbMV07aWYoMT09PW8mJjE9PT1hKXJldHVyblwiXFxuICAgICAgZmxvYXQgXCIrbitcIigpIHtcXG4gICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK2UrXCIsIGhhbGZDUik7XFxuICAgICAgfVxcbiAgICBcIjt2YXIgaT10LnNoYXBlSW5mby50ZXhTaGFwZSxzPWlbMF0sdT1pWzFdLGM9eGEoZSk7cmV0dXJuXCJcXG4gICAgZmxvYXQgXCIrbitcIigpIHtcXG4gICAgICB2ZWMyIHV2ID0gdXZGcm9tRmxhdChcIitzK1wiLCBcIit1K1wiLCBcIitjK1wiKTtcXG4gICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZShcIitlK1wiLCB1dik7XFxuICAgIH1cXG4gIFwifSh0KTtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXQubmFtZSxuPVwiZ2V0XCIrZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpO2lmKHQuc2hhcGVJbmZvLmlzVW5pZm9ybSlyZXR1cm5cIlxcbiAgICAgIGZsb2F0IFwiK24rXCIoaW50IGluZGV4KSB7XFxuICAgICAgICBcIitiYSh0KStcIlxcbiAgICAgIH1cXG4gICAgXCI7dmFyIHI9dC5zaGFwZUluZm8udGV4U2hhcGUsbz1yWzBdLGE9clsxXTtpZigxPT09YSYmMT09PW8pcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIituK1wiKGludCBpbmRleCkge1xcbiAgICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrZStcIiwgaGFsZkNSKTtcXG4gICAgICB9XFxuICAgIFwiO3ZhciBpPXhhKGUpO2lmKDE9PT1hKXJldHVyblwiXFxuICAgICAgZmxvYXQgXCIrbitcIihpbnQgaW5kZXgpIHtcXG4gICAgICAgIHZlYzIgdXYgPSB2ZWMyKDAuNSwgKGZsb2F0KGluZGV4ICsgXCIraStcIikgKyAwLjUpIC8gXCIrbytcIi4wKTtcXG4gICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK2UrXCIsIHV2KTtcXG4gICAgICB9XFxuICAgIFwiO2lmKDE9PT1vKXJldHVyblwiXFxuICAgICAgZmxvYXQgXCIrbitcIihpbnQgaW5kZXgpIHtcXG4gICAgICAgIHZlYzIgdXYgPSB2ZWMyKChmbG9hdChpbmRleCArIFwiK2krXCIpICsgMC41KSAvIFwiK2ErXCIuMCwgMC41KTtcXG4gICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK2UrXCIsIHV2KTtcXG4gICAgICB9XFxuICAgIFwiO3JldHVyblwiXFxuICAgIGZsb2F0IFwiK24rXCIoaW50IGluZGV4KSB7XFxuICAgICAgdmVjMiB1diA9IHV2RnJvbUZsYXQoXCIrbytcIiwgXCIrYStcIiwgaW5kZXggKyBcIitpK1wiKTtcXG4gICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZShcIitlK1wiLCB1dik7XFxuICAgIH1cXG4gIFwifSh0KTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXQuc2hhcGVJbmZvLmxvZ2ljYWxTaGFwZSxuPXQubmFtZSxyPVwiZ2V0XCIrbi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStuLnNsaWNlKDEpLG89dC5zaGFwZUluZm8udGV4U2hhcGU7aWYobnVsbCE9byYmUyhlLG8pKXt2YXIgYT1vWzBdLGk9b1sxXTtyZXR1cm5cIlxcbiAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wpIHtcXG4gICAgICB2ZWMyIHV2ID0gKHZlYzIoY29sLCByb3cpICsgaGFsZkNSKSAvIHZlYzIoXCIraStcIi4wLCBcIithK1wiLjApO1xcbiAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK24rXCIsIHV2KTtcXG4gICAgfVxcbiAgXCJ9dmFyIHM9TShlKSx1PXMubmV3U2hhcGUsYz1zLmtlcHREaW1zLGw9dTtpZihsLmxlbmd0aDxlLmxlbmd0aCl7dmFyIGg9Q2EodCxsKTtyZXR1cm5cIlxcbiAgICAgIFwiK2RhKGgpK1wiXFxuICAgICAgZmxvYXQgXCIrcitcIihpbnQgcm93LCBpbnQgY29sKSB7XFxuICAgICAgICByZXR1cm4gXCIrcitcIihcIitFYShbXCJyb3dcIixcImNvbFwiXSxjKStcIik7XFxuICAgICAgfVxcbiAgICBcIn1pZih0LnNoYXBlSW5mby5pc1VuaWZvcm0pcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wpIHtcXG4gICAgICAgIGludCBpbmRleCA9IHJvdW5kKGRvdCh2ZWMyKHJvdywgY29sKSwgdmVjMihcIitlWzFdK1wiLCAxKSkpO1xcbiAgICAgICAgXCIrYmEodCkrXCJcXG4gICAgICB9XFxuICAgIFwiO3ZhciBmPW9bMF0sZD1vWzFdLHA9eGEobik7aWYoMT09PWQpcmV0dXJuXCJcXG4gICAgZmxvYXQgXCIrcitcIihpbnQgcm93LCBpbnQgY29sKSB7XFxuICAgICAgZmxvYXQgaW5kZXggPSBkb3QodmVjMyhyb3csIGNvbCwgXCIrcCtcIiksIHZlYzMoXCIrZVsxXStcIiwgMSwgMSkpO1xcbiAgICAgIHZlYzIgdXYgPSB2ZWMyKDAuNSwgKGluZGV4ICsgMC41KSAvIFwiK2YrXCIuMCk7XFxuICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrbitcIiwgdXYpO1xcbiAgICB9XFxuICBcIjtpZigxPT09ZilyZXR1cm5cIlxcbiAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wpIHtcXG4gICAgICBmbG9hdCBpbmRleCA9IGRvdCh2ZWMzKHJvdywgY29sLCBcIitwK1wiKSwgdmVjMyhcIitlWzFdK1wiLCAxLCAxKSk7XFxuICAgICAgdmVjMiB1diA9IHZlYzIoKGluZGV4ICsgMC41KSAvIFwiK2QrXCIuMCwgMC41KTtcXG4gICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZShcIituK1wiLCB1dik7XFxuICAgIH1cXG4gIFwiO3JldHVyblwiXFxuICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wpIHtcXG4gICAgLy8gRXhwbGljaXRseSB1c2UgaW50ZWdlciBvcGVyYXRpb25zIGFzIGRvdCgpIG9ubHkgd29ya3Mgb24gZmxvYXRzLlxcbiAgICBpbnQgaW5kZXggPSByb3cgKiBcIitlWzFdK1wiICsgY29sICsgXCIrcCtcIjtcXG4gICAgdmVjMiB1diA9IHV2RnJvbUZsYXQoXCIrZitcIiwgXCIrZCtcIiwgaW5kZXgpO1xcbiAgICByZXR1cm4gc2FtcGxlVGV4dHVyZShcIituK1wiLCB1dik7XFxuICB9XFxuXCJ9KHQpO2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9dC5zaGFwZUluZm8ubG9naWNhbFNoYXBlLG49dC5uYW1lLHI9XCJnZXRcIituLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK24uc2xpY2UoMSksbz1lWzFdKmVbMl0sYT1lWzJdLGk9TShlKSxzPWkubmV3U2hhcGUsdT1pLmtlcHREaW1zLGM9cztpZihjLmxlbmd0aDxlLmxlbmd0aCl7dmFyIGw9Q2EodCxjKTtyZXR1cm5cIlxcbiAgICAgICAgXCIrZGEobCkrXCJcXG4gICAgICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoKSB7XFxuICAgICAgICAgIHJldHVybiBcIityK1wiKFwiK0VhKFtcInJvd1wiLFwiY29sXCIsXCJkZXB0aFwiXSx1KStcIik7XFxuICAgICAgICB9XFxuICAgICAgXCJ9aWYodC5zaGFwZUluZm8uaXNVbmlmb3JtKXJldHVyblwiXFxuICAgICAgZmxvYXQgXCIrcitcIihpbnQgcm93LCBpbnQgY29sLCBpbnQgZGVwdGgpIHtcXG4gICAgICAgIGludCBpbmRleCA9IHJvdW5kKGRvdCh2ZWMzKHJvdywgY29sLCBkZXB0aCksXFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMzKFwiK28rXCIsIFwiK2ErXCIsIDEpKSk7XFxuICAgICAgICBcIitiYSh0KStcIlxcbiAgICAgIH1cXG4gICAgXCI7dmFyIGg9dC5zaGFwZUluZm8udGV4U2hhcGUsZj1oWzBdLGQ9aFsxXSxwPXQuc2hhcGVJbmZvLmZsYXRPZmZzZXQ7aWYoZD09PW8mJm51bGw9PXApcmV0dXJuXCJcXG4gICAgICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoKSB7XFxuICAgICAgICAgIGZsb2F0IHRleFIgPSBmbG9hdChyb3cpO1xcbiAgICAgICAgICBmbG9hdCB0ZXhDID0gZG90KHZlYzIoY29sLCBkZXB0aCksIHZlYzIoXCIrYStcIiwgMSkpO1xcbiAgICAgICAgICB2ZWMyIHV2ID0gKHZlYzIodGV4QywgdGV4UikgKyBoYWxmQ1IpIC9cXG4gICAgICAgICAgICAgICAgICAgICB2ZWMyKFwiK2QrXCIuMCwgXCIrZitcIi4wKTtcXG4gICAgICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrbitcIiwgdXYpO1xcbiAgICAgICAgfVxcbiAgICAgIFwiO2lmKGQ9PT1hJiZudWxsPT1wKXJldHVyblwiXFxuICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoKSB7XFxuICAgICAgZmxvYXQgdGV4UiA9IGRvdCh2ZWMyKHJvdywgY29sKSwgdmVjMihcIitlWzFdK1wiLCAxKSk7XFxuICAgICAgZmxvYXQgdGV4QyA9IGZsb2F0KGRlcHRoKTtcXG4gICAgICB2ZWMyIHV2ID0gKHZlYzIodGV4QywgdGV4UikgKyBoYWxmQ1IpIC8gdmVjMihcIitkK1wiLjAsIFwiK2YrXCIuMCk7XFxuICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrbitcIiwgdXYpO1xcbiAgICB9XFxuICBcIjt2YXIgdj14YShuKTtyZXR1cm5cIlxcbiAgICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoKSB7XFxuICAgICAgICAvLyBFeHBsaWNpdGx5IHVzZSBpbnRlZ2VyIG9wZXJhdGlvbnMgYXMgZG90KCkgb25seSB3b3JrcyBvbiBmbG9hdHMuXFxuICAgICAgICBpbnQgaW5kZXggPSByb3cgKiBcIitvK1wiICsgY29sICogXCIrYStcIiArIGRlcHRoICsgXCIrditcIjtcXG4gICAgICAgIHZlYzIgdXYgPSB1dkZyb21GbGF0KFwiK2YrXCIsIFwiK2QrXCIsIGluZGV4KTtcXG4gICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK24rXCIsIHV2KTtcXG4gICAgICB9XFxuICBcIn0odCk7Y2FzZSA0OnJldHVybiBmdW5jdGlvbih0KXt2YXIgZT10LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUsbj10Lm5hbWUscj1cImdldFwiK24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSxvPWVbM10sYT1lWzJdKm8saT1lWzFdKmEscz1NKGUpLHU9cy5uZXdTaGFwZSxjPXMua2VwdERpbXM7aWYodS5sZW5ndGg8ZS5sZW5ndGgpe3ZhciBsPUNhKHQsdSk7cmV0dXJuXCJcXG4gICAgICBcIitkYShsKStcIlxcbiAgICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoLCBpbnQgZGVwdGgyKSB7XFxuICAgICAgICByZXR1cm4gXCIrcitcIihcIitFYShbXCJyb3dcIixcImNvbFwiLFwiZGVwdGhcIixcImRlcHRoMlwiXSxjKStcIik7XFxuICAgICAgfVxcbiAgICBcIn1pZih0LnNoYXBlSW5mby5pc1VuaWZvcm0pcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wsIGludCBkZXB0aCwgaW50IGRlcHRoMikge1xcbiAgICAgICAgaW50IGluZGV4ID0gcm91bmQoZG90KHZlYzQocm93LCBjb2wsIGRlcHRoLCBkZXB0aDIpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmVjNChcIitpK1wiLCBcIithK1wiLCBcIitvK1wiLCAxKSkpO1xcbiAgICAgICAgXCIrYmEodCkrXCJcXG4gICAgICB9XFxuICAgIFwiO3ZhciBoPXQuc2hhcGVJbmZvLmZsYXRPZmZzZXQsZj10LnNoYXBlSW5mby50ZXhTaGFwZSxkPWZbMF0scD1mWzFdO2lmKHA9PT1pJiZudWxsPT1oKXJldHVyblwiXFxuICAgICAgZmxvYXQgXCIrcitcIihpbnQgcm93LCBpbnQgY29sLCBpbnQgZGVwdGgsIGludCBkZXB0aDIpIHtcXG4gICAgICAgIGZsb2F0IHRleFIgPSBmbG9hdChyb3cpO1xcbiAgICAgICAgZmxvYXQgdGV4QyA9XFxuICAgICAgICAgICAgZG90KHZlYzMoY29sLCBkZXB0aCwgZGVwdGgyKSxcXG4gICAgICAgICAgICAgICAgdmVjMyhcIithK1wiLCBcIitvK1wiLCAxKSk7XFxuICAgICAgICB2ZWMyIHV2ID0gKHZlYzIodGV4QywgdGV4UikgKyBoYWxmQ1IpIC9cXG4gICAgICAgICAgICAgICAgICAgdmVjMihcIitwK1wiLjAsIFwiK2QrXCIuMCk7XFxuICAgICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZShcIituK1wiLCB1dik7XFxuICAgICAgfVxcbiAgICBcIjtpZihwPT09byYmbnVsbD09aClyZXR1cm5cIlxcbiAgICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoLCBpbnQgZGVwdGgyKSB7XFxuICAgICAgICBmbG9hdCB0ZXhSID0gZG90KHZlYzMocm93LCBjb2wsIGRlcHRoKSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgdmVjMyhcIitlWzFdKmVbMl0rXCIsIFwiK2VbMl0rXCIsIDEpKTtcXG4gICAgICAgIGZsb2F0IHRleEMgPSBmbG9hdChkZXB0aDIpO1xcbiAgICAgICAgdmVjMiB1diA9ICh2ZWMyKHRleEMsIHRleFIpICsgaGFsZkNSKSAvXFxuICAgICAgICAgICAgICAgICAgdmVjMihcIitwK1wiLjAsIFwiK2QrXCIuMCk7XFxuICAgICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZShcIituK1wiLCB1dik7XFxuICAgICAgfVxcbiAgICBcIjt2YXIgdj14YShuKTtyZXR1cm5cIlxcbiAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wsIGludCBkZXB0aCwgaW50IGRlcHRoMikge1xcbiAgICAgIC8vIEV4cGxpY2l0bHkgdXNlIGludGVnZXIgb3BlcmF0aW9ucyBhcyBkb3QoKSBvbmx5IHdvcmtzIG9uIGZsb2F0cy5cXG4gICAgICBpbnQgaW5kZXggPSByb3cgKiBcIitpK1wiICsgY29sICogXCIrYStcIiArXFxuICAgICAgICAgIGRlcHRoICogXCIrbytcIiArIGRlcHRoMjtcXG4gICAgICB2ZWMyIHV2ID0gdXZGcm9tRmxhdChcIitkK1wiLCBcIitwK1wiLCBpbmRleCArIFwiK3YrXCIpO1xcbiAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK24rXCIsIHV2KTtcXG4gICAgfVxcbiAgXCJ9KHQpO2Nhc2UgNTpyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9dC5zaGFwZUluZm8ubG9naWNhbFNoYXBlLG49dC5uYW1lLHI9XCJnZXRcIituLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK24uc2xpY2UoMSksbz1lWzRdLGE9ZVszXSpvLGk9ZVsyXSphLHM9ZVsxXSppLHU9TShlKSxjPXUubmV3U2hhcGUsbD11LmtlcHREaW1zO2lmKGMubGVuZ3RoPGUubGVuZ3RoKXt2YXIgaD1DYSh0LGMpO3JldHVyblwiXFxuICAgICAgXCIrZGEoaCkrXCJcXG4gICAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wsIGludCBkZXB0aCwgaW50IGRlcHRoMiwgaW50IGRlcHRoMykge1xcbiAgICAgICAgcmV0dXJuIFwiK3IrXCIoXCIrRWEoW1wicm93XCIsXCJjb2xcIixcImRlcHRoXCIsXCJkZXB0aDJcIixcImRlcHRoM1wiXSxsKStcIik7XFxuICAgICAgfVxcbiAgICBcIn1pZih0LnNoYXBlSW5mby5pc1VuaWZvcm0pcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wsIGludCBkZXB0aCwgaW50IGRlcHRoMiwgaW50IGRlcHRoMykge1xcbiAgICAgICAgZmxvYXQgaW5kZXggPSBkb3QoXFxuICAgICAgICAgIHZlYzQocm93LCBjb2wsIGRlcHRoLCBkZXB0aDIpLFxcbiAgICAgICAgICB2ZWM0KFwiK3MrXCIsIFwiK2krXCIsIFwiK2ErXCIsIFwiK28rXCIpKSArXFxuICAgICAgICAgIGRlcHRoMztcXG4gICAgICAgIFwiK2JhKHQpK1wiXFxuICAgICAgfVxcbiAgICBcIjt2YXIgZj10LnNoYXBlSW5mby5mbGF0T2Zmc2V0LGQ9dC5zaGFwZUluZm8udGV4U2hhcGUscD1kWzBdLHY9ZFsxXTtpZih2PT09cyYmbnVsbD09ZilyZXR1cm5cIlxcbiAgICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoLCBpbnQgZGVwdGgyLCBpbnQgZGVwdGgzKSB7XFxuICAgICAgICBpbnQgdGV4UiA9IHJvdztcXG4gICAgICAgIGZsb2F0IHRleEMgPSBkb3QodmVjNChjb2wsIGRlcHRoLCBkZXB0aDIsIGRlcHRoMyksXFxuICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzQoXCIraStcIiwgXCIrYStcIiwgXCIrbytcIiwgMSkpO1xcbiAgICAgICAgdmVjMiB1diA9ICh2ZWMyKHRleEMsIHRleFIpICsgaGFsZkNSKSAvXFxuICAgICAgICAgICAgICAgICAgIHZlYzIoXCIrditcIi4wLCBcIitwK1wiLjApO1xcbiAgICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrbitcIiwgdXYpO1xcbiAgICAgIH1cXG4gICAgXCI7aWYodj09PW8mJm51bGw9PWYpcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wsIGludCBkZXB0aCwgaW50IGRlcHRoMiwgaW50IGRlcHRoMykge1xcbiAgICAgICAgZmxvYXQgdGV4UiA9IGRvdChcXG4gICAgICAgICAgdmVjNChyb3csIGNvbCwgZGVwdGgsIGRlcHRoMiksXFxuICAgICAgICAgIHZlYzQoXCIrZVsxXSplWzJdKmVbM10rXCIsXFxuICAgICAgICAgICAgICAgXCIrZVsyXSplWzNdK1wiLCBcIitlWzNdK1wiLCAxKSk7XFxuICAgICAgICBpbnQgdGV4QyA9IGRlcHRoMztcXG4gICAgICAgIHZlYzIgdXYgPSAodmVjMih0ZXhDLCB0ZXhSKSArIGhhbGZDUikgL1xcbiAgICAgICAgICAgICAgICAgIHZlYzIoXCIrditcIi4wLCBcIitwK1wiLjApO1xcbiAgICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrbitcIiwgdXYpO1xcbiAgICAgIH1cXG4gICAgXCI7dmFyIG09eGEobik7cmV0dXJuXCJcXG4gICAgZmxvYXQgXCIrcitcIihpbnQgcm93LCBpbnQgY29sLCBpbnQgZGVwdGgsIGludCBkZXB0aDIsIGludCBkZXB0aDMpIHtcXG4gICAgICAvLyBFeHBsaWNpdGx5IHVzZSBpbnRlZ2VyIG9wZXJhdGlvbnMgYXMgZG90KCkgb25seSB3b3JrcyBvbiBmbG9hdHMuXFxuICAgICAgaW50IGluZGV4ID0gcm93ICogXCIrcytcIiArIGNvbCAqIFwiK2krXCIgKyBkZXB0aCAqIFwiK2ErXCIgK1xcbiAgICAgICAgICBkZXB0aDIgKiBcIitvK1wiICsgZGVwdGgzICsgXCIrbStcIjtcXG4gICAgICB2ZWMyIHV2ID0gdXZGcm9tRmxhdChcIitwK1wiLCBcIit2K1wiLCBpbmRleCk7XFxuICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoXCIrbitcIiwgdXYpO1xcbiAgICB9XFxuICBcIn0odCk7Y2FzZSA2OnJldHVybiBmdW5jdGlvbih0KXt2YXIgZT10LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUsbj10Lm5hbWUscj1cImdldFwiK24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSxvPU0oZSksYT1vLm5ld1NoYXBlLGk9by5rZXB0RGltcztpZihhLmxlbmd0aDxlLmxlbmd0aCl7dmFyIHM9Q2EodCxhKTtyZXR1cm5cIlxcbiAgICAgIFwiK2RhKHMpK1wiXFxuICAgICAgZmxvYXQgXCIrcitcIihpbnQgcm93LCBpbnQgY29sLCBpbnQgZGVwdGgsXFxuICAgICAgICAgICAgICAgICAgICBpbnQgZGVwdGgyLCBpbnQgZGVwdGgzLCBpbnQgZGVwdGg0KSB7XFxuICAgICAgICByZXR1cm4gXCIrcitcIihcIitFYShbXCJyb3dcIixcImNvbFwiLFwiZGVwdGhcIixcImRlcHRoMlwiLFwiZGVwdGgzXCIsXCJkZXB0aDRcIl0saSkrXCIpO1xcbiAgICAgIH1cXG4gICAgXCJ9dmFyIHU9ZVs1XSxjPWVbNF0qdSxsPWVbM10qYyxoPWVbMl0qbCxmPWVbMV0qaDtpZih0LnNoYXBlSW5mby5pc1VuaWZvcm0pcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wsIGludCBkZXB0aCxcXG4gICAgICAgICAgICAgICAgICBpbnQgZGVwdGgyLCBpbnQgZGVwdGgzLCBpbnQgZGVwdGg0KSB7XFxuICAgICAgICBpbnQgaW5kZXggPSByb3VuZChkb3QoXFxuICAgICAgICAgIHZlYzQocm93LCBjb2wsIGRlcHRoLCBkZXB0aDIpLFxcbiAgICAgICAgICB2ZWM0KFwiK2YrXCIsIFwiK2grXCIsIFwiK2wrXCIsIFwiK2MrXCIpKSArXFxuICAgICAgICAgIGRvdChcXG4gICAgICAgICAgICB2ZWMyKGRlcHRoMywgZGVwdGg0KSxcXG4gICAgICAgICAgICB2ZWMyKFwiK3UrXCIsIDEpKSk7XFxuICAgICAgICBcIitiYSh0KStcIlxcbiAgICAgIH1cXG4gICAgXCI7dmFyIGQ9dC5zaGFwZUluZm8uZmxhdE9mZnNldCxwPXQuc2hhcGVJbmZvLnRleFNoYXBlLHY9cFswXSxtPXBbMV07aWYobT09PWYmJm51bGw9PWQpcmV0dXJuXCJcXG4gICAgICBmbG9hdCBcIityK1wiKGludCByb3csIGludCBjb2wsIGludCBkZXB0aCxcXG4gICAgICAgICAgICAgICAgICAgIGludCBkZXB0aDIsIGludCBkZXB0aDMsIGludCBkZXB0aDQpIHtcXG4gICAgICAgIGludCB0ZXhSID0gcm93O1xcbiAgICAgICAgZmxvYXQgdGV4QyA9IGRvdCh2ZWM0KGNvbCwgZGVwdGgsIGRlcHRoMiwgZGVwdGgzKSxcXG4gICAgICAgICAgdmVjNChcIitoK1wiLCBcIitsK1wiLCBcIitjK1wiLCBcIit1K1wiKSkgK1xcbiAgICAgICAgICAgICAgIGZsb2F0KGRlcHRoNCk7XFxuICAgICAgICB2ZWMyIHV2ID0gKHZlYzIodGV4QywgdGV4UikgKyBoYWxmQ1IpIC9cXG4gICAgICAgICAgICAgICAgICAgdmVjMihcIittK1wiLjAsIFwiK3YrXCIuMCk7XFxuICAgICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZShcIituK1wiLCB1dik7XFxuICAgICAgfVxcbiAgICBcIjtpZihtPT09dSYmbnVsbD09ZClyZXR1cm5cIlxcbiAgICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoLFxcbiAgICAgICAgICAgICAgICAgICAgaW50IGRlcHRoMiwgaW50IGRlcHRoMywgaW50IGRlcHRoNCkge1xcbiAgICAgICAgZmxvYXQgdGV4UiA9IGRvdCh2ZWM0KHJvdywgY29sLCBkZXB0aCwgZGVwdGgyKSxcXG4gICAgICAgICAgdmVjNChcIitlWzFdKmVbMl0qZVszXSplWzRdK1wiLFxcbiAgICAgICAgICAgICAgIFwiK2VbMl0qZVszXSplWzRdK1wiLFxcbiAgICAgICAgICAgICAgIFwiK2VbM10qZVs0XStcIixcXG4gICAgICAgICAgICAgICBcIitlWzRdK1wiKSkgKyBmbG9hdChkZXB0aDMpO1xcbiAgICAgICAgaW50IHRleEMgPSBkZXB0aDQ7XFxuICAgICAgICB2ZWMyIHV2ID0gKHZlYzIodGV4QywgdGV4UikgKyBoYWxmQ1IpIC9cXG4gICAgICAgICAgICAgICAgICB2ZWMyKFwiK20rXCIuMCwgXCIrditcIi4wKTtcXG4gICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK24rXCIsIHV2KTtcXG4gICAgICB9XFxuICAgIFwiO3ZhciBnPXhhKG4pO3JldHVyblwiXFxuICAgIGZsb2F0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoLFxcbiAgICAgICAgICAgICAgICAgIGludCBkZXB0aDIsIGludCBkZXB0aDMsIGludCBkZXB0aDQpIHtcXG4gICAgICAvLyBFeHBsaWNpdGx5IHVzZSBpbnRlZ2VyIG9wZXJhdGlvbnMgYXMgZG90KCkgb25seSB3b3JrcyBvbiBmbG9hdHMuXFxuICAgICAgaW50IGluZGV4ID0gcm93ICogXCIrZitcIiArIGNvbCAqIFwiK2grXCIgKyBkZXB0aCAqIFwiK2wrXCIgK1xcbiAgICAgICAgICBkZXB0aDIgKiBcIitjK1wiICsgZGVwdGgzICogXCIrdStcIiArIGRlcHRoNCArIFwiK2crXCI7XFxuICAgICAgdmVjMiB1diA9IHV2RnJvbUZsYXQoXCIrditcIiwgXCIrbStcIiwgaW5kZXgpO1xcbiAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKFwiK24rXCIsIHV2KTtcXG4gICAgfVxcbiAgXCJ9KHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGUubGVuZ3RoK1wiLUQgaW5wdXQgc2FtcGxpbmcgaXMgbm90IHlldCBzdXBwb3J0ZWRcIil9fWZ1bmN0aW9uIHBhKHQpe3ZhciBlLG4scjtzd2l0Y2godC5zaGFwZUluZm8ubG9naWNhbFNoYXBlLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBlPXQubmFtZSxuPVwiZ2V0XCIrZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpLHI9dWEoKSxcIlxcbiAgICB2ZWM0IFwiK24rXCIoKSB7XFxuICAgICAgcmV0dXJuIFwiK3IudGV4dHVyZTJEK1wiKFwiK2UrXCIsIGhhbGZDUik7XFxuICAgIH1cXG4gIFwiO2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9dC5uYW1lLG49XCJnZXRcIitlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSkscj10LnNoYXBlSW5mby50ZXhTaGFwZSxvPVtNYXRoLmNlaWwoclswXS8yKSxNYXRoLmNlaWwoclsxXS8yKV0sYT11YSgpO3JldHVyblwiXFxuICAgIHZlYzQgXCIrbitcIihpbnQgaW5kZXgpIHtcXG4gICAgICB2ZWMyIHV2ID0gcGFja2VkVVZmcm9tMUQoXFxuICAgICAgICBcIitvWzBdK1wiLCBcIitvWzFdK1wiLCBpbmRleCk7XFxuICAgICAgcmV0dXJuIFwiK2EudGV4dHVyZTJEK1wiKFwiK2UrXCIsIHV2KTtcXG4gICAgfVxcbiAgXCJ9KHQpO2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9dC5zaGFwZUluZm8ubG9naWNhbFNoYXBlLG49dC5uYW1lLHI9XCJnZXRcIituLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK24uc2xpY2UoMSksbz10LnNoYXBlSW5mby50ZXhTaGFwZSxhPW9bMF0saT1vWzFdLHM9dWEoKTtpZihudWxsIT1vJiZTKGUsbykpcmV0dXJuXCJcXG4gICAgICB2ZWM0IFwiK3IrXCIoaW50IHJvdywgaW50IGNvbCkge1xcbiAgICAgICAgdmVjMiB1diA9ICh2ZWMyKGNvbCwgcm93KSArIGhhbGZDUikgLyB2ZWMyKFwiK2krXCIuMCwgXCIrYStcIi4wKTtcXG5cXG4gICAgICAgIHJldHVybiBcIitzLnRleHR1cmUyRCtcIihcIituK1wiLCB1dik7XFxuICAgICAgfVxcbiAgICBcIjt2YXIgdT1bTWF0aC5jZWlsKG9bMF0vMiksTWF0aC5jZWlsKG9bMV0vMildLGM9TWF0aC5jZWlsKGVbMV0vMik7cmV0dXJuXCJcXG4gICAgdmVjNCBcIityK1wiKGludCByb3csIGludCBjb2wpIHtcXG4gICAgICB2ZWMyIHV2ID0gcGFja2VkVVZmcm9tMkQoXCIrYytcIiwgXCIrdVswXStcIiwgXCIrdVsxXStcIiwgcm93LCBjb2wpO1xcbiAgICAgIHJldHVybiBcIitzLnRleHR1cmUyRCtcIihcIituK1wiLCB1dik7XFxuICAgIH1cXG4gIFwifSh0KTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXQuc2hhcGVJbmZvLmxvZ2ljYWxTaGFwZSxuPXQubmFtZSxyPVwiZ2V0XCIrbi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStuLnNsaWNlKDEpLG89dC5zaGFwZUluZm8udGV4U2hhcGUsYT1bTWF0aC5jZWlsKG9bMF0vMiksTWF0aC5jZWlsKG9bMV0vMildO2lmKDE9PT1lWzBdKXt2YXIgaT1lLnNsaWNlKDEpLHM9Q2EodCxpKTtyZXR1cm5cIlxcbiAgICAgICAgXCIrcGEocykrXCJcXG4gICAgICAgIHZlYzQgXCIrcitcIihpbnQgYiwgaW50IHJvdywgaW50IGNvbCkge1xcbiAgICAgICAgICByZXR1cm4gXCIrcitcIihcIitFYShbXCJiXCIsXCJyb3dcIixcImNvbFwiXSxbMSwyXSkrXCIpO1xcbiAgICAgICAgfVxcbiAgICAgIFwifXZhciB1PWFbMF0sYz1hWzFdLGw9TWF0aC5jZWlsKGVbMl0vMiksaD1sKk1hdGguY2VpbChlWzFdLzIpLGY9dWEoKTtyZXR1cm5cIlxcbiAgICB2ZWM0IFwiK3IrXCIoaW50IGIsIGludCByb3csIGludCBjb2wpIHtcXG4gICAgICB2ZWMyIHV2ID0gcGFja2VkVVZmcm9tM0QoXFxuICAgICAgICBcIit1K1wiLCBcIitjK1wiLCBcIitoK1wiLCBcIitsK1wiLCBiLCByb3csIGNvbCk7XFxuICAgICAgcmV0dXJuIFwiK2YudGV4dHVyZTJEK1wiKFwiK24rXCIsIHV2KTtcXG4gICAgfVxcbiAgXCJ9KHQpO2RlZmF1bHQ6cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnNoYXBlSW5mby5sb2dpY2FsU2hhcGUsbj1lLmxlbmd0aCxyPXQubmFtZSxvPVwiZ2V0XCIrci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStyLnNsaWNlKDEpLGE9dC5zaGFwZUluZm8udGV4U2hhcGUsaT1bTWF0aC5jZWlsKGFbMF0vMiksTWF0aC5jZWlsKGFbMV0vMildLHM9aVswXSx1PWlbMV0sYz1NYXRoLmNlaWwoZVtuLTFdLzIpLGw9YypNYXRoLmNlaWwoZVtuLTJdLzIpLGg9XCJpbnQgYiwgaW50IHJvdywgaW50IGNvbFwiLGY9XCJiICogXCIrbCtcIiArIChyb3cgLyAyKSAqIFwiK2MrXCIgKyAoY29sIC8gMilcIixkPTI7ZDxuLTE7ZCsrKWg9XCJpbnQgYlwiK2QrXCIsIFwiK2gsbCo9ZVtuLWQtMV0sZj1cImJcIitkK1wiICogXCIrbCtcIiArIFwiK2Y7dmFyIHA9dWEoKTtyZXR1cm5cIlxcbiAgICB2ZWM0IFwiK28rXCIoXCIraCtcIikge1xcbiAgICAgIGludCBpbmRleCA9IFwiK2YrXCI7XFxuICAgICAgaW50IHRleFIgPSBpbmRleCAvIFwiK3UrXCI7XFxuICAgICAgaW50IHRleEMgPSBpbmRleCAtIHRleFIgKiBcIit1K1wiO1xcbiAgICAgIHZlYzIgdXYgPSAodmVjMih0ZXhDLCB0ZXhSKSArIGhhbGZDUikgLyB2ZWMyKFwiK3UrXCIsIFwiK3MrXCIpO1xcbiAgICAgIHJldHVybiBcIitwLnRleHR1cmUyRCtcIihcIityK1wiLCB1dik7XFxuICAgIH1cXG4gIFwifSh0KX19dmFyIHZhPVwiXFxudmVjMiB1dkZyb21GbGF0KGludCB0ZXhOdW1SLCBpbnQgdGV4TnVtQywgaW50IGluZGV4KSB7XFxuICBpbnQgdGV4UiA9IGluZGV4IC8gdGV4TnVtQztcXG4gIGludCB0ZXhDID0gaW5kZXggLSB0ZXhSICogdGV4TnVtQztcXG4gIHJldHVybiAodmVjMih0ZXhDLCB0ZXhSKSArIGhhbGZDUikgLyB2ZWMyKHRleE51bUMsIHRleE51bVIpO1xcbn1cXG52ZWMyIHBhY2tlZFVWZnJvbTFEKGludCB0ZXhOdW1SLCBpbnQgdGV4TnVtQywgaW50IGluZGV4KSB7XFxuICBpbnQgdGV4ZWxJbmRleCA9IGluZGV4IC8gMjtcXG4gIGludCB0ZXhSID0gdGV4ZWxJbmRleCAvIHRleE51bUM7XFxuICBpbnQgdGV4QyA9IHRleGVsSW5kZXggLSB0ZXhSICogdGV4TnVtQztcXG4gIHJldHVybiAodmVjMih0ZXhDLCB0ZXhSKSArIGhhbGZDUikgLyB2ZWMyKHRleE51bUMsIHRleE51bVIpO1xcbn1cXG5cIixtYT1cIlxcbnZlYzIgcGFja2VkVVZmcm9tMkQoaW50IHRleGVsc0luTG9naWNhbFJvdywgaW50IHRleE51bVIsXFxuICBpbnQgdGV4TnVtQywgaW50IHJvdywgaW50IGNvbCkge1xcbiAgaW50IHRleGVsSW5kZXggPSAocm93IC8gMikgKiB0ZXhlbHNJbkxvZ2ljYWxSb3cgKyAoY29sIC8gMik7XFxuICBpbnQgdGV4UiA9IHRleGVsSW5kZXggLyB0ZXhOdW1DO1xcbiAgaW50IHRleEMgPSB0ZXhlbEluZGV4IC0gdGV4UiAqIHRleE51bUM7XFxuICByZXR1cm4gKHZlYzIodGV4QywgdGV4UikgKyBoYWxmQ1IpIC8gdmVjMih0ZXhOdW1DLCB0ZXhOdW1SKTtcXG59XFxuXCIsZ2E9XCJcXG52ZWMyIHBhY2tlZFVWZnJvbTNEKGludCB0ZXhOdW1SLCBpbnQgdGV4TnVtQyxcXG4gICAgaW50IHRleGVsc0luQmF0Y2gsIGludCB0ZXhlbHNJbkxvZ2ljYWxSb3csIGludCBiLFxcbiAgICBpbnQgcm93LCBpbnQgY29sKSB7XFxuICBpbnQgaW5kZXggPSBiICogdGV4ZWxzSW5CYXRjaCArIChyb3cgLyAyKSAqIHRleGVsc0luTG9naWNhbFJvdyArIChjb2wgLyAyKTtcXG4gIGludCB0ZXhSID0gaW5kZXggLyB0ZXhOdW1DO1xcbiAgaW50IHRleEMgPSBpbmRleCAtIHRleFIgKiB0ZXhOdW1DO1xcbiAgcmV0dXJuICh2ZWMyKHRleEMsIHRleFIpICsgaGFsZkNSKSAvIHZlYzIodGV4TnVtQywgdGV4TnVtUik7XFxufVxcblwiLHlhPVwiXFxuICBmbG9hdCBnZXRDaGFubmVsKHZlYzQgZnJhZywgdmVjMiBpbm5lckRpbXMpIHtcXG4gICAgdmVjMiBtb2RDb29yZCA9IG1vZChpbm5lckRpbXMsIDIuKTtcXG4gICAgcmV0dXJuIG1vZENvb3JkLnggPT0gMC4gP1xcbiAgICAgIChtb2RDb29yZC55ID09IDAuID8gZnJhZy5yIDogZnJhZy5nKSA6XFxuICAgICAgKG1vZENvb3JkLnkgPT0gMC4gPyBmcmFnLmIgOiBmcmFnLmEpO1xcbiAgfVxcbiAgZmxvYXQgZ2V0Q2hhbm5lbCh2ZWM0IGZyYWcsIGludCBkaW0pIHtcXG4gICAgZmxvYXQgbW9kQ29vcmQgPSBtb2QoZmxvYXQoZGltKSwgMi4pO1xcbiAgICByZXR1cm4gbW9kQ29vcmQgPT0gMC4gPyBmcmFnLnIgOiBmcmFnLmc7XFxuICB9XFxuXCI7ZnVuY3Rpb24geGEodCl7cmV0dXJuXCJvZmZzZXRcIit0fWZ1bmN0aW9uIGJhKHQpe3ZhciBlPXQubmFtZSxuPWsodC5zaGFwZUluZm8ubG9naWNhbFNoYXBlKTtyZXR1cm4gbjwyP1wicmV0dXJuIFwiK2UrXCI7XCI6XCJcXG4gICAgZm9yIChpbnQgaSA9IDA7IGkgPCBcIituK1wiOyBpKyspIHtcXG4gICAgICBpZiAoaSA9PSBpbmRleCkge1xcbiAgICAgICAgcmV0dXJuIFwiK2UrXCJbaV07XFxuICAgICAgfVxcbiAgICB9XFxuICBcIn1mdW5jdGlvbiB3YSh0KXtpZih0PD0xKXJldHVyblwiaW50XCI7aWYoMj09PXQpcmV0dXJuXCJpdmVjMlwiO2lmKDM9PT10KXJldHVyblwiaXZlYzNcIjtpZig0PT09dClyZXR1cm5cIml2ZWM0XCI7aWYoNT09PXQpcmV0dXJuXCJpdmVjNVwiO2lmKDY9PT10KXJldHVyblwiaXZlYzZcIjt0aHJvdyBFcnJvcihcIkdQVSBmb3IgcmFuayBcIit0K1wiIGlzIG5vdCB5ZXQgc3VwcG9ydGVkXCIpfWZ1bmN0aW9uIENhKHQsZSl7dmFyIG49SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSk7cmV0dXJuIG4uc2hhcGVJbmZvLmxvZ2ljYWxTaGFwZT1lLG59ZnVuY3Rpb24gRWEodCxlKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfSkpLmpvaW4oXCIsIFwiKX12YXIgUmE9ZnVuY3Rpb24odCxlLG4scil7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsQyh0Lmxlbmd0aD4yLChmdW5jdGlvbigpe3JldHVyblwiUGFja2VkIGFyZ1wiKyhuLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK24uc2xpY2UoMSkpK1wiIHN1cHBvcnRzIG9ubHkgaW5wdXRzIHdpdGggcmFuayBhYm92ZSAyLlwifSkpO3ZhciBvPXRbdC5sZW5ndGgtMV0sYT1NYXRoLmNlaWwoby9lKTt0aGlzLm91dHB1dFNoYXBlPXQuc2xpY2UoMCwtMSksYT4xJiZ0aGlzLm91dHB1dFNoYXBlLnB1c2goYSkscnx8dGhpcy52YXJpYWJsZU5hbWVzLnB1c2goXCJiZXN0SW5kaWNlc0FcIik7dmFyIGkscyx1PXRoaXMub3V0cHV0U2hhcGUsYz11Lmxlbmd0aCxsPXdhKGMpLGg9c2EoXCJjb29yZHNcIixjKTtpZigxPT09YSl7dmFyIGY9d2Eocz1jKzEpO2k9XCJcXG4gICAgICAgIFwiK2YrXCIgc291cmNlTG9jUiA9IFwiK2YrXCIoXCIraC5qb2luKCkrXCIsIDApO1xcbiAgICAgICAgKytcIitoW2MtMV0rXCI7XFxuICAgICAgICBcIitmK1wiIHNvdXJjZUxvY0cgPSBcIitmK1wiKFwiK2guam9pbigpK1wiLCAwKTtcXG4gICAgICAgICsrXCIraFtjLTJdK1wiO1xcbiAgICAgICAgXCIrZitcIiBzb3VyY2VMb2NBID0gXCIrZitcIihcIitoLmpvaW4oKStcIiwgMCk7XFxuICAgICAgICAtLVwiK2hbYy0xXStcIjtcXG4gICAgICAgIFwiK2YrXCIgc291cmNlTG9jQiA9IFwiK2YrXCIoXCIraC5qb2luKCkrXCIsIDApO1xcbiAgICAgICAgLS1cIitoW2MtMl0rXCI7XCJ9ZWxzZSBzPWMsaT1cIlxcbiAgICAgICAgXCIrbCtcIiBzb3VyY2VMb2NSID0gY29vcmRzO1xcbiAgICAgICAgKytcIitoW2MtMV0rXCI7XFxuICAgICAgICBcIitsK1wiIHNvdXJjZUxvY0cgPSBjb29yZHM7XFxuICAgICAgICArK1wiK2hbYy0yXStcIjtcXG4gICAgICAgIFwiK2wrXCIgc291cmNlTG9jQSA9IGNvb3JkcztcXG4gICAgICAgIC0tXCIraFtjLTFdK1wiO1xcbiAgICAgICAgXCIrbCtcIiBzb3VyY2VMb2NCID0gY29vcmRzO1xcbiAgICAgICAgLS1cIitoW2MtMl0rXCI7XCI7dmFyIGQ9W1wieFwiLFwieVwiLFwielwiLFwid1wiLFwidVwiLFwidlwiXS5zbGljZSgwLHMpLHA9XCIuXCIrZFtzLTFdLHY9ZC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwiaW50IFwiK3R9KSksbT1zYShcInNvdXJjZUxvY1JcIixzLTEpLmNvbmNhdChcImluSWR4LnJcIiksZz1zYShcInNvdXJjZUxvY0dcIixzLTEpLmNvbmNhdChcImluSWR4LmdcIikseT1zYShcInNvdXJjZUxvY0JcIixzLTEpLmNvbmNhdChcImluSWR4LmJcIikseD1zYShcInNvdXJjZUxvY0FcIixzLTEpLmNvbmNhdChcImluSWR4LmFcIiksYj1cIm1heFwiPT09bj9cImdyZWF0ZXJUaGFuXCI6XCJsZXNzVGhhblwiLHc9cj9cIlwiOlwiXFxuICAgICAgICAgIGluSWR4ID0gcm91bmQodmVjNChnZXRCZXN0SW5kaWNlc0FDaGFubmVsKFwiK20uam9pbigpK1wiKSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEJlc3RJbmRpY2VzQUNoYW5uZWwoXCIrZy5qb2luKCkrXCIpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0QmVzdEluZGljZXNBQ2hhbm5lbChcIit5LmpvaW4oKStcIiksXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRCZXN0SW5kaWNlc0FDaGFubmVsKFwiK3guam9pbigpK1wiKSkpO1wiLEU9XCJ2ZWM0KFxcbiAgICAgICAgICAgIGdldEFDaGFubmVsKFwiK20uam9pbigpK1wiKSxcXG4gICAgICAgICAgICBoYXNOZXh0Q29sID8gZ2V0QUNoYW5uZWwoXCIrZy5qb2luKCkrXCIpIDogMC4sXFxuICAgICAgICAgICAgaGFzTmV4dFJvdyA/IGdldEFDaGFubmVsKFwiK3kuam9pbigpK1wiKSA6IDAuLFxcbiAgICAgICAgICAgIGhhc05leHRSb3cgJiYgaGFzTmV4dENvbCA/IGdldEFDaGFubmVsKFwiK3guam9pbigpK1wiKSA6IDAuKVwiLFI9cj9cIlwiOlwiXFxuICAgICAgZmxvYXQgZ2V0QmVzdEluZGljZXNBQ2hhbm5lbChcIit2LmpvaW4oKStcIikge1xcbiAgICAgICAgcmV0dXJuIGdldENoYW5uZWwoZ2V0QmVzdEluZGljZXNBKFwiK2Quam9pbigpK1wiKSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyKFwiK2Quc2xpY2UoLTIpLmpvaW4oKStcIikpO1xcbiAgICAgIH1cIjt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgZmxvYXQgZ2V0QUNoYW5uZWwoXCIrdi5qb2luKCkrXCIpIHtcXG4gICAgICAgIHJldHVybiBnZXRDaGFubmVsKGdldEEoXCIrZC5qb2luKCkrXCIpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyKFwiK2Quc2xpY2UoLTIpLmpvaW4oKStcIikpO1xcbiAgICAgIH1cXG4gICAgICBcIitSK1wiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrbCtcIiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGJvb2wgaGFzTmV4dENvbCA9IFwiK2hbYy0xXStcIiA8IFwiKyh1W2MtMV0tMSkrXCI7XFxuICAgICAgICBib29sIGhhc05leHRSb3cgPSBcIitoW2MtMl0rXCIgPCBcIisodVtjLTJdLTEpK1wiO1xcbiAgICAgICAgXCIraStcIlxcbiAgICAgICAgaXZlYzQgc3JjSWR4ID0gaXZlYzQoc291cmNlTG9jUlwiK3ArXCIsIHNvdXJjZUxvY0dcIitwK1wiLFxcbiAgICAgICAgICBzb3VyY2VMb2NCXCIrcCtcIiwgc291cmNlTG9jQVwiK3ArXCIpICogXCIrZStcIjtcXG4gICAgICAgIGl2ZWM0IGluSWR4ID0gc3JjSWR4O1xcbiAgICAgICAgdmVjNCBiZXN0SW5kZXggPSB2ZWM0KGluSWR4KTtcXG4gICAgICAgIHZlYzQgYmVzdFZhbHVlID0gXCIrRStcIjtcXG5cXG4gICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgXCIrZStcIjsgaSsrKSB7XFxuICAgICAgICAgIGluSWR4ID0gc3JjSWR4O1xcbiAgICAgICAgICBcIit3K1wiXFxuICAgICAgICAgIHZlYzQgY2FuZGlkYXRlID0gXCIrRStcIjtcXG4gICAgICAgICAgYnZlYzQgbmFuID0gaXNuYW4oY2FuZGlkYXRlKTtcXG4gICAgICAgICAgYnZlYzQgcmVwbGFjZSA9IGJ2ZWM0KFxcbiAgICAgICAgICAgIHZlYzQoXCIrYitcIihjYW5kaWRhdGUsIGJlc3RWYWx1ZSkpICogKHZlYzQoMS4wKSAtIHZlYzQobmFuKSkpO1xcblxcbiAgICAgICAgICBiZXN0VmFsdWUgPSB2ZWM0KHJlcGxhY2UueCAgPyBjYW5kaWRhdGUueCA6IGJlc3RWYWx1ZS54LFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2UueSAgPyBjYW5kaWRhdGUueSA6IGJlc3RWYWx1ZS55LFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2UueiAgPyBjYW5kaWRhdGUueiA6IGJlc3RWYWx1ZS56LFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2UudyAgPyBjYW5kaWRhdGUudyA6IGJlc3RWYWx1ZS53KTtcXG4gICAgICAgICAgYmVzdEluZGV4ID0gbWl4KGJlc3RJbmRleCwgdmVjNChpbklkeCksIHZlYzQocmVwbGFjZSkpO1xcbiAgICAgICAgICBzcmNJZHgrKztcXG4gICAgICAgIH1cXG4gICAgICAgIHNldE91dHB1dChiZXN0SW5kZXgpO1xcbiAgICAgIH1cXG4gICAgXCJ9LElhPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJkeVwiXSx0aGlzLm91dHB1dFNoYXBlPXQuaW5TaGFwZTt2YXIgZT10LmZpbHRlckhlaWdodCxuPXQuZmlsdGVyV2lkdGgscj10LnN0cmlkZUhlaWdodCxvPXQuc3RyaWRlV2lkdGgsYT10LmRpbGF0aW9uSGVpZ2h0LGk9dC5kaWxhdGlvbldpZHRoLHM9dC5lZmZlY3RpdmVGaWx0ZXJIZWlnaHQsdT10LmVmZmVjdGl2ZUZpbHRlcldpZHRoLGM9cy0xLXQucGFkSW5mby50b3AsbD11LTEtdC5wYWRJbmZvLmxlZnQsaD0xLyhlKm4pO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICBjb25zdCBpdmVjMiBwYWRzID0gaXZlYzIoXCIrYytcIiwgXCIrbCtcIik7XFxuICAgICAgY29uc3QgZmxvYXQgYXZnTXVsdGlwbGllciA9IGZsb2F0KFwiK2grXCIpO1xcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGIgPSBjb29yZHNbMF07XFxuICAgICAgICBpbnQgZCA9IGNvb3Jkc1szXTtcXG5cXG4gICAgICAgIGl2ZWMyIGR5UkNDb3JuZXIgPSBjb29yZHMueXogLSBwYWRzO1xcbiAgICAgICAgaW50IGR5UkNvcm5lciA9IGR5UkNDb3JuZXIueDtcXG4gICAgICAgIGludCBkeUNDb3JuZXIgPSBkeVJDQ29ybmVyLnk7XFxuXFxuICAgICAgICAvLyBDb252b2x2ZSBkeSg/LCA/LCBkKSB3aXRoIHBvcyBtYXNrKDosIDosIGQpIHRvIGdldCBkeCh4UiwgeEMsIGQpLlxcbiAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWQuIDogPSBhY3Jvc3MgYWxsIHZhbHVlcyBpbiB0aGF0IGF4aXMuXFxuICAgICAgICBmbG9hdCBkb3RQcm9kID0gMC4wO1xcbiAgICAgICAgZm9yIChpbnQgd1IgPSAwOyB3UiA8IFwiK3MrXCI7XFxuICAgICAgICAgICAgd1IgKz0gXCIrYStcIikge1xcbiAgICAgICAgICBmbG9hdCBkeVIgPSBmbG9hdChkeVJDb3JuZXIgKyB3UikgLyBcIityK1wiLjA7XFxuXFxuICAgICAgICAgIGlmIChkeVIgPCAwLjAgfHwgZHlSID49IFwiK3Qub3V0SGVpZ2h0K1wiLjAgfHwgZnJhY3QoZHlSKSA+IDAuMCkge1xcbiAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIGludCBpZHlSID0gaW50KGR5Uik7XFxuXFxuICAgICAgICAgIGZvciAoaW50IHdDID0gMDsgd0MgPCBcIit1K1wiO1xcbiAgICAgICAgICAgIHdDKz0gXCIraStcIikge1xcbiAgICAgICAgICAgIGZsb2F0IGR5QyA9IGZsb2F0KGR5Q0Nvcm5lciArIHdDKSAvIFwiK28rXCIuMDtcXG5cXG4gICAgICAgICAgICBpZiAoZHlDIDwgMC4wIHx8IGR5QyA+PSBcIit0Lm91dFdpZHRoK1wiLjAgfHxcXG4gICAgICAgICAgICAgICAgZnJhY3QoZHlDKSA+IDAuMCkge1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGludCBpZHlDID0gaW50KGR5Qyk7XFxuXFxuICAgICAgICAgICAgZmxvYXQgZHlWYWx1ZSA9IGdldER5KGIsIGlkeVIsIGlkeUMsIGQpO1xcblxcbiAgICAgICAgICAgIGRvdFByb2QgKz0gZHlWYWx1ZSAqIGF2Z011bHRpcGxpZXI7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIHNldE91dHB1dChkb3RQcm9kKTtcXG4gICAgICB9XFxuICAgIFwifSxrYT1mdW5jdGlvbih0KXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiZHlcIl0sdGhpcy5vdXRwdXRTaGFwZT10LmluU2hhcGU7dmFyIGU9dC5maWx0ZXJEZXB0aCxuPXQuZmlsdGVySGVpZ2h0LHI9dC5maWx0ZXJXaWR0aCxvPXQuc3RyaWRlRGVwdGgsYT10LnN0cmlkZUhlaWdodCxpPXQuc3RyaWRlV2lkdGgscz10LmRpbGF0aW9uRGVwdGgsdT10LmRpbGF0aW9uSGVpZ2h0LGM9dC5kaWxhdGlvbldpZHRoLGw9dC5lZmZlY3RpdmVGaWx0ZXJEZXB0aCxoPXQuZWZmZWN0aXZlRmlsdGVySGVpZ2h0LGY9dC5lZmZlY3RpdmVGaWx0ZXJXaWR0aCxkPWwtMS10LnBhZEluZm8uZnJvbnQscD1oLTEtdC5wYWRJbmZvLnRvcCx2PWYtMS10LnBhZEluZm8ubGVmdCxtPTEvKGUqbipyKTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgY29uc3QgaXZlYzMgcGFkcyA9IGl2ZWMzKFwiK2QrXCIsIFwiK3ArXCIsIFwiK3YrXCIpO1xcbiAgICAgIGNvbnN0IGZsb2F0IGF2Z011bHRpcGxpZXIgPSBmbG9hdChcIittK1wiKTtcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNSBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiYXRjaCA9IGNvb3Jkcy54O1xcbiAgICAgICAgaW50IGNoID0gY29vcmRzLnU7XFxuXFxuICAgICAgICBpdmVjMyBkeUNvcm5lciA9IGl2ZWMzKGNvb3Jkcy55LCBjb29yZHMueiwgY29vcmRzLncpIC0gcGFkcztcXG4gICAgICAgIGludCBkeURDb3JuZXIgPSBkeUNvcm5lci54O1xcbiAgICAgICAgaW50IGR5UkNvcm5lciA9IGR5Q29ybmVyLnk7XFxuICAgICAgICBpbnQgZHlDQ29ybmVyID0gZHlDb3JuZXIuejtcXG5cXG4gICAgICAgIC8vIENvbnZvbHZlIGR5KD8sID8sID8sIGQpIHdpdGggcG9zIG1hc2soOiwgOiwgOiwgY2gpIHRvIGdldFxcbiAgICAgICAgLy8gZHgoeEQsIHhSLCB4QywgY2gpLlxcbiAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWQuIDogPSBhY3Jvc3MgYWxsIHZhbHVlcyBpbiB0aGF0IGF4aXMuXFxuICAgICAgICBmbG9hdCBkb3RQcm9kID0gMC4wO1xcblxcbiAgICAgICAgZm9yIChpbnQgd0QgPSAwOyB3RCA8IFwiK2wrXCI7XFxuICAgICAgICAgICAgd0QgKz0gXCIrcytcIikge1xcbiAgICAgICAgICBmbG9hdCBkeUQgPSBmbG9hdChkeURDb3JuZXIgKyB3RCkgLyBcIitvK1wiLjA7XFxuXFxuICAgICAgICAgIGlmIChkeUQgPCAwLjAgfHwgZHlEID49IFwiK3Qub3V0RGVwdGgrXCIuMCB8fCBmcmFjdChkeUQpID4gMC4wKSB7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgaW50IGlkeUQgPSBpbnQoZHlEKTtcXG5cXG4gICAgICAgICAgZm9yIChpbnQgd1IgPSAwOyB3UiA8IFwiK2grXCI7XFxuICAgICAgICAgICAgICB3UiArPSBcIit1K1wiKSB7XFxuICAgICAgICAgICAgZmxvYXQgZHlSID0gZmxvYXQoZHlSQ29ybmVyICsgd1IpIC8gXCIrYStcIi4wO1xcblxcbiAgICAgICAgICAgIGlmIChkeVIgPCAwLjAgfHwgZHlSID49IFwiK3Qub3V0SGVpZ2h0K1wiLjAgfHxcXG4gICAgICAgICAgICAgICAgZnJhY3QoZHlSKSA+IDAuMCkge1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGludCBpZHlSID0gaW50KGR5Uik7XFxuXFxuICAgICAgICAgICAgZm9yIChpbnQgd0MgPSAwOyB3QyA8IFwiK2YrXCI7XFxuICAgICAgICAgICAgICAgIHdDICs9IFwiK2MrXCIpIHtcXG4gICAgICAgICAgICAgIGZsb2F0IGR5QyA9IGZsb2F0KGR5Q0Nvcm5lciArIHdDKSAvIFwiK2krXCIuMDtcXG5cXG4gICAgICAgICAgICAgIGlmIChkeUMgPCAwLjAgfHwgZHlDID49IFwiK3Qub3V0V2lkdGgrXCIuMCB8fFxcbiAgICAgICAgICAgICAgICAgIGZyYWN0KGR5QykgPiAwLjApIHtcXG4gICAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICBpbnQgaWR5QyA9IGludChkeUMpO1xcblxcbiAgICAgICAgICAgICAgZmxvYXQgZHlWYWx1ZSA9IGdldER5KGJhdGNoLCBpZHlELCBpZHlSLCBpZHlDLCBjaCk7XFxuXFxuICAgICAgICAgICAgICBkb3RQcm9kICs9IGR5VmFsdWUgKiBhdmdNdWx0aXBsaWVyO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgc2V0T3V0cHV0KGRvdFByb2QpO1xcbiAgICAgIH1cXG4gICAgXCJ9LFNhPWZ1bmN0aW9uKHQsZSxuLHIsbyxhKXt0aGlzLm91dHB1dFNoYXBlPVtdLHRoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCIsXCJtZWFuXCIsXCJ2YXJpYW5jZVwiXSxSbyh0LGUpLFJvKHQsbik7dmFyIGk9XCIwLjBcIjtudWxsIT1yJiYoUm8odCxyKSx0aGlzLnZhcmlhYmxlTmFtZXMucHVzaChcIm9mZnNldFwiKSxpPVwiZ2V0T2Zmc2V0QXRPdXRDb29yZHMoKVwiKTt2YXIgcz1cIjEuMFwiO251bGwhPW8mJihSbyh0LG8pLHRoaXMudmFyaWFibGVOYW1lcy5wdXNoKFwic2NhbGVcIikscz1cImdldFNjYWxlQXRPdXRDb29yZHMoKVwiKSx0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGZsb2F0IHggPSBnZXRYQXRPdXRDb29yZHMoKTtcXG4gICAgICAgIGZsb2F0IG1lYW4gPSBnZXRNZWFuQXRPdXRDb29yZHMoKTtcXG4gICAgICAgIGZsb2F0IHZhcmlhbmNlID0gZ2V0VmFyaWFuY2VBdE91dENvb3JkcygpO1xcbiAgICAgICAgZmxvYXQgb2Zmc2V0ID0gXCIraStcIjtcXG4gICAgICAgIGZsb2F0IHNjYWxlID0gXCIrcytcIjtcXG4gICAgICAgIGZsb2F0IGludiA9IHNjYWxlICogaW52ZXJzZXNxcnQodmFyaWFuY2UgKyBmbG9hdChcIithK1wiKSk7XFxuICAgICAgICBzZXRPdXRwdXQoZG90KHZlYzMoeCwgLW1lYW4sIG9mZnNldCksIHZlYzMoaW52LCBpbnYsIDEpKSk7XFxuICAgICAgfVxcbiAgICBcIn0sQWE9ZnVuY3Rpb24odCxlLG4scixvLGEpe3RoaXMucGFja2VkSW5wdXRzPSEwLHRoaXMucGFja2VkT3V0cHV0PSEwLHRoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCIsXCJtZWFuXCIsXCJ2YXJpYW5jZVwiXSxSbyh0LGUpLFJvKHQsbik7dmFyIGk9XCJ2ZWM0KDAuMClcIjtudWxsIT1yJiYoUm8odCxyKSx0aGlzLnZhcmlhYmxlTmFtZXMucHVzaChcIm9mZnNldFwiKSxpPVwiZ2V0T2Zmc2V0QXRPdXRDb29yZHMoKVwiKTt2YXIgcz1cInZlYzQoMS4wKVwiO251bGwhPW8mJihSbyh0LG8pLHRoaXMudmFyaWFibGVOYW1lcy5wdXNoKFwic2NhbGVcIikscz1cImdldFNjYWxlQXRPdXRDb29yZHMoKVwiKSx0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIHZlYzQgb2Zmc2V0ID0gXCIraStcIjtcXG4gICAgICAgIHZlYzQgc2NhbGUgPSBcIitzK1wiO1xcblxcbiAgICAgICAgdmVjNCB4ID0gZ2V0WEF0T3V0Q29vcmRzKCk7XFxuICAgICAgICB2ZWM0IG1lYW4gPSBnZXRNZWFuQXRPdXRDb29yZHMoKTtcXG4gICAgICAgIHZlYzQgdmFyaWFuY2UgPSBnZXRWYXJpYW5jZUF0T3V0Q29vcmRzKCk7XFxuXFxuICAgICAgICB2ZWM0IGludiA9IHNjYWxlICogaW52ZXJzZXNxcnQodmFyaWFuY2UgKyB2ZWM0KFwiK2ErXCIpKTtcXG5cXG4gICAgICAgIHNldE91dHB1dCgoeCAtIG1lYW4pICogaW52ICsgb2Zmc2V0KTtcXG4gICAgICB9XFxuICAgIFwifSxEYT1cInJldHVybiBhcmVhbCAqIGJyZWFsIC0gYWltYWcgKiBiaW1hZztcIixUYT1cInJldHVybiBhcmVhbCAqIGJpbWFnICsgYWltYWcgKiBicmVhbDtcIixOYT1mdW5jdGlvbih0LGUsbil7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFSZWFsXCIsXCJBSW1hZ1wiLFwiQlJlYWxcIixcIkJJbWFnXCJdLHRoaXMub3V0cHV0U2hhcGU9Um8oZSxuKSx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgZmxvYXQgYmluYXJ5T3BDb21wbGV4KFxcbiAgICAgICAgICBmbG9hdCBhcmVhbCwgZmxvYXQgYWltYWcsIGZsb2F0IGJyZWFsLCBmbG9hdCBiaW1hZykge1xcbiAgICAgICAgXCIrdCtcIlxcbiAgICAgIH1cXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBmbG9hdCBhcmVhbCA9IGdldEFSZWFsQXRPdXRDb29yZHMoKTtcXG4gICAgICAgIGZsb2F0IGFpbWFnID0gZ2V0QUltYWdBdE91dENvb3JkcygpO1xcbiAgICAgICAgZmxvYXQgYnJlYWwgPSBnZXRCUmVhbEF0T3V0Q29vcmRzKCk7XFxuICAgICAgICBmbG9hdCBiaW1hZyA9IGdldEJJbWFnQXRPdXRDb29yZHMoKTtcXG4gICAgICAgIHNldE91dHB1dChiaW5hcnlPcENvbXBsZXgoYXJlYWwsIGFpbWFnLCBicmVhbCwgYmltYWcpKTtcXG4gICAgICB9XFxuICAgIFwifSxGYT1cInJldHVybiBhICsgYjtcIixfYT1cInJldHVybiBhIC0gYjtcIixPYT1cInJldHVybiBhICogYjtcIixNYT1cInJldHVybiAoYSA8IDAuKSA/IGIgKiBhIDogYTtcIixCYT1mdW5jdGlvbih0LGUsbil7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIixcIkJcIl0sdGhpcy5vdXRwdXRTaGFwZT1SbyhlLG4pLHRoaXMudXNlckNvZGU9XCJcXG4gICAgICBmbG9hdCBiaW5hcnlPcGVyYXRpb24oZmxvYXQgYSwgZmxvYXQgYikge1xcbiAgICAgICAgXCIrdCtcIlxcbiAgICAgIH1cXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBmbG9hdCBhID0gZ2V0QUF0T3V0Q29vcmRzKCk7XFxuICAgICAgICBmbG9hdCBiID0gZ2V0QkF0T3V0Q29vcmRzKCk7XFxuICAgICAgICBzZXRPdXRwdXQoYmluYXJ5T3BlcmF0aW9uKGEsIGIpKTtcXG4gICAgICB9XFxuICAgIFwifSxQYT1cIlxcbiAgdmVjNCBhTGVzc1RoYW5aZXJvID0gdmVjNChsZXNzVGhhbihhLCB2ZWM0KDAuKSkpO1xcbiAgcmV0dXJuIChhTGVzc1RoYW5aZXJvICogKGIgKiBhKSkgKyAoKHZlYzQoMS4wKSAtIGFMZXNzVGhhblplcm8pICogYSk7XFxuXCIsTGE9ZnVuY3Rpb24odCxlLG4scil7dm9pZCAwPT09ciYmKHI9ITEpLHRoaXMudmFyaWFibGVOYW1lcz1bXCJBXCIsXCJCXCJdLHRoaXMuc3VwcG9ydHNCcm9hZGNhc3Rpbmc9ITAsdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsdGhpcy5vdXRwdXRTaGFwZT1SbyhlLG4pO3ZhciBvPXRoaXMub3V0cHV0U2hhcGUubGVuZ3RoLGE9XCJcIjtpZihyKWlmKDA9PT1vfHwxPT09ayh0aGlzLm91dHB1dFNoYXBlKSlhPVwiXFxuICAgICAgICAgIHJlc3VsdC55ID0gMC47XFxuICAgICAgICAgIHJlc3VsdC56ID0gMC47XFxuICAgICAgICAgIHJlc3VsdC53ID0gMC47XFxuICAgICAgICBcIjtlbHNlIGlmKGE9XCJcXG4gICAgICAgICAgXCIrd2EobykrXCIgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBcIiwxPT09bylhKz1cIlxcbiAgICAgICAgICAgIHJlc3VsdC55ID0gKGNvb3JkcyArIDEpID49IFwiK3RoaXMub3V0cHV0U2hhcGVbMF0rXCIgPyAwLiA6IHJlc3VsdC55O1xcbiAgICAgICAgICAgIHJlc3VsdC56ID0gMC47XFxuICAgICAgICAgICAgcmVzdWx0LncgPSAwLjtcXG4gICAgICAgICAgXCI7ZWxzZXt2YXIgaT1zYShcImNvb3Jkc1wiLG8pO2ErPVwiXFxuICAgICAgICAgICAgYm9vbCBuZXh0Um93T3V0T2ZCb3VuZHMgPVxcbiAgICAgICAgICAgICAgKFwiK2lbby0yXStcIiArIDEpID49IFwiK3RoaXMub3V0cHV0U2hhcGVbby0yXStcIjtcXG4gICAgICAgICAgICBib29sIG5leHRDb2xPdXRPZkJvdW5kcyA9XFxuICAgICAgICAgICAgICAoXCIraVtvLTFdK1wiICsgMSkgPj0gXCIrdGhpcy5vdXRwdXRTaGFwZVtvLTFdK1wiO1xcbiAgICAgICAgICAgIHJlc3VsdC55ID0gbmV4dENvbE91dE9mQm91bmRzID8gMC4gOiByZXN1bHQueTtcXG4gICAgICAgICAgICByZXN1bHQueiA9IG5leHRSb3dPdXRPZkJvdW5kcyA/IDAuIDogcmVzdWx0Lno7XFxuICAgICAgICAgICAgcmVzdWx0LncgPSBuZXh0Q29sT3V0T2ZCb3VuZHMgfHwgbmV4dFJvd091dE9mQm91bmRzID8gMC4gOiByZXN1bHQudztcXG4gICAgICAgICAgXCJ9dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZlYzQgYmluYXJ5T3BlcmF0aW9uKHZlYzQgYSwgdmVjNCBiKSB7XFxuICAgICAgICBcIit0K1wiXFxuICAgICAgfVxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIHZlYzQgYSA9IGdldEFBdE91dENvb3JkcygpO1xcbiAgICAgICAgdmVjNCBiID0gZ2V0QkF0T3V0Q29vcmRzKCk7XFxuXFxuICAgICAgICB2ZWM0IHJlc3VsdCA9IGJpbmFyeU9wZXJhdGlvbihhLCBiKTtcXG4gICAgICAgIFwiK2ErXCJcXG5cXG4gICAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICAgIH1cXG4gICAgXCJ9LFdhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXSx0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHVuaWZvcm0gZmxvYXQgbWluVmFsO1xcbiAgICAgIHVuaWZvcm0gZmxvYXQgbWF4VmFsO1xcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGZsb2F0IHZhbHVlID0gZ2V0QUF0T3V0Q29vcmRzKCk7XFxuICAgICAgICBpZiAoaXNuYW4odmFsdWUpKSB7XFxuICAgICAgICAgIHNldE91dHB1dCh2YWx1ZSk7XFxuICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIHNldE91dHB1dChjbGFtcCh2YWx1ZSwgbWluVmFsLCBtYXhWYWwpKTtcXG4gICAgICB9XFxuICAgIFwifXJldHVybiB0LnByb3RvdHlwZS5nZXRDdXN0b21TZXR1cEZ1bmM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBmdW5jdGlvbihyLG8pe251bGw9PW4ubWluTG9jJiYobi5taW5Mb2M9ci5nZXRVbmlmb3JtTG9jYXRpb25Ob1Rocm93KG8sXCJtaW5WYWxcIiksbi5tYXhMb2M9ci5nZXRVbmlmb3JtTG9jYXRpb25Ob1Rocm93KG8sXCJtYXhWYWxcIikpLHIuZ2wudW5pZm9ybTFmKG4ubWluTG9jLHQpLHIuZ2wudW5pZm9ybTFmKG4ubWF4TG9jLGUpfX0sdH0oKSxVYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsdGhpcy5vdXRwdXRTaGFwZT10LHRoaXMudXNlckNvZGU9XCJcXG4gICAgICB1bmlmb3JtIGZsb2F0IG1pblZhbDtcXG4gICAgICB1bmlmb3JtIGZsb2F0IG1heFZhbDtcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICB2ZWM0IHZhbHVlID0gZ2V0QUF0T3V0Q29vcmRzKCk7XFxuXFxuICAgICAgICBpZiAoYW55KGlzbmFuKHZhbHVlKSkpIHtcXG4gICAgICAgICAgc2V0T3V0cHV0KHZhbHVlKTtcXG4gICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgc2V0T3V0cHV0KGNsYW1wKHZhbHVlLCB2ZWM0KG1pblZhbCksIHZlYzQobWF4VmFsKSkpO1xcbiAgICAgIH1cXG4gICAgXCJ9cmV0dXJuIHQucHJvdG90eXBlLmdldEN1c3RvbVNldHVwRnVuYz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIsbyl7bnVsbD09bi5taW5Mb2MmJihuLm1pbkxvYz1yLmdldFVuaWZvcm1Mb2NhdGlvbk5vVGhyb3cobyxcIm1pblZhbFwiKSxuLm1heExvYz1yLmdldFVuaWZvcm1Mb2NhdGlvbk5vVGhyb3cobyxcIm1heFZhbFwiKSksci5nbC51bmlmb3JtMWYobi5taW5Mb2MsdCksci5nbC51bmlmb3JtMWYobi5tYXhMb2MsZSl9fSx0fSgpLFZhPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJyZWFsXCIsXCJpbWFnXCJdLHRoaXMub3V0cHV0U2hhcGU9dCx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgZmxvYXQgcmUgPSBhYnMoZ2V0UmVhbEF0T3V0Q29vcmRzKCkpO1xcbiAgICAgICAgZmxvYXQgaW0gPSBhYnMoZ2V0SW1hZ0F0T3V0Q29vcmRzKCkpO1xcbiAgICAgICAgZmxvYXQgbXggPSBtYXgocmUsIGltKTtcXG5cXG4gICAgICAgIC8vIHNhZGx5IHRoZSBsZW5ndGggZnVuY3Rpb24gaW4gZ2xzbCBpcyBub3QgdW5kZXJmbG93LXNhZmVcXG4gICAgICAgIC8vIChhdCBsZWFzdCBub3Qgb24gSW50ZWwgR1BVcykuIFNvIHRoZSBzYWZlIHNvbHV0aW9uIGlzXFxuICAgICAgICAvLyB0byBlbnN1cmUgdW5kZXJmbG93LXNhZmV0eSBpbiBhbGwgY2FzZXMuXFxuICAgICAgICBzZXRPdXRwdXQoXFxuICAgICAgICAgIG14ID09IDAuMCA/IDAuMCA6IG14ICogbGVuZ3RoKHZlYzIoMSwgbWluKHJlLCBpbSkvbXgpKVxcbiAgICAgICAgKTtcXG4gICAgICB9XFxuICAgIFwifSx6YT1mdW5jdGlvbih0KXt0aGlzLm91dHB1dFNoYXBlPVtdLHRoaXMub3V0cHV0U2hhcGU9U24odCwxKSx0aGlzLnZhcmlhYmxlTmFtZXM9dC5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJUXCIrZX0pKTt2YXIgZT1uZXcgQXJyYXkodC5sZW5ndGgtMSk7ZVswXT10WzBdWzFdO2Zvcih2YXIgbj0xO248ZS5sZW5ndGg7bisrKWVbbl09ZVtuLTFdK3Rbbl1bMV07dmFyIHI9W1wiaWYgKHlDIDwgXCIrZVswXStcIikgc2V0T3V0cHV0KGdldFQwKHlSLCB5QykpO1wiXTtmb3Iobj0xO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW24tMV07ci5wdXNoKFwiZWxzZSBpZiAoeUMgPCBcIitlW25dK1wiKSBzZXRPdXRwdXQoZ2V0VFwiK24rXCIoeVIsIHlDLVwiK28rXCIpKTtcIil9dmFyIGE9ZS5sZW5ndGgsaT1lW2UubGVuZ3RoLTFdO3IucHVzaChcImVsc2Ugc2V0T3V0cHV0KGdldFRcIithK1wiKHlSLCB5Qy1cIitpK1wiKSk7XCIpLHRoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjMiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCB5UiA9IGNvb3Jkcy54O1xcbiAgICAgICAgaW50IHlDID0gY29vcmRzLnk7XFxuXFxuICAgICAgICBcIityLmpvaW4oXCJcXG4gICAgICAgIFwiKStcIlxcbiAgICAgIH1cXG4gICAgXCJ9LEdhPWZ1bmN0aW9uKHQsZSl7dGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsdGhpcy5vdXRwdXRTaGFwZT1bXSx0aGlzLm91dHB1dFNoYXBlPVNuKHQsZSk7dmFyIG49dGhpcy5vdXRwdXRTaGFwZSxyPW4ubGVuZ3RoLG89d2EociksYT1zYShcImNvb3Jkc1wiLHIpLGk9W1wieFwiLFwieVwiLFwielwiLFwid1wiLFwidVwiLFwidlwiXS5zbGljZSgwLHIpO3RoaXMudmFyaWFibGVOYW1lcz10Lm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm5cIlRcIitlfSkpO3ZhciBzPW5ldyBBcnJheSh0Lmxlbmd0aC0xKTtzWzBdPXRbMF1bZV07Zm9yKHZhciB1PTE7dTxzLmxlbmd0aDt1Kyspc1t1XT1zW3UtMV0rdFt1XVtlXTt2YXIgYz1pW2VdLGw9aS5zbGljZSgtMiksaD1pLmpvaW4oKSxmPVwiaWYgKFwiK2MrXCIgPCBcIitzWzBdK1wiKSB7XFxuICAgICAgICByZXR1cm4gZ2V0Q2hhbm5lbChcXG4gICAgICAgICAgICBnZXRUMChcIitoK1wiKSwgdmVjMihcIitsLmpvaW4oKStcIikpO1xcbiAgICAgICAgfVwiO2Zvcih1PTE7dTxzLmxlbmd0aDt1Kyspe3ZhciBkPXNbdS0xXTtmKz1cIlxcbiAgICAgICAgaWYgKFwiK2MrXCIgPCBcIitzW3VdK1wiICAmJiBcIitjK1wiID49IFwiK3NbdS0xXStcIikge1xcbiAgICAgICAgICByZXR1cm4gZ2V0Q2hhbm5lbChcXG4gICAgICAgICAgICBnZXRUXCIrdStcIihcIitIYShpLGMsZCkrXCIpLFxcbiAgICAgICAgICAgIHZlYzIoXCIrSGEobCxjLGQpK1wiKSk7XFxuICAgICAgICB9XCJ9dmFyIHA9cy5sZW5ndGgsdj1zW3MubGVuZ3RoLTFdO2YrPVwiXFxuICAgICAgICByZXR1cm4gZ2V0Q2hhbm5lbChcXG4gICAgICAgICAgZ2V0VFwiK3ArXCIoXCIrSGEoaSxjLHYpK1wiKSxcXG4gICAgICAgICAgdmVjMihcIitIYShsLGMsdikrXCIpKTtcIix0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgZmxvYXQgZ2V0VmFsdWUoXCIraS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwiaW50IFwiK3R9KSkrXCIpIHtcXG4gICAgICAgIFwiK2YrXCJcXG4gICAgICB9XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrbytcIiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIHZlYzQgcmVzdWx0ID0gdmVjNChnZXRWYWx1ZShcIithK1wiKSwgMC4sIDAuLCAwLik7XFxuXFxuICAgICAgICBcIithW3ItMV0rXCIgPSBcIithW3ItMV0rXCIgKyAxO1xcbiAgICAgICAgaWYgKFwiK2Fbci0xXStcIiA8IFwiK25bci0xXStcIikge1xcbiAgICAgICAgICByZXN1bHQuZyA9IGdldFZhbHVlKFwiK2ErXCIpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgXCIrYVtyLTJdK1wiID0gXCIrYVtyLTJdK1wiICsgMTtcXG4gICAgICAgIGlmIChcIithW3ItMl0rXCIgPCBcIituW3ItMl0rXCIpIHtcXG4gICAgICAgICAgcmVzdWx0LmEgPSBnZXRWYWx1ZShcIithK1wiKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIFwiK2Fbci0xXStcIiA9IFwiK2Fbci0xXStcIiAtIDE7XFxuICAgICAgICBpZiAoXCIrYVtyLTJdK1wiIDwgXCIrbltyLTJdK1wiICYmXFxuICAgICAgICAgICAgXCIrYVtyLTFdK1wiIDwgXCIrbltyLTFdK1wiKSB7XFxuICAgICAgICAgIHJlc3VsdC5iID0gZ2V0VmFsdWUoXCIrYStcIik7XFxuICAgICAgICB9XFxuICAgICAgICBzZXRPdXRwdXQocmVzdWx0KTtcXG4gICAgICB9XFxuICAgIFwifTtmdW5jdGlvbiBIYSh0LGUsbil7dmFyIHI9dC5pbmRleE9mKGUpO3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZT09PXI/dCtcIiAtIFwiK246dH0pKS5qb2luKCl9dmFyIHFhPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCIsXCJkeVwiXSx0aGlzLm91dHB1dFNoYXBlPXQuZmlsdGVyU2hhcGU7dmFyIGU9dC5zdHJpZGVIZWlnaHQsbj10LnN0cmlkZVdpZHRoLHI9dC5wYWRJbmZvLnRvcCxvPXQucGFkSW5mby5sZWZ0LGE9XCJjaGFubmVsc0xhc3RcIj09PXQuZGF0YUZvcm1hdDt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgd1IgPSBjb29yZHMueDtcXG4gICAgICAgIGludCB3QyA9IGNvb3Jkcy55O1xcbiAgICAgICAgaW50IGQxID0gY29vcmRzLno7XFxuICAgICAgICBpbnQgZDIgPSBjb29yZHMudztcXG5cXG4gICAgICAgIC8vIENvbnZvbHZlIHgoPywgPywgZDEpIHdpdGggZHkoOiwgOiwgZDIpIHRvIGdldCBkdyh3Uiwgd0MsIGQxLCBkMikuXFxuICAgICAgICAvLyA/ID0gdG8gYmUgZGV0ZXJtaW5lZC4gOiA9IGFjcm9zcyBhbGwgdmFsdWVzIGluIHRoYXQgYXhpcy5cXG4gICAgICAgIGZsb2F0IGRvdFByb2QgPSAwLjA7XFxuXFxuICAgICAgICBmb3IgKGludCBiID0gMDsgYiA8IFwiK3QuYmF0Y2hTaXplK1wiOyBiKyspIHtcXG4gICAgICAgICAgZm9yIChpbnQgeVIgPSAwOyB5UiA8IFwiK3Qub3V0SGVpZ2h0K1wiOyB5UisrKSB7XFxuICAgICAgICAgICAgaW50IHhSID0gd1IgKyB5UiAqIFwiK2UrXCIgLSBcIityK1wiO1xcblxcbiAgICAgICAgICAgIGlmICh4UiA8IDAgfHwgeFIgPj0gXCIrdC5pbkhlaWdodCtcIikge1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGZvciAoaW50IHlDID0gMDsgeUMgPCBcIit0Lm91dFdpZHRoK1wiOyB5QysrKSB7XFxuICAgICAgICAgICAgICBpbnQgeEMgPSB3QyArIHlDICogXCIrbitcIiAtIFwiK28rXCI7XFxuXFxuICAgICAgICAgICAgICBpZiAoeEMgPCAwIHx8IHhDID49IFwiK3QuaW5XaWR0aCtcIikge1xcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgIGlmIChcIithK1wiKSB7XFxuICAgICAgICAgICAgICAgIGZsb2F0IGR5VmFsdWUgPSBnZXREeShiLCB5UiwgeUMsIGQyKTtcXG4gICAgICAgICAgICAgICAgZmxvYXQgeFZhbHVlID0gZ2V0WChiLCB4UiwgeEMsIGQxKTtcXG4gICAgICAgICAgICAgICAgZG90UHJvZCArPSAoeFZhbHVlICogZHlWYWx1ZSk7XFxuICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICBmbG9hdCBkeVZhbHVlID0gZ2V0RHkoYiwgZDIsIHlSLCB5Qyk7XFxuICAgICAgICAgICAgICAgIGZsb2F0IHhWYWx1ZSA9IGdldFgoYiwgZDEsIHhSLCB4Qyk7XFxuICAgICAgICAgICAgICAgIGRvdFByb2QgKz0gKHhWYWx1ZSAqIGR5VmFsdWUpO1xcbiAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgc2V0T3V0cHV0KGRvdFByb2QpO1xcbiAgICAgIH1cXG4gICAgXCJ9LEthPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJkeVwiLFwiV1wiXSx0aGlzLm91dHB1dFNoYXBlPXQuaW5TaGFwZTt2YXIgZT10LmZpbHRlckhlaWdodCxuPXQuZmlsdGVyV2lkdGgscj10LnN0cmlkZUhlaWdodCxvPXQuc3RyaWRlV2lkdGgsYT1cImNoYW5uZWxzTGFzdFwiPT09dC5kYXRhRm9ybWF0LGk9ZS0xLXQucGFkSW5mby50b3Ascz1uLTEtdC5wYWRJbmZvLmxlZnQsdT1hPzE6MixjPWE/MjozLGw9YT8zOjE7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIGNvbnN0IGl2ZWMyIHBhZHMgPSBpdmVjMihcIitpK1wiLCBcIitzK1wiKTtcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNCBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiYXRjaCA9IGNvb3Jkc1swXTtcXG4gICAgICAgIGludCBkMSA9IGNvb3Jkc1tcIitsK1wiXTtcXG5cXG4gICAgICAgIGl2ZWMyIGR5Q29ybmVyID0gaXZlYzIoY29vcmRzW1wiK3UrXCJdLCBjb29yZHNbXCIrYytcIl0pIC0gcGFkcztcXG4gICAgICAgIGludCBkeVJDb3JuZXIgPSBkeUNvcm5lci54O1xcbiAgICAgICAgaW50IGR5Q0Nvcm5lciA9IGR5Q29ybmVyLnk7XFxuXFxuICAgICAgICAvLyBDb252b2x2ZSBkeSg/LCA/LCBkMikgd2l0aCB3KDosIDosIGQxLCBkMikgdG8gY29tcHV0ZSBkeCh4UiwgeEMsIGQxKS5cXG4gICAgICAgIC8vID8gPSB0byBiZSBkZXRlcm1pbmVkLiA6ID0gYWNyb3NzIGFsbCB2YWx1ZXMgaW4gdGhhdCBheGlzLlxcbiAgICAgICAgZmxvYXQgZG90UHJvZCA9IDAuMDtcXG4gICAgICAgIGZvciAoaW50IHdSID0gMDsgd1IgPCBcIitlK1wiOyB3UisrKSB7XFxuICAgICAgICAgIGZsb2F0IGR5UiA9IGZsb2F0KGR5UkNvcm5lciArIHdSKSAvIFwiK3IrXCIuMDtcXG5cXG4gICAgICAgICAgaWYgKGR5UiA8IDAuMCB8fCBkeVIgPj0gXCIrdC5vdXRIZWlnaHQrXCIuMCB8fCBmcmFjdChkeVIpID4gMC4wKSB7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgaW50IGlkeVIgPSBpbnQoZHlSKTtcXG5cXG4gICAgICAgICAgaW50IHdSUGVybSA9IFwiK2UrXCIgLSAxIC0gd1I7XFxuXFxuICAgICAgICAgIGZvciAoaW50IHdDID0gMDsgd0MgPCBcIituK1wiOyB3QysrKSB7XFxuICAgICAgICAgICAgZmxvYXQgZHlDID0gZmxvYXQoZHlDQ29ybmVyICsgd0MpIC8gXCIrbytcIi4wO1xcblxcbiAgICAgICAgICAgIGlmIChkeUMgPCAwLjAgfHwgZHlDID49IFwiK3Qub3V0V2lkdGgrXCIuMCB8fFxcbiAgICAgICAgICAgICAgICBmcmFjdChkeUMpID4gMC4wKSB7XFxuICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaW50IGlkeUMgPSBpbnQoZHlDKTtcXG5cXG4gICAgICAgICAgICBpbnQgd0NQZXJtID0gXCIrbitcIiAtIDEgLSB3QztcXG5cXG4gICAgICAgICAgICBmb3IgKGludCBkMiA9IDA7IGQyIDwgXCIrdC5vdXRDaGFubmVscytcIjsgZDIrKykge1xcblxcbiAgICAgICAgICAgICAgaWYgKFwiK2ErXCIpIHtcXG4gICAgICAgICAgICAgICAgZmxvYXQgeFZhbHVlID0gZ2V0RHkoYmF0Y2gsIGlkeVIsIGlkeUMsIGQyKTtcXG4gICAgICAgICAgICAgICAgZmxvYXQgd1ZhbHVlID0gZ2V0Vyh3UlBlcm0sIHdDUGVybSwgZDEsIGQyKTtcXG4gICAgICAgICAgICAgICAgZG90UHJvZCArPSB4VmFsdWUgKiB3VmFsdWU7XFxuICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICBmbG9hdCB4VmFsdWUgPSBnZXREeShiYXRjaCwgZDIsIGlkeVIsIGlkeUMpO1xcbiAgICAgICAgICAgICAgICBmbG9hdCB3VmFsdWUgPSBnZXRXKHdSUGVybSwgd0NQZXJtLCBkMSwgZDIpO1xcbiAgICAgICAgICAgICAgICBkb3RQcm9kICs9IHhWYWx1ZSAqIHdWYWx1ZTtcXG4gICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIHNldE91dHB1dChkb3RQcm9kKTtcXG4gICAgICB9XFxuICAgIFwifSxqYT1mdW5jdGlvbih0KXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wieFwiLFwiZHlcIl0sdGhpcy5vdXRwdXRTaGFwZT10LmZpbHRlclNoYXBlO3ZhciBlPXQuc3RyaWRlRGVwdGgsbj10LnN0cmlkZUhlaWdodCxyPXQuc3RyaWRlV2lkdGgsbz10LnBhZEluZm8uZnJvbnQsYT10LnBhZEluZm8udG9wLGk9dC5wYWRJbmZvLmxlZnQ7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWM1IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IHdGID0gY29vcmRzLng7XFxuICAgICAgICBpbnQgd1IgPSBjb29yZHMueTtcXG4gICAgICAgIGludCB3QyA9IGNvb3Jkcy56O1xcbiAgICAgICAgaW50IGQxID0gY29vcmRzLnc7XFxuICAgICAgICBpbnQgZDIgPSBjb29yZHMudTtcXG5cXG4gICAgICAgIGZsb2F0IGRvdFByb2QgPSAwLjA7XFxuXFxuICAgICAgICBmb3IgKGludCBiID0gMDsgYiA8IFwiK3QuYmF0Y2hTaXplK1wiOyBiKyspIHtcXG4gICAgICAgICAgZm9yIChpbnQgeUYgPSAwOyB5RiA8IFwiK3Qub3V0RGVwdGgrXCI7IHlGKyspIHtcXG4gICAgICAgICAgICBpbnQgeEYgPSB3RiArIHlGICogXCIrZStcIiAtIFwiK28rXCI7XFxuXFxuICAgICAgICAgICAgaWYgKHhGIDwgMCB8fCB4RiA+PSBcIit0LmluRGVwdGgrXCIpIHtcXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICBmb3IgKGludCB5UiA9IDA7IHlSIDwgXCIrdC5vdXRIZWlnaHQrXCI7IHlSKyspIHtcXG4gICAgICAgICAgICAgIGludCB4UiA9IHdSICsgeVIgKiBcIituK1wiIC0gXCIrYStcIjtcXG5cXG4gICAgICAgICAgICAgIGlmICh4UiA8IDAgfHwgeFIgPj0gXCIrdC5pbkhlaWdodCtcIikge1xcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgIGZvciAoaW50IHlDID0gMDsgeUMgPCBcIit0Lm91dFdpZHRoK1wiOyB5QysrKSB7XFxuICAgICAgICAgICAgICAgIGludCB4QyA9IHdDICsgeUMgKiBcIityK1wiIC0gXCIraStcIjtcXG5cXG4gICAgICAgICAgICAgICAgaWYgKHhDIDwgMCB8fCB4QyA+PSBcIit0LmluV2lkdGgrXCIpIHtcXG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICBmbG9hdCBkeVZhbHVlID0gZ2V0RHkoYiwgeUYsIHlSLCB5QywgZDIpO1xcbiAgICAgICAgICAgICAgICBmbG9hdCB4VmFsdWUgPSBnZXRYKGIsIHhGLCB4UiwgeEMsIGQxKTtcXG4gICAgICAgICAgICAgICAgZG90UHJvZCArPSAoeFZhbHVlICogZHlWYWx1ZSk7XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBzZXRPdXRwdXQoZG90UHJvZCk7XFxuICAgICAgfVxcbiAgICBcIn0sWGE9ZnVuY3Rpb24odCl7dGhpcy52YXJpYWJsZU5hbWVzPVtcImR5XCIsXCJXXCJdLHRoaXMub3V0cHV0U2hhcGU9dC5pblNoYXBlO3ZhciBlPXQuZmlsdGVyRGVwdGgsbj10LmZpbHRlckhlaWdodCxyPXQuZmlsdGVyV2lkdGgsbz10LnN0cmlkZURlcHRoLGE9dC5zdHJpZGVIZWlnaHQsaT10LnN0cmlkZVdpZHRoLHM9ZS0xLXQucGFkSW5mby5mcm9udCx1PW4tMS10LnBhZEluZm8udG9wLGM9ci0xLXQucGFkSW5mby5sZWZ0O3RoaXMudXNlckNvZGU9XCJcXG4gICAgICBjb25zdCBpdmVjMyBwYWRzID0gaXZlYzMoXCIrcytcIiwgXCIrdStcIiwgXCIrYytcIik7XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzUgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYmF0Y2ggPSBjb29yZHMueDtcXG4gICAgICAgIGludCBkMSA9IGNvb3Jkcy51O1xcblxcblxcbiAgICAgICAgaXZlYzMgZHlDb3JuZXIgPSBpdmVjMyhjb29yZHMueSwgY29vcmRzLnosIGNvb3Jkcy53KSAtIHBhZHM7XFxuICAgICAgICBpbnQgZHlGQ29ybmVyID0gZHlDb3JuZXIueDtcXG4gICAgICAgIGludCBkeVJDb3JuZXIgPSBkeUNvcm5lci55O1xcbiAgICAgICAgaW50IGR5Q0Nvcm5lciA9IGR5Q29ybmVyLno7XFxuXFxuICAgICAgICBmbG9hdCBkb3RQcm9kID0gMC4wO1xcbiAgICAgICAgZm9yIChpbnQgd0YgPSAwOyB3RiA8IFwiK2UrXCI7IHdGKyspIHtcXG4gICAgICAgICAgZmxvYXQgZHlGID0gZmxvYXQoZHlGQ29ybmVyICsgd0YpIC8gXCIrbytcIi4wO1xcblxcbiAgICAgICAgICBpZiAoZHlGIDwgMC4wIHx8IGR5RiA+PSBcIit0Lm91dERlcHRoK1wiLjAgfHwgZnJhY3QoZHlGKSA+IDAuMCkge1xcbiAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIGludCBpZHlGID0gaW50KGR5Rik7XFxuXFxuICAgICAgICAgIGludCB3RlBlcm0gPSBcIitlK1wiIC0gMSAtIHdGO1xcblxcbiAgICAgICAgICBmb3IgKGludCB3UiA9IDA7IHdSIDwgXCIrbitcIjsgd1IrKykge1xcbiAgICAgICAgICAgIGZsb2F0IGR5UiA9IGZsb2F0KGR5UkNvcm5lciArIHdSKSAvIFwiK2ErXCIuMDtcXG5cXG4gICAgICAgICAgICBpZiAoZHlSIDwgMC4wIHx8IGR5UiA+PSBcIit0Lm91dEhlaWdodCtcIi4wIHx8XFxuICAgICAgICAgICAgICBmcmFjdChkeVIpID4gMC4wKSB7XFxuICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaW50IGlkeVIgPSBpbnQoZHlSKTtcXG5cXG4gICAgICAgICAgICBpbnQgd1JQZXJtID0gXCIrbitcIiAtIDEgLSB3UjtcXG5cXG4gICAgICAgICAgICBmb3IgKGludCB3QyA9IDA7IHdDIDwgXCIrcitcIjsgd0MrKykge1xcbiAgICAgICAgICAgICAgZmxvYXQgZHlDID0gZmxvYXQoZHlDQ29ybmVyICsgd0MpIC8gXCIraStcIi4wO1xcblxcbiAgICAgICAgICAgICAgaWYgKGR5QyA8IDAuMCB8fCBkeUMgPj0gXCIrdC5vdXRXaWR0aCtcIi4wIHx8XFxuICAgICAgICAgICAgICAgICAgZnJhY3QoZHlDKSA+IDAuMCkge1xcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgIGludCBpZHlDID0gaW50KGR5Qyk7XFxuXFxuICAgICAgICAgICAgICBpbnQgd0NQZXJtID0gXCIrcitcIiAtIDEgLSB3QztcXG5cXG4gICAgICAgICAgICAgIGZvciAoaW50IGQyID0gMDsgZDIgPCBcIit0Lm91dENoYW5uZWxzK1wiOyBkMisrKSB7XFxuICAgICAgICAgICAgICAgIGZsb2F0IHhWYWx1ZSA9IGdldER5KGJhdGNoLCBpZHlGLCBpZHlSLCBpZHlDLCBkMik7XFxuICAgICAgICAgICAgICAgIGZsb2F0IHdWYWx1ZSA9IGdldFcod0ZQZXJtLCB3UlBlcm0sIHdDUGVybSwgZDEsIGQyKTtcXG4gICAgICAgICAgICAgICAgZG90UHJvZCArPSB4VmFsdWUgKiB3VmFsdWU7XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBzZXRPdXRwdXQoZG90UHJvZCk7XFxuICAgICAgfVxcbiAgICBcIn0sWWE9ZnVuY3Rpb24odCl7dGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIixcImR5XCJdLHRoaXMub3V0cHV0U2hhcGU9dC5maWx0ZXJTaGFwZTt2YXIgZT10LnN0cmlkZUhlaWdodCxuPXQuc3RyaWRlV2lkdGgscj10LnBhZEluZm8udG9wLG89dC5wYWRJbmZvLmxlZnQsYT10Lm91dENoYW5uZWxzL3QuaW5DaGFubmVsczt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgd1IgPSBjb29yZHMueDtcXG4gICAgICAgIGludCB3QyA9IGNvb3Jkcy55O1xcbiAgICAgICAgaW50IGQxID0gY29vcmRzLno7XFxuICAgICAgICBpbnQgZG0gPSBjb29yZHMudztcXG4gICAgICAgIGludCBkMiA9IGQxICogXCIrYStcIiArIGRtO1xcblxcbiAgICAgICAgZmxvYXQgZG90UHJvZCA9IDAuMDtcXG5cXG4gICAgICAgIC8vIFRPIERPOiBWZWM0IG92ZXIgdGhlIGJhdGNoIHNpemVcXG4gICAgICAgIGZvciAoaW50IGIgPSAwOyBiIDwgXCIrdC5iYXRjaFNpemUrXCI7IGIrKykge1xcbiAgICAgICAgICBmb3IgKGludCB5UiA9IDA7IHlSIDwgXCIrdC5vdXRIZWlnaHQrXCI7IHlSKyspIHtcXG4gICAgICAgICAgICBpbnQgeFIgPSB3UiArIHlSICogXCIrZStcIiAtIFwiK3IrXCI7XFxuXFxuICAgICAgICAgICAgaWYgKHhSIDwgMCB8fCB4UiA+PSBcIit0LmluSGVpZ2h0K1wiKSB7XFxuICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgZm9yIChpbnQgeUMgPSAwOyB5QyA8IFwiK3Qub3V0V2lkdGgrXCI7IHlDKyspIHtcXG4gICAgICAgICAgICAgIGludCB4QyA9IHdDICsgeUMgKiBcIituK1wiIC0gXCIrbytcIjtcXG5cXG4gICAgICAgICAgICAgIGlmICh4QyA8IDAgfHwgeEMgPj0gXCIrdC5pbldpZHRoK1wiKSB7XFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgZmxvYXQgZHlWYWx1ZSA9IGdldER5KGIsIHlSLCB5QywgZDIpO1xcbiAgICAgICAgICAgICAgZmxvYXQgeFZhbHVlID0gZ2V0WChiLCB4UiwgeEMsIGQxKTtcXG4gICAgICAgICAgICAgIGRvdFByb2QgKz0gKHhWYWx1ZSAqIGR5VmFsdWUpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgc2V0T3V0cHV0KGRvdFByb2QpO1xcbiAgICAgIH1cXG4gICAgXCJ9LCRhPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJkeVwiLFwiV1wiXSx0aGlzLm91dHB1dFNoYXBlPXQuaW5TaGFwZTt2YXIgZT10LmZpbHRlckhlaWdodCxuPXQuZmlsdGVyV2lkdGgscj10LnN0cmlkZUhlaWdodCxvPXQuc3RyaWRlV2lkdGgsYT1lLTEtdC5wYWRJbmZvLnRvcCxpPW4tMS10LnBhZEluZm8ubGVmdCxzPXQub3V0Q2hhbm5lbHMvdC5pbkNoYW5uZWxzO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICBjb25zdCBpdmVjMiBwYWRzID0gaXZlYzIoXCIrYStcIiwgXCIraStcIik7XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYmF0Y2ggPSBjb29yZHNbMF07XFxuICAgICAgICBpbnQgZDEgPSBjb29yZHNbM107XFxuICAgICAgICBpdmVjMiBkeUNvcm5lciA9IGNvb3Jkcy55eiAtIHBhZHM7XFxuICAgICAgICBpbnQgZHlSQ29ybmVyID0gZHlDb3JuZXIueDtcXG4gICAgICAgIGludCBkeUNDb3JuZXIgPSBkeUNvcm5lci55O1xcblxcbiAgICAgICAgZmxvYXQgZG90UHJvZCA9IDAuMDtcXG5cXG4gICAgICAgIGZvciAoaW50IHdSID0gMDsgd1IgPCBcIitlK1wiOyB3UisrKSB7XFxuICAgICAgICAgIGZsb2F0IGR5UiA9IGZsb2F0KGR5UkNvcm5lciArIHdSKSAvIFwiK3IrXCIuMDtcXG5cXG4gICAgICAgICAgaWYgKGR5UiA8IDAuMCB8fCBkeVIgPj0gXCIrdC5vdXRIZWlnaHQrXCIuMCB8fCBmcmFjdChkeVIpID4gMC4wKSB7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgaW50IGlkeVIgPSBpbnQoZHlSKTtcXG5cXG4gICAgICAgICAgaW50IHdSUGVybSA9IFwiK2UrXCIgLSAxIC0gd1I7XFxuXFxuICAgICAgICAgIGZvciAoaW50IHdDID0gMDsgd0MgPCBcIituK1wiOyB3QysrKSB7XFxuICAgICAgICAgICAgZmxvYXQgZHlDID0gZmxvYXQoZHlDQ29ybmVyICsgd0MpIC8gXCIrbytcIi4wO1xcblxcbiAgICAgICAgICAgIGlmIChkeUMgPCAwLjAgfHwgZHlDID49IFwiK3Qub3V0V2lkdGgrXCIuMCB8fFxcbiAgICAgICAgICAgICAgICBmcmFjdChkeUMpID4gMC4wKSB7XFxuICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaW50IGlkeUMgPSBpbnQoZHlDKTtcXG5cXG4gICAgICAgICAgICBpbnQgd0NQZXJtID0gXCIrbitcIiAtIDEgLSB3QztcXG5cXG4gICAgICAgICAgICAvLyBUTyBETzogVmVjNCBvdmVyIHRoZSBjaGFubmVsTXVsXFxuICAgICAgICAgICAgZm9yIChpbnQgZG0gPSAwOyBkbSA8IFwiK3MrXCI7IGRtKyspIHtcXG4gICAgICAgICAgICAgIGludCBkMiA9IGQxICogXCIrcytcIiArIGRtO1xcbiAgICAgICAgICAgICAgZmxvYXQgeFZhbHVlID0gZ2V0RHkoYmF0Y2gsIGlkeVIsIGlkeUMsIGQyKTtcXG4gICAgICAgICAgICAgIGZsb2F0IHdWYWx1ZSA9IGdldFcod1JQZXJtLCB3Q1Blcm0sIGQxLCBkbSk7XFxuICAgICAgICAgICAgICBkb3RQcm9kICs9IHhWYWx1ZSAqIHdWYWx1ZTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIHNldE91dHB1dChkb3RQcm9kKTtcXG4gICAgICB9XFxuICAgIFwifSxRYT1mdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1lJiYoZT0hMSksdm9pZCAwPT09biYmKG49bnVsbCksdm9pZCAwPT09ciYmKHI9ITEpLHRoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCIsXCJXXCJdLHRoaXMub3V0cHV0U2hhcGU9dC5vdXRTaGFwZTt2YXIgbz10LnBhZEluZm8udG9wLGE9dC5wYWRJbmZvLmxlZnQsaT10LnN0cmlkZUhlaWdodCxzPXQuc3RyaWRlV2lkdGgsdT10LmRpbGF0aW9uSGVpZ2h0LGM9dC5kaWxhdGlvbldpZHRoLGw9dC5maWx0ZXJIZWlnaHQsaD10LmZpbHRlcldpZHRoLGY9NCpNYXRoLmZsb29yKHQuaW5DaGFubmVscy80KSxkPXQuaW5DaGFubmVscyU0LHA9XCJjaGFubmVsc0xhc3RcIj09PXQuZGF0YUZvcm1hdCx2PXA/MToyLG09cD8yOjMsZz1wPzM6MSx5PVwiXCIseD1cIlwiO24mJih5PXI/XCJmbG9hdCBhY3RpdmF0aW9uKGZsb2F0IGEpIHtcXG4gICAgICAgICAgZmxvYXQgYiA9IGdldFByZWx1QWN0aXZhdGlvbldlaWdodHNBdE91dENvb3JkcygpO1xcbiAgICAgICAgICBcIituK1wiXFxuICAgICAgICB9XCI6XCJcXG4gICAgICAgICAgZmxvYXQgYWN0aXZhdGlvbihmbG9hdCB4KSB7XFxuICAgICAgICAgICAgXCIrbitcIlxcbiAgICAgICAgICB9XFxuICAgICAgICBcIix4PVwicmVzdWx0ID0gYWN0aXZhdGlvbihyZXN1bHQpO1wiKTt2YXIgYj1lP1wicmVzdWx0ICs9IGdldEJpYXNBdE91dENvb3JkcygpO1wiOlwiXCI7ZSYmdGhpcy52YXJpYWJsZU5hbWVzLnB1c2goXCJiaWFzXCIpLHImJnRoaXMudmFyaWFibGVOYW1lcy5wdXNoKFwicHJlbHVBY3RpdmF0aW9uV2VpZ2h0c1wiKSx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgXCIreStcIlxcblxcbiAgICAgIGNvbnN0IGl2ZWMyIHN0cmlkZXMgPSBpdmVjMihcIitpK1wiLCBcIitzK1wiKTtcXG4gICAgICBjb25zdCBpdmVjMiBwYWRzID0gaXZlYzIoXCIrbytcIiwgXCIrYStcIik7XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYmF0Y2ggPSBjb29yZHNbMF07XFxuICAgICAgICBpbnQgZDIgPSBjb29yZHNbXCIrZytcIl07XFxuXFxuICAgICAgICBpdmVjMiB4UkNDb3JuZXIgPVxcbiAgICAgICAgICAgIGl2ZWMyKGNvb3Jkc1tcIit2K1wiXSwgY29vcmRzW1wiK20rXCJdKSAqIHN0cmlkZXMgLSBwYWRzO1xcbiAgICAgICAgaW50IHhSQ29ybmVyID0geFJDQ29ybmVyLng7XFxuICAgICAgICBpbnQgeENDb3JuZXIgPSB4UkNDb3JuZXIueTtcXG5cXG4gICAgICAgIC8vIENvbnZvbHZlIHgoPywgPywgZDEpIHdpdGggdyg6LCA6LCBkMSwgZDIpIHRvIGdldCB5KHlSLCB5QywgZDIpLlxcbiAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWQuIDogPSBhY3Jvc3MgYWxsIHZhbHVlcyBpbiB0aGF0IGF4aXMuXFxuICAgICAgICBmbG9hdCBkb3RQcm9kID0gMC4wO1xcbiAgICAgICAgZm9yIChpbnQgd1IgPSAwOyB3UiA8IFwiK2wrXCI7IHdSKyspIHtcXG4gICAgICAgICAgaW50IHhSID0geFJDb3JuZXIgKyB3UiAqIFwiK3UrXCI7XFxuXFxuICAgICAgICAgIGlmICh4UiA8IDAgfHwgeFIgPj0gXCIrdC5pbkhlaWdodCtcIikge1xcbiAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgIGZvciAoaW50IHdDID0gMDsgd0MgPCBcIitoK1wiOyB3QysrKSB7XFxuICAgICAgICAgICAgaW50IHhDID0geENDb3JuZXIgKyB3QyAqIFwiK2MrXCI7XFxuXFxuICAgICAgICAgICAgaWYgKHhDIDwgMCB8fCB4QyA+PSBcIit0LmluV2lkdGgrXCIpIHtcXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICBmb3IgKGludCBkMSA9IDA7IGQxIDwgXCIrZitcIjsgZDEgKz0gNCkge1xcbiAgICAgICAgICAgICAgdmVjNCB3VmFsdWVzID0gdmVjNChcXG4gICAgICAgICAgICAgICAgZ2V0Vyh3Uiwgd0MsIGQxLCBkMiksXFxuICAgICAgICAgICAgICAgIGdldFcod1IsIHdDLCBkMSArIDEsIGQyKSxcXG4gICAgICAgICAgICAgICAgZ2V0Vyh3Uiwgd0MsIGQxICsgMiwgZDIpLFxcbiAgICAgICAgICAgICAgICBnZXRXKHdSLCB3QywgZDEgKyAzLCBkMilcXG4gICAgICAgICAgICAgICk7XFxuXFxuICAgICAgICAgICAgICBpZiAoXCIrcCtcIikge1xcbiAgICAgICAgICAgICAgICB2ZWM0IHhWYWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhSLCB4QywgZDEpLFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhSLCB4QywgZDEgKyAxKSxcXG4gICAgICAgICAgICAgICAgICBnZXRYKGJhdGNoLCB4UiwgeEMsIGQxICsgMiksXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgeFIsIHhDLCBkMSArIDMpXFxuICAgICAgICAgICAgICAgICk7XFxuICAgICAgICAgICAgICAgIGRvdFByb2QgKz0gZG90KHhWYWx1ZXMsIHdWYWx1ZXMpO1xcbiAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgdmVjNCB4VmFsdWVzID0gdmVjNChcXG4gICAgICAgICAgICAgICAgICBnZXRYKGJhdGNoLCBkMSwgeFIsIHhDKSxcXG4gICAgICAgICAgICAgICAgICBnZXRYKGJhdGNoLCBkMSArIDEsIHhSLCB4QyksXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgZDEgKyAyLCB4UiwgeEMpLFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIGQxICsgMywgeFIsIHhDKVxcbiAgICAgICAgICAgICAgICApO1xcbiAgICAgICAgICAgICAgICBkb3RQcm9kICs9IGRvdCh4VmFsdWVzLCB3VmFsdWVzKTtcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgaWYgKFwiKygxPT09ZCkrXCIpIHtcXG5cXG4gICAgICAgICAgICAgIGlmIChcIitwK1wiKSB7XFxuICAgICAgICAgICAgICAgIGRvdFByb2QgKz1cXG4gICAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhSLCB4QywgXCIrZitcIikgKlxcbiAgICAgICAgICAgICAgICAgICAgZ2V0Vyh3Uiwgd0MsIFwiK2YrXCIsIGQyKTtcXG4gICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIGRvdFByb2QgKz1cXG4gICAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIFwiK2YrXCIsIHhSLCB4QykgKlxcbiAgICAgICAgICAgICAgICAgICAgZ2V0Vyh3Uiwgd0MsIFwiK2YrXCIsIGQyKTtcXG4gICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFwiKygyPT09ZCkrXCIpIHtcXG4gICAgICAgICAgICAgIHZlYzIgd1ZhbHVlcyA9IHZlYzIoXFxuICAgICAgICAgICAgICAgIGdldFcod1IsIHdDLCBcIitmK1wiLCBkMiksXFxuICAgICAgICAgICAgICAgIGdldFcod1IsIHdDLCBcIitmK1wiICsgMSwgZDIpXFxuICAgICAgICAgICAgICApO1xcblxcbiAgICAgICAgICAgICAgaWYgKFwiK3ArXCIpIHtcXG4gICAgICAgICAgICAgICAgdmVjMiB4VmFsdWVzID0gdmVjMihcXG4gICAgICAgICAgICAgICAgICBnZXRYKGJhdGNoLCB4UiwgeEMsIFwiK2YrXCIpLFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhSLCB4QywgXCIrZitcIiArIDEpXFxuICAgICAgICAgICAgICAgICk7XFxuICAgICAgICAgICAgICAgIGRvdFByb2QgKz0gZG90KHhWYWx1ZXMsIHdWYWx1ZXMpO1xcbiAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgdmVjMiB4VmFsdWVzID0gdmVjMihcXG4gICAgICAgICAgICAgICAgICBnZXRYKGJhdGNoLCBcIitmK1wiLCB4UiwgeEMpLFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIFwiK2YrXCIgKyAxLCB4UiwgeEMpXFxuICAgICAgICAgICAgICAgICk7XFxuICAgICAgICAgICAgICAgIGRvdFByb2QgKz0gZG90KHhWYWx1ZXMsIHdWYWx1ZXMpO1xcbiAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXCIrKDM9PT1kKStcIikge1xcbiAgICAgICAgICAgICAgdmVjMyB3VmFsdWVzID0gdmVjMyhcXG4gICAgICAgICAgICAgICAgZ2V0Vyh3Uiwgd0MsIFwiK2YrXCIsIGQyKSxcXG4gICAgICAgICAgICAgICAgZ2V0Vyh3Uiwgd0MsIFwiK2YrXCIgKyAxLCBkMiksXFxuICAgICAgICAgICAgICAgIGdldFcod1IsIHdDLCBcIitmK1wiICsgMiwgZDIpXFxuICAgICAgICAgICAgICApO1xcblxcbiAgICAgICAgICAgICAgaWYgKFwiK3ArXCIpIHtcXG4gICAgICAgICAgICAgICAgdmVjMyB4VmFsdWVzID0gdmVjMyhcXG4gICAgICAgICAgICAgICAgICBnZXRYKGJhdGNoLCB4UiwgeEMsIFwiK2YrXCIpLFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhSLCB4QywgXCIrZitcIiArIDEpLFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhSLCB4QywgXCIrZitcIiArIDIpXFxuICAgICAgICAgICAgICAgICk7XFxuICAgICAgICAgICAgICAgIGRvdFByb2QgKz0gZG90KHhWYWx1ZXMsIHdWYWx1ZXMpO1xcbiAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgdmVjMyB4VmFsdWVzID0gdmVjMyhcXG4gICAgICAgICAgICAgICAgICBnZXRYKGJhdGNoLCBcIitmK1wiLCB4UiwgeEMpLFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIFwiK2YrXCIgKyAxLCB4UiwgeEMpLFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIFwiK2YrXCIgKyAyLCB4UiwgeEMpXFxuICAgICAgICAgICAgICAgICk7XFxuICAgICAgICAgICAgICAgIGRvdFByb2QgKz0gZG90KHhWYWx1ZXMsIHdWYWx1ZXMpO1xcbiAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcblxcbiAgICAgICAgZmxvYXQgcmVzdWx0ID0gZG90UHJvZDtcXG4gICAgICAgIFwiK2IrXCJcXG4gICAgICAgIFwiK3grXCJcXG4gICAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICAgIH1cXG4gICAgXCJ9LEphPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCIsXCJXXCJdLHRoaXMub3V0cHV0U2hhcGU9dC5vdXRTaGFwZTt2YXIgZT10LnBhZEluZm8uZnJvbnQsbj10LnBhZEluZm8udG9wLHI9dC5wYWRJbmZvLmxlZnQsbz10LnN0cmlkZURlcHRoLGE9dC5zdHJpZGVIZWlnaHQsaT10LnN0cmlkZVdpZHRoLHM9dC5kaWxhdGlvbkRlcHRoLHU9dC5kaWxhdGlvbkhlaWdodCxjPXQuZGlsYXRpb25XaWR0aCxsPXQuZmlsdGVyRGVwdGgsaD10LmZpbHRlckhlaWdodCxmPXQuZmlsdGVyV2lkdGgsZD00Kk1hdGguZmxvb3IodC5pbkNoYW5uZWxzLzQpLHA9dC5pbkNoYW5uZWxzJTQ7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIGNvbnN0IGl2ZWMzIHN0cmlkZXMgPSBpdmVjMyhcIitvK1wiLCBcIithK1wiLCBcIitpK1wiKTtcXG4gICAgICBjb25zdCBpdmVjMyBwYWRzID0gaXZlYzMoXCIrZStcIiwgXCIrbitcIiwgXCIrcitcIik7XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzUgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYmF0Y2ggPSBjb29yZHMueDtcXG4gICAgICAgIGludCBkMiA9IGNvb3Jkcy51O1xcblxcbiAgICAgICAgaXZlYzMgeEZSQ0Nvcm5lciA9IGl2ZWMzKGNvb3Jkcy55LCBjb29yZHMueiwgY29vcmRzLncpICogc3RyaWRlcyAtIHBhZHM7XFxuICAgICAgICBpbnQgeEZDb3JuZXIgPSB4RlJDQ29ybmVyLng7XFxuICAgICAgICBpbnQgeFJDb3JuZXIgPSB4RlJDQ29ybmVyLnk7XFxuICAgICAgICBpbnQgeENDb3JuZXIgPSB4RlJDQ29ybmVyLno7XFxuXFxuICAgICAgICAvLyBDb252b2x2ZSB4KD8sID8sID8sIGQxKSB3aXRoIHcoOiwgOiwgOiwgZDEsIGQyKSB0byBnZXRcXG4gICAgICAgIC8vIHkoeUYsIHlSLCB5QywgZDIpLiA/ID0gdG8gYmUgZGV0ZXJtaW5lZC4gOiA9IGFjcm9zcyBhbGxcXG4gICAgICAgIC8vIHZhbHVlcyBpbiB0aGF0IGF4aXMuXFxuICAgICAgICBmbG9hdCBkb3RQcm9kID0gMC4wO1xcbiAgICAgICAgZm9yIChpbnQgd0YgPSAwOyB3RiA8IFwiK2wrXCI7IHdGKyspIHtcXG4gICAgICAgICAgaW50IHhGID0geEZDb3JuZXIgKyB3RiAqIFwiK3MrXCI7XFxuXFxuICAgICAgICAgIGlmICh4RiA8IDAgfHwgeEYgPj0gXCIrdC5pbkRlcHRoK1wiKSB7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgZm9yIChpbnQgd1IgPSAwOyB3UiA8IFwiK2grXCI7IHdSKyspIHtcXG4gICAgICAgICAgICBpbnQgeFIgPSB4UkNvcm5lciArIHdSICogXCIrdStcIjtcXG5cXG4gICAgICAgICAgICBpZiAoeFIgPCAwIHx8IHhSID49IFwiK3QuaW5IZWlnaHQrXCIpIHtcXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICBmb3IgKGludCB3QyA9IDA7IHdDIDwgXCIrZitcIjsgd0MrKykge1xcbiAgICAgICAgICAgICAgaW50IHhDID0geENDb3JuZXIgKyB3QyAqIFwiK2MrXCI7XFxuXFxuICAgICAgICAgICAgICBpZiAoeEMgPCAwIHx8IHhDID49IFwiK3QuaW5XaWR0aCtcIikge1xcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgIGZvciAoaW50IGQxID0gMDsgZDEgPCBcIitkK1wiOyBkMSArPSA0KSB7XFxuICAgICAgICAgICAgICAgIHZlYzQgeFZhbHVlcyA9IHZlYzQoXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgeEYsIHhSLCB4QywgZDEpLFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhGLCB4UiwgeEMsIGQxICsgMSksXFxuICAgICAgICAgICAgICAgICAgZ2V0WChiYXRjaCwgeEYsIHhSLCB4QywgZDEgKyAyKSxcXG4gICAgICAgICAgICAgICAgICBnZXRYKGJhdGNoLCB4RiwgeFIsIHhDLCBkMSArIDMpXFxuICAgICAgICAgICAgICAgICk7XFxuICAgICAgICAgICAgICAgIHZlYzQgd1ZhbHVlcyA9IHZlYzQoXFxuICAgICAgICAgICAgICAgICAgZ2V0Vyh3Riwgd1IsIHdDLCBkMSwgZDIpLFxcbiAgICAgICAgICAgICAgICAgIGdldFcod0YsIHdSLCB3QywgZDEgKyAxLCBkMiksXFxuICAgICAgICAgICAgICAgICAgZ2V0Vyh3Riwgd1IsIHdDLCBkMSArIDIsIGQyKSxcXG4gICAgICAgICAgICAgICAgICBnZXRXKHdGLCB3Uiwgd0MsIGQxICsgMywgZDIpXFxuICAgICAgICAgICAgICAgICk7XFxuXFxuICAgICAgICAgICAgICAgIGRvdFByb2QgKz0gZG90KHhWYWx1ZXMsIHdWYWx1ZXMpO1xcbiAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgaWYgKFwiKygxPT09cCkrXCIpIHtcXG4gICAgICAgICAgICAgICAgZG90UHJvZCArPVxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhGLCB4UiwgeEMsIFwiK2QrXCIpICpcXG4gICAgICAgICAgICAgICAgICBnZXRXKHdGLCB3Uiwgd0MsIFwiK2QrXCIsIGQyKTtcXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoXCIrKDI9PT1wKStcIikge1xcbiAgICAgICAgICAgICAgICB2ZWMyIHhWYWx1ZXMgPSB2ZWMyKFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhGLCB4UiwgeEMsIFwiK2QrXCIpLFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhGLCB4UiwgeEMsIFwiK2QrXCIgKyAxKVxcbiAgICAgICAgICAgICAgICApO1xcbiAgICAgICAgICAgICAgICB2ZWMyIHdWYWx1ZXMgPSB2ZWMyKFxcbiAgICAgICAgICAgICAgICAgIGdldFcod0YsIHdSLCB3QywgXCIrZCtcIiwgZDIpLFxcbiAgICAgICAgICAgICAgICAgIGdldFcod0YsIHdSLCB3QywgXCIrZCtcIiArIDEsIGQyKVxcbiAgICAgICAgICAgICAgICApO1xcbiAgICAgICAgICAgICAgICBkb3RQcm9kICs9IGRvdCh4VmFsdWVzLCB3VmFsdWVzKTtcXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoXCIrKDM9PT1wKStcIikge1xcbiAgICAgICAgICAgICAgICB2ZWMzIHhWYWx1ZXMgPSB2ZWMzKFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhGLCB4UiwgeEMsIFwiK2QrXCIpLFxcbiAgICAgICAgICAgICAgICAgIGdldFgoYmF0Y2gsIHhGLCB4UiwgeEMsIFwiK2QrXCIgKyAxKSxcXG4gICAgICAgICAgICAgICAgICBnZXRYKGJhdGNoLCB4RiwgeFIsIHhDLCBcIitkK1wiICsgMilcXG4gICAgICAgICAgICAgICAgKTtcXG4gICAgICAgICAgICAgICAgdmVjMyB3VmFsdWVzID0gdmVjMyhcXG4gICAgICAgICAgICAgICAgICBnZXRXKHdGLCB3Uiwgd0MsIFwiK2QrXCIsIGQyKSxcXG4gICAgICAgICAgICAgICAgICBnZXRXKHdGLCB3Uiwgd0MsIFwiK2QrXCIgKyAxLCBkMiksXFxuICAgICAgICAgICAgICAgICAgZ2V0Vyh3Riwgd1IsIHdDLCBcIitkK1wiICsgMiwgZDIpXFxuICAgICAgICAgICAgICAgICk7XFxuICAgICAgICAgICAgICAgIGRvdFByb2QgKz0gZG90KHhWYWx1ZXMsIHdWYWx1ZXMpO1xcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgc2V0T3V0cHV0KGRvdFByb2QpO1xcbiAgICAgIH1cXG4gICAgXCJ9LFphPWZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PWUmJihlPSExKSx2b2lkIDA9PT1uJiYobj1udWxsKSx2b2lkIDA9PT1yJiYocj0hMSksdGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIixcIldcIl0sdGhpcy5vdXRwdXRTaGFwZT10Lm91dFNoYXBlO3ZhciBvPXQuaW5IZWlnaHQsYT10LmluV2lkdGgsaT10LnBhZEluZm8udG9wLHM9dC5wYWRJbmZvLmxlZnQsdT10LnN0cmlkZUhlaWdodCxjPXQuc3RyaWRlV2lkdGgsbD10LmRpbGF0aW9uSGVpZ2h0LGg9dC5kaWxhdGlvbldpZHRoLGY9dC5maWx0ZXJIZWlnaHQsZD10LmZpbHRlcldpZHRoLHA9dC5vdXRDaGFubmVscy90LmluQ2hhbm5lbHMsdj1cIlwiLG09XCJcIjtuJiYodj1yP1wiZmxvYXQgYWN0aXZhdGlvbihmbG9hdCBhKSB7XFxuICAgICAgICAgIGZsb2F0IGIgPSBnZXRQcmVsdUFjdGl2YXRpb25XZWlnaHRzQXRPdXRDb29yZHMoKTtcXG4gICAgICAgICAgXCIrbitcIlxcbiAgICAgICAgfVwiOlwiXFxuICAgICAgICAgIGZsb2F0IGFjdGl2YXRpb24oZmxvYXQgeCkge1xcbiAgICAgICAgICAgIFwiK24rXCJcXG4gICAgICAgICAgfVxcbiAgICAgICAgXCIsbT1cInJlc3VsdCA9IGFjdGl2YXRpb24ocmVzdWx0KTtcIik7dmFyIGc9ZT9cInJlc3VsdCArPSBnZXRCaWFzQXRPdXRDb29yZHMoKTtcIjpcIlwiO2UmJnRoaXMudmFyaWFibGVOYW1lcy5wdXNoKFwiYmlhc1wiKSxyJiZ0aGlzLnZhcmlhYmxlTmFtZXMucHVzaChcInByZWx1QWN0aXZhdGlvbldlaWdodHNcIiksdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIFwiK3YrXCJcXG5cXG4gICAgICBjb25zdCBpdmVjMiBzdHJpZGVzID0gaXZlYzIoXCIrdStcIiwgXCIrYytcIik7XFxuICAgICAgY29uc3QgaXZlYzIgcGFkcyA9IGl2ZWMyKFwiK2krXCIsIFwiK3MrXCIpO1xcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGJhdGNoID0gY29vcmRzLng7XFxuICAgICAgICBpdmVjMiB4UkNDb3JuZXIgPSBjb29yZHMueXogKiBzdHJpZGVzIC0gcGFkcztcXG4gICAgICAgIGludCBkMiA9IGNvb3Jkcy53O1xcbiAgICAgICAgaW50IGQxID0gZDIgLyBcIitwK1wiO1xcbiAgICAgICAgaW50IHEgPSBkMiAtIGQxICogXCIrcCtcIjtcXG5cXG4gICAgICAgIGludCB4UkNvcm5lciA9IHhSQ0Nvcm5lci54O1xcbiAgICAgICAgaW50IHhDQ29ybmVyID0geFJDQ29ybmVyLnk7XFxuXFxuICAgICAgICAvLyBDb252b2x2ZSB4KD8sID8sIGQxKSB3aXRoIHcoOiwgOiwgZDEsIHEpIHRvIGdldCB5KHlSLCB5QywgZDIpLlxcbiAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWQuIDogPSBhY3Jvc3MgYWxsIHZhbHVlcyBpbiB0aGF0IGF4aXMuXFxuICAgICAgICBmbG9hdCBkb3RQcm9kID0gMC4wO1xcbiAgICAgICAgLy8gVE8gRE8oZHNtaWxrb3YpOiBGbGF0dGVuIHRoZSB0d28gZm9yIGxvb3BzIGFuZCB2ZWM0IHRoZSBvcGVyYXRpb25zLlxcbiAgICAgICAgZm9yIChpbnQgd1IgPSAwOyB3UiA8IFwiK2YrXCI7IHdSKyspIHtcXG4gICAgICAgICAgaW50IHhSID0geFJDb3JuZXIgKyB3UiAqIFwiK2wrXCI7XFxuXFxuICAgICAgICAgIGlmICh4UiA8IDAgfHwgeFIgPj0gXCIrbytcIikge1xcbiAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgIGZvciAoaW50IHdDID0gMDsgd0MgPCBcIitkK1wiOyB3QysrKSB7XFxuICAgICAgICAgICAgaW50IHhDID0geENDb3JuZXIgKyB3QyAqIFwiK2grXCI7XFxuXFxuICAgICAgICAgICAgaWYgKHhDIDwgMCB8fCB4QyA+PSBcIithK1wiKSB7XFxuICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgZmxvYXQgeFZhbCA9IGdldFgoYmF0Y2gsIHhSLCB4QywgZDEpO1xcbiAgICAgICAgICAgIGZsb2F0IHdWYWwgPSBnZXRXKHdSLCB3QywgZDEsIHEpO1xcbiAgICAgICAgICAgIGRvdFByb2QgKz0geFZhbCAqIHdWYWw7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG5cXG4gICAgICAgIGZsb2F0IHJlc3VsdCA9IGRvdFByb2Q7XFxuICAgICAgICBcIitnK1wiXFxuICAgICAgICBcIittK1wiXFxuICAgICAgICBzZXRPdXRwdXQocmVzdWx0KTtcXG4gICAgICB9XFxuICAgIFwifSx0aT1mdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1lJiYoZT0hMSksdm9pZCAwPT09biYmKG49bnVsbCksdm9pZCAwPT09ciYmKHI9ITEpLHRoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCIsXCJXXCJdLHRoaXMucGFja2VkSW5wdXRzPSEwLHRoaXMucGFja2VkT3V0cHV0PSEwLHRoaXMub3V0cHV0U2hhcGU9dC5vdXRTaGFwZTtmb3IodmFyIG89dC5pbkhlaWdodCxhPXQuaW5XaWR0aCxpPXQucGFkSW5mby50b3Ascz10LnBhZEluZm8ubGVmdCx1PXQuc3RyaWRlSGVpZ2h0LGM9dC5zdHJpZGVXaWR0aCxsPXQuZGlsYXRpb25IZWlnaHQsaD10LmRpbGF0aW9uV2lkdGgsZj10LmZpbHRlckhlaWdodCxkPXQuZmlsdGVyV2lkdGgscD1kLHY9XCJpbnQgeFI7IGludCB4QzsgaW50IHhDT2Zmc2V0O1wiLG09MDttPGY7bSsrKWZvcih2YXIgZz0wO2c8ZDtnKyspdis9XCJcXG4gICAgICAgICAgdmVjNCB4VGV4ZWxSXCIrbStcIkNcIisyKmcrXCIgPSB2ZWM0KDAuKTtcXG4gICAgICAgICAgdmVjNCB3UlwiK20rXCJDXCIrZytcIiA9IHZlYzQoMC4pO1xcbiAgICAgICAgICB2ZWM0IHhSXCIrbStcIkNcIitnK1wiID0gdmVjNCgwLik7XCI7Zm9yKG09MDttPGY7bSsrKWZvcih2YXIgeT0wO3k8cDt5Kyspe2lmKHYrPVwiXFxuICAgICAgICAgIHhSID0geFJDb3JuZXIgKyBcIittKmwrXCI7XFxuICAgICAgICAgIHhDID0geENDb3JuZXIgKyBcIisoZz0yKnkpKmgrXCI7XFxuICAgICAgICBcIiwxPT09Yyl7aWYoZzxkJiYodis9cyUyPT0xP1wiXFxuICAgICAgICAgICAgICAgIHhDT2Zmc2V0ID0geEMgKyAxO1xcbiAgICAgICAgICAgICAgICBpZih4UiA+PSAwICYmIHhSIDwgXCIrbytcIiAmJiB4Q09mZnNldCA+PSAwICYmIHhDT2Zmc2V0IDwgXCIrYStcIikge1xcbiAgICAgICAgICAgICAgICAgIHhUZXhlbFJcIittK1wiQ1wiK2crXCIgPSBnZXRYKGJhdGNoLCB4UiwgeENPZmZzZXQsIGQxKTtcXG5cXG4gICAgICAgICAgICAgICAgICAvLyBOZWVkIHRvIG1hbnVhbGx5IGNsZWFyIHVudXNlZCBjaGFubmVscyBpbiBjYXNlXFxuICAgICAgICAgICAgICAgICAgLy8gd2UncmUgcmVhZGluZyBmcm9tIHJlY3ljbGVkIHRleHR1cmUuXFxuICAgICAgICAgICAgICAgICAgaWYoeENPZmZzZXQgKyAxID49IFwiK2ErXCIpIHtcXG4gICAgICAgICAgICAgICAgICAgIHhUZXhlbFJcIittK1wiQ1wiK2crXCIuencgPSB2ZWMyKDAuKTtcXG4gICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgeFRleGVsUlwiK20rXCJDXCIrZytcIiA9IHZlYzQoMC4pO1xcbiAgICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICAgIHhDT2Zmc2V0ID0geEMgKyAxIC0gMjtcXG4gICAgICAgICAgICAgICAgaWYoeFIgPj0gMCAmJiB4UiA8IFwiK28rXCIgJiYgeENPZmZzZXQgPj0gMCAmJiB4Q09mZnNldCA8IFwiK2ErXCIpIHtcXG4gICAgICAgICAgICAgICAgICB2ZWM0IHByZXZpb3VzID0gZ2V0WChiYXRjaCwgeFIsIHhDT2Zmc2V0LCBkMSk7XFxuXFxuICAgICAgICAgICAgICAgICAgLy8gTmVlZCB0byBtYW51YWxseSBjbGVhciB1bnVzZWQgY2hhbm5lbHMgaW4gY2FzZVxcbiAgICAgICAgICAgICAgICAgIC8vIHdlJ3JlIHJlYWRpbmcgZnJvbSByZWN5Y2xlZCB0ZXh0dXJlLlxcbiAgICAgICAgICAgICAgICAgIGlmKHhDT2Zmc2V0ICsgMSA+PSBcIithK1wiKSB7XFxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91cy56dyA9IHZlYzIoMC4pO1xcbiAgICAgICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgICAgICB4UlwiK20rXCJDXCIrZytcIiA9IHZlYzQocHJldmlvdXMuencsIHhUZXhlbFJcIittK1wiQ1wiK2crXCIueHkpO1xcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgIHhSXCIrbStcIkNcIitnK1wiID0gdmVjNCgwLCAwLCB4VGV4ZWxSXCIrbStcIkNcIitnK1wiLnh5KTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgXCI6XCJcXG4gICAgICAgICAgICAgICAgaWYoeFIgPj0gMCAmJiB4UiA8IFwiK28rXCIgJiYgeEMgPj0gMCAmJiB4QyA8IFwiK2ErXCIpIHtcXG4gICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrbStcIkNcIitnK1wiID0gZ2V0WChiYXRjaCwgeFIsIHhDLCBkMSk7XFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgeFRleGVsUlwiK20rXCJDXCIrZytcIiA9IHZlYzQoMC4pO1xcbiAgICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICAgIHhSXCIrbStcIkNcIitnK1wiID0geFRleGVsUlwiK20rXCJDXCIrZytcIjtcXG4gICAgICAgICAgICAgIFwiLGcrMTxkKSl7dmFyIHg9cyUyPT0wP2IoaCk6aDtoJTI9PTAmJnMlMj09MXx8aCUyIT0wJiZzJTIhPTE/KHYrPVwiXFxuICAgICAgICAgICAgICAgICAgeENPZmZzZXQgPSB4QyArIFwiK3MlMitcIiArIFwiK3grXCI7XFxuXFxuICAgICAgICAgICAgICAgICAgaWYoeFIgPj0gMCAmJiB4UiA8IFwiK28rXCIgJiZcXG4gICAgICAgICAgICAgICAgICAgIHhDT2Zmc2V0ID49IDAgJiYgeENPZmZzZXQgPCBcIithK1wiKSB7XFxuICAgICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrbStcIkNcIisoZysyKStcIiA9IGdldFgoYmF0Y2gsIHhSLCB4Q09mZnNldCwgZDEpO1xcbiAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgXCIsaD4xJiYodis9XCJcXG4gICAgICAgICAgICAgICAgICAgIHhDT2Zmc2V0IC09IDI7XFxuICAgICAgICAgICAgICAgICAgICBpZih4UiA+PSAwICYmIHhSIDwgXCIrbytcIiAmJlxcbiAgICAgICAgICAgICAgICAgICAgICB4Q09mZnNldCA+PSAwICYmIHhDT2Zmc2V0IDwgXCIrYStcIikge1xcbiAgICAgICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrbStcIkNcIitnK1wiID0gZ2V0WChiYXRjaCwgeFIsIHhDT2Zmc2V0LCBkMSk7XFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrbStcIkNcIitnK1wiID0gdmVjNCgwLik7XFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgXCIpLHYrPVwiXFxuICAgICAgICAgICAgICAgICAgeFJcIittK1wiQ1wiKyhnKzEpK1wiID0gdmVjNChcXG4gICAgICAgICAgICAgICAgICAgIHhUZXhlbFJcIittK1wiQ1wiK2crXCIuencsIHhUZXhlbFJcIittK1wiQ1wiKyhnKzIpK1wiLnh5KTtcXG4gICAgICAgICAgICAgICAgXCIpOnYrPVwiXFxuICAgICAgICAgICAgICAgICAgeENPZmZzZXQgPSB4QyArIFwiK3grXCI7XFxuXFxuICAgICAgICAgICAgICAgICAgaWYoeFIgPj0gMCAmJiB4UiA8IFwiK28rXCIgJiZcXG4gICAgICAgICAgICAgICAgICAgIHhDT2Zmc2V0ID49IDAgJiYgeENPZmZzZXQgPCBcIithK1wiKSB7XFxuICAgICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrbStcIkNcIisoZysyKStcIiA9IGdldFgoYmF0Y2gsIHhSLCB4Q09mZnNldCwgZDEpO1xcbiAgICAgICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgICAgICB4UlwiK20rXCJDXCIrKGcrMSkrXCIgPSB4VGV4ZWxSXCIrbStcIkNcIisoZysyKStcIjtcXG4gICAgICAgICAgICAgICAgXCJ9fWVsc2UgZzxkJiYodis9XCJcXG4gICAgICAgICAgICAgIGlmKHhSID49IDAgJiYgeFIgPCBcIitvK1wiKSB7XFxuICAgICAgICAgICAgXCIscyUyPT0xPyh2Kz1cIlxcbiAgICAgICAgICAgICAgICB4Q09mZnNldCA9IHhDICsgMSAtIFwiK2MrXCI7XFxuICAgICAgICAgICAgICAgIGlmKHhDT2Zmc2V0ID49IDAgJiYgeENPZmZzZXQgPCBcIithK1wiKSB7XFxuICAgICAgICAgICAgICAgICAgeFRleGVsUlwiK20rXCJDXCIrZytcIiA9IGdldFgoYmF0Y2gsIHhSLCB4Q09mZnNldCwgZDEpO1xcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgIHhUZXhlbFJcIittK1wiQ1wiK2crXCIgPSB2ZWM0KDAuKTtcXG4gICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICBpZih4QyArIDEgPj0gMCAmJiB4QyArIDEgPCBcIithK1wiKSB7XFxuICAgICAgICAgICAgICAgICAgeFRleGVsUlwiK20rXCJDXCIrKGcrMikrXCIgPSBnZXRYKGJhdGNoLCB4UiwgeEMgKyAxLCBkMSk7XFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgeFRleGVsUlwiK20rXCJDXCIrKGcrMikrXCIgPSB2ZWM0KDAuKTtcXG4gICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICB4UlwiK20rXCJDXCIrZytcIiA9IHZlYzQoXFxuICAgICAgICAgICAgICAgICAgeFRleGVsUlwiK20rXCJDXCIrZytcIi56dywgeFRleGVsUlwiK20rXCJDXCIrKGcrMikrXCIuencpO1xcbiAgICAgICAgICAgICAgXCIsZysxPGQmJih2Kz1cIlxcbiAgICAgICAgICAgICAgICAgIHZlYzQgZmluYWwgPSB2ZWM0KDAuKTtcXG4gICAgICAgICAgICAgICAgICB4Q09mZnNldCA9IHhDICsgMSArIFwiK2MrXCI7XFxuICAgICAgICAgICAgICAgICAgaWYoeENPZmZzZXQgPj0gMCAmJiB4Q09mZnNldCA8IFwiK2ErXCIpIHtcXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsID0gZ2V0WChiYXRjaCwgeFIsIHhDT2Zmc2V0LCBkMSk7XFxuICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgIHhSXCIrbStcIkNcIisoZysxKStcIiA9IHZlYzQoeFRleGVsUlwiK20rXCJDXCIrKGcrMikrXCIueHksIGZpbmFsLnh5KTtcXG4gICAgICAgICAgICAgICAgXCIpKToodis9XCJcXG4gICAgICAgICAgICAgICAgaWYoeEMgPj0gMCAmJiB4QyA8IFwiK2ErXCIpIHtcXG4gICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrbStcIkNcIitnK1wiID0gZ2V0WChiYXRjaCwgeFIsIHhDLCBkMSk7XFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgeFRleGVsUlwiK20rXCJDXCIrZytcIiA9IHZlYzQoMC4pO1xcbiAgICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICAgIHhDT2Zmc2V0ID0geEMgKyBcIitjK1wiO1xcbiAgICAgICAgICAgICAgICBpZih4Q09mZnNldCA+PSAwICYmIHhDT2Zmc2V0IDwgXCIrYStcIikge1xcbiAgICAgICAgICAgICAgICAgIHhUZXhlbFJcIittK1wiQ1wiKyhnKzIpK1wiID0gZ2V0WChiYXRjaCwgeFIsIHhDT2Zmc2V0LCBkMSk7XFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgeFRleGVsUlwiK20rXCJDXCIrKGcrMikrXCIgPSB2ZWM0KDAuKTtcXG4gICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICB4UlwiK20rXCJDXCIrZytcIiA9IHZlYzQoXFxuICAgICAgICAgICAgICAgICAgeFRleGVsUlwiK20rXCJDXCIrZytcIi54eSwgeFRleGVsUlwiK20rXCJDXCIrKGcrMikrXCIueHkpO1xcbiAgICAgICAgICAgICAgXCIsZysxPGQmJih2Kz1cIlxcbiAgICAgICAgICAgICAgICAgIHhSXCIrbStcIkNcIisoZysxKStcIiA9IHZlYzQoXFxuICAgICAgICAgICAgICAgICAgICB4VGV4ZWxSXCIrbStcIkNcIitnK1wiLnp3LCB4VGV4ZWxSXCIrbStcIkNcIisoZysyKStcIi56dyk7XFxuICAgICAgICAgICAgICAgIFwiKSksdis9XCJ9XCIpO2c8ZCYmKHYrPVwiXFxuICAgICAgICAgICAgdmVjNCB3VGV4ZWxSXCIrbStcIkNcIitnK1wiID0gZ2V0VyhcIittK1wiLCBcIitnK1wiLCBkMSwgcSk7XFxuICAgICAgICAgICAgd1JcIittK1wiQ1wiK2crXCIgPSB2ZWM0KHdUZXhlbFJcIittK1wiQ1wiK2crXCIueHosIHdUZXhlbFJcIittK1wiQ1wiK2crXCIueHopO1xcbiAgICAgICAgICBcIixnKzE8ZCYmKHYrPVwiXFxuICAgICAgICAgICAgICB2ZWM0IHdUZXhlbFJcIittK1wiQ1wiKyhnKzEpK1wiID0gZ2V0VyhcIittK1wiLCBcIisoZysxKStcIiwgZDEsIHEpO1xcbiAgICAgICAgICAgICAgd1JcIittK1wiQ1wiKyhnKzEpK1wiID1cXG4gICAgICAgICAgICAgICAgdmVjNCh3VGV4ZWxSXCIrbStcIkNcIisoZysxKStcIi54eiwgd1RleGVsUlwiK20rXCJDXCIrKGcrMSkrXCIueHopO1wiKSl9Zm9yKG09MDttPGY7bSsrKWZvcihnPTA7ZzxkO2crKyl2Kz1cImRvdFByb2QgKz0geFJcIittK1wiQ1wiK2crXCIgKiB3UlwiK20rXCJDXCIrZytcIjtcIjt2YXIgdz1cIlwiLEM9XCJcIjtuJiYodz1yP1widmVjNCBhY3RpdmF0aW9uKHZlYzQgYSkge1xcbiAgICAgICAgICB2ZWM0IGIgPSBnZXRQcmVsdUFjdGl2YXRpb25XZWlnaHRzQXRPdXRDb29yZHMoKTtcXG4gICAgICAgICAgXCIrbitcIlxcbiAgICAgICAgfVwiOlwidmVjNCBhY3RpdmF0aW9uKHZlYzQgeCkge1xcbiAgICAgICAgICBcIituK1wiXFxuICAgICAgICB9XCIsQz1cInJlc3VsdCA9IGFjdGl2YXRpb24ocmVzdWx0KTtcIik7dmFyIEU9ZT9cInJlc3VsdCArPSBnZXRCaWFzQXRPdXRDb29yZHMoKTtcIjpcIlwiO2UmJnRoaXMudmFyaWFibGVOYW1lcy5wdXNoKFwiYmlhc1wiKSxyJiZ0aGlzLnZhcmlhYmxlTmFtZXMucHVzaChcInByZWx1QWN0aXZhdGlvbldlaWdodHNcIiksdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIFwiK3crXCJcXG5cXG4gICAgICBjb25zdCBpdmVjMiBzdHJpZGVzID0gaXZlYzIoXCIrdStcIiwgXCIrYytcIik7XFxuICAgICAgY29uc3QgaXZlYzIgcGFkcyA9IGl2ZWMyKFwiK2krXCIsIFwiK3MrXCIpO1xcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG5cXG4gICAgICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGJhdGNoID0gY29vcmRzLng7XFxuICAgICAgICBpdmVjMiB4UkNDb3JuZXIgPSBjb29yZHMueXogKiBzdHJpZGVzIC0gcGFkcztcXG4gICAgICAgIGludCBkMiA9IGNvb3Jkcy53O1xcbiAgICAgICAgaW50IGQxID0gZDI7XFxuICAgICAgICBpbnQgcSA9IDA7XFxuICAgICAgICBpbnQgeFJDb3JuZXIgPSB4UkNDb3JuZXIueDtcXG4gICAgICAgIGludCB4Q0Nvcm5lciA9IHhSQ0Nvcm5lci55O1xcblxcbiAgICAgICAgdmVjNCBkb3RQcm9kID0gdmVjNCgwLik7XFxuXFxuICAgICAgICBcIit2K1wiXFxuXFxuICAgICAgICB2ZWM0IHJlc3VsdCA9IGRvdFByb2Q7XFxuICAgICAgICBcIitFK1wiXFxuICAgICAgICBcIitDK1wiXFxuICAgICAgICBzZXRPdXRwdXQocmVzdWx0KTtcXG4gICAgICB9XFxuICAgIFwifSxlaT1mdW5jdGlvbih0LGUsbixyLG8pe3RoaXMudmFyaWFibGVOYW1lcz1bXCJJbWFnZVwiLFwiQm94ZXNcIixcIkJveEluZFwiXSx0aGlzLm91dHB1dFNoYXBlPVtdO3ZhciBhPXRbMF0saT10WzFdLHM9dFsyXSx1PXRbM10sYz1lWzBdLGw9blswXSxoPW5bMV07dGhpcy5vdXRwdXRTaGFwZT1bYyxsLGgsdV07dmFyIGY9XCJiaWxpbmVhclwiPT09cj8xOjAsZD1baS0xK1wiLjBcIixzLTErXCIuMFwiXSxwPWRbMF0sdj1kWzFdLG09bD4xP1tcIlwiKyhpLTEpLyhsLTEpLFwiKHkyLXkxKSAqIGhlaWdodF9yYXRpb1wiLFwieTEqXCIrcCtcIiArIGZsb2F0KHkpKihoZWlnaHRfc2NhbGUpXCJdOltcIjAuMFwiLFwiMC4wXCIsXCIwLjUgKiAoeTEreTIpICogXCIrcF0sZz1tWzBdLHk9bVsxXSx4PW1bMl0sYj1oPjE/W1wiXCIrKHMtMSkvKGgtMSksXCIoeDIteDEpICogd2lkdGhfcmF0aW9cIixcIngxKlwiK3YrXCIgKyBmbG9hdCh4KSood2lkdGhfc2NhbGUpXCJdOltcIjAuMFwiLFwiMC4wXCIsXCIwLjUgKiAoeDEreDIpICogXCIrdl0sdz1iWzBdLEM9YlsxXSxFPWJbMl07dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIGNvbnN0IGZsb2F0IGhlaWdodF9yYXRpbyA9IGZsb2F0KFwiK2crXCIpO1xcbiAgICAgIGNvbnN0IGZsb2F0IHdpZHRoX3JhdGlvID0gZmxvYXQoXCIrdytcIik7XFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYiA9IGNvb3Jkc1swXTtcXG4gICAgICAgIGludCB5ID0gY29vcmRzWzFdO1xcbiAgICAgICAgaW50IHggPSBjb29yZHNbMl07XFxuICAgICAgICBpbnQgZCA9IGNvb3Jkc1szXTtcXG5cXG4gICAgICAgIC8vIGdldCBib3ggdmFsc1xcbiAgICAgICAgZmxvYXQgeTEgPSBnZXRCb3hlcyhiLDApO1xcbiAgICAgICAgZmxvYXQgeDEgPSBnZXRCb3hlcyhiLDEpO1xcbiAgICAgICAgZmxvYXQgeTIgPSBnZXRCb3hlcyhiLDIpO1xcbiAgICAgICAgZmxvYXQgeDIgPSBnZXRCb3hlcyhiLDMpO1xcblxcbiAgICAgICAgLy8gZ2V0IGltYWdlIGluIGJhdGNoIGluZGV4XFxuICAgICAgICBpbnQgYkluZCA9IHJvdW5kKGdldEJveEluZChiKSk7XFxuICAgICAgICBpZihiSW5kIDwgMCB8fCBiSW5kID49IFwiK2ErXCIpIHtcXG4gICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgZmxvYXQgaGVpZ2h0X3NjYWxlID0gXCIreStcIjtcXG4gICAgICAgIGZsb2F0IHdpZHRoX3NjYWxlID0gXCIrQytcIjtcXG5cXG4gICAgICAgIGZsb2F0IGluX3kgPSBcIit4K1wiO1xcbiAgICAgICAgaWYoIGluX3kgPCAwLjAgfHwgaW5feSA+IFwiK3ArXCIgKSB7XFxuICAgICAgICAgIHNldE91dHB1dChmbG9hdChcIitvK1wiKSk7XFxuICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG4gICAgICAgIGZsb2F0IGluX3ggPSBcIitFK1wiO1xcbiAgICAgICAgaWYoIGluX3ggPCAwLjAgfHwgaW5feCA+IFwiK3YrXCIgKSB7XFxuICAgICAgICAgIHNldE91dHB1dChmbG9hdChcIitvK1wiKSk7XFxuICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIHZlYzIgc291cmNlRnJhY0luZGV4Q1IgPSB2ZWMyKGluX3gsaW5feSk7XFxuICAgICAgICBpZihcIitmK1wiID09IDEpIHtcXG4gICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgZm91ciBpbnRlZ2VyIGluZGljZXMuXFxuICAgICAgICAgIGl2ZWMyIHNvdXJjZUZsb29yQ1IgPSBpdmVjMihzb3VyY2VGcmFjSW5kZXhDUik7XFxuICAgICAgICAgIGl2ZWMyIHNvdXJjZUNlaWxDUiA9IGl2ZWMyKGNlaWwoc291cmNlRnJhY0luZGV4Q1IpKTtcXG5cXG4gICAgICAgICAgZmxvYXQgdG9wTGVmdCA9IGdldEltYWdlKGIsIHNvdXJjZUZsb29yQ1IueSwgc291cmNlRmxvb3JDUi54LCBkKTtcXG4gICAgICAgICAgZmxvYXQgYm90dG9tTGVmdCA9IGdldEltYWdlKGIsIHNvdXJjZUNlaWxDUi55LCBzb3VyY2VGbG9vckNSLngsIGQpO1xcbiAgICAgICAgICBmbG9hdCB0b3BSaWdodCA9IGdldEltYWdlKGIsIHNvdXJjZUZsb29yQ1IueSwgc291cmNlQ2VpbENSLngsIGQpO1xcbiAgICAgICAgICBmbG9hdCBib3R0b21SaWdodCA9IGdldEltYWdlKGIsIHNvdXJjZUNlaWxDUi55LCBzb3VyY2VDZWlsQ1IueCwgZCk7XFxuXFxuICAgICAgICAgIHZlYzIgZnJhY0NSID0gc291cmNlRnJhY0luZGV4Q1IgLSB2ZWMyKHNvdXJjZUZsb29yQ1IpO1xcblxcbiAgICAgICAgICBmbG9hdCB0b3AgPSB0b3BMZWZ0ICsgKHRvcFJpZ2h0IC0gdG9wTGVmdCkgKiBmcmFjQ1IueDtcXG4gICAgICAgICAgZmxvYXQgYm90dG9tID0gYm90dG9tTGVmdCArIChib3R0b21SaWdodCAtIGJvdHRvbUxlZnQpICogZnJhY0NSLng7XFxuICAgICAgICAgIGZsb2F0IG5ld1ZhbHVlID0gdG9wICsgKGJvdHRvbSAtIHRvcCkgKiBmcmFjQ1IueTtcXG4gICAgICAgICAgc2V0T3V0cHV0KG5ld1ZhbHVlKTtcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgIC8vIENvbXB1dGUgdGhlIGNvb3JkaW5hdG9ycyBvZiBuZWFyZXN0IG5laWdoYm9yIHBvaW50LlxcbiAgICAgICAgICBpdmVjMiBzb3VyY2VOZWFyZXN0Q1IgPSBpdmVjMihmbG9vcihcXG4gICAgICAgICAgICBzb3VyY2VGcmFjSW5kZXhDUiArIHZlYzIoMC41LDAuNSkpKTtcXG4gICAgICAgICAgZmxvYXQgbmV3VmFsdWUgPSBnZXRJbWFnZShiLCBzb3VyY2VOZWFyZXN0Q1IueSwgc291cmNlTmVhcmVzdENSLngsIGQpO1xcbiAgICAgICAgICBzZXRPdXRwdXQobmV3VmFsdWUpO1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgXCJ9LG5pPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wieFwiXSx0aGlzLm91dHB1dFNoYXBlPXQ7dmFyIHI9dC5sZW5ndGgsbz10W3QubGVuZ3RoLTFdLGE9bj9cIjxcIjpcIj5cIjt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgaW50IGdldEluZGV4KGludCBpKSB7XFxuICAgICAgICBcIisobj9cInJldHVybiBcIitvK1wiIC1pIC0gMTtcIjpcInJldHVybiBpO1wiKStcIlxcbiAgICAgIH1cXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBcIit3YShyKStcIiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBlbmQgPSBcIityaShyLFwiY29vcmRzXCIpK1wiO1xcbiAgICAgICAgZmxvYXQgdmFsID0gMC4wO1xcbiAgICAgICAgZm9yIChpbnQgaSA9IFwiK28rXCIgLSAxOyBpID49IDA7IGkgLT0gMSkge1xcbiAgICAgICAgICBpbnQgaWR4ID0gZ2V0SW5kZXgoaSk7XFxuICAgICAgICAgIGlmIChpZHggXCIrYStcIiBlbmQpIHtcXG4gICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICBpZiAoaWR4ID09IGVuZCAmJiBcIitlK1wiKSB7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgXCIrcmkocixcImNvb3Jkc1wiKStcIiA9IGlkeDtcXG4gICAgICAgICAgdmFsICs9IGdldFgoXCIrZnVuY3Rpb24odCxlKXtpZigxPT09dClyZXR1cm5cIlwiK2U7aWYoMj09PXQpcmV0dXJuIGUrXCIueCwgXCIrZStcIi55XCI7aWYoMz09PXQpcmV0dXJuIGUrXCIueCwgXCIrZStcIi55LCBcIitlK1wiLnpcIjtpZig0PT09dClyZXR1cm4gZStcIi54LCBcIitlK1wiLnksIFwiK2UrXCIueiwgXCIrZStcIi53XCI7dGhyb3cgRXJyb3IoXCJDdW11bGF0aXZlIHN1bSBmb3IgcmFuayBcIit0K1wiIGlzIG5vdCB5ZXQgc3VwcG9ydGVkXCIpfShyLFwiY29vcmRzXCIpK1wiKTtcXG4gICAgICAgIH1cXG4gICAgICAgIHNldE91dHB1dCh2YWwpO1xcbiAgICAgIH1cXG4gICAgXCJ9O2Z1bmN0aW9uIHJpKHQsZSl7aWYoMT09PXQpcmV0dXJuXCJcIitlO2lmKDI9PT10KXJldHVybiBlK1wiLnlcIjtpZigzPT09dClyZXR1cm4gZStcIi56XCI7aWYoND09PXQpcmV0dXJuIGUrXCIud1wiO3Rocm93IEVycm9yKFwiQ3VtdWxhdGl2ZSBzdW0gZm9yIHJhbmsgXCIrdCtcIiBpcyBub3QgeWV0IHN1cHBvcnRlZFwiKX12YXIgb2k9ZnVuY3Rpb24odCl7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITEsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsdGhpcy5vdXRQYWNraW5nU2NoZW1lPVZ0LkRFTlNFO3ZhciBlPVl0KHQpLG49dWEoKTt0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIGl2ZWMzIG91dENvb3Jkc0Zyb21GbGF0SW5kZXgoaW50IGluZGV4KSB7XFxuICAgICAgICBcIitjYShbXCJyXCIsXCJjXCIsXCJkXCJdLHQpK1wiXFxuICAgICAgICByZXR1cm4gaXZlYzMociwgYywgZCk7XFxuICAgICAgfVxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWMyIHJlc1RleFJDID0gaXZlYzIocmVzdWx0VVYueXggKlxcbiAgICAgICAgICB2ZWMyKFwiK2VbMF0rXCIsIFwiK2VbMV0rXCIpKTtcXG4gICAgICAgIGludCBpbmRleCA9IDQgKiAocmVzVGV4UkMueCAqIFwiK2VbMV0rXCIgKyByZXNUZXhSQy55KTtcXG5cXG4gICAgICAgIHZlYzQgcmVzdWx0ID0gdmVjNCgwLik7XFxuXFxuICAgICAgICBmb3IgKGludCBpPTA7IGk8NDsgaSsrKSB7XFxuICAgICAgICAgIGludCBmbGF0SW5kZXggPSBpbmRleCArIGk7XFxuICAgICAgICAgIGl2ZWMzIHJjID0gb3V0Q29vcmRzRnJvbUZsYXRJbmRleChmbGF0SW5kZXgpO1xcbiAgICAgICAgICByZXN1bHRbaV0gPSBnZXRBKHJjLngsIHJjLnksIHJjLnopO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgXCIrbi5vdXRwdXQrXCIgPSByZXN1bHQ7XFxuICAgICAgfVxcbiAgICBcIn0sYWk9ZnVuY3Rpb24odCl7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsdGhpcy5vdXRQYWNraW5nU2NoZW1lPVZ0LkRFTlNFO3ZhciBlPVl0KHQpLG49dWEoKTt0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIGl2ZWMzIG91dENvb3Jkc0Zyb21GbGF0SW5kZXgoaW50IGluZGV4KSB7XFxuICAgICAgICBcIitjYShbXCJyXCIsXCJjXCIsXCJkXCJdLHQpK1wiXFxuICAgICAgICByZXR1cm4gaXZlYzMociwgYywgZCk7XFxuICAgICAgfVxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWMyIHJlc1RleFJDID0gaXZlYzIocmVzdWx0VVYueXggKlxcbiAgICAgICAgICB2ZWMyKFwiK2VbMF0rXCIsIFwiK2VbMV0rXCIpKTtcXG4gICAgICAgIGludCBpbmRleCA9IDQgKiAocmVzVGV4UkMueCAqIFwiK2VbMV0rXCIgKyByZXNUZXhSQy55KTtcXG5cXG4gICAgICAgIHZlYzQgcmVzdWx0ID0gdmVjNCgwLik7XFxuXFxuICAgICAgICBmb3IgKGludCBpPTA7IGk8NDsgaSsrKSB7XFxuICAgICAgICAgIGludCBmbGF0SW5kZXggPSBpbmRleCArIGk7XFxuICAgICAgICAgIGl2ZWMzIHJjID0gb3V0Q29vcmRzRnJvbUZsYXRJbmRleChmbGF0SW5kZXgpO1xcbiAgICAgICAgICByZXN1bHRbaV0gPSBnZXRDaGFubmVsKGdldEEocmMueCwgcmMueSwgcmMueiksIHZlYzIocmMueSwgcmMueikpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgXCIrbi5vdXRwdXQrXCIgPSByZXN1bHQ7XFxuICAgICAgfVxcbiAgICBcIn0saWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wieFwiXSx0aGlzLm91dHB1dFNoYXBlPVtdLHRoaXMub3V0cHV0U2hhcGU9dCx0aGlzLmJsb2NrU2l6ZT1lLHRoaXMuZGF0YUZvcm1hdD1uLHRoaXMudXNlckNvZGU9XCJcXG4gICAgdm9pZCBtYWluKCkge1xcbiAgICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgIGludCBiID0gY29vcmRzWzBdO1xcbiAgICAgIGludCBoID0gXCIrdGhpcy5nZXRIZWlnaHRDb29yZFN0cmluZygpK1wiO1xcbiAgICAgIGludCB3ID0gXCIrdGhpcy5nZXRXaWR0aENvb3JkU3RyaW5nKCkrXCI7XFxuICAgICAgaW50IGQgPSBcIit0aGlzLmdldERlcHRoQ29vcmRTdHJpbmcoKStcIjtcXG5cXG4gICAgICBpbnQgaW5faCA9IGggLyBcIitlK1wiO1xcbiAgICAgIGludCBvZmZzZXRfaCA9IGltb2QoaCwgXCIrZStcIik7XFxuICAgICAgaW50IGluX3cgPSB3IC8gXCIrZStcIjtcXG4gICAgICBpbnQgb2Zmc2V0X3cgPSBpbW9kKHcsIFwiK2UrXCIpO1xcbiAgICAgIGludCBvZmZzZXRfZCA9IChvZmZzZXRfaCAqIFwiK2UrXCIgKyBvZmZzZXRfdykgKlxcbiAgICAgICAgXCIrdGhpcy5nZXRPdXRwdXREZXB0aFNpemUoKStcIjtcXG4gICAgICBpbnQgaW5fZCA9IGQgKyBvZmZzZXRfZDtcXG5cXG4gICAgICBmbG9hdCByZXN1bHQgPSBcIit0aGlzLmdldElucHV0U2FtcGxpbmdTdHJpbmcoKStcIjtcXG4gICAgICBzZXRPdXRwdXQocmVzdWx0KTtcXG4gICAgfVxcbiAgXCJ9cmV0dXJuIHQucHJvdG90eXBlLmdldEhlaWdodENvb3JkU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJOSFdDXCI9PT10aGlzLmRhdGFGb3JtYXQ/XCJjb29yZHNbMV1cIjpcImNvb3Jkc1syXVwifSx0LnByb3RvdHlwZS5nZXRXaWR0aENvb3JkU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJOSFdDXCI9PT10aGlzLmRhdGFGb3JtYXQ/XCJjb29yZHNbMl1cIjpcImNvb3Jkc1szXVwifSx0LnByb3RvdHlwZS5nZXREZXB0aENvb3JkU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJOSFdDXCI9PT10aGlzLmRhdGFGb3JtYXQ/XCJjb29yZHNbM11cIjpcImNvb3Jkc1sxXVwifSx0LnByb3RvdHlwZS5nZXRPdXRwdXREZXB0aFNpemU9ZnVuY3Rpb24oKXtyZXR1cm5cIk5IV0NcIj09PXRoaXMuZGF0YUZvcm1hdD90aGlzLm91dHB1dFNoYXBlWzNdOnRoaXMub3V0cHV0U2hhcGVbMV19LHQucHJvdG90eXBlLmdldElucHV0U2FtcGxpbmdTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk5IV0NcIj09PXRoaXMuZGF0YUZvcm1hdD9cImdldFgoYiwgaW5faCwgaW5fdywgaW5fZClcIjpcImdldFgoYiwgaW5fZCwgaW5faCwgaW5fdylcIn0sdH0oKSxzaT1mdW5jdGlvbih0KXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiWFwiXSx0aGlzLm91dHB1dFNoYXBlPVt0LHRdLHRoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgIGl2ZWMyIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgICBmbG9hdCB2YWwgPSBjb29yZHNbMF0gPT0gY29vcmRzWzFdID8gZ2V0WChjb29yZHNbMF0pIDogMC4wO1xcbiAgICAgICAgICBzZXRPdXRwdXQodmFsKTtcXG4gICAgICB9XFxuICAgIFwifSx1aT1mdW5jdGlvbih0KXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXSx0aGlzLm91dFRleFVzYWdlPXp0LkRPV05MT0FEO3ZhciBlPXVhKCk7dGhpcy5vdXRwdXRTaGFwZT10LHRoaXMudXNlckNvZGU9XCJcXG4gICAgICBcIitoYStcIlxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGZsb2F0IHggPSBnZXRBQXRPdXRDb29yZHMoKTtcXG4gICAgICAgIFwiK2Uub3V0cHV0K1wiID0gZW5jb2RlX2Zsb2F0KHgpO1xcbiAgICAgIH1cXG4gICAgXCJ9LGNpPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJBXCJdLHRoaXMucGFja2VkSW5wdXRzPSEwLHRoaXMucGFja2VkT3V0cHV0PSExLHRoaXMub3V0VGV4VXNhZ2U9enQuRE9XTkxPQUQ7dmFyIGU9dWEoKTt0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIFwiK2hhK1wiXFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzMgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBmbG9hdCB4ID0gZ2V0Q2hhbm5lbChnZXRBQXRPdXRDb29yZHMoKSwgdmVjMihjb29yZHMueSwgY29vcmRzLnopKTtcXG4gICAgICAgIFwiK2Uub3V0cHV0K1wiID0gZW5jb2RlX2Zsb2F0KHgpO1xcbiAgICAgIH1cXG4gICAgXCJ9LGxpPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0hMSksdGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl07dmFyIHI9dWEoKSxvPWVbMF0sYT1lWzFdO3RoaXMub3V0cHV0U2hhcGU9dDt2YXIgaT1cInJlc3VsdFwiO24mJihpPVwiZmxvb3IocmVzdWx0ICogMjU1LiArIDAuNSlcIiksdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIFwiK2xhKHQpK1wiXFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzMgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuXFxuICAgICAgICBpbnQgZmxhdEluZGV4ID0gZ2V0RmxhdEluZGV4KGNvb3Jkcyk7XFxuICAgICAgICBpbnQgb2Zmc2V0ID0gaW1vZChmbGF0SW5kZXgsIDQpO1xcblxcbiAgICAgICAgZmxhdEluZGV4ID0gaWRpdihmbGF0SW5kZXgsIDQsIDEuKTtcXG4gICAgICAgIFxcbiAgICAgICAgaW50IHIgPSBmbGF0SW5kZXggLyBcIithK1wiO1xcbiAgICAgICAgaW50IGMgPSBpbW9kKGZsYXRJbmRleCwgXCIrYStcIik7XFxuICAgICAgICB2ZWMyIHV2ID0gKHZlYzIoYywgcikgKyBoYWxmQ1IpIC8gdmVjMihcIithK1wiLjAsIFwiK28rXCIuMCk7XFxuICAgICAgICB2ZWM0IHZhbHVlcyA9IFwiK3IudGV4dHVyZTJEK1wiKEEsIHV2KTtcXG5cXG4gICAgICAgIGZsb2F0IHJlc3VsdDtcXG5cXG4gICAgICAgIGlmKG9mZnNldCA9PSAwKSB7XFxuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlc1swXTtcXG4gICAgICAgIH0gZWxzZSBpZihvZmZzZXQgPT0gMSkge1xcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZXNbMV07XFxuICAgICAgICB9IGVsc2UgaWYob2Zmc2V0ID09IDIpIHtcXG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWVzWzJdO1xcbiAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWVzWzNdO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgXCIrci5vdXRwdXQrXCIgPSB2ZWM0KFwiK2krXCIsIDAuLCAwLiwgMC4pO1xcbiAgICAgIH1cXG4gICAgXCJ9LGhpPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0hMSksdGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITEsdGhpcy5wYWNrZWRPdXRwdXQ9ITA7dmFyIHI9dWEoKSxvPWVbMF0sYT1lWzFdO3RoaXMub3V0cHV0U2hhcGU9dDt2YXIgaT1cIlwiLHM9XCJyZXN1bHRcIjtuJiYocz1cImZsb29yKHJlc3VsdCAqIDI1NS4gKyAwLjUpXCIpO2Zvcih2YXIgdT0wO3U8PTE7dSsrKWZvcih2YXIgYz0wO2M8PTE7YysrKXt2YXIgbD0yKnUrYztpKz1cIlxcbiAgICAgICAgICBsb2NhbENvb3JkcyA9IGNvb3JkcztcXG4gICAgICAgICAgaWYobG9jYWxDb29yZHNbMl0gKyBcIitjK1wiIDwgXCIrdFsyXStcIikge1xcbiAgICAgICAgICAgIGxvY2FsQ29vcmRzWzJdICs9IFwiK2MrXCI7XFxuICAgICAgICAgICAgaWYobG9jYWxDb29yZHNbMV0gKyBcIit1K1wiIDwgXCIrdFsxXStcIikge1xcbiAgICAgICAgICAgICAgbG9jYWxDb29yZHNbMV0gKz0gXCIrdStcIjtcXG5cXG4gICAgICAgICAgICAgIGZsYXRJbmRleCA9IGdldEZsYXRJbmRleChsb2NhbENvb3Jkcyk7XFxuICAgICAgICAgICAgICBvZmZzZXQgPSBpbW9kKGZsYXRJbmRleCwgNCk7XFxuXFxuICAgICAgICAgICAgICBmbGF0SW5kZXggPSBpZGl2KGZsYXRJbmRleCwgNCwgMS4pO1xcblxcbiAgICAgICAgICAgICAgciA9IGZsYXRJbmRleCAvIFwiK2ErXCI7XFxuICAgICAgICAgICAgICBjID0gaW1vZChmbGF0SW5kZXgsIFwiK2ErXCIpO1xcbiAgICAgICAgICAgICAgdXYgPSAodmVjMihjLCByKSArIGhhbGZDUikgLyB2ZWMyKFwiK2ErXCIuMCwgXCIrbytcIi4wKTtcXG4gICAgICAgICAgICAgIHZhbHVlcyA9IFwiK3IudGV4dHVyZTJEK1wiKEEsIHV2KTtcXG5cXG4gICAgICAgICAgICAgIGlmKG9mZnNldCA9PSAwKSB7XFxuICAgICAgICAgICAgICAgIHJlc3VsdFtcIitsK1wiXSA9IHZhbHVlc1swXTtcXG4gICAgICAgICAgICAgIH0gZWxzZSBpZihvZmZzZXQgPT0gMSkge1xcbiAgICAgICAgICAgICAgICByZXN1bHRbXCIrbCtcIl0gPSB2YWx1ZXNbMV07XFxuICAgICAgICAgICAgICB9IGVsc2UgaWYob2Zmc2V0ID09IDIpIHtcXG4gICAgICAgICAgICAgICAgcmVzdWx0W1wiK2wrXCJdID0gdmFsdWVzWzJdO1xcbiAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgcmVzdWx0W1wiK2wrXCJdID0gdmFsdWVzWzNdO1xcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgXCJ9dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIFwiK2xhKHQpK1wiXFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzMgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuXFxuICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMC4pO1xcbiAgICAgICAgaW50IGZsYXRJbmRleCwgciwgYywgb2Zmc2V0O1xcbiAgICAgICAgaXZlYzMgbG9jYWxDb29yZHM7XFxuICAgICAgICB2ZWMyIHV2O1xcbiAgICAgICAgdmVjNCB2YWx1ZXM7XFxuXFxuICAgICAgICBcIitpK1wiXFxuXFxuICAgICAgICBcIityLm91dHB1dCtcIiA9IFwiK3MrXCI7XFxuICAgICAgfVxcbiAgICBcIn0sZmk9XCJyZXR1cm4gcmVhbCAqIGV4cFIgLSBpbWFnICogZXhwSTtcIixkaT1cInJldHVybiByZWFsICogZXhwSSArIGltYWcgKiBleHBSO1wiLHBpPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wicmVhbFwiLFwiaW1hZ1wiXTt2YXIgcj1lWzFdO3RoaXMub3V0cHV0U2hhcGU9ZTt2YXIgbz1uP1wiMi4wICogXCIrTWF0aC5QSTpcIi0yLjAgKiBcIitNYXRoLlBJLGE9bj9yK1wiLjBcIjpcIjEuMFwiO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICBjb25zdCBmbG9hdCBleHBvbmVudE11bHRpcGxpZXIgPSBcIitvK1wiO1xcblxcbiAgICAgIGZsb2F0IHVuYXJ5T3BDb21wbGV4KGZsb2F0IHJlYWwsIGZsb2F0IGV4cFIsIGZsb2F0IGltYWcsIGZsb2F0IGV4cEkpIHtcXG4gICAgICAgIFwiK3QrXCJcXG4gICAgICB9XFxuXFxuICAgICAgZmxvYXQgbXVsTWF0REZUKGludCBiYXRjaCwgaW50IGluZGV4KSB7XFxuICAgICAgICBmbG9hdCBpbmRleFJhdGlvID0gZmxvYXQoaW5kZXgpIC8gZmxvYXQoXCIrcitcIik7XFxuICAgICAgICBmbG9hdCBleHBvbmVudE11bHRpcGxpZXJUaW1lc0luZGV4UmF0aW8gPVxcbiAgICAgICAgICAgIGV4cG9uZW50TXVsdGlwbGllciAqIGluZGV4UmF0aW87XFxuXFxuICAgICAgICBmbG9hdCByZXN1bHQgPSAwLjA7XFxuXFxuICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IFwiK3IrXCI7IGkrKykge1xcbiAgICAgICAgICAvLyB4ID0gKC0yfDIgKiBQSSAvIE4pICogaW5kZXggKiBpO1xcbiAgICAgICAgICBmbG9hdCB4ID0gZXhwb25lbnRNdWx0aXBsaWVyVGltZXNJbmRleFJhdGlvICogZmxvYXQoaSk7XFxuICAgICAgICAgIGZsb2F0IGV4cFIgPSBjb3MoeCk7XFxuICAgICAgICAgIGZsb2F0IGV4cEkgPSBzaW4oeCk7XFxuICAgICAgICAgIGZsb2F0IHJlYWwgPSBnZXRSZWFsKGJhdGNoLCBpKTtcXG4gICAgICAgICAgZmxvYXQgaW1hZyA9IGdldEltYWcoYmF0Y2gsIGkpO1xcblxcbiAgICAgICAgICByZXN1bHQgKz1cXG4gICAgICAgICAgICAgIHVuYXJ5T3BDb21wbGV4KHJlYWwsIGV4cFIsIGltYWcsIGV4cEkpIC8gXCIrYStcIjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIHJldHVybiByZXN1bHQ7XFxuICAgICAgfVxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWMyIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgc2V0T3V0cHV0KG11bE1hdERGVChjb29yZHNbMF0sIGNvb3Jkc1sxXSkpO1xcbiAgICAgIH1cXG4gICAgXCJ9LHZpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMub3V0cHV0U2hhcGU9W10sdGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIl0sdGhpcy5vdXRwdXRTaGFwZT10LHRoaXMudXNlckNvZGU9XCJcXG4gICAgICB1bmlmb3JtIGZsb2F0IHZhbHVlO1xcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIC8vIElucHV0IGNhbiBiZSBvYnRhaW5lZCBmcm9tIHVuaWZvcm0gdmFsdWUuXFxuICAgICAgICBzZXRPdXRwdXQodmFsdWUpO1xcbiAgICAgIH1cXG4gICAgXCJ9cmV0dXJuIHQucHJvdG90eXBlLmdldEN1c3RvbVNldHVwRnVuYz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbihuLHIpe251bGw9PWUudmFsdWVMb2MmJihlLnZhbHVlTG9jPW4uZ2V0VW5pZm9ybUxvY2F0aW9uTm9UaHJvdyhyLFwidmFsdWVcIikpLG4uZ2wudW5pZm9ybTFmKGUudmFsdWVMb2MsdCl9fSx0fSgpLG1pPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiLFwiaW5kaWNlc1wiXTt2YXIgcj10LnNsaWNlKCk7cltuXT1lLHRoaXMub3V0cHV0U2hhcGU9cix0aGlzLnJhbms9ci5sZW5ndGg7dmFyIG89d2EodGhpcy5yYW5rKSxhPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5sZW5ndGg7aWYobj40KXRocm93IEVycm9yKFwiR2F0aGVyIGZvciByYW5rIFwiK24rXCIgaXMgbm90IHlldCBzdXBwb3J0ZWRcIik7aWYoMT09PW4pcmV0dXJuXCJpbnQoZ2V0SW5kaWNlcyhyZXNSQykpXCI7Zm9yKHZhciByPVtcInJlc1JDLnhcIixcInJlc1JDLnlcIixcInJlc1JDLnpcIixcInJlc1JDLndcIl0sbz1bXSxhPTA7YTx0Lmxlbmd0aDthKyspYT09PWU/by5wdXNoKFwiaW50KGdldEluZGljZXMoXCIrclthXStcIikpXCIpOm8ucHVzaChcIlwiK3JbYV0pO3JldHVybiBvLmpvaW4oKX0odCxuKTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrbytcIiByZXNSQyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgc2V0T3V0cHV0KGdldEEoXCIrYStcIikpO1xcbiAgICAgIH1cXG4gICAgXCJ9O3ZhciBnaT1mdW5jdGlvbih0LGUsbil7dGhpcy5zbGljZURpbT10LHRoaXMuc3RyaWRlcz1lLHRoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCIsXCJpbmRpY2VzXCJdLHRoaXMub3V0cHV0U2hhcGU9bjt2YXIgcj13YShlLmxlbmd0aCksbz13YShuLmxlbmd0aCksYT10aGlzLnNsaWNlRGltPjE/XCJzdHJpZGVzW2pdXCI6XCJzdHJpZGVzXCI7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgICAgXCIrcitcIiBzdHJpZGVzID0gXCIrcitcIihcIit0aGlzLnN0cmlkZXMrXCIpO1xcbiAgICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgXCIrbytcIiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgICAgaW50IGZsYXR0ZW5JbmRleCA9IDA7XFxuICAgICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgXCIrdGhpcy5zbGljZURpbStcIjsgaisrKSB7XFxuICAgICAgICAgICAgaW50IGluZGV4ID0gcm91bmQoZ2V0SW5kaWNlcyhjb29yZHNbMF0sIGopKTtcXG4gICAgICAgICAgICBmbGF0dGVuSW5kZXggKz0gaW5kZXggKiBcIithK1wiO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIHNldE91dHB1dChnZXRYKGZsYXR0ZW5JbmRleCwgY29vcmRzWzFdKSk7XFxuICAgICAgICB9XFxuICAgICAgXCJ9O2Z1bmN0aW9uIHlpKHQsZSl7dmFyIG49dWEoKTtyZXR1cm4gb2UodCxlLG4udmVyc2lvbitcIlxcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICAgIFwiK24uYXR0cmlidXRlK1wiIHZlYzMgY2xpcFNwYWNlUG9zO1xcbiAgICBcIituLmF0dHJpYnV0ZStcIiB2ZWMyIHV2O1xcbiAgICBcIituLnZhcnlpbmdWcytcIiB2ZWMyIHJlc3VsdFVWO1xcblxcbiAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGNsaXBTcGFjZVBvcywgMSk7XFxuICAgICAgcmVzdWx0VVYgPSB1djtcXG4gICAgfVwiKX1mdW5jdGlvbiB4aSh0LGUpe3JldHVybiBmZSh0LGUsbmV3IEZsb2F0MzJBcnJheShbLTEsMSwwLDAsMSwtMSwtMSwwLDAsMCwxLDEsMCwxLDEsMSwtMSwwLDEsMF0pKX1mdW5jdGlvbiBiaSh0LGUpe3JldHVybiBkZSh0LGUsbmV3IFVpbnQxNkFycmF5KFswLDEsMiwyLDEsM10pKX1mdW5jdGlvbiB3aSh0LGUsbixyLG8sYSxpKXt2ZShuLHIpO3ZhciBzPXBlKHQsZSksdT10LlRFWFRVUkVfMkQ7cmV0dXJuIEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5iaW5kVGV4dHVyZSh1LHMpfSkpLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC50ZXhQYXJhbWV0ZXJpKHUsdC5URVhUVVJFX1dSQVBfUyx0LkNMQU1QX1RPX0VER0UpfSkpLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC50ZXhQYXJhbWV0ZXJpKHUsdC5URVhUVVJFX1dSQVBfVCx0LkNMQU1QX1RPX0VER0UpfSkpLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC50ZXhQYXJhbWV0ZXJpKHUsdC5URVhUVVJFX01JTl9GSUxURVIsdC5ORUFSRVNUKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQudGV4UGFyYW1ldGVyaSh1LHQuVEVYVFVSRV9NQUdfRklMVEVSLHQuTkVBUkVTVCl9KSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LnRleEltYWdlMkQodSwwLG8sbixyLDAsYSxpLG51bGwpfSkpLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsbnVsbCl9KSksc31mdW5jdGlvbiBDaSh0LGUsbixyLG8pe3ZhciBhPVh0KG4scik7cmV0dXJuIHdpKHQsZSxhWzBdLGFbMV0sby5pbnRlcm5hbEZvcm1hdEZsb2F0LG8udGV4dHVyZUZvcm1hdEZsb2F0LHQuRkxPQVQpfWZ1bmN0aW9uIEVpKHQsZSxuLHIsbyl7dmFyIGE9WHQobixyKTtyZXR1cm4gd2kodCxlLGFbMF0sYVsxXSxvLmludGVybmFsRm9ybWF0SGFsZkZsb2F0LG8udGV4dHVyZUZvcm1hdEZsb2F0LG8udGV4dHVyZVR5cGVIYWxmRmxvYXQpfWZ1bmN0aW9uIFJpKHQsZSxuLHIsbyl7dmFyIGE9WHQobixyKTtyZXR1cm4gd2kodCxlLGFbMF0sYVsxXSx0LlJHQkEsdC5SR0JBLHQuVU5TSUdORURfQllURSl9ZnVuY3Rpb24gSWkodCxlLG4scixvKXt2YXIgYT0kdChuLHIpO3JldHVybiB3aSh0LGUsYVswXSxhWzFdLG8uaW50ZXJuYWxGb3JtYXRQYWNrZWRGbG9hdCx0LlJHQkEsdC5GTE9BVCl9ZnVuY3Rpb24ga2kodCxlLG4scixvKXt2YXIgYT0kdChuLHIpO3JldHVybiB3aSh0LGUsYVswXSxhWzFdLG8uaW50ZXJuYWxGb3JtYXRQYWNrZWRIYWxmRmxvYXQsdC5SR0JBLG8udGV4dHVyZVR5cGVIYWxmRmxvYXQpfWZ1bmN0aW9uIFNpKHQsZSxuLHIpe3JldHVybiBKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYmluZEJ1ZmZlcih0LkFSUkFZX0JVRkZFUixyKX0pKSxnZSh0LGUsbixcImNsaXBTcGFjZVBvc1wiLHIsMywyMCwwKSYmZ2UodCxlLG4sXCJ1dlwiLHIsMiwyMCwxMil9ZnVuY3Rpb24gQWkodCxlLG4scixvLGEsaSl7dmFyIHMsdSxjO0p0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsbil9KSksYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/KHM9bmV3IFVpbnQ4QXJyYXkocipvKjQpLHU9dC5VTlNJR05FRF9CWVRFLGM9dC5SR0JBKToocz1uZXcgRmxvYXQzMkFycmF5KHIqbyo0KSx1PXQuRkxPQVQsYz1pLmludGVybmFsRm9ybWF0UGFja2VkRmxvYXQpLHMuc2V0KGEpLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLGMscixvLDAsdC5SR0JBLHUscyl9KSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxudWxsKX0pKX1mdW5jdGlvbiBEaSh0LGUsbixyKXtKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELG4pfSkpLHIuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/SnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsdC5SR0JBLHIud2lkdGgsci5oZWlnaHQsMCx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLHIuZGF0YSl9KSk6SnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsdC5SR0JBLHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUscil9KSksSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxudWxsKX0pKX1mdW5jdGlvbiBUaSh0LGUsbixyLG8pe3ZhciBhPXQuY3JlYXRlQnVmZmVyKCk7SnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LmJpbmRCdWZmZXIodC5QSVhFTF9QQUNLX0JVRkZFUixhKX0pKTt2YXIgaT0xNipuKnI7cmV0dXJuIEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5idWZmZXJEYXRhKHQuUElYRUxfUEFDS19CVUZGRVIsaSx0LlNUUkVBTV9SRUFEKX0pKSxKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQucmVhZFBpeGVscygwLDAscixuLHQuUkdCQSx0LkZMT0FULDApfSkpLEp0KHQsZSwoZnVuY3Rpb24oKXtyZXR1cm4gdC5iaW5kQnVmZmVyKHQuUElYRUxfUEFDS19CVUZGRVIsbnVsbCl9KSksYX1mdW5jdGlvbiBOaSh0LGUsbil7dmFyIHI9dCxvPW5ldyBGbG9hdDMyQXJyYXkobik7cmV0dXJuIHIuYmluZEJ1ZmZlcihyLlBJWEVMX1BBQ0tfQlVGRkVSLGUpLHIuZ2V0QnVmZmVyU3ViRGF0YShyLlBJWEVMX1BBQ0tfQlVGRkVSLDAsbyksci5iaW5kQnVmZmVyKHIuUElYRUxfUEFDS19CVUZGRVIsbnVsbCksb31mdW5jdGlvbiBGaSh0LGUsbixyLG8pe3ZhciBhPVh0KG4sciksaT1hWzBdLHM9YVsxXSx1PW5ldyBVaW50OEFycmF5KG4qcio0KTtyZXR1cm4gSnQodCxlLChmdW5jdGlvbigpe3JldHVybiB0LnJlYWRQaXhlbHMoMCwwLGkscyxvLmRvd25sb2FkVGV4dHVyZUZvcm1hdCx0LlVOU0lHTkVEX0JZVEUsdSl9KSksbmV3IEZsb2F0MzJBcnJheSh1LmJ1ZmZlcil9ZnVuY3Rpb24gX2kodCxlLG4scixvLGEsaSxzKXt2YXIgdT10LGM9bmV3IEZsb2F0MzJBcnJheShmdW5jdGlvbih0LGUpe3ZhciBuPSR0KHQsZSk7cmV0dXJuIG5bMF0qblsxXSo0fShhLGkpKTtyZXR1cm4gdS5iaW5kQnVmZmVyKHUuUElYRUxfUEFDS19CVUZGRVIsZSksdS5nZXRCdWZmZXJTdWJEYXRhKHUuUElYRUxfUEFDS19CVUZGRVIsMCxjKSx1LmJpbmRCdWZmZXIodS5QSVhFTF9QQUNLX0JVRkZFUixudWxsKSxjfWZ1bmN0aW9uIE9pKHQsZSxuLHIpe3ZhciBvPW5ldyBGbG9hdDMyQXJyYXkobipyKjQpO3JldHVybiBKdCh0LGUsKGZ1bmN0aW9uKCl7cmV0dXJuIHQucmVhZFBpeGVscygwLDAscixuLHQuUkdCQSx0LkZMT0FULG8pfSkpLG99dmFyIE1pPU9iamVjdC5mcmVlemUoe2NyZWF0ZVZlcnRleFNoYWRlcjp5aSxjcmVhdGVWZXJ0ZXhCdWZmZXI6eGksY3JlYXRlSW5kZXhCdWZmZXI6YmksY3JlYXRlRmxvYXQzMk1hdHJpeFRleHR1cmU6Q2ksY3JlYXRlRmxvYXQxNk1hdHJpeFRleHR1cmU6RWksY3JlYXRlVW5zaWduZWRCeXRlc01hdHJpeFRleHR1cmU6UmksY3JlYXRlUGFja2VkTWF0cml4VGV4dHVyZTpJaSxjcmVhdGVGbG9hdDE2UGFja2VkTWF0cml4VGV4dHVyZTpraSxiaW5kVmVydGV4UHJvZ3JhbUF0dHJpYnV0ZVN0cmVhbXM6U2ksdXBsb2FkRGVuc2VNYXRyaXhUb1RleHR1cmU6QWksdXBsb2FkUGl4ZWxEYXRhVG9UZXh0dXJlOkRpLGNyZWF0ZUJ1ZmZlckZyb21PdXRwdXRUZXh0dXJlOlRpLGRvd25sb2FkRmxvYXQzMk1hdHJpeEZyb21CdWZmZXI6TmksZG93bmxvYWRCeXRlRW5jb2RlZEZsb2F0TWF0cml4RnJvbU91dHB1dFRleHR1cmU6RmksZG93bmxvYWRQYWNrZWRNYXRyaXhGcm9tQnVmZmVyOl9pLGRvd25sb2FkTWF0cml4RnJvbVBhY2tlZE91dHB1dFRleHR1cmU6T2l9KSxCaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5vdXRwdXRUZXh0dXJlPW51bGwsdGhpcy5wcm9ncmFtPW51bGwsdGhpcy5kaXNwb3NlZD0hMSx0aGlzLnZlcnRleEF0dHJzQXJlQm91bmQ9ITEsdGhpcy5pdGVtc1RvUG9sbD1bXTt2YXIgZT1pKCkuZ2V0TnVtYmVyKFwiV0VCR0xfVkVSU0lPTlwiKTtudWxsIT10Pyh0aGlzLmdsPXQsS3QoZSx0KSk6dGhpcy5nbD1qdChlKTt2YXIgbj1cIldFQkdMX2NvbG9yX2J1ZmZlcl9mbG9hdFwiO2lmKDE9PT1pKCkuZ2V0TnVtYmVyKFwiV0VCR0xfVkVSU0lPTlwiKSl7aWYodGhpcy50ZXh0dXJlRmxvYXRFeHRlbnNpb249cmUodGhpcy5nbCx0aGlzLmRlYnVnLFwiT0VTX3RleHR1cmVfZmxvYXRcIiksUGUodGhpcy5nbCxcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRcIikpdGhpcy50ZXh0dXJlSGFsZkZsb2F0RXh0ZW5zaW9uPXJlKHRoaXMuZ2wsdGhpcy5kZWJ1ZyxcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRcIik7ZWxzZSBpZihpKCkuZ2V0KFwiV0VCR0xfRk9SQ0VfRjE2X1RFWFRVUkVTXCIpKXRocm93IG5ldyBFcnJvcihcIkdMIGNvbnRleHQgZG9lcyBub3Qgc3VwcG9ydCBoYWxmIGZsb2F0IHRleHR1cmVzLCB5ZXQgdGhlIGVudmlyb25tZW50IGZsYWcgV0VCR0xfRk9SQ0VfRjE2X1RFWFRVUkVTIGlzIHNldCB0byB0cnVlLlwiKTtpZih0aGlzLmNvbG9yQnVmZmVyRmxvYXRFeHRlbnNpb249dGhpcy5nbC5nZXRFeHRlbnNpb24obiksUGUodGhpcy5nbCxcIkVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdFwiKSl0aGlzLmNvbG9yQnVmZmVySGFsZkZsb2F0RXh0ZW5zaW9uPXJlKHRoaXMuZ2wsdGhpcy5kZWJ1ZyxcIkVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdFwiKTtlbHNlIGlmKGkoKS5nZXQoXCJXRUJHTF9GT1JDRV9GMTZfVEVYVFVSRVNcIikpdGhyb3cgbmV3IEVycm9yKFwiR0wgY29udGV4dCBkb2VzIG5vdCBzdXBwb3J0IGNvbG9yIHJlbmRlcmFibGUgaGFsZiBmbG9hdHMsIHlldCB0aGUgZW52aXJvbm1lbnQgZmxhZyBXRUJHTF9GT1JDRV9GMTZfVEVYVFVSRVMgaXMgc2V0IHRvIHRydWUuXCIpfWVsc2UgaWYobj1cIkVYVF9jb2xvcl9idWZmZXJfZmxvYXRcIixQZSh0aGlzLmdsLG4pKXRoaXMuY29sb3JCdWZmZXJGbG9hdEV4dGVuc2lvbj10aGlzLmdsLmdldEV4dGVuc2lvbihuKTtlbHNle2lmKCFQZSh0aGlzLmdsLFwiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0XCIpKXRocm93IG5ldyBFcnJvcihcIkdMIGNvbnRleHQgZG9lcyBub3Qgc3VwcG9ydCBjb2xvciByZW5kZXJhYmxlIGZsb2F0c1wiKTt0aGlzLmNvbG9yQnVmZmVySGFsZkZsb2F0RXh0ZW5zaW9uPXRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKFwiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0XCIpfXRoaXMudmVydGV4QnVmZmVyPXhpKHRoaXMuZ2wsdGhpcy5kZWJ1ZyksdGhpcy5pbmRleEJ1ZmZlcj1iaSh0aGlzLmdsLHRoaXMuZGVidWcpLHRoaXMuZnJhbWVidWZmZXI9bWUodGhpcy5nbCx0aGlzLmRlYnVnKSx0aGlzLnRleHR1cmVDb25maWc9UXQodGhpcy5nbCx0aGlzLnRleHR1cmVIYWxmRmxvYXRFeHRlbnNpb24pfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkZWJ1Z1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaSgpLmdldEJvb2woXCJERUJVR1wiKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZighdGhpcy5kaXNwb3NlZCl7bnVsbCE9dGhpcy5wcm9ncmFtJiZjb25zb2xlLndhcm4oXCJEaXNwb3NpbmcgYSBHUEdQVUNvbnRleHQgdGhhdCBzdGlsbCBoYXMgYSBib3VuZCBXZWJHTFByb2dyYW0uIFRoaXMgaXMgcHJvYmFibHkgYSByZXNvdXJjZSBsZWFrLCBkZWxldGUgdGhlIHByb2dyYW0gd2l0aCBHUEdQVUNvbnRleHQuZGVsZXRlUHJvZ3JhbSBiZWZvcmUgZGlzcG9zaW5nLlwiKSxudWxsIT10aGlzLm91dHB1dFRleHR1cmUmJmNvbnNvbGUud2FybihcIkRpc3Bvc2luZyBhIEdQR1BVQ29udGV4dCB0aGF0IHN0aWxsIGhhcyBhIGJvdW5kIG91dHB1dCBtYXRyaXggdGV4dHVyZS4gIFRoaXMgaXMgcHJvYmFibHkgYSByZXNvdXJjZSBsZWFrLCBkZWxldGUgdGhlIG91dHB1dCBtYXRyaXggdGV4dHVyZSB3aXRoIEdQR1BVQ29udGV4dC5kZWxldGVNYXRyaXhUZXh0dXJlIGJlZm9yZSBkaXNwb3NpbmcuXCIpO3ZhciBlPXRoaXMuZ2w7SnQoZSx0aGlzLmRlYnVnLChmdW5jdGlvbigpe3JldHVybiBlLmZpbmlzaCgpfSkpLEp0KGUsdGhpcy5kZWJ1ZywoZnVuY3Rpb24oKXtyZXR1cm4gZS5iaW5kRnJhbWVidWZmZXIoZS5GUkFNRUJVRkZFUixudWxsKX0pKSxKdChlLHRoaXMuZGVidWcsKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGVsZXRlRnJhbWVidWZmZXIodC5mcmFtZWJ1ZmZlcil9KSksSnQoZSx0aGlzLmRlYnVnLChmdW5jdGlvbigpe3JldHVybiBlLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsbnVsbCl9KSksSnQoZSx0aGlzLmRlYnVnLChmdW5jdGlvbigpe3JldHVybiBlLmJpbmRCdWZmZXIoZS5FTEVNRU5UX0FSUkFZX0JVRkZFUixudWxsKX0pKSxKdChlLHRoaXMuZGVidWcsKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGVsZXRlQnVmZmVyKHQuaW5kZXhCdWZmZXIpfSkpLHRoaXMuZGlzcG9zZWQ9ITB9fSx0LnByb3RvdHlwZS5jcmVhdGVGbG9hdDMyTWF0cml4VGV4dHVyZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLENpKHRoaXMuZ2wsdGhpcy5kZWJ1Zyx0LGUsdGhpcy50ZXh0dXJlQ29uZmlnKX0sdC5wcm90b3R5cGUuY3JlYXRlRmxvYXQxNk1hdHJpeFRleHR1cmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50aHJvd0lmRGlzcG9zZWQoKSxFaSh0aGlzLmdsLHRoaXMuZGVidWcsdCxlLHRoaXMudGV4dHVyZUNvbmZpZyl9LHQucHJvdG90eXBlLmNyZWF0ZVVuc2lnbmVkQnl0ZXNNYXRyaXhUZXh0dXJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCksUmkodGhpcy5nbCx0aGlzLmRlYnVnLHQsZSx0aGlzLnRleHR1cmVDb25maWcpfSx0LnByb3RvdHlwZS51cGxvYWRQaXhlbERhdGFUb1RleHR1cmU9ZnVuY3Rpb24odCxlKXt0aGlzLnRocm93SWZEaXNwb3NlZCgpLERpKHRoaXMuZ2wsdGhpcy5kZWJ1Zyx0LGUpfSx0LnByb3RvdHlwZS51cGxvYWREZW5zZU1hdHJpeFRvVGV4dHVyZT1mdW5jdGlvbih0LGUsbixyKXt0aGlzLnRocm93SWZEaXNwb3NlZCgpLEFpKHRoaXMuZ2wsdGhpcy5kZWJ1Zyx0LGUsbixyLHRoaXMudGV4dHVyZUNvbmZpZyl9LHQucHJvdG90eXBlLmNyZWF0ZUZsb2F0MTZQYWNrZWRNYXRyaXhUZXh0dXJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCksa2kodGhpcy5nbCx0aGlzLmRlYnVnLHQsZSx0aGlzLnRleHR1cmVDb25maWcpfSx0LnByb3RvdHlwZS5jcmVhdGVQYWNrZWRNYXRyaXhUZXh0dXJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCksSWkodGhpcy5nbCx0aGlzLmRlYnVnLHQsZSx0aGlzLnRleHR1cmVDb25maWcpfSx0LnByb3RvdHlwZS5kZWxldGVNYXRyaXhUZXh0dXJlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy50aHJvd0lmRGlzcG9zZWQoKSx0aGlzLm91dHB1dFRleHR1cmU9PT10JiYoRWUodGhpcy5nbCx0aGlzLmRlYnVnLHRoaXMuZnJhbWVidWZmZXIpLHRoaXMub3V0cHV0VGV4dHVyZT1udWxsKSxKdCh0aGlzLmdsLHRoaXMuZGVidWcsKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZ2wuZGVsZXRlVGV4dHVyZSh0KX0pKX0sdC5wcm90b3R5cGUuZG93bmxvYWRCeXRlRW5jb2RlZEZsb2F0TWF0cml4RnJvbU91dHB1dFRleHR1cmU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMuZG93bmxvYWRNYXRyaXhEcml2ZXIodCwoZnVuY3Rpb24oKXtyZXR1cm4gRmkoci5nbCxyLmRlYnVnLGUsbixyLnRleHR1cmVDb25maWcpfSkpfSx0LnByb3RvdHlwZS5kb3dubG9hZFBhY2tlZE1hdHJpeEZyb21CdWZmZXI9ZnVuY3Rpb24odCxlLG4scixvLGEpe3JldHVybiBfaSh0aGlzLmdsLHQsMCwwLDAsbyxhLHRoaXMudGV4dHVyZUNvbmZpZyl9LHQucHJvdG90eXBlLmRvd25sb2FkRmxvYXQzMk1hdHJpeEZyb21CdWZmZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTmkodGhpcy5nbCx0LGUpfSx0LnByb3RvdHlwZS5jcmVhdGVCdWZmZXJGcm9tVGV4dHVyZT1mdW5jdGlvbih0LGUsbil7dGhpcy5iaW5kVGV4dHVyZVRvRnJhbWVCdWZmZXIodCk7dmFyIHI9VGkodGhpcy5nbCx0aGlzLmRlYnVnLGUsbix0aGlzLnRleHR1cmVDb25maWcpO3JldHVybiB0aGlzLnVuYmluZFRleHR1cmVUb0ZyYW1lQnVmZmVyKCkscn0sdC5wcm90b3R5cGUuY3JlYXRlQW5kV2FpdEZvckZlbmNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jcmVhdGVGZW5jZSh0aGlzLmdsKTtyZXR1cm4gdGhpcy5wb2xsRmVuY2UodCl9LHQucHJvdG90eXBlLmNyZWF0ZUZlbmNlPWZ1bmN0aW9uKHQpe3ZhciBlLG4scj10aGlzO2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfRkVOQ0VfQVBJX0VOQUJMRURcIikpe3ZhciBvPXQsYT1vLmZlbmNlU3luYyhvLlNZTkNfR1BVX0NPTU1BTkRTX0NPTVBMRVRFLDApO3QuZmx1c2goKSxuPWZ1bmN0aW9uKCl7dmFyIHQ9by5jbGllbnRXYWl0U3luYyhhLDAsMCk7cmV0dXJuIHQ9PT1vLkFMUkVBRFlfU0lHTkFMRUR8fHQ9PT1vLkNPTkRJVElPTl9TQVRJU0ZJRUR9LGU9YX1lbHNlIGkoKS5nZXROdW1iZXIoXCJXRUJHTF9ESVNKT0lOVF9RVUVSWV9USU1FUl9FWFRFTlNJT05fVkVSU0lPTlwiKT4wPyhlPXRoaXMuYmVnaW5RdWVyeSgpLHRoaXMuZW5kUXVlcnkoKSxuPWZ1bmN0aW9uKCl7cmV0dXJuIHIuaXNRdWVyeUF2YWlsYWJsZShlLGkoKS5nZXROdW1iZXIoXCJXRUJHTF9ESVNKT0lOVF9RVUVSWV9USU1FUl9FWFRFTlNJT05fVkVSU0lPTlwiKSl9KTpuPWZ1bmN0aW9uKCl7cmV0dXJuITB9O3JldHVybntxdWVyeTplLGlzRmVuY2VQYXNzZWQ6bn19LHQucHJvdG90eXBlLmRvd25sb2FkTWF0cml4RnJvbVBhY2tlZFRleHR1cmU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMuZG93bmxvYWRNYXRyaXhEcml2ZXIodCwoZnVuY3Rpb24oKXtyZXR1cm4gT2koci5nbCxyLmRlYnVnLGUsbil9KSl9LHQucHJvdG90eXBlLmNyZWF0ZVByb2dyYW09ZnVuY3Rpb24odCl7dGhpcy50aHJvd0lmRGlzcG9zZWQoKTt2YXIgZT10aGlzLmdsLG49YWUoZSx0aGlzLmRlYnVnLHQpLHI9eWkoZSx0aGlzLmRlYnVnKSxvPWNlKGUsdGhpcy5kZWJ1Zyk7cmV0dXJuIEp0KGUsdGhpcy5kZWJ1ZywoZnVuY3Rpb24oKXtyZXR1cm4gZS5hdHRhY2hTaGFkZXIobyxyKX0pKSxKdChlLHRoaXMuZGVidWcsKGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXR0YWNoU2hhZGVyKG8sbil9KSksbGUoZSx0aGlzLmRlYnVnLG8pLHRoaXMuZGVidWcmJmhlKGUsdGhpcy5kZWJ1ZyxvKSx0aGlzLnZlcnRleEF0dHJzQXJlQm91bmR8fCh0aGlzLnNldFByb2dyYW0obyksdGhpcy52ZXJ0ZXhBdHRyc0FyZUJvdW5kPVNpKGUsdGhpcy5kZWJ1Zyx0aGlzLnByb2dyYW0sdGhpcy52ZXJ0ZXhCdWZmZXIpKSxvfSx0LnByb3RvdHlwZS5kZWxldGVQcm9ncmFtPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy50aHJvd0lmRGlzcG9zZWQoKSx0PT09dGhpcy5wcm9ncmFtJiYodGhpcy5wcm9ncmFtPW51bGwpLG51bGwhPXQmJkp0KHRoaXMuZ2wsdGhpcy5kZWJ1ZywoZnVuY3Rpb24oKXtyZXR1cm4gZS5nbC5kZWxldGVQcm9ncmFtKHQpfSkpfSx0LnByb3RvdHlwZS5zZXRQcm9ncmFtPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy50aHJvd0lmRGlzcG9zZWQoKSx0aGlzLnByb2dyYW09dCxudWxsIT10aGlzLnByb2dyYW0mJnRoaXMuZGVidWcmJmhlKHRoaXMuZ2wsdGhpcy5kZWJ1Zyx0aGlzLnByb2dyYW0pLEp0KHRoaXMuZ2wsdGhpcy5kZWJ1ZywoZnVuY3Rpb24oKXtyZXR1cm4gZS5nbC51c2VQcm9ncmFtKHQpfSkpfSx0LnByb3RvdHlwZS5nZXRVbmlmb3JtTG9jYXRpb249ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj0hMCksdGhpcy50aHJvd0lmRGlzcG9zZWQoKSxuP3hlKHRoaXMuZ2wsdGhpcy5kZWJ1Zyx0LGUpOmJlKHRoaXMuZ2wsdCxlKX0sdC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlTG9jYXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLnRocm93SWZEaXNwb3NlZCgpLEp0KHRoaXMuZ2wsdGhpcy5kZWJ1ZywoZnVuY3Rpb24oKXtyZXR1cm4gbi5nbC5nZXRBdHRyaWJMb2NhdGlvbih0LGUpfSkpfSx0LnByb3RvdHlwZS5nZXRVbmlmb3JtTG9jYXRpb25Ob1Rocm93PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGhyb3dJZkRpc3Bvc2VkKCksdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24odCxlKX0sdC5wcm90b3R5cGUuc2V0SW5wdXRNYXRyaXhUZXh0dXJlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnRocm93SWZEaXNwb3NlZCgpLHRoaXMudGhyb3dJZk5vUHJvZ3JhbSgpLHdlKHRoaXMuZ2wsdGhpcy5kZWJ1Zyx0aGlzLnByb2dyYW0sdCxlLG4pfSx0LnByb3RvdHlwZS5zZXRPdXRwdXRNYXRyaXhUZXh0dXJlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnNldE91dHB1dE1hdHJpeFRleHR1cmVEcml2ZXIodCxuLGUpfSx0LnByb3RvdHlwZS5zZXRPdXRwdXRQYWNrZWRNYXRyaXhUZXh0dXJlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnRocm93SWZEaXNwb3NlZCgpO3ZhciByPSR0KGUsbiksbz1yWzBdLGE9clsxXTt0aGlzLnNldE91dHB1dE1hdHJpeFRleHR1cmVEcml2ZXIodCxvLGEpfSx0LnByb3RvdHlwZS5zZXRPdXRwdXRNYXRyaXhXcml0ZVJlZ2lvbj1mdW5jdGlvbih0LGUsbixyKXt0aGlzLnNldE91dHB1dE1hdHJpeFdyaXRlUmVnaW9uRHJpdmVyKG4sdCxyLGUpfSx0LnByb3RvdHlwZS5zZXRPdXRwdXRQYWNrZWRNYXRyaXhXcml0ZVJlZ2lvbj1mdW5jdGlvbih0LGUsbixyKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRPdXRwdXRQYWNrZWRNYXRyaXhXcml0ZVJlZ2lvbiBub3QgaW1wbGVtZW50ZWQuXCIpfSx0LnByb3RvdHlwZS5kZWJ1Z1ZhbGlkYXRlPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5wcm9ncmFtJiZoZSh0aGlzLmdsLHRoaXMuZGVidWcsdGhpcy5wcm9ncmFtKSxSZSh0aGlzLmdsKX0sdC5wcm90b3R5cGUuZXhlY3V0ZVByb2dyYW09ZnVuY3Rpb24oKXt0aGlzLnRocm93SWZEaXNwb3NlZCgpLHRoaXMudGhyb3dJZk5vUHJvZ3JhbSgpO3ZhciB0PXRoaXMuZ2w7dGhpcy5kZWJ1ZyYmdGhpcy5kZWJ1Z1ZhbGlkYXRlKCksSnQodCx0aGlzLmRlYnVnLChmdW5jdGlvbigpe3JldHVybiB0LmRyYXdFbGVtZW50cyh0LlRSSUFOR0xFUyw2LHQuVU5TSUdORURfU0hPUlQsMCl9KSl9LHQucHJvdG90eXBlLmJsb2NrVW50aWxBbGxQcm9ncmFtc0NvbXBsZXRlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy50aHJvd0lmRGlzcG9zZWQoKSxKdCh0aGlzLmdsLHRoaXMuZGVidWcsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2wuZmluaXNoKCl9KSl9LHQucHJvdG90eXBlLmdldFF1ZXJ5VGltZXJFeHRlbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dGhpcy5kaXNqb2ludFF1ZXJ5VGltZXJFeHRlbnNpb24mJih0aGlzLmRpc2pvaW50UXVlcnlUaW1lckV4dGVuc2lvbj1yZSh0aGlzLmdsLHRoaXMuZGVidWcsMj09PWkoKS5nZXROdW1iZXIoXCJXRUJHTF9ESVNKT0lOVF9RVUVSWV9USU1FUl9FWFRFTlNJT05fVkVSU0lPTlwiKT9cIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeV93ZWJnbDJcIjpcIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeVwiKSksdGhpcy5kaXNqb2ludFF1ZXJ5VGltZXJFeHRlbnNpb259LHQucHJvdG90eXBlLmdldFF1ZXJ5VGltZXJFeHRlbnNpb25XZWJHTDI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRRdWVyeVRpbWVyRXh0ZW5zaW9uKCl9LHQucHJvdG90eXBlLmdldFF1ZXJ5VGltZXJFeHRlbnNpb25XZWJHTDE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRRdWVyeVRpbWVyRXh0ZW5zaW9uKCl9LHQucHJvdG90eXBlLmJlZ2luUXVlcnk9ZnVuY3Rpb24oKXtpZigyPT09aSgpLmdldE51bWJlcihcIldFQkdMX0RJU0pPSU5UX1FVRVJZX1RJTUVSX0VYVEVOU0lPTl9WRVJTSU9OXCIpKXt2YXIgdD10aGlzLmdsLGU9dGhpcy5nZXRRdWVyeVRpbWVyRXh0ZW5zaW9uV2ViR0wyKCksbj10LmNyZWF0ZVF1ZXJ5KCk7cmV0dXJuIHQuYmVnaW5RdWVyeShlLlRJTUVfRUxBUFNFRF9FWFQsbiksbn12YXIgcj10aGlzLmdldFF1ZXJ5VGltZXJFeHRlbnNpb25XZWJHTDEoKSxvPXIuY3JlYXRlUXVlcnlFWFQoKTtyZXR1cm4gci5iZWdpblF1ZXJ5RVhUKHIuVElNRV9FTEFQU0VEX0VYVCxvKSxvfSx0LnByb3RvdHlwZS5lbmRRdWVyeT1mdW5jdGlvbigpe2lmKDIhPT1pKCkuZ2V0TnVtYmVyKFwiV0VCR0xfRElTSk9JTlRfUVVFUllfVElNRVJfRVhURU5TSU9OX1ZFUlNJT05cIikpe3ZhciB0PXRoaXMuZ2V0UXVlcnlUaW1lckV4dGVuc2lvbldlYkdMMSgpO3QuZW5kUXVlcnlFWFQodC5USU1FX0VMQVBTRURfRVhUKX1lbHNle3ZhciBlPXRoaXMuZ2wsbj10aGlzLmdldFF1ZXJ5VGltZXJFeHRlbnNpb25XZWJHTDIoKTtlLmVuZFF1ZXJ5KG4uVElNRV9FTEFQU0VEX0VYVCl9fSx0LnByb3RvdHlwZS53YWl0Rm9yUXVlcnlBbmRHZXRUaW1lPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsRigoZnVuY3Rpb24oKXtyZXR1cm4gZS5kaXNwb3NlZHx8ZS5pc1F1ZXJ5QXZhaWxhYmxlKHQsaSgpLmdldE51bWJlcihcIldFQkdMX0RJU0pPSU5UX1FVRVJZX1RJTUVSX0VYVEVOU0lPTl9WRVJTSU9OXCIpKX0pKV07Y2FzZSAxOnJldHVybiBuLnNlbnQoKSxbMix0aGlzLmdldFF1ZXJ5VGltZSh0LGkoKS5nZXROdW1iZXIoXCJXRUJHTF9ESVNKT0lOVF9RVUVSWV9USU1FUl9FWFRFTlNJT05fVkVSU0lPTlwiKSldfX0pKX0pKX0sdC5wcm90b3R5cGUuZ2V0UXVlcnlUaW1lPWZ1bmN0aW9uKHQsZSl7aWYoMD09PWUpcmV0dXJuIG51bGw7aWYoMj09PWUpe3ZhciBuPXRoaXMuZ2w7cmV0dXJuIG4uZ2V0UXVlcnlQYXJhbWV0ZXIodCxuLlFVRVJZX1JFU1VMVCkvMWU2fXZhciByPXRoaXMuZ2V0UXVlcnlUaW1lckV4dGVuc2lvbldlYkdMMSgpO3JldHVybiByLmdldFF1ZXJ5T2JqZWN0RVhUKHQsci5RVUVSWV9SRVNVTFRfRVhUKS8xZTZ9LHQucHJvdG90eXBlLmlzUXVlcnlBdmFpbGFibGU9ZnVuY3Rpb24odCxlKXtpZigwPT09ZSlyZXR1cm4hMDtpZigyPT09ZSl7dmFyIG49dGhpcy5nbCxyPXRoaXMuZ2V0UXVlcnlUaW1lckV4dGVuc2lvbldlYkdMMigpLG89bi5nZXRRdWVyeVBhcmFtZXRlcih0LG4uUVVFUllfUkVTVUxUX0FWQUlMQUJMRSk7cmV0dXJuIG51bGw9PXRoaXMuZGlzam9pbnQmJih0aGlzLmRpc2pvaW50PXRoaXMuZ2wuZ2V0UGFyYW1ldGVyKHIuR1BVX0RJU0pPSU5UX0VYVCkpLG8mJiF0aGlzLmRpc2pvaW50fW89KHI9dGhpcy5nZXRRdWVyeVRpbWVyRXh0ZW5zaW9uV2ViR0wxKCkpLmdldFF1ZXJ5T2JqZWN0RVhUKHQsci5RVUVSWV9SRVNVTFRfQVZBSUxBQkxFX0VYVCk7cmV0dXJuIG51bGw9PXRoaXMuZGlzam9pbnQmJih0aGlzLmRpc2pvaW50PXRoaXMuZ2wuZ2V0UGFyYW1ldGVyKHIuR1BVX0RJU0pPSU5UX0VYVCkpLG8mJiF0aGlzLmRpc2pvaW50fSx0LnByb3RvdHlwZS5wb2xsRmVuY2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe2UuYWRkSXRlbVRvUG9sbCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5pc0ZlbmNlUGFzc2VkKCl9KSwoZnVuY3Rpb24oKXtyZXR1cm4gbigpfSkpfSkpfSx0LnByb3RvdHlwZS5wb2xsSXRlbXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDsrK2Upe2lmKCF0W2VdKCkpYnJlYWt9cmV0dXJuIGUtMX0odGhpcy5pdGVtc1RvUG9sbC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzRG9uZUZufSkpKSxlPTA7ZTw9dDsrK2UpeygwLHRoaXMuaXRlbXNUb1BvbGxbZV0ucmVzb2x2ZUZuKSgpfXRoaXMuaXRlbXNUb1BvbGw9dGhpcy5pdGVtc1RvUG9sbC5zbGljZSh0KzEpfSx0LnByb3RvdHlwZS5hZGRJdGVtVG9Qb2xsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLml0ZW1zVG9Qb2xsLnB1c2goe2lzRG9uZUZuOnQscmVzb2x2ZUZuOmV9KSx0aGlzLml0ZW1zVG9Qb2xsLmxlbmd0aD4xfHxGKChmdW5jdGlvbigpe3JldHVybiBuLnBvbGxJdGVtcygpLDA9PT1uLml0ZW1zVG9Qb2xsLmxlbmd0aH0pKX0sdC5wcm90b3R5cGUuYmluZFRleHR1cmVUb0ZyYW1lQnVmZmVyPWZ1bmN0aW9uKHQpe3RoaXMudGhyb3dJZkRpc3Bvc2VkKCksQ2UodGhpcy5nbCx0aGlzLmRlYnVnLHQsdGhpcy5mcmFtZWJ1ZmZlciksdGhpcy5kZWJ1ZyYmUmUodGhpcy5nbCl9LHQucHJvdG90eXBlLnVuYmluZFRleHR1cmVUb0ZyYW1lQnVmZmVyPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5vdXRwdXRUZXh0dXJlPyhDZSh0aGlzLmdsLHRoaXMuZGVidWcsdGhpcy5vdXRwdXRUZXh0dXJlLHRoaXMuZnJhbWVidWZmZXIpLHRoaXMuZGVidWcmJlJlKHRoaXMuZ2wpKTpFZSh0aGlzLmdsLHRoaXMuZGVidWcsdGhpcy5mcmFtZWJ1ZmZlcil9LHQucHJvdG90eXBlLmRvd25sb2FkTWF0cml4RHJpdmVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5iaW5kVGV4dHVyZVRvRnJhbWVCdWZmZXIodCk7dmFyIG49ZSgpO3JldHVybiB0aGlzLnVuYmluZFRleHR1cmVUb0ZyYW1lQnVmZmVyKCksbn0sdC5wcm90b3R5cGUuc2V0T3V0cHV0TWF0cml4VGV4dHVyZURyaXZlcj1mdW5jdGlvbih0LGUsbil7dGhpcy50aHJvd0lmRGlzcG9zZWQoKTt2YXIgcj10aGlzLmdsO0NlKHIsdGhpcy5kZWJ1Zyx0LHRoaXMuZnJhbWVidWZmZXIpLHRoaXMuZGVidWcmJlJlKHIpLHRoaXMub3V0cHV0VGV4dHVyZT10LEp0KHIsdGhpcy5kZWJ1ZywoZnVuY3Rpb24oKXtyZXR1cm4gci52aWV3cG9ydCgwLDAsZSxuKX0pKSxKdChyLHRoaXMuZGVidWcsKGZ1bmN0aW9uKCl7cmV0dXJuIHIuc2Npc3NvcigwLDAsZSxuKX0pKX0sdC5wcm90b3R5cGUuc2V0T3V0cHV0TWF0cml4V3JpdGVSZWdpb25Ecml2ZXI9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dGhpczt0aGlzLnRocm93SWZEaXNwb3NlZCgpLEp0KHRoaXMuZ2wsdGhpcy5kZWJ1ZywoZnVuY3Rpb24oKXtyZXR1cm4gby5nbC5zY2lzc29yKHQsZSxuLHIpfSkpfSx0LnByb3RvdHlwZS50aHJvd0lmRGlzcG9zZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLmRpc3Bvc2VkKXRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byB1c2UgZGlzcG9zZWQgR1BHUFVDb250ZXh0LlwiKX0sdC5wcm90b3R5cGUudGhyb3dJZk5vUHJvZ3JhbT1mdW5jdGlvbigpe2lmKG51bGw9PXRoaXMucHJvZ3JhbSl0aHJvdyBuZXcgRXJyb3IoXCJObyBHUFUgcHJvZ3JhbSBpcyBjdXJyZW50bHkgc2V0LlwiKX0sdH0oKTtmdW5jdGlvbiBQaSh0LGUpe2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgRXJyb3IoXCJCaW5hcnkgd2FzIGNvbXBpbGVkIHdpdGggXCIrdC5sZW5ndGgrXCIgaW5wdXRzLCBidXQgd2FzIGV4ZWN1dGVkIHdpdGggXCIrZS5sZW5ndGgrXCIgaW5wdXRzXCIpO3QuZm9yRWFjaCgoZnVuY3Rpb24odCxuKXt2YXIgcj10LmxvZ2ljYWxTaGFwZSxvPWVbbl0sYT1vLnNoYXBlO2lmKCFTKHIsYSkpdGhyb3cgRXJyb3IoXCJCaW5hcnkgd2FzIGNvbXBpbGVkIHdpdGggZGlmZmVyZW50IHNoYXBlcyB0aGFuIHRoZSBjdXJyZW50IGFyZ3MuIFNoYXBlcyBcIityK1wiIGFuZCBcIithK1wiIG11c3QgbWF0Y2hcIik7aWYoIXQuaXNVbmlmb3JtfHwhby5pc1VuaWZvcm0pe3ZhciBpPXQudGV4U2hhcGUscz1vLmlzVW5pZm9ybT9udWxsOm8udGV4RGF0YS50ZXhTaGFwZTtpZighUyhpLHMpKXRocm93IEVycm9yKFwiQmluYXJ5IHdhcyBjb21waWxlZCB3aXRoIGRpZmZlcmVudCB0ZXh0dXJlIHNoYXBlcyB0aGFuIHRoZSBjdXJyZW50IGFyZ3MuIFNoYXBlIFwiK2krXCIgYW5kIFwiK3MrXCIgbXVzdCBtYXRjaFwiKX19KSl9dmFyIExpPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXSx0aGlzLnBhY2tlZElucHV0cz0hMCx0aGlzLnBhY2tlZE91dHB1dD0hMCx0aGlzLm91dHB1dFNoYXBlPXQ7Zm9yKHZhciByPW4uZmlsdGVyV2lkdGgsbz1uLmluQ2hhbm5lbHMsYT1uLnN0cmlkZVdpZHRoLGk9bi5zdHJpZGVIZWlnaHQscz1uLnBhZEluZm8sdT1uLm91dFdpZHRoLGM9bi5kaWxhdGlvbldpZHRoLGw9bi5kaWxhdGlvbkhlaWdodCxoPW4uZGF0YUZvcm1hdCxmPXMubGVmdCxkPXMudG9wLHA9bypyLHY9dWEoKSxtPVwiY2hhbm5lbHNMYXN0XCI9PT1oLGc9bT8wOjEseT1tPzE6Mix4PVwiXCIsYj0wO2I8PTE7YisrKWZvcih2YXIgdz0wO3c8PTE7dysrKXgrPVwiXFxuICAgICAgICAgIGJsb2NrSW5kZXggPSByYy55ICsgXCIrdytcIjtcXG4gICAgICAgICAgcG9zID0gcmMueCArIFwiK2IrXCI7XFxuXFxuICAgICAgICAgIGlmKGJsb2NrSW5kZXggPCBcIit0WzFdK1wiICYmIHBvcyA8IFwiK3RbMF0rXCIpIHtcXG4gICAgICAgICAgICBvZmZzZXRZID0gaW50KGJsb2NrSW5kZXggLyAoXCIrdStcIikpICogXCIraStcIiAtIFwiK2QrXCI7XFxuICAgICAgICAgICAgZDAgPSBvZmZzZXRZICsgXCIrbCtcIiAqIChwb3MgLyBcIitwK1wiKTtcXG5cXG4gICAgICAgICAgICBpZihkMCA8IFwiK2VbZ10rXCIgJiYgZDAgPj0gMCkge1xcblxcbiAgICAgICAgICAgICAgb2Zmc2V0WCA9IGludChtb2QoZmxvYXQoYmxvY2tJbmRleCksIFwiK3UrXCIuKSAqIFwiK2ErXCIuIC0gXCIrZitcIi4pO1xcbiAgICAgICAgICAgICAgZDEgPSBvZmZzZXRYICsgXCIrYytcIiAqIChpbnQobW9kKGZsb2F0KHBvcyksIFwiK3ArXCIuKSAvIFwiK28rXCIuKSk7XFxuXFxuICAgICAgICAgICAgICBpZihkMSA8IFwiK2VbeV0rXCIgJiYgZDEgPj0gMCkge1xcblxcbiAgICAgICAgICAgICAgICBjaCA9IGludChtb2QoZmxvYXQocG9zKSwgXCIrbytcIi4pKTtcXG5cXG4gICAgICAgICAgICAgICAgaWYgKFwiK20rXCIpIHtcXG4gICAgICAgICAgICAgICAgICBpbm5lckRpbXMgPSB2ZWMyKGQxLCBjaCk7XFxuICAgICAgICAgICAgICAgICAgcmVzdWx0W1wiKygyKmIrdykrXCJdID0gZ2V0Q2hhbm5lbChcXG4gICAgICAgICAgICAgICAgICAgIGdldEEoZDAsIGludChpbm5lckRpbXMueCksXFxuICAgICAgICAgICAgICAgICAgICBpbnQoaW5uZXJEaW1zLnkpKSwgaW5uZXJEaW1zKTtcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICBpbm5lckRpbXMgPSB2ZWMyKGQwLCBkMSk7XFxuICAgICAgICAgICAgICAgICAgcmVzdWx0W1wiKygyKmIrdykrXCJdID0gZ2V0Q2hhbm5lbChcXG4gICAgICAgICAgICAgICAgICAgIGdldEEoY2gsIGludChpbm5lckRpbXMueCksXFxuICAgICAgICAgICAgICAgICAgICBpbnQoaW5uZXJEaW1zLnkpKSwgaW5uZXJEaW1zKTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgXCI7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWMyIHJjID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuXFxuICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMCk7XFxuXFxuICAgICAgICBpbnQgYmxvY2tJbmRleCwgcG9zLCBvZmZzZXRZLCBkMCwgb2Zmc2V0WCwgZDEsIGNoO1xcbiAgICAgICAgdmVjMiBpbm5lckRpbXM7XFxuXFxuICAgICAgICBcIit4K1wiXFxuXFxuICAgICAgICBcIit2Lm91dHB1dCtcIiA9IHJlc3VsdDtcXG4gICAgICB9XFxuICAgIFwifSxXaT1mdW5jdGlvbih0LGUsbixyLG8pe3RoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCJdLHRoaXMub3V0cHV0U2hhcGU9W107dmFyIGEsaT1lLHM9dFszXS0xO3RoaXMub3V0cHV0U2hhcGU9dDt2YXIgdT1cImZsb2F0KFwiK24rXCIpICsgZmxvYXQoXCIrcitcIikgKiBzdW1cIjthPS41PT09bz9cImludmVyc2VzcXJ0KFwiK3UrXCIpXCI6MT09PW8/XCIxLjAvKFwiK3UrXCIpXCI6XCJleHAobG9nKFwiK3UrXCIpICogZmxvYXQoLVwiK28rXCIpKTtcIix0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYiA9IGNvb3Jkc1swXTtcXG4gICAgICAgIGludCByID0gY29vcmRzWzFdO1xcbiAgICAgICAgaW50IGMgPSBjb29yZHNbMl07XFxuICAgICAgICBpbnQgZCA9IGNvb3Jkc1szXTtcXG4gICAgICAgIGZsb2F0IHggPSBnZXRYKGIsIHIsIGMsIGQpO1xcbiAgICAgICAgZmxvYXQgc3VtID0gMC4wO1xcbiAgICAgICAgZm9yIChpbnQgaiA9IC1cIitpK1wiOyBqIDw9IFwiK2krXCI7IGorKykge1xcbiAgICAgICAgICBpbnQgaWR4ID0gZCArIGo7XFxuICAgICAgICAgIGlmIChpZHggPj0gMCAmJiBpZHggPD0gIFwiK3MrXCIpIHtcXG4gICAgICAgICAgICBmbG9hdCB6ID0gZ2V0WChiLCByLCBjLCBpZHgpO1xcbiAgICAgICAgICAgIHN1bSArPSB6ICogejtcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgZmxvYXQgdmFsID0geCAqIFwiK2ErXCI7XFxuICAgICAgICBzZXRPdXRwdXQodmFsKTtcXG4gICAgICB9XFxuICAgIFwifSxVaT1mdW5jdGlvbih0LGUsbixyLG8pe3RoaXMudmFyaWFibGVOYW1lcz1bXCJpbnB1dEltYWdlXCIsXCJvdXRwdXRJbWFnZVwiLFwiZHlcIl0sdGhpcy5vdXRwdXRTaGFwZT1bXSx0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy5kZXB0aD10WzNdLHRoaXMuZGVwdGhSYWRpdXM9ZSx0aGlzLmJpYXM9bix0aGlzLmFscGhhPXIsdGhpcy5iZXRhPW8sdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGIgPSBjb29yZHNbMF07XFxuICAgICAgICBpbnQgciA9IGNvb3Jkc1sxXTtcXG4gICAgICAgIGludCBjID0gY29vcmRzWzJdO1xcblxcbiAgICAgICAgZmxvYXQgcmVzdWx0ID0gMC4wO1xcbiAgICAgICAgZm9yIChpbnQgZCA9IDA7IGQgPCBcIit0aGlzLmRlcHRoK1wiOyArK2QpIHtcXG4gICAgICAgICAgaW50IGRlcHRoQmVnaW4gPSBpbnQobWF4KDAuMCwgZmxvYXQoZCAtIFwiK2UrXCIpKSk7XFxuICAgICAgICAgIGludCBkZXB0aEVuZCA9IGludChtaW4oZmxvYXQoXCIrdGhpcy5kZXB0aCtcIiksXFxuICAgICAgICAgICAgICBmbG9hdChkICsgXCIrZStcIiArIDEpKSk7XFxuXFxuICAgICAgICAgIGNvbnN0IGludCBNSU5fREVQVEhfQkVHSU4gPSAwO1xcbiAgICAgICAgICBjb25zdCBpbnQgTUFYX0RFUFRIX0VORCA9IFwiK3RoaXMuZGVwdGgrXCI7XFxuXFxuICAgICAgICAgIGZsb2F0IG5vcm0gPSAwLjA7XFxuICAgICAgICAgIGZvciAoaW50IGsgPSBNSU5fREVQVEhfQkVHSU47IGsgPCBNQVhfREVQVEhfRU5EOyArK2spIHtcXG4gICAgICAgICAgICBpZiAoayA8IGRlcHRoQmVnaW4pe1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGVsc2UgaWYgKGsgPj0gZGVwdGhCZWdpbiAmJiBrIDwgZGVwdGhFbmQpIHtcXG4gICAgICAgICAgICAgIG5vcm0gKz0gZ2V0SW5wdXRJbWFnZShiLCByLCBjLCBrKSAqIGdldElucHV0SW1hZ2UoYiwgciwgYywgayk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGVsc2Uge1xcbiAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgIG5vcm0gPSBmbG9hdChcIityK1wiKSAqIG5vcm0gKyBmbG9hdChcIituK1wiKTtcXG5cXG4gICAgICAgICAgZm9yKGludCBrID0gTUlOX0RFUFRIX0JFR0lOOyBrIDwgTUFYX0RFUFRIX0VORDsgKytrKXtcXG4gICAgICAgICAgICBpZiAoayA8IGRlcHRoQmVnaW4pe1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGVsc2UgaWYgKGsgPj0gZGVwdGhCZWdpbiAmJiBrIDwgZGVwdGhFbmQpe1xcbiAgICAgICAgICAgICAgZmxvYXQgZHlpID0gLTIuMCAqIGZsb2F0KFwiK3IrXCIpXFxuICAgICAgICAgICAgICAgICogZmxvYXQoXCIrbytcIilcXG4gICAgICAgICAgICAgICAgKiBnZXRJbnB1dEltYWdlKGIgLHIgLGMsIGspICogZ2V0T3V0cHV0SW1hZ2UoYiwgciwgYywgZClcXG4gICAgICAgICAgICAgICAgLyBub3JtO1xcbiAgICAgICAgICAgICAgaWYgKGsgPT0gZCkge1xcbiAgICAgICAgICAgICAgICBkeWkgKz0gcG93KG5vcm0sIC0xLjAgKiBcIitvK1wiKTtcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgIGlmIChrID09IGNvb3Jkc1szXSkge1xcbiAgICAgICAgICAgICAgICBkeWkgKj0gZ2V0RHkoYiwgciwgYywgZCk7XFxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBkeWk7XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGVsc2Uge1xcbiAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgfVxcbiAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICAgIH1cXG4gICAgXCJ9LFZpPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIl0sdGhpcy5vdXRwdXRTaGFwZT1bXSx0aGlzLnBhY2tlZElucHV0cz0hMCx0aGlzLnBhY2tlZE91dHB1dD0hMDt2YXIgYSxpPWUscz10WzNdLTE7dGhpcy5vdXRwdXRTaGFwZT10O3ZhciB1PVwiZmxvYXQoXCIrbitcIikgKyBmbG9hdChcIityK1wiKSAqIHN1bVwiO2E9LjU9PT1vP1wiaW52ZXJzZXNxcnQoXCIrdStcIilcIjoxPT09bz9cIjEuMC8oXCIrdStcIilcIjpcImV4cChsb2coXCIrdStcIikgKiBmbG9hdCgtXCIrbytcIikpO1wiLHRoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNCBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiID0gY29vcmRzLng7XFxuICAgICAgICBpbnQgciA9IGNvb3Jkcy55O1xcbiAgICAgICAgaW50IGMgPSBjb29yZHMuejtcXG4gICAgICAgIGludCBkID0gY29vcmRzLnc7XFxuXFxuICAgICAgICBib29sIGhhc05leHRDb2wgPSBkIDwgXCIrdGhpcy5vdXRwdXRTaGFwZVszXStcIjtcXG4gICAgICAgIGJvb2wgaGFzTmV4dFJvdyA9IGMgPCBcIit0aGlzLm91dHB1dFNoYXBlWzJdK1wiO1xcblxcbiAgICAgICAgdmVjNCBzdW0gPSB2ZWM0KDAuKTtcXG4gICAgICAgIHZlYzQgeEZyYWdBdE91dHB1dENvb3JkcyA9IGdldFgoYiwgciwgYywgZCk7XFxuXFxuICAgICAgICB2ZWM0IHhBdE91dHB1dENvb3JkcyA9IHZlYzQoXFxuICAgICAgICAgIGdldENoYW5uZWwoeEZyYWdBdE91dHB1dENvb3JkcywgdmVjMihjLCBkKSksXFxuICAgICAgICAgIGhhc05leHRDb2wgP1xcbiAgICAgICAgICAgIGdldENoYW5uZWwoeEZyYWdBdE91dHB1dENvb3JkcywgdmVjMihjLCBkICsgMSkpIDogMC4wLFxcbiAgICAgICAgICBoYXNOZXh0Um93ID9cXG4gICAgICAgICAgICBnZXRDaGFubmVsKHhGcmFnQXRPdXRwdXRDb29yZHMgLCB2ZWMyKGMgKyAxLCBkKSkgOiAwLjAsXFxuICAgICAgICAgIChoYXNOZXh0Um93ICYmIGhhc05leHRDb2wpID9cXG4gICAgICAgICAgICBnZXRDaGFubmVsKHhGcmFnQXRPdXRwdXRDb29yZHMsIHZlYzIoYyArIDEsIGQgKyAxKSkgOiAwLjBcXG4gICAgICAgICk7XFxuXFxuICAgICAgICBpbnQgZmlyc3RDaGFubmVsID0gZCAtIFwiK2krXCI7XFxuICAgICAgICB2ZWMyIGNhY2hlID0gdmVjMigwLik7XFxuICAgICAgICBpZihmaXJzdENoYW5uZWwgPj0gMCl7XFxuICAgICAgICAgIHZlYzQgZmlyc3RDaGFubmVsRnJhZyA9IGdldFgoYiwgciwgYywgZmlyc3RDaGFubmVsKTtcXG4gICAgICAgICAgY2FjaGUueCA9IGdldENoYW5uZWwoZmlyc3RDaGFubmVsRnJhZywgdmVjMihjLCBmaXJzdENoYW5uZWwpKTtcXG4gICAgICAgICAgICBpZihoYXNOZXh0Um93KXtcXG4gICAgICAgICAgICAgIGNhY2hlLnkgPSBnZXRDaGFubmVsKGZpcnN0Q2hhbm5lbEZyYWcsIHZlYzIoYyArIDEsIGZpcnN0Q2hhbm5lbCkpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG5cXG4gICAgICAgIGl2ZWMyIGRlcHRoID0gaXZlYzIoZCwgZCArIDEpO1xcbiAgICAgICAgZm9yIChpbnQgaiA9IC0gXCIraStcIjsgaiA8PSBcIitpK1wiOyBqKyspIHtcXG4gICAgICAgICAgaXZlYzIgaWR4ID0gZGVwdGggKyBqO1xcbiAgICAgICAgICBidmVjMiBhYm92ZUxvd2VyQm91bmQgPSBncmVhdGVyVGhhbkVxdWFsKGlkeCwgaXZlYzIoMCkpO1xcbiAgICAgICAgICBidmVjMiBiZWxvd1VwcGVyQm91bmQgPSBsZXNzVGhhbkVxdWFsKGlkeCwgaXZlYzIoXCIrcytcIikpO1xcblxcbiAgICAgICAgICBib29sIGRlcHRoSW5SYW5nZSA9IGFib3ZlTG93ZXJCb3VuZC54ICYmIGJlbG93VXBwZXJCb3VuZC54O1xcbiAgICAgICAgICBib29sIGRlcHRoUGx1c09uZUluUmFuZ2UgPSBhYm92ZUxvd2VyQm91bmQueSAmJiBiZWxvd1VwcGVyQm91bmQueTtcXG5cXG4gICAgICAgICAgaWYoZGVwdGhJblJhbmdlIHx8IGRlcHRoUGx1c09uZUluUmFuZ2Upe1xcbiAgICAgICAgICAgIHZlYzQgeiA9IHZlYzQoMC4pO1xcbiAgICAgICAgICAgIHZlYzQgeEZyYWdBdEN1cnJlbnREZXB0aDtcXG4gICAgICAgICAgICB6Lnh6ID0gY2FjaGUueHk7XFxuICAgICAgICAgICAgaWYoZGVwdGhQbHVzT25lSW5SYW5nZSAmJiBoYXNOZXh0Q29sKXtcXG4gICAgICAgICAgICAgIHhGcmFnQXRDdXJyZW50RGVwdGggPSBpZHgueSAhPSBkID9cXG4gICAgICAgICAgICAgICAgZ2V0WChiLCByLCBjLCBpZHgueSkgOiB4RnJhZ0F0T3V0cHV0Q29vcmRzO1xcbiAgICAgICAgICAgICAgei55ID0gZ2V0Q2hhbm5lbCh4RnJhZ0F0Q3VycmVudERlcHRoLCB2ZWMyKGMsIGlkeC55KSk7XFxuICAgICAgICAgICAgICBpZihoYXNOZXh0Um93KXtcXG4gICAgICAgICAgICAgICAgei53ID0gZ2V0Q2hhbm5lbCh4RnJhZ0F0Q3VycmVudERlcHRoLCB2ZWMyKGMgKyAxLCBpZHgueSkpO1xcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBjYWNoZS54eSA9IHoueXc7XFxuICAgICAgICAgICAgc3VtICs9IHogKiB6O1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICB2ZWM0IHJlc3VsdCA9IHhBdE91dHB1dENvb3JkcyAqIFwiK2ErXCI7XFxuICAgICAgICBzZXRPdXRwdXQocmVzdWx0KTtcXG4gICAgICB9XFxuICAgIFwifSx6aT1mdW5jdGlvbih0KXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiZHlcIixcIm1heFBvc1wiXSx0aGlzLm91dHB1dFNoYXBlPXQuaW5TaGFwZTt2YXIgZT10LnN0cmlkZUhlaWdodCxuPXQuc3RyaWRlV2lkdGgscj10LmRpbGF0aW9uSGVpZ2h0LG89dC5lZmZlY3RpdmVGaWx0ZXJIZWlnaHQsYT10LmVmZmVjdGl2ZUZpbHRlcldpZHRoLGk9by0xLXQucGFkSW5mby50b3Ascz1hLTEtdC5wYWRJbmZvLmxlZnQsdT1vKmEtMTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgY29uc3QgaXZlYzIgcGFkcyA9IGl2ZWMyKFwiK2krXCIsIFwiK3MrXCIpO1xcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGIgPSBjb29yZHNbMF07XFxuICAgICAgICBpbnQgZCA9IGNvb3Jkc1szXTtcXG5cXG4gICAgICAgIGl2ZWMyIGR5UkNDb3JuZXIgPSBjb29yZHMueXogLSBwYWRzO1xcbiAgICAgICAgaW50IGR5UkNvcm5lciA9IGR5UkNDb3JuZXIueDtcXG4gICAgICAgIGludCBkeUNDb3JuZXIgPSBkeVJDQ29ybmVyLnk7XFxuXFxuICAgICAgICAvLyBDb252b2x2ZSBkeSg/LCA/LCBkKSB3aXRoIHBvcyBtYXNrKDosIDosIGQpIHRvIGdldCBkeCh4UiwgeEMsIGQpLlxcbiAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWQuIDogPSBhY3Jvc3MgYWxsIHZhbHVlcyBpbiB0aGF0IGF4aXMuXFxuICAgICAgICBmbG9hdCBkb3RQcm9kID0gMC4wO1xcbiAgICAgICAgZm9yIChpbnQgd1IgPSAwOyB3UiA8IFwiK28rXCI7XFxuICAgICAgICAgIHdSICs9IFwiK3IrXCIpIHtcXG4gICAgICAgICAgZmxvYXQgZHlSID0gZmxvYXQoZHlSQ29ybmVyICsgd1IpIC8gXCIrZStcIi4wO1xcblxcbiAgICAgICAgICBpZiAoZHlSIDwgMC4wIHx8IGR5UiA+PSBcIit0Lm91dEhlaWdodCtcIi4wIHx8IGZyYWN0KGR5UikgPiAwLjApIHtcXG4gICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICBpbnQgaWR5UiA9IGludChkeVIpO1xcblxcbiAgICAgICAgICBmb3IgKGludCB3QyA9IDA7IHdDIDwgXCIrYStcIjsgd0MrKykge1xcbiAgICAgICAgICAgIGZsb2F0IGR5QyA9IGZsb2F0KGR5Q0Nvcm5lciArIHdDKSAvIFwiK24rXCIuMDtcXG5cXG4gICAgICAgICAgICBpZiAoZHlDIDwgMC4wIHx8IGR5QyA+PSBcIit0Lm91dFdpZHRoK1wiLjAgfHxcXG4gICAgICAgICAgICAgICAgZnJhY3QoZHlDKSA+IDAuMCkge1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGludCBpZHlDID0gaW50KGR5Qyk7XFxuXFxuICAgICAgICAgICAgZmxvYXQgZHlWYWx1ZSA9IGdldER5KGIsIGlkeVIsIGlkeUMsIGQpO1xcbiAgICAgICAgICAgIGludCBtYXhQb3NWYWx1ZSA9IFwiK3UrXCIgLSBpbnQoZ2V0TWF4UG9zKGIsIGlkeVIsIGlkeUMsIGQpKTtcXG5cXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgdmFsdWUsIGNoZWNrIGl0IGFnYWluc3QgdGhlIHZhbHVlIGZyb20gdGhlXFxuICAgICAgICAgICAgLy8gcG9zaXRpb24gbWF0cml4LlxcbiAgICAgICAgICAgIGludCBjdXJQb3NWYWx1ZSA9IHdSICogXCIrYStcIiArIHdDO1xcbiAgICAgICAgICAgIGZsb2F0IG1hc2sgPSBmbG9hdChtYXhQb3NWYWx1ZSA9PSBjdXJQb3NWYWx1ZSA/IDEuMCA6IDAuMCk7XFxuXFxuICAgICAgICAgICAgZG90UHJvZCArPSBkeVZhbHVlICogbWFzaztcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgc2V0T3V0cHV0KGRvdFByb2QpO1xcbiAgICAgIH1cXG4gICAgXCJ9LEdpPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJkeVwiLFwibWF4UG9zXCJdLHRoaXMub3V0cHV0U2hhcGU9dC5pblNoYXBlO3ZhciBlPXQuc3RyaWRlRGVwdGgsbj10LnN0cmlkZUhlaWdodCxyPXQuc3RyaWRlV2lkdGgsbz10LmRpbGF0aW9uRGVwdGgsYT10LmRpbGF0aW9uSGVpZ2h0LGk9dC5kaWxhdGlvbldpZHRoLHM9dC5lZmZlY3RpdmVGaWx0ZXJEZXB0aCx1PXQuZWZmZWN0aXZlRmlsdGVySGVpZ2h0LGM9dC5lZmZlY3RpdmVGaWx0ZXJXaWR0aCxsPXMtMS10LnBhZEluZm8uZnJvbnQsaD11LTEtdC5wYWRJbmZvLnRvcCxmPWMtMS10LnBhZEluZm8ubGVmdCxkPXMqdSpjLTE7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIGNvbnN0IGl2ZWMzIHBhZHMgPSBpdmVjMyhcIitsK1wiLCBcIitoK1wiLCBcIitmK1wiKTtcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNSBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiYXRjaCA9IGNvb3Jkcy54O1xcbiAgICAgICAgaW50IGNoID0gY29vcmRzLnU7XFxuXFxuICAgICAgICBpdmVjMyBkeUNvcm5lciA9IGl2ZWMzKGNvb3Jkcy55LCBjb29yZHMueiwgY29vcmRzLncpIC0gcGFkcztcXG4gICAgICAgIGludCBkeURDb3JuZXIgPSBkeUNvcm5lci54O1xcbiAgICAgICAgaW50IGR5UkNvcm5lciA9IGR5Q29ybmVyLnk7XFxuICAgICAgICBpbnQgZHlDQ29ybmVyID0gZHlDb3JuZXIuejtcXG5cXG4gICAgICAgIC8vIENvbnZvbHZlIGR5KD8sID8sID8sIGNoKSB3aXRoIHBvcyBtYXNrKDosIDosIDosIGQpIHRvIGdldFxcbiAgICAgICAgLy8gZHgoeEQsIHhSLCB4QywgY2gpLlxcbiAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWQuIDogPSBhY3Jvc3MgYWxsIHZhbHVlcyBpbiB0aGF0IGF4aXMuXFxuICAgICAgICBmbG9hdCBkb3RQcm9kID0gMC4wO1xcblxcbiAgICAgICAgZm9yIChpbnQgd0QgPSAwOyB3RCA8IFwiK3MrXCI7XFxuICAgICAgICAgICB3RCArPSBcIitvK1wiKSB7XFxuICAgICAgICAgIGZsb2F0IGR5RCA9IGZsb2F0KGR5RENvcm5lciArIHdEKSAvIFwiK2UrXCIuMDtcXG5cXG4gICAgICAgICAgaWYgKGR5RCA8IDAuMCB8fCBkeUQgPj0gXCIrdC5vdXREZXB0aCtcIi4wIHx8IGZyYWN0KGR5RCkgPiAwLjApIHtcXG4gICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICBpbnQgaWR5RCA9IGludChkeUQpO1xcblxcbiAgICAgICAgICBmb3IgKGludCB3UiA9IDA7IHdSIDwgXCIrdStcIjtcXG4gICAgICAgICAgICAgIHdSICs9IFwiK2ErXCIpIHtcXG4gICAgICAgICAgICBmbG9hdCBkeVIgPSBmbG9hdChkeVJDb3JuZXIgKyB3UikgLyBcIituK1wiLjA7XFxuXFxuICAgICAgICAgICAgaWYgKGR5UiA8IDAuMCB8fCBkeVIgPj0gXCIrdC5vdXRIZWlnaHQrXCIuMCB8fFxcbiAgICAgICAgICAgICAgICBmcmFjdChkeVIpID4gMC4wKSB7XFxuICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaW50IGlkeVIgPSBpbnQoZHlSKTtcXG5cXG4gICAgICAgICAgICBmb3IgKGludCB3QyA9IDA7IHdDIDwgXCIrYytcIjtcXG4gICAgICAgICAgICAgICAgd0MgKz0gXCIraStcIikge1xcbiAgICAgICAgICAgICAgZmxvYXQgZHlDID0gZmxvYXQoZHlDQ29ybmVyICsgd0MpIC8gXCIrcitcIi4wO1xcblxcbiAgICAgICAgICAgICAgaWYgKGR5QyA8IDAuMCB8fCBkeUMgPj0gXCIrdC5vdXRXaWR0aCtcIi4wIHx8XFxuICAgICAgICAgICAgICAgICAgZnJhY3QoZHlDKSA+IDAuMCkge1xcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgIGludCBpZHlDID0gaW50KGR5Qyk7XFxuXFxuICAgICAgICAgICAgICBmbG9hdCBkeVZhbHVlID0gZ2V0RHkoYmF0Y2gsIGlkeUQsIGlkeVIsIGlkeUMsIGNoKTtcXG4gICAgICAgICAgICAgIGludCBtYXhQb3NWYWx1ZSA9IFwiK2QrXCIgLVxcbiAgICAgICAgICAgICAgICAgIGludChnZXRNYXhQb3MoYmF0Y2gsIGlkeUQsIGlkeVIsIGlkeUMsIGNoKSk7XFxuXFxuICAgICAgICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgdmFsdWUsIGNoZWNrIGl0IGFnYWluc3QgdGhlIHZhbHVlIGZyb20gdGhlXFxuICAgICAgICAgICAgICAvLyBwb3NpdGlvbiBtYXRyaXguXFxuICAgICAgICAgICAgICBpbnQgY3VyUG9zVmFsdWUgPVxcbiAgICAgICAgICAgICAgICAgIHdEICogXCIrdStcIiAqIFwiK2MrXCIgK1xcbiAgICAgICAgICAgICAgICAgIHdSICogXCIrYytcIiArIHdDO1xcbiAgICAgICAgICAgICAgZmxvYXQgbWFzayA9IGZsb2F0KG1heFBvc1ZhbHVlID09IGN1clBvc1ZhbHVlID8gMS4wIDogMC4wKTtcXG5cXG4gICAgICAgICAgICAgIGRvdFByb2QgKz0gZHlWYWx1ZSAqIG1hc2s7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBzZXRPdXRwdXQoZG90UHJvZCk7XFxuICAgICAgfVxcbiAgICBcIn0sSGk9ZnVuY3Rpb24odCxlLG4scixvLGEsaSl7dm9pZCAwPT09biYmKG49ITEpLHZvaWQgMD09PXImJihyPSExKSx2b2lkIDA9PT1vJiYobz0hMSksdm9pZCAwPT09YSYmKGE9bnVsbCksdm9pZCAwPT09aSYmKGk9ITEpLHRoaXMudmFyaWFibGVOYW1lcz1bXCJtYXRyaXhBXCIsXCJtYXRyaXhCXCJdLHRoaXMucGFja2VkSW5wdXRzPSEwLHRoaXMucGFja2VkT3V0cHV0PSEwLHRoaXMub3V0cHV0U2hhcGU9ZTt2YXIgcz1uP3RbMV06dFsyXSx1PU1hdGguY2VpbChzLzIpLGM9bj9cImkgKiAyLCByYy55XCI6XCJyYy55LCBpICogMlwiLGw9cj9cInJjLnosIGkgKiAyXCI6XCJpICogMiwgcmMuelwiLGg9bj9bXCJhLnh4eXlcIixcImEuenp3d1wiXTpbXCJhLnh4enpcIixcImEueXl3d1wiXSxmPXI/W1wiYi54enh6XCIsXCJiLnl3eXdcIl06W1wiYi54eXh5XCIsXCJiLnp3endcIl0sZD1cIlwiLHA9XCJcIjthJiYoZD1pP1widmVjNCBhY3RpdmF0aW9uKHZlYzQgYSkge1xcbiAgICAgICAgICB2ZWM0IGIgPSBnZXRQcmVsdUFjdGl2YXRpb25XZWlnaHRzQXRPdXRDb29yZHMoKTtcXG4gICAgICAgICAgXCIrYStcIlxcbiAgICAgICAgfVwiOlwidmVjNCBhY3RpdmF0aW9uKHZlYzQgeCkge1xcbiAgICAgICAgICBcIithK1wiXFxuICAgICAgICB9XCIscD1cInJlc3VsdCA9IGFjdGl2YXRpb24ocmVzdWx0KTtcIik7dmFyIHY9bz9cInJlc3VsdCArPSBnZXRCaWFzQXRPdXRDb29yZHMoKTtcIjpcIlwiO28mJnRoaXMudmFyaWFibGVOYW1lcy5wdXNoKFwiYmlhc1wiKSxpJiZ0aGlzLnZhcmlhYmxlTmFtZXMucHVzaChcInByZWx1QWN0aXZhdGlvbldlaWdodHNcIiksdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIFwiK2QrXCJcXG5cXG4gICAgICBjb25zdCBmbG9hdCBzaGFyZWREaW1lbnNpb24gPSBcIit1K1wiLjA7XFxuXFxuICAgICAgdmVjNCBkb3QyeDJBUm93QkNvbChpdmVjMyByYykge1xcbiAgICAgICAgdmVjNCByZXN1bHQgPSB2ZWM0KDApO1xcbiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBcIit1K1wiOyBpKyspIHtcXG4gICAgICAgICAgdmVjNCBhID0gZ2V0TWF0cml4QShyYy54LCBcIitjK1wiKTtcXG4gICAgICAgICAgdmVjNCBiID0gZ2V0TWF0cml4QihyYy54LCBcIitsK1wiKTtcXG5cXG4gICAgICAgICAgLy8gVGhlc2Ugc3dpenpsZWQgcHJvZHVjdHMgbmVlZCB0byBiZSBzZXBhcmF0ZWx5IGFkZGVkLlxcbiAgICAgICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS90ZW5zb3JmbG93L3RmanMvaXNzdWVzLzE3MzVcXG4gICAgICAgICAgcmVzdWx0ICs9IChcIitoWzBdK1wiICogXCIrZlswXStcIik7XFxuICAgICAgICAgIHJlc3VsdCArPSAoXCIraFsxXStcIiAqIFwiK2ZbMV0rXCIpO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcXG4gICAgICB9XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzMgcmMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIHZlYzQgcmVzdWx0ID0gZG90MngyQVJvd0JDb2wocmMpO1xcblxcbiAgICAgICAgXCIrditcIlxcblxcbiAgICAgICAgXCIrcCtcIlxcblxcbiAgICAgICAgc2V0T3V0cHV0KHJlc3VsdCk7XFxuICAgICAgfVxcbiAgICBcIn0scWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wicHJvYnNcIl0sdGhpcy5vdXRwdXRTaGFwZT1bdCxuXSx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdW5pZm9ybSBmbG9hdCBzZWVkO1xcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWMyIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGJhdGNoID0gY29vcmRzWzBdO1xcblxcbiAgICAgICAgZmxvYXQgciA9IHJhbmRvbShzZWVkKTtcXG4gICAgICAgIGZsb2F0IGNkZiA9IDAuMDtcXG5cXG4gICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgXCIrKGUtMSkrXCI7IGkrKykge1xcbiAgICAgICAgICBjZGYgKz0gZ2V0UHJvYnMoYmF0Y2gsIGkpO1xcblxcbiAgICAgICAgICBpZiAociA8IGNkZikge1xcbiAgICAgICAgICAgIHNldE91dHB1dChmbG9hdChpKSk7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuXFxuICAgICAgICAvLyBJZiBubyBvdGhlciBldmVudCBoYXBwZW5lZCwgbGFzdCBldmVudCBoYXBwZW5lZC5cXG4gICAgICAgIHNldE91dHB1dChmbG9hdChcIisoZS0xKStcIikpO1xcbiAgICAgIH1cXG4gICAgXCJ9cmV0dXJuIHQucHJvdG90eXBlLmdldEN1c3RvbVNldHVwRnVuYz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbihuLHIpe251bGw9PWUuc2VlZExvYyYmKGUuc2VlZExvYz1uLmdldFVuaWZvcm1Mb2NhdGlvbihyLFwic2VlZFwiKSksbi5nbC51bmlmb3JtMWYoZS5zZWVkTG9jLHQpfX0sdH0oKSxLaT1mdW5jdGlvbih0LGUsbixyKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiaW5kaWNlc1wiXSx0aGlzLm91dHB1dFNoYXBlPVt0LGVdLHRoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjMiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBpbmRleCA9IHJvdW5kKGdldEluZGljZXMoY29vcmRzLngpKTtcXG4gICAgICAgIHNldE91dHB1dChtaXgoZmxvYXQoXCIrcitcIiksIGZsb2F0KFwiK24rXCIpLFxcbiAgICAgICAgICAgICAgICAgICAgICBmbG9hdChpbmRleCA9PSBjb29yZHMueSkpKTtcXG4gICAgICB9XFxuICAgIFwifSxqaT1mdW5jdGlvbih0KXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXSx0aGlzLnBhY2tlZElucHV0cz0hMSx0aGlzLnBhY2tlZE91dHB1dD0hMCx0aGlzLm91dHB1dFNoYXBlPXQ7dmFyIGU9dC5sZW5ndGg7aWYoMD09PWUpdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgICBzZXRPdXRwdXQodmVjNChnZXRBKCksIDAuLCAwLiwgMC4pKTtcXG4gICAgICAgIH1cXG4gICAgICBcIjtlbHNle3ZhciBuPXNhKFwicmNcIixlKSxyPXdhKGUpLG89ZnVuY3Rpb24odCxlLG4pe2lmKDE9PT10KXJldHVyblwicmMgPiBcIitlWzBdO2Zvcih2YXIgcj1cIlwiLG89dC0yO288dDtvKyspcis9bltvXStcIiA+PSBcIitlW29dLG88dC0xJiYocis9XCJ8fFwiKTtyZXR1cm4gcn0oZSx0LG4pLGE9ZnVuY3Rpb24odCxlLG4scil7aWYoMT09PXQpcmV0dXJuXCJcIjt2YXIgbz1yLnNsaWNlKC0yKTtyZXR1cm5cIlxcbiAgICBpbnQgciA9IFwiK29bMF0rXCI7XFxuICAgIGludCBjID0gXCIrb1sxXStcIjtcXG4gICAgaW50IHJwMSA9IHIgKyAxO1xcbiAgICBpbnQgY3AxID0gYyArIDE7XFxuXFxuICAgIGJvb2wgY0VkZ2UgPSBjcDEgPj0gXCIrZStcIjtcXG4gICAgYm9vbCByRWRnZSA9IHJwMSA+PSBcIituK1wiO1xcbiAgXCJ9KGUsdFt0Lmxlbmd0aC0xXSx0W3QubGVuZ3RoLTJdLG4pLGk9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lmxlbmd0aCxyPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLHI9MDtyPD0xO3IrKylmb3IodmFyIG89MDtvPD0xO28rKyl7Zm9yKHZhciBhPSgwPT09cj9cInJcIjpcInJwMVwiKStcIiwgXCIrKDA9PT1vP1wiY1wiOlwiY3AxXCIpLGk9MjtpPHQ7aSsrKWE9ZVtlLmxlbmd0aC0xLWldK1wiLFwiK2E7bi5wdXNoKGEpfXJldHVybiBufShuLGUpO3JldHVybiAxPT09bj9cImdldEEocmMpLFxcbiAgICAgICAgICAgIHJjICsgMSA+PSBcIit0WzBdK1wiID8gMC4gOiBnZXRBKHJjICsgMSksXFxuICAgICAgICAgICAgMCwgMFwiOlwiZ2V0QShcIityWzBdK1wiKSxcXG4gICAgICAgICAgY0VkZ2UgPyAwLiA6IGdldEEoXCIrclsxXStcIiksXFxuICAgICAgICAgIHJFZGdlID8gMC4gOiBnZXRBKFwiK3JbMl0rXCIpLFxcbiAgICAgICAgICByRWRnZSB8fCBjRWRnZSA/IDAuIDogZ2V0QShcIityWzNdK1wiKVwifSh0LG4pO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgXCIrcitcIiByYyA9IGdldE91dHB1dENvb3JkcygpO1xcblxcbiAgICAgICAgICBpZihcIitvK1wiKSB7XFxuICAgICAgICAgICAgc2V0T3V0cHV0KHZlYzQoMCkpO1xcbiAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgIFwiK2ErXCJcXG5cXG4gICAgICAgICAgICBzZXRPdXRwdXQodmVjNChcIitpK1wiKSk7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICBcIn19O3ZhciBYaT1mdW5jdGlvbih0LGUsbil7dGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIl0sdGhpcy5vdXRwdXRTaGFwZT1lLm1hcCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZVswXSt0W25dK2VbMV19KSk7dmFyIHI9dC5sZW5ndGgsbz13YShyKSxhPWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKS5qb2luKFwiLFwiKSxpPWUubWFwKChmdW5jdGlvbihlLG4pe3JldHVybiBlWzBdK3Rbbl19KSkuam9pbihcIixcIikscz1bXCJjb29yZHNbMF1cIixcImNvb3Jkc1sxXVwiLFwiY29vcmRzWzJdXCIsXCJjb29yZHNbM11cIl0uc2xpY2UoMCxyKTt0aGlzLnVzZXJDb2RlPTEhPT1yP1wiXFxuICAgICAgXCIrbytcIiBzdGFydCA9IFwiK28rXCIoXCIrYStcIik7XFxuICAgICAgXCIrbytcIiBlbmQgPSBcIitvK1wiKFwiK2krXCIpO1xcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIFwiK28rXCIgb3V0QyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaWYgKGFueShsZXNzVGhhbihvdXRDLCBzdGFydCkpIHx8IGFueShncmVhdGVyVGhhbkVxdWFsKG91dEMsIGVuZCkpKSB7XFxuICAgICAgICAgIHNldE91dHB1dChmbG9hdChcIituK1wiKSk7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICBcIitvK1wiIGNvb3JkcyA9IG91dEMgLSBzdGFydDtcXG4gICAgICAgICAgc2V0T3V0cHV0KGdldFgoXCIrcytcIikpO1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgXCI6XCJcXG4gICAgICAgIGludCBzdGFydCA9IFwiK2ErXCI7XFxuICAgICAgICBpbnQgZW5kID0gXCIraStcIjtcXG5cXG4gICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgaW50IG91dEMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgICAgaWYgKG91dEMgPCBzdGFydCB8fCBvdXRDID49IGVuZCkge1xcbiAgICAgICAgICAgIHNldE91dHB1dChmbG9hdChcIituK1wiKSk7XFxuICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgc2V0T3V0cHV0KGdldFgob3V0QyAtIHN0YXJ0KSk7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICBcIn0sWWk9ZnVuY3Rpb24odCxlLG4pe3RoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCJdLHRoaXMucGFja2VkSW5wdXRzPSEwLHRoaXMucGFja2VkT3V0cHV0PSEwLHRoaXMub3V0cHV0U2hhcGU9ZS5tYXAoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGVbMF0rdFtuXStlWzFdfSkpO2Zvcih2YXIgcj10Lmxlbmd0aCxvPXdhKHIpLGE9ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpLmpvaW4oXCIsXCIpLGk9ZS5tYXAoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGVbMF0rdFtuXX0pKS5qb2luKFwiLFwiKSxzPXNhKFwicmNcIixyKSx1PXNhKFwic291cmNlXCIsciksYz1zW3ItMV0rXCIgPCBcIit0aGlzLm91dHB1dFNoYXBlW3ItMV0sbD0xPT09cj9cInNvdXJjZVwiOlwidmVjMihcIit1LnNsaWNlKC0yKS5qb2luKCkrXCIpXCIsaD1bbytcIiByYyA9IG91dHB1dExvYztcIixzW3ItMV0rXCIgKz0gMTtcXG4gICAgICAgaWYoXCIrYytcIikge1xcbiAgICAgIFwiLDE9PT1yP1wiXCI6XCJ9XFxuICAgICAgIHJjID0gb3V0cHV0TG9jO1xcbiAgICAgICBcIitzW3ItMl0rXCIgKz0gMTtcXG4gICAgICAgaWYoXCIrc1tyLTJdK1wiIDwgXCIrdGhpcy5vdXRwdXRTaGFwZVtyLTJdK1wiKSB7XCIsMT09PXI/XCJcIjpcIiAgXCIrc1tyLTFdK1wiICs9IDE7XFxuICAgICAgICAgaWYoXCIrYytcIikge1wiXSxmPTE9PT1yP1wicmMgPCBzdGFydCB8fCByYyA+PSBlbmRcIjpcImFueShsZXNzVGhhbihyYywgc3RhcnQpKSB8fCBhbnkoZ3JlYXRlclRoYW5FcXVhbChyYywgZW5kKSlcIixkPVwiXCIscD0wLHY9MT09PXI/Mjo0O3A8djtwKyspZCs9XCJcXG4gICAgICAgIFwiK2hbcF0rXCJcXG4gICAgICAgIGlmIChcIitmK1wiKSB7XFxuICAgICAgICAgIHJlc3VsdFtcIitwK1wiXSA9IGZsb2F0KFwiK24rXCIpO1xcbiAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgXCIrbytcIiBzb3VyY2UgPSByYyAtIHN0YXJ0O1xcbiAgICAgICAgICByZXN1bHRbXCIrcCtcIl0gPSBnZXRDaGFubmVsKGdldFgoXCIrdS5qb2luKCkrXCIpLCBcIitsK1wiKTtcXG4gICAgICAgIH1cXG4gICAgICBcIjtkKz0xPT09cj9cIn0gXCI6XCJ9fVwiLHRoaXMudXNlckNvZGU9XCJcXG4gICAgICBjb25zdCBcIitvK1wiIHN0YXJ0ID0gXCIrbytcIihcIithK1wiKTtcXG4gICAgICBjb25zdCBcIitvK1wiIGVuZCA9IFwiK28rXCIoXCIraStcIik7XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrbytcIiBvdXRwdXRMb2MgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIHZlYzQgcmVzdWx0ID0gdmVjNCgwLik7XFxuICAgICAgICBcIitkK1wiXFxuICAgICAgICBzZXRPdXRwdXQocmVzdWx0KTtcXG4gICAgICB9XFxuICAgIFwifSwkaT1mdW5jdGlvbih0LGUsbil7aWYodGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIl0sXCJhdmdcIj09PWUmJm4pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbXB1dGUgcG9zaXRpb25zIGZvciBhdmVyYWdlIHBvb2wuXCIpO3ZhciByPXQuZmlsdGVyV2lkdGgsbz10LnN0cmlkZUhlaWdodCxhPXQuc3RyaWRlV2lkdGgsaT10LmRpbGF0aW9uSGVpZ2h0LHM9dC5kaWxhdGlvbldpZHRoLHU9dC5lZmZlY3RpdmVGaWx0ZXJIZWlnaHQsYz10LmVmZmVjdGl2ZUZpbHRlcldpZHRoLGw9dC5wYWRJbmZvLnRvcCxoPXQucGFkSW5mby5sZWZ0O3RoaXMub3V0cHV0U2hhcGU9dC5vdXRTaGFwZTt2YXIgZj1cImF2Z1wiPT09ZSxkPVwiMC4wXCI7aWYoZnx8KGQ9XCItMS4wIC8gMWUtMjBcIiksbil0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgICBjb25zdCBpdmVjMiBzdHJpZGVzID0gaXZlYzIoXCIrbytcIiwgXCIrYStcIik7XFxuICAgICAgICBjb25zdCBpdmVjMiBwYWRzID0gaXZlYzIoXCIrbCtcIiwgXCIraCtcIik7XFxuXFxuICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgICBpbnQgYmF0Y2ggPSBjb29yZHNbMF07XFxuICAgICAgICAgIGludCBkID0gY29vcmRzWzNdO1xcblxcbiAgICAgICAgICBpdmVjMiB4UkNDb3JuZXIgPSBjb29yZHMueXogKiBzdHJpZGVzIC0gcGFkcztcXG4gICAgICAgICAgaW50IHhSQ29ybmVyID0geFJDQ29ybmVyLng7XFxuICAgICAgICAgIGludCB4Q0Nvcm5lciA9IHhSQ0Nvcm5lci55O1xcblxcbiAgICAgICAgICAvLyBtYXgvbWluIHgoPywgPywgZCkgdG8gZ2V0IHkoeVIsIHlDLCBkKS5cXG4gICAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWRcXG4gICAgICAgICAgZmxvYXQgbWluTWF4VmFsdWUgPSAwLjA7XFxuICAgICAgICAgIGZsb2F0IG1pbk1heFZhbHVlRm91bmQgPSAwLjA7XFxuICAgICAgICAgIGludCBtaW5NYXhQb3NpdGlvbiA9IDA7XFxuICAgICAgICAgIGZsb2F0IGF2Z1ZhbHVlID0gMC4wO1xcblxcbiAgICAgICAgICBmb3IgKGludCB3UiA9IDA7IHdSIDwgXCIrdStcIjtcXG4gICAgICAgICAgICAgIHdSICs9IFwiK2krXCIpIHtcXG4gICAgICAgICAgICBpbnQgeFIgPSB4UkNvcm5lciArIHdSO1xcblxcbiAgICAgICAgICAgIGlmICh4UiA8IDAgfHwgeFIgPj0gXCIrdC5pbkhlaWdodCtcIikge1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGZvciAoaW50IHdDID0gMDsgd0MgPCBcIitjK1wiO1xcbiAgICAgICAgICAgICAgICB3QyArPSBcIitzK1wiKSB7XFxuICAgICAgICAgICAgICBpbnQgeEMgPSB4Q0Nvcm5lciArIHdDO1xcblxcbiAgICAgICAgICAgICAgaWYgKHhDIDwgMCB8fCB4QyA+PSBcIit0LmluV2lkdGgrXCIpIHtcXG4gICAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICBmbG9hdCB2YWx1ZSA9IGdldFgoYmF0Y2gsIHhSLCB4QywgZCk7XFxuXFxuICAgICAgICAgICAgICAvLyBJZiBhIG1pbiAvIG1heCB2YWx1ZSBoYXMgYWxyZWFkeSBiZWVuIGZvdW5kLCB1c2UgaXQuIElmIG5vdCxcXG4gICAgICAgICAgICAgIC8vIHVzZSB0aGUgY3VycmVudCB2YWx1ZS5cXG4gICAgICAgICAgICAgIGZsb2F0IGN1cnJNaW5NYXhWYWx1ZSA9IG1peChcXG4gICAgICAgICAgICAgICAgICB2YWx1ZSwgbWluTWF4VmFsdWUsIG1pbk1heFZhbHVlRm91bmQpO1xcbiAgICAgICAgICAgICAgaWYgKHZhbHVlID49IGN1cnJNaW5NYXhWYWx1ZSkge1xcbiAgICAgICAgICAgICAgICBtaW5NYXhWYWx1ZSA9IHZhbHVlO1xcbiAgICAgICAgICAgICAgICBtaW5NYXhWYWx1ZUZvdW5kID0gMS4wO1xcbiAgICAgICAgICAgICAgICBtaW5NYXhQb3NpdGlvbiA9IHdSICogXCIrYytcIiArIHdDO1xcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgICBzZXRPdXRwdXQoZmxvYXQobWluTWF4UG9zaXRpb24pKTtcXG4gICAgICAgIH1cXG4gICAgICBcIjtlbHNle3ZhciBwPWUrXCIoXCIrZStcIihcIitlK1wiKG1pbk1heFZhbHVlWzBdLCBtaW5NYXhWYWx1ZVsxXSksIG1pbk1heFZhbHVlWzJdKSwgbWluTWF4VmFsdWVbM10pXCI7XCJhdmdcIj09PWUmJihwPVwiYXZnVmFsdWUgLyBjb3VudFwiKTt2YXIgdj00Kk1hdGguZmxvb3Ioci80KSxtPXIlNCxnPVwiXFxuICAgICAgaWYgKFwiK2YrXCIpIHtcXG4gICAgICAgIGF2Z1ZhbHVlICs9IGRvdCh2YWx1ZXMsIG9uZXMpO1xcbiAgICAgIH0gZWxzZSB7XFxuICAgICAgICBtaW5NYXhWYWx1ZSA9IG1heCh2YWx1ZXMsIG1pbk1heFZhbHVlKTtcXG4gICAgICB9XFxuICAgIFwiO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICBjb25zdCBpdmVjMiBzdHJpZGVzID0gaXZlYzIoXCIrbytcIiwgXCIrYStcIik7XFxuICAgICAgY29uc3QgaXZlYzIgcGFkcyA9IGl2ZWMyKFwiK2wrXCIsIFwiK2grXCIpO1xcbiAgICAgIGNvbnN0IGZsb2F0IGluaXRpYWxpemF0aW9uVmFsdWUgPSBcIitkK1wiO1xcbiAgICAgIGNvbnN0IHZlYzQgb25lcyA9IHZlYzQoMS4wLCAxLjAsIDEuMCwgMS4wKTtcXG5cXG4gICAgICBmbG9hdCBjb3VudCA9IDAuMDtcXG5cXG4gICAgICBmbG9hdCBnZXRWYWx1ZShpbnQgYmF0Y2gsIGludCB4UiwgaW50IHhDLCBpbnQgZCkge1xcbiAgICAgICAgaWYgKHhDIDwgMCB8fCB4QyA+PSBcIit0LmluV2lkdGgrXCIpIHtcXG4gICAgICAgICAgcmV0dXJuIGluaXRpYWxpemF0aW9uVmFsdWU7XFxuICAgICAgICB9XFxuICAgICAgICBjb3VudCArPSAxLjA7XFxuICAgICAgICByZXR1cm4gZ2V0WChiYXRjaCwgeFIsIHhDLCBkKTtcXG4gICAgICB9XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYmF0Y2ggPSBjb29yZHNbMF07XFxuICAgICAgICBpbnQgZCA9IGNvb3Jkc1szXTtcXG5cXG4gICAgICAgIGl2ZWMyIHhSQ0Nvcm5lciA9IGNvb3Jkcy55eiAqIHN0cmlkZXMgLSBwYWRzO1xcbiAgICAgICAgaW50IHhSQ29ybmVyID0geFJDQ29ybmVyLng7XFxuICAgICAgICBpbnQgeENDb3JuZXIgPSB4UkNDb3JuZXIueTtcXG5cXG4gICAgICAgIC8vIG1heC9taW4geCg/LCA/LCBkKSB0byBnZXQgeSh5UiwgeUMsIGQpLlxcbiAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWRcXG4gICAgICAgIHZlYzQgbWluTWF4VmFsdWUgPSB2ZWM0KFwiK2QrXCIpO1xcbiAgICAgICAgZmxvYXQgYXZnVmFsdWUgPSAwLjA7XFxuICAgICAgICBjb3VudCA9IDAuMDtcXG5cXG4gICAgICAgIGZvciAoaW50IHdSID0gMDsgd1IgPCBcIit1K1wiO1xcbiAgICAgICAgICAgIHdSICs9IFwiK2krXCIpIHtcXG4gICAgICAgICAgaW50IHhSID0geFJDb3JuZXIgKyB3UjtcXG5cXG4gICAgICAgICAgaWYgKHhSIDwgMCB8fCB4UiA+PSBcIit0LmluSGVpZ2h0K1wiKSB7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgZm9yIChpbnQgd0MgPSAwOyB3QyA8IFwiK3YrXCI7IHdDICs9IDQpIHtcXG4gICAgICAgICAgICBpbnQgeEMgPSB4Q0Nvcm5lciArIHdDICogXCIrcytcIjtcXG5cXG4gICAgICAgICAgICB2ZWM0IHZhbHVlcyA9IHZlYzQoXFxuICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeFIsIHhDLCBkKSxcXG4gICAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCB4UiwgeEMgKyBcIitzK1wiLCBkKSxcXG4gICAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCB4UiwgeEMgKyAyICogXCIrcytcIiwgZCksXFxuICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeFIsIHhDICsgMyAqIFwiK3MrXCIsIGQpXFxuICAgICAgICAgICAgKTtcXG5cXG4gICAgICAgICAgICBcIitnK1wiXFxuICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgaW50IHhDID0geENDb3JuZXIgKyBcIit2K1wiO1xcbiAgICAgICAgICBpZiAoXCIrKDE9PT1tKStcIikge1xcbiAgICAgICAgICAgIHZlYzQgdmFsdWVzID0gdmVjNChcXG4gICAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCB4UiwgeEMsIGQpLFxcbiAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZSxcXG4gICAgICAgICAgICAgIGluaXRpYWxpemF0aW9uVmFsdWUsXFxuICAgICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlXFxuICAgICAgICAgICAgKTtcXG5cXG4gICAgICAgICAgICBcIitnK1wiXFxuICAgICAgICAgIH0gZWxzZSBpZiAoXCIrKDI9PT1tKStcIikge1xcbiAgICAgICAgICAgIHZlYzQgdmFsdWVzID0gdmVjNChcXG4gICAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCB4UiwgeEMsIGQpLFxcbiAgICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIHhSLCB4QyArIFwiK3MrXCIsIGQpLFxcbiAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZSxcXG4gICAgICAgICAgICAgIGluaXRpYWxpemF0aW9uVmFsdWVcXG4gICAgICAgICAgICApO1xcblxcbiAgICAgICAgICAgIFwiK2crXCJcXG4gICAgICAgICAgfSBlbHNlIGlmIChcIisoMz09PW0pK1wiKSB7XFxuICAgICAgICAgICAgdmVjNCB2YWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIHhSLCB4QywgZCksXFxuICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeFIsIHhDICsgXCIrcytcIiwgZCksXFxuICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeFIsIHhDICsgMiAqIFwiK3MrXCIsIGQpLFxcbiAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZVxcbiAgICAgICAgICAgICk7XFxuXFxuICAgICAgICAgICAgXCIrZytcIlxcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBzZXRPdXRwdXQoXCIrcCtcIik7XFxuICAgICAgfVxcbiAgICBcIn19LFFpPWZ1bmN0aW9uKHQsZSxuKXtpZih0aGlzLnZhcmlhYmxlTmFtZXM9W1wieFwiXSxcImF2Z1wiPT09ZSYmbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29tcHV0ZSBwb3NpdGlvbnMgZm9yIGF2ZXJhZ2UgcG9vbC5cIik7dmFyIHI9dC5maWx0ZXJXaWR0aCxvPXQuc3RyaWRlRGVwdGgsYT10LnN0cmlkZUhlaWdodCxpPXQuc3RyaWRlV2lkdGgscz10LmRpbGF0aW9uRGVwdGgsdT10LmRpbGF0aW9uSGVpZ2h0LGM9dC5kaWxhdGlvbldpZHRoLGw9dC5lZmZlY3RpdmVGaWx0ZXJEZXB0aCxoPXQuZWZmZWN0aXZlRmlsdGVySGVpZ2h0LGY9dC5lZmZlY3RpdmVGaWx0ZXJXaWR0aCxkPXQucGFkSW5mby5mcm9udCxwPXQucGFkSW5mby50b3Asdj10LnBhZEluZm8ubGVmdDt0aGlzLm91dHB1dFNoYXBlPXQub3V0U2hhcGU7dmFyIG09XCJhdmdcIj09PWUsZz1cIjAuMFwiO2lmKG18fChnPVwiLTEuMCAvIDFlLTIwXCIpLG4pdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgICAgY29uc3QgaXZlYzMgc3RyaWRlcyA9XFxuICAgICAgICAgICAgaXZlYzMoXCIrbytcIiwgXCIrYStcIiwgXCIraStcIik7XFxuICAgICAgICBjb25zdCBpdmVjMyBwYWRzID0gaXZlYzMoXCIrZCtcIiwgXCIrcCtcIiwgXCIrditcIik7XFxuXFxuICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgIGl2ZWM1IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgICBpbnQgYmF0Y2ggPSBjb29yZHMueDtcXG4gICAgICAgICAgaW50IGNoID0gY29vcmRzLnU7XFxuXFxuICAgICAgICAgIGl2ZWMzIHhDb3JuZXIgPSBpdmVjMyhjb29yZHMueSwgY29vcmRzLnosIGNvb3Jkcy53KSAqIHN0cmlkZXMgLSBwYWRzO1xcbiAgICAgICAgICBpbnQgeERDb3JuZXIgPSB4Q29ybmVyLng7XFxuICAgICAgICAgIGludCB4UkNvcm5lciA9IHhDb3JuZXIueTtcXG4gICAgICAgICAgaW50IHhDQ29ybmVyID0geENvcm5lci56O1xcblxcbiAgICAgICAgICAvLyBtYXgvbWluIHgoPywgPywgPywgY2gpIHRvIGdldCB5KHlELCB5UiwgeUMsIGNoKS5cXG4gICAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWRcXG4gICAgICAgICAgZmxvYXQgbWluTWF4VmFsdWUgPSAwLjA7XFxuICAgICAgICAgIGZsb2F0IG1pbk1heFZhbHVlRm91bmQgPSAwLjA7XFxuICAgICAgICAgIGludCBtaW5NYXhQb3NpdGlvbiA9IDA7XFxuXFxuICAgICAgICAgIGZvciAoaW50IHdEID0gMDsgd0QgPCBcIitsK1wiO1xcbiAgICAgICAgICAgICAgd0QgKz0gXCIrcytcIikge1xcbiAgICAgICAgICAgIGludCB4RCA9IHhEQ29ybmVyICsgd0Q7XFxuXFxuICAgICAgICAgICAgaWYgKHhEIDwgMCB8fCB4RCA+PSBcIit0LmluRGVwdGgrXCIpIHtcXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICBmb3IgKGludCB3UiA9IDA7IHdSIDwgXCIraCtcIjtcXG4gICAgICAgICAgICAgICAgd1IgKz0gXCIrdStcIikge1xcbiAgICAgICAgICAgICAgaW50IHhSID0geFJDb3JuZXIgKyB3UjtcXG5cXG4gICAgICAgICAgICAgIGlmICh4UiA8IDAgfHwgeFIgPj0gXCIrdC5pbkhlaWdodCtcIikge1xcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgIGZvciAoaW50IHdDID0gMDsgd0MgPCBcIitmK1wiO1xcbiAgICAgICAgICAgICAgICAgIHdDICs9IFwiK2MrXCIpIHtcXG4gICAgICAgICAgICAgICAgaW50IHhDID0geENDb3JuZXIgKyB3QztcXG5cXG4gICAgICAgICAgICAgICAgaWYgKHhDIDwgMCB8fCB4QyA+PSBcIit0LmluV2lkdGgrXCIpIHtcXG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICBmbG9hdCB2YWx1ZSA9IGdldFgoYmF0Y2gsIHhELCB4UiwgeEMsIGNoKTtcXG5cXG4gICAgICAgICAgICAgICAgLy8gSWYgYSBtaW4gLyBtYXggdmFsdWUgaGFzIGFscmVhZHkgYmVlbiBmb3VuZCwgdXNlIGl0LiBJZiBub3QsXFxuICAgICAgICAgICAgICAgIC8vIHVzZSB0aGUgY3VycmVudCB2YWx1ZS5cXG4gICAgICAgICAgICAgICAgZmxvYXQgY3Vyck1pbk1heFZhbHVlID0gbWl4KFxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsIG1pbk1heFZhbHVlLCBtaW5NYXhWYWx1ZUZvdW5kKTtcXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID49IGN1cnJNaW5NYXhWYWx1ZSkge1xcbiAgICAgICAgICAgICAgICAgIG1pbk1heFZhbHVlID0gdmFsdWU7XFxuICAgICAgICAgICAgICAgICAgbWluTWF4VmFsdWVGb3VuZCA9IDEuMDtcXG4gICAgICAgICAgICAgICAgICBtaW5NYXhQb3NpdGlvbiA9XFxuICAgICAgICAgICAgICAgICAgICAgIHdEICogXCIraCtcIiAqIFwiK2YrXCIgK1xcbiAgICAgICAgICAgICAgICAgICAgICB3UiAqIFwiK2YrXCIgKyB3Qzs7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgc2V0T3V0cHV0KGZsb2F0KG1pbk1heFBvc2l0aW9uKSk7XFxuICAgICAgICB9XFxuICAgICAgXCI7ZWxzZXt2YXIgeT1lK1wiKFwiK2UrXCIoXCIrZStcIihtaW5NYXhWYWx1ZVswXSwgbWluTWF4VmFsdWVbMV0pLCBtaW5NYXhWYWx1ZVsyXSksIG1pbk1heFZhbHVlWzNdKVwiO1wiYXZnXCI9PT1lJiYoeT1cImF2Z1ZhbHVlIC8gY291bnRcIik7dmFyIHg9NCpNYXRoLmZsb29yKHIvNCksYj1yJTQsdz1cIlxcbiAgICAgIGlmIChcIittK1wiKSB7XFxuICAgICAgICBhdmdWYWx1ZSArPSBkb3QodmFsdWVzLCBvbmVzKTtcXG4gICAgICB9IGVsc2Uge1xcbiAgICAgICAgbWluTWF4VmFsdWUgPSBtYXgodmFsdWVzLCBtaW5NYXhWYWx1ZSk7XFxuICAgICAgfVxcbiAgICBcIjt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgY29uc3QgaXZlYzMgc3RyaWRlcyA9XFxuICAgICAgICBpdmVjMyhcIitvK1wiLCBcIithK1wiLCBcIitpK1wiKTtcXG4gICAgICBjb25zdCBpdmVjMyBwYWRzID0gaXZlYzMoXCIrZCtcIiwgXCIrcCtcIiwgXCIrditcIik7XFxuICAgICAgY29uc3QgZmxvYXQgaW5pdGlhbGl6YXRpb25WYWx1ZSA9IFwiK2crXCI7XFxuICAgICAgY29uc3QgdmVjNCBvbmVzID0gdmVjNCgxLjAsIDEuMCwgMS4wLCAxLjApO1xcblxcbiAgICAgIGZsb2F0IGNvdW50ID0gMC4wO1xcblxcbiAgICAgIGZsb2F0IGdldFZhbHVlKGludCBiYXRjaCwgaW50IHhELCBpbnQgeFIsIGludCB4QywgaW50IGNoKSB7XFxuICAgICAgICBpZiAoeEMgPCAwIHx8IHhDID49IFwiK3QuaW5XaWR0aCtcIikge1xcbiAgICAgICAgICByZXR1cm4gaW5pdGlhbGl6YXRpb25WYWx1ZTtcXG4gICAgICAgIH1cXG4gICAgICAgIGNvdW50ICs9IDEuMDtcXG4gICAgICAgIHJldHVybiBnZXRYKGJhdGNoLCB4RCwgeFIsIHhDLCBjaCk7XFxuICAgICAgfVxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWM1IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGJhdGNoID0gY29vcmRzLng7XFxuICAgICAgICBpbnQgY2ggPSBjb29yZHMudTtcXG5cXG4gICAgICAgIGl2ZWMzIHhDb3JuZXIgPSBpdmVjMyhjb29yZHMueSwgY29vcmRzLnosIGNvb3Jkcy53KSAqIHN0cmlkZXMgLSBwYWRzO1xcbiAgICAgICAgaW50IHhEQ29ybmVyID0geENvcm5lci54O1xcbiAgICAgICAgaW50IHhSQ29ybmVyID0geENvcm5lci55O1xcbiAgICAgICAgaW50IHhDQ29ybmVyID0geENvcm5lci56O1xcblxcbiAgICAgICAgLy8gbWF4L21pbiB4KD8sID8sID8sIGQpIHRvIGdldCB5KHlELCB5UiwgeUMsIGNoKS5cXG4gICAgICAgIC8vID8gPSB0byBiZSBkZXRlcm1pbmVkXFxuICAgICAgICB2ZWM0IG1pbk1heFZhbHVlID0gdmVjNChcIitnK1wiKTtcXG4gICAgICAgIGZsb2F0IGF2Z1ZhbHVlID0gMC4wO1xcbiAgICAgICAgY291bnQgPSAwLjA7XFxuXFxuICAgICAgICBmb3IgKGludCB3RCA9IDA7IHdEIDwgXCIrbCtcIjtcXG4gICAgICAgICAgICB3RCArPSBcIitzK1wiKSB7XFxuICAgICAgICAgIGludCB4RCA9IHhEQ29ybmVyICsgd0Q7XFxuXFxuICAgICAgICAgIGlmICh4RCA8IDAgfHwgeEQgPj0gXCIrdC5pbkRlcHRoK1wiKSB7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgZm9yIChpbnQgd1IgPSAwOyB3UiA8IFwiK2grXCI7XFxuICAgICAgICAgICAgd1IgKz0gXCIrdStcIikge1xcbiAgICAgICAgICAgIGludCB4UiA9IHhSQ29ybmVyICsgd1I7XFxuXFxuICAgICAgICAgICAgaWYgKHhSIDwgMCB8fCB4UiA+PSBcIit0LmluSGVpZ2h0K1wiKSB7XFxuICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgZm9yIChpbnQgd0MgPSAwOyB3QyA8IFwiK3grXCI7IHdDICs9IDQpIHtcXG4gICAgICAgICAgICAgIGludCB4QyA9IHhDQ29ybmVyICsgd0MgKiBcIitjK1wiO1xcblxcbiAgICAgICAgICAgICAgdmVjNCB2YWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeEQsIHhSLCB4QywgY2gpLFxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeEQsIHhSLCB4QyArIFwiK2MrXCIsIGNoKSxcXG4gICAgICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIHhELCB4UiwgeEMgKyAyICogXCIrYytcIiwgY2gpLFxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeEQsIHhSLCB4QyArIDMgKiBcIitjK1wiLCBjaClcXG4gICAgICAgICAgICAgICk7XFxuXFxuICAgICAgICAgICAgICBcIit3K1wiXFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGludCB4QyA9IHhDQ29ybmVyICsgXCIreCtcIjtcXG4gICAgICAgICAgICBpZiAoXCIrKDE9PT1iKStcIikge1xcbiAgICAgICAgICAgICAgdmVjNCB2YWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeEQsIHhSLCB4QywgY2gpLFxcbiAgICAgICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlLFxcbiAgICAgICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlLFxcbiAgICAgICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlXFxuICAgICAgICAgICAgICApO1xcblxcbiAgICAgICAgICAgICAgXCIrdytcIlxcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXCIrKDI9PT1iKStcIikge1xcbiAgICAgICAgICAgICAgdmVjNCB2YWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeEQsIHhSLCB4QywgY2gpLFxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgeEQsIHhSLCB4QyArIFwiK2MrXCIsIGNoKSxcXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZSxcXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZVxcbiAgICAgICAgICAgICAgKTtcXG5cXG4gICAgICAgICAgICAgIFwiK3crXCJcXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFwiKygzPT09YikrXCIpIHtcXG4gICAgICAgICAgICAgIHZlYzQgdmFsdWVzID0gdmVjNChcXG4gICAgICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIHhELCB4UiwgeEMsIGNoKSxcXG4gICAgICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIHhELCB4UiwgeEMgKyBcIitjK1wiLCBjaCksXFxuICAgICAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCB4RCwgeFIsIHhDICsgMiAqIFwiK2MrXCIsIGNoKSxcXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZVxcbiAgICAgICAgICAgICAgKTtcXG5cXG4gICAgICAgICAgICAgIFwiK3crXCJcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgc2V0T3V0cHV0KFwiK3krXCIpO1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgXCJ9fSxKaT1mdW5jdGlvbih0LGUpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJ4XCJdO3ZhciBuPXQud2luZG93U2l6ZSxyPXQuYmF0Y2hTaXplLG89dC5pblNpemUsYT1NYXRoLmNlaWwoby9uKTt0aGlzLm91dHB1dFNoYXBlPVtyLGFdO3ZhciBpPVwiMC4wXCIscz1cIlwiO1wicHJvZFwiPT09ZT9pPVwiMS4wXCI6XCJtaW5cIj09PWU/KGk9XCIxLjAgLyAxZS0yMFwiLHM9XCJtaW5cIik6XCJtYXhcIj09PWUmJihpPVwiLTEuMCAvIDFlLTIwXCIscz1cIm1heFwiKTt2YXIgdT1lK1wiKFwiK2UrXCIoXCIrZStcIihtaW5NYXhWYWx1ZVswXSwgbWluTWF4VmFsdWVbMV0pLCBtaW5NYXhWYWx1ZVsyXSksIG1pbk1heFZhbHVlWzNdKVwiO1wic3VtXCI9PT1lP3U9XCJzdW1WYWx1ZVwiOlwicHJvZFwiPT09ZT91PVwicHJvZFZhbHVlXCI6XCJhbGxcIj09PWU/dT1cImFsbFZhbHVlXCI6XCJhbnlcIj09PWUmJih1PVwiYW55VmFsdWVcIik7dmFyIGM9NCpNYXRoLmZsb29yKG4vNCksbD1uJTQsaD1cIlxcbiAgICAgIGlmIChcIisoXCJzdW1cIj09PWUpK1wiKSB7XFxuICAgICAgICBzdW1WYWx1ZSArPSBkb3QodmFsdWVzLCBvbmVzKTtcXG4gICAgICB9IGVsc2UgaWYgKFwiKyhcInByb2RcIj09PWUpK1wiKSB7XFxuICAgICAgICB2ZWMyIHRtcCA9IHZlYzIodmFsdWVzWzBdLCB2YWx1ZXNbMV0pICogdmVjMih2YWx1ZXNbMl0sIHZhbHVlc1szXSk7XFxuICAgICAgICBwcm9kVmFsdWUgKj0gdG1wWzBdICogdG1wWzFdO1xcbiAgICAgIH0gZWxzZSB7XFxuICAgICAgICBtaW5NYXhWYWx1ZSA9IFwiK3MrXCIodmFsdWVzLCBtaW5NYXhWYWx1ZSk7XFxuICAgICAgfVxcbiAgICBcIixmPVwidmVjNFwiO1wiYWxsXCI9PT1lPyhpPVwiMS4wXCIsaD1cIlxcbiAgICAgICAgYm9vbCByZWR1Y2VkQWxsVmFsdWUgPSBhbGwodmFsdWVzKTtcXG4gICAgICAgIGZsb2F0IGZsb2F0ZWRSZWR1Y2VkQWxsVmFsdWUgPSBmbG9hdChyZWR1Y2VkQWxsVmFsdWUpO1xcbiAgICAgICAgYWxsVmFsdWUgPSBmbG9hdChhbGxWYWx1ZSA+PSAxLjAgJiYgZmxvYXRlZFJlZHVjZWRBbGxWYWx1ZSA+PSAxLjApO1xcbiAgICAgIFwiLGY9XCJidmVjNFwiKTpcImFueVwiPT09ZSYmKGk9XCIwLjBcIixoPVwiXFxuICAgICAgICBib29sIHJlZHVjZWRBbnlWYWx1ZSA9IGFueSh2YWx1ZXMpO1xcbiAgICAgICAgZmxvYXQgZmxvYXRlZFJlZHVjZWRBbnlWYWx1ZSA9IGZsb2F0KHJlZHVjZWRBbnlWYWx1ZSk7XFxuICAgICAgICBhbnlWYWx1ZSA9IGZsb2F0KGFueVZhbHVlID49IDEuMCB8fCBmbG9hdGVkUmVkdWNlZEFueVZhbHVlID49IDEuMCk7XFxuICAgICAgXCIsZj1cImJ2ZWM0XCIpO3ZhciBkPVwiXCI7byVuPjAmJihkPVwiXFxuICAgICAgICBpZiAoaW5JZHggPCAwIHx8IGluSWR4ID49IFwiK28rXCIpIHtcXG4gICAgICAgICAgcmV0dXJuIGluaXRpYWxpemF0aW9uVmFsdWU7XFxuICAgICAgICB9XFxuICAgICAgXCIpLHRoaXMudXNlckNvZGU9XCJcXG4gICAgICBjb25zdCBmbG9hdCBpbml0aWFsaXphdGlvblZhbHVlID0gXCIraStcIjtcXG4gICAgICBjb25zdCB2ZWM0IG9uZXMgPSB2ZWM0KDEuMCwgMS4wLCAxLjAsIDEuMCk7XFxuXFxuICAgICAgZmxvYXQgZ2V0VmFsdWUoaW50IGJhdGNoLCBpbnQgaW5JZHgpIHtcXG4gICAgICAgIFwiK2QrXCJcXG4gICAgICAgIHJldHVybiBnZXRYKGJhdGNoLCBpbklkeCk7XFxuICAgICAgfVxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWMyIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGJhdGNoID0gY29vcmRzWzBdO1xcbiAgICAgICAgaW50IG91dElkeCA9IGNvb3Jkc1sxXTtcXG4gICAgICAgIGludCBpbk9mZnNldCA9IG91dElkeCAqIFwiK24rXCI7XFxuXFxuICAgICAgICB2ZWM0IG1pbk1heFZhbHVlID0gdmVjNChcIitpK1wiKTtcXG4gICAgICAgIGZsb2F0IHByb2RWYWx1ZSA9IDEuMDtcXG4gICAgICAgIGZsb2F0IHN1bVZhbHVlID0gMC4wO1xcbiAgICAgICAgZmxvYXQgYWxsVmFsdWUgPSAxLjA7XFxuICAgICAgICBmbG9hdCBhbnlWYWx1ZSA9IDAuMDtcXG5cXG4gICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgXCIrYytcIjsgaSArPSA0KSB7XFxuICAgICAgICAgIGludCBpbklkeCA9IGluT2Zmc2V0ICsgaTtcXG4gICAgICAgICAgXCIrZitcIiB2YWx1ZXMgPSBcIitmK1wiKFxcbiAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCBpbklkeCksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMSksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMiksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMylcXG4gICAgICAgICAgKTtcXG5cXG4gICAgICAgICAgXCIraCtcIlxcbiAgICAgICAgfVxcblxcbiAgICAgICAgaW50IGluSWR4ID0gaW5PZmZzZXQgKyBcIitjK1wiO1xcbiAgICAgICAgaWYgKFwiKygxPT09bCkrXCIpIHtcXG4gICAgICAgICAgXCIrZitcIiB2YWx1ZXMgPSBcIitmK1wiKFxcbiAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCBpbklkeCksXFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZSxcXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlLFxcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uVmFsdWVcXG4gICAgICAgICAgKTtcXG5cXG4gICAgICAgICAgXCIraCtcIlxcbiAgICAgICAgfSBlbHNlIGlmIChcIisoMj09PWwpK1wiKSB7XFxuICAgICAgICAgIFwiK2YrXCIgdmFsdWVzID0gXCIrZitcIihcXG4gICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgaW5JZHgpLFxcbiAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCBpbklkeCArIDEpLFxcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uVmFsdWUsXFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZVxcbiAgICAgICAgICApO1xcblxcbiAgICAgICAgICBcIitoK1wiXFxuICAgICAgICB9IGVsc2UgaWYgKFwiKygzPT09bCkrXCIpIHtcXG4gICAgICAgICAgXCIrZitcIiB2YWx1ZXMgPSBcIitmK1wiKFxcbiAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCBpbklkeCksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMSksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMiksXFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZVxcbiAgICAgICAgICApO1xcblxcbiAgICAgICAgICBcIitoK1wiXFxuICAgICAgICB9XFxuICAgICAgICBzZXRPdXRwdXQoXCIrdStcIik7XFxuICAgICAgfVxcbiAgICBcIn0sWmk9ZnVuY3Rpb24odCxlKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXSx0aGlzLnBhY2tlZElucHV0cz0hMCx0aGlzLnBhY2tlZE91dHB1dD0hMCx0aGlzLm91dHB1dFNoYXBlPXQ7Zm9yKHZhciBuPVwiXCIscj0wO3I8NDtyKyspe3ZhciBvPVwidGhpc1JDID0gcmM7XCI7ciUyPT0xJiYobys9XCJ0aGlzUkMueiArPSAxO1wiKSxyPjEmJihvKz1cInRoaXNSQy55ICs9IDE7XCIpLG4rPVwiXFxuICAgICAgICBcIitvK1wiXFxuICAgICAgICBcIisocj4wP1wiaWYodGhpc1JDLnkgPCByb3dzICYmIHRoaXNSQy56IDwgY29scyl7XCI6XCJcIikrXCJcXG4gICAgICAgICAgaW50IGZsYXRJbmRleCA9IGdldEZsYXRJbmRleCh0aGlzUkMpO1xcblxcbiAgICAgICAgICBpdmVjMyBpbnB1dFJDID0gaW5wdXRDb29yZHNGcm9tUmVzaGFwZWRPdXRDb29yZHMoZmxhdEluZGV4KTtcXG4gICAgICAgICAgdmVjMiBpbnB1dFJDSW5uZXJEaW1zID0gdmVjMihmbG9hdChpbnB1dFJDLnkpLGZsb2F0KGlucHV0UkMueikpO1xcblxcbiAgICAgICAgICByZXN1bHRbXCIrcitcIl0gPVxcbiAgICAgICAgICAgIGdldENoYW5uZWwoZ2V0QShpbnB1dFJDLngsIGlucHV0UkMueSwgaW5wdXRSQy56KSwgaW5wdXRSQ0lubmVyRGltcyk7XFxuICAgICAgICBcIisocj4wP1wifVwiOlwiXCIpK1wiXFxuICAgICAgXCJ9dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIFxcbiAgICBpdmVjMyBpbnB1dENvb3Jkc0Zyb21SZXNoYXBlZE91dENvb3JkcyhpbnQgaW5kZXgpIHtcXG4gICAgICBcIitjYShbXCJyXCIsXCJjXCIsXCJkXCJdLGUpK1wiXFxuICAgICAgcmV0dXJuIGl2ZWMzKHIsIGMsIGQpO1xcbiAgICB9XFxuICBcXG4gICAgICBcIitsYSh0KStcIlxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWMzIHJjID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuXFxuICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMC4pO1xcblxcbiAgICAgICAgaXZlYzMgdGhpc1JDO1xcbiAgICAgICAgaW50IHJvd3MgPSBcIit0WzFdK1wiO1xcbiAgICAgICAgaW50IGNvbHMgPSBcIit0WzJdK1wiO1xcblxcbiAgICAgICAgXCIrbitcIlxcblxcbiAgICAgICAgc2V0T3V0cHV0KHJlc3VsdCk7XFxuICAgICAgfVxcbiAgICBcIn07dmFyIHRzPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiZHlcIl0sdGhpcy5vdXRwdXRTaGFwZT1bXSx0aGlzLm91dHB1dFNoYXBlPWUuc2hhcGU7dmFyIHI9ZS5zaGFwZSxvPXJbMV0sYT1yWzJdLGk9dC5zaGFwZSxzPWlbMV0sdT1pWzJdLGM9W24mJnM+MT9vLTE6byxuJiZ1PjE/YS0xOmFdLGw9W24mJnM+MT9zLTE6cyxuJiZ1PjE/dS0xOnVdLGg9Y1swXS9sWzBdLGY9Y1sxXS9sWzFdLGQ9MS9oLHA9MS9mLHY9MipNYXRoLmNlaWwoZCkrMixtPTIqTWF0aC5jZWlsKHApKzI7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGIgPSBjb29yZHNbMF07XFxuICAgICAgICBpbnQgZCA9IGNvb3Jkc1szXTtcXG4gICAgICAgIGludCByID0gY29vcmRzWzFdO1xcbiAgICAgICAgaW50IGMgPSBjb29yZHNbMl07XFxuXFxuICAgICAgICBmbG9hdCBhY2N1bXVsYXRvciA9IDAuMDtcXG5cXG4gICAgICAgIGNvbnN0IGZsb2F0IGhlaWdodFNjYWxlID0gZmxvYXQoXCIraCtcIik7XFxuICAgICAgICBjb25zdCBmbG9hdCB3aWR0aFNjYWxlID0gZmxvYXQoXCIrZitcIik7XFxuXFxuICAgICAgICBjb25zdCBmbG9hdCBpbnZIZWlnaHRTY2FsZSA9IGZsb2F0KFwiK2QrXCIpO1xcbiAgICAgICAgY29uc3QgZmxvYXQgaW52V2lkdGhTY2FsZSA9IGZsb2F0KFwiK3ArXCIpO1xcblxcbiAgICAgICAgY29uc3QgaW50IHdpbkhlaWdodCA9IGludChcIit2K1wiKTtcXG4gICAgICAgIGNvbnN0IGludCB3aW5XaWR0aCA9IGludChcIittK1wiKTtcXG5cXG4gICAgICAgIC8vIENvbXB1dGUgYm91bmRzIGZvciB3aGVyZSBpbiBkeSB3ZSB3aWxsIGxvb2tcXG4gICAgICAgIGZsb2F0IHN0YXJ0UkxlcnAgPSBmbG9vcihmbG9hdChyKSAqIGludkhlaWdodFNjYWxlKTtcXG4gICAgICAgIGludCBzdGFydER5UiA9IGludChzdGFydFJMZXJwIC0gZmxvYXQod2luSGVpZ2h0IC8gMikpO1xcblxcbiAgICAgICAgZmxvYXQgc3RhcnRDTGVycCA9IGZsb29yKGZsb2F0KGMpICogaW52V2lkdGhTY2FsZSk7XFxuICAgICAgICBpbnQgc3RhcnREeUMgPSBpbnQoc3RhcnRDTGVycCAtIGZsb2F0KHdpbldpZHRoIC8gMikpO1xcblxcbiAgICAgICAgLy8gTG9vcCBvdmVyIGR5XFxuICAgICAgICBmb3IgKGludCBkeVJPZmZzZXQgPSAwOyBkeVJPZmZzZXQgPCB3aW5IZWlnaHQ7IGR5Uk9mZnNldCsrKSB7XFxuICAgICAgICAgIGludCBkeVIgPSBkeVJPZmZzZXQgKyBzdGFydER5UjtcXG5cXG4gICAgICAgICAgLy8gR3VhcmQgYWdhaW5zdCB0aGUgd2luZG93IGV4Y2VlZGluZyB0aGUgYm91bmRzIG9mIGR5XFxuICAgICAgICAgIGlmIChkeVIgPCAwIHx8IGR5UiA+PSBcIitzK1wiKSB7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgZm9yIChpbnQgZHlDT2Zmc2V0ID0gMDsgZHlDT2Zmc2V0IDwgd2luV2lkdGg7IGR5Q09mZnNldCsrKSB7XFxuICAgICAgICAgICAgaW50IGR5QyA9IGR5Q09mZnNldCArIHN0YXJ0RHlDO1xcblxcbiAgICAgICAgICAgIC8vIEd1YXJkIGFnYWluc3QgdGhlIHdpbmRvdyBleGNlZWRpbmcgdGhlIGJvdW5kcyBvZiBkeVxcbiAgICAgICAgICAgIGlmIChkeUMgPCAwIHx8IGR5QyA+PSBcIit1K1wiKSB7XFxuICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgZmxvYXQgZHhSID0gZmxvYXQoZHlSKSAqIGhlaWdodFNjYWxlO1xcbiAgICAgICAgICAgIGludCB0b3BEeFJJbmRleCA9IGludChmbG9vcihkeFIpKTtcXG4gICAgICAgICAgICBpbnQgYm90dG9tRHhSSW5kZXggPSBpbnQobWluKGNlaWwoZHhSKSwgXCIrKG8tMSkrXCIuMCkpO1xcbiAgICAgICAgICAgIGZsb2F0IGR4UkxlcnAgPSBkeFIgLSBmbG9hdCh0b3BEeFJJbmRleCk7XFxuICAgICAgICAgICAgZmxvYXQgaW52ZXJzZUR4UkxlcnAgPSAxLjAgLSBkeFJMZXJwO1xcblxcbiAgICAgICAgICAgIGZsb2F0IGR4QyA9IGZsb2F0KGR5QykgKiB3aWR0aFNjYWxlO1xcbiAgICAgICAgICAgIGludCBsZWZ0RHhDSW5kZXggPSBpbnQoZmxvb3IoZHhDKSk7XFxuICAgICAgICAgICAgaW50IHJpZ2h0RHhDSW5kZXggPSBpbnQobWluKGNlaWwoZHhDKSwgXCIrKGEtMSkrXCIuMCkpO1xcbiAgICAgICAgICAgIGZsb2F0IGR4Q0xlcnAgPSBkeEMgLSBmbG9hdChsZWZ0RHhDSW5kZXgpO1xcbiAgICAgICAgICAgIGZsb2F0IGludmVyc2VEeENMZXJwID0gMS4wIC0gZHhDTGVycDtcXG5cXG4gICAgICAgICAgICBpZiAociA9PSB0b3BEeFJJbmRleCAmJiBjID09IGxlZnREeENJbmRleCkge1xcbiAgICAgICAgICAgICAgLy8gdG9wTGVmdFxcbiAgICAgICAgICAgICAgYWNjdW11bGF0b3IgKz1cXG4gICAgICAgICAgICAgICAgZ2V0RHkoYiwgZHlSLCBkeUMsIGQpICogaW52ZXJzZUR4UkxlcnAgKiBpbnZlcnNlRHhDTGVycDtcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgaWYgKHIgPT0gdG9wRHhSSW5kZXggJiYgYyA9PSByaWdodER4Q0luZGV4KSB7XFxuICAgICAgICAgICAgICAvLyB0b3BSaWdodFxcbiAgICAgICAgICAgICAgYWNjdW11bGF0b3IgKz0gZ2V0RHkoYiwgZHlSLCBkeUMsIGQpICogaW52ZXJzZUR4UkxlcnAgKiBkeENMZXJwO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICBpZiAociA9PSBib3R0b21EeFJJbmRleCAmJiBjID09IGxlZnREeENJbmRleCkge1xcbiAgICAgICAgICAgICAgLy8gYm90dG9tTGVmdFxcbiAgICAgICAgICAgICAgYWNjdW11bGF0b3IgKz0gZ2V0RHkoYiwgZHlSLCBkeUMsIGQpICogZHhSTGVycCAqIGludmVyc2VEeENMZXJwO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICBpZiAociA9PSBib3R0b21EeFJJbmRleCAmJiBjID09IHJpZ2h0RHhDSW5kZXgpIHtcXG4gICAgICAgICAgICAgIC8vIGJvdHRvbVJpZ2h0XFxuICAgICAgICAgICAgICBhY2N1bXVsYXRvciArPSBnZXREeShiLCBkeVIsIGR5QywgZCkgKiBkeFJMZXJwICogZHhDTGVycDtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIC8vIEVuZCBsb29wIG92ZXIgZHlcXG5cXG4gICAgICAgIHNldE91dHB1dChhY2N1bXVsYXRvcik7XFxuICAgICAgfVxcbiAgICBcIn0sZXM9ZnVuY3Rpb24odCxlLG4scil7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5vdXRwdXRTaGFwZT1bXTt2YXIgbz10WzBdLGE9dFsxXSxpPXRbMl0scz10WzNdO3RoaXMub3V0cHV0U2hhcGU9W28sZSxuLHNdO3ZhciB1PVtyJiZlPjE/YS0xOmEsciYmbj4xP2ktMTppXSxjPVtyJiZlPjE/ZS0xOmUsciYmbj4xP24tMTpuXTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgY29uc3QgdmVjMiBlZmZlY3RpdmVJbnB1dE92ZXJPdXRwdXRSYXRpb1JDID0gdmVjMihcXG4gICAgICAgICAgXCIrdVswXS9jWzBdK1wiLFxcbiAgICAgICAgICBcIit1WzFdL2NbMV0rXCIpO1xcbiAgICAgIGNvbnN0IHZlYzIgaW5wdXRTaGFwZVJDID0gdmVjMihcIithK1wiLjAsIFwiK2krXCIuMCk7XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYiA9IGNvb3Jkc1swXTtcXG4gICAgICAgIGludCBkID0gY29vcmRzWzNdO1xcbiAgICAgICAgaXZlYzIgeVJDID0gY29vcmRzLnl6O1xcblxcbiAgICAgICAgLy8gRnJhY3Rpb25hbCBzb3VyY2UgaW5kZXguXFxuICAgICAgICB2ZWMyIHNvdXJjZUZyYWNJbmRleFJDID0gdmVjMih5UkMpICogZWZmZWN0aXZlSW5wdXRPdmVyT3V0cHV0UmF0aW9SQztcXG5cXG4gICAgICAgIC8vIENvbXB1dGUgdGhlIGZvdXIgaW50ZWdlciBpbmRpY2VzLlxcbiAgICAgICAgaXZlYzIgc291cmNlRmxvb3JSQyA9IGl2ZWMyKHNvdXJjZUZyYWNJbmRleFJDKTtcXG4gICAgICAgIGl2ZWMyIHNvdXJjZUNlaWxSQyA9IGl2ZWMyKFxcbiAgICAgICAgICBtaW4oaW5wdXRTaGFwZVJDIC0gMS4wLCBjZWlsKHNvdXJjZUZyYWNJbmRleFJDKSkpO1xcblxcbiAgICAgICAgZmxvYXQgdG9wTGVmdCA9IGdldEEoYiwgc291cmNlRmxvb3JSQy54LCBzb3VyY2VGbG9vclJDLnksIGQpO1xcbiAgICAgICAgZmxvYXQgYm90dG9tTGVmdCA9IGdldEEoYiwgc291cmNlQ2VpbFJDLngsIHNvdXJjZUZsb29yUkMueSwgZCk7XFxuICAgICAgICBmbG9hdCB0b3BSaWdodCA9IGdldEEoYiwgc291cmNlRmxvb3JSQy54LCBzb3VyY2VDZWlsUkMueSwgZCk7XFxuICAgICAgICBmbG9hdCBib3R0b21SaWdodCA9IGdldEEoYiwgc291cmNlQ2VpbFJDLngsIHNvdXJjZUNlaWxSQy55LCBkKTtcXG5cXG4gICAgICAgIHZlYzIgZnJhY1JDID0gc291cmNlRnJhY0luZGV4UkMgLSB2ZWMyKHNvdXJjZUZsb29yUkMpO1xcblxcbiAgICAgICAgZmxvYXQgdG9wID0gdG9wTGVmdCArICh0b3BSaWdodCAtIHRvcExlZnQpICogZnJhY1JDLnk7XFxuICAgICAgICBmbG9hdCBib3R0b20gPSBib3R0b21MZWZ0ICsgKGJvdHRvbVJpZ2h0IC0gYm90dG9tTGVmdCkgKiBmcmFjUkMueTtcXG4gICAgICAgIGZsb2F0IG5ld1ZhbHVlID0gdG9wICsgKGJvdHRvbSAtIHRvcCkgKiBmcmFjUkMueDtcXG5cXG4gICAgICAgIHNldE91dHB1dChuZXdWYWx1ZSk7XFxuICAgICAgfVxcbiAgICBcIn0sbnM9ZnVuY3Rpb24odCxlLG4scil7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsdGhpcy5vdXRwdXRTaGFwZT1bXTt2YXIgbz10WzBdLGE9dFsxXSxpPXRbMl0scz10WzNdO3RoaXMub3V0cHV0U2hhcGU9W28sZSxuLHNdO3ZhciB1PVtyJiZlPjE/YS0xOmEsciYmbj4xP2ktMTppXSxjPVtyJiZlPjE/ZS0xOmUsciYmbj4xP24tMTpuXTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgY29uc3QgdmVjMyBlZmZlY3RpdmVJbnB1dE92ZXJPdXRwdXRSYXRpb1JDID0gdmVjMyhcXG4gICAgICAgICAgXCIrdVswXS9jWzBdK1wiLFxcbiAgICAgICAgICBcIit1WzFdL2NbMV0rXCIsXFxuICAgICAgICAgIFwiK3VbMV0vY1sxXStcIik7XFxuICAgICAgY29uc3QgdmVjMyBpbnB1dFNoYXBlUkMgPSB2ZWMzKFwiK2ErXCIuMCwgXCIraStcIi4wLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIitpK1wiLjApO1xcblxcbiAgICAgIGZsb2F0IGdldEFWYWx1ZShpbnQgYiwgaW50IHIsIGludCBjLCBpbnQgZCkge1xcbiAgICAgICAgcmV0dXJuIGdldENoYW5uZWwoZ2V0QShiLCByLCBjLCBkKSwgdmVjMihjLCBkKSk7XFxuICAgICAgfVxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IGIgPSBjb29yZHNbMF07XFxuICAgICAgICBpbnQgZCA9IGNvb3Jkc1szXTtcXG4gICAgICAgIC8vIENhbGN1bGF0ZSB2YWx1ZXMgZm9yIG5leHQgY29sdW1uIGluIHlSQy56LlxcbiAgICAgICAgaXZlYzMgeVJDID0gY29vcmRzLnl6eiArIGl2ZWMzKDAsIDAsIDEpO1xcblxcbiAgICAgICAgLy8gRnJhY3Rpb25hbCBzb3VyY2UgaW5kZXguXFxuICAgICAgICB2ZWMzIHNvdXJjZUZyYWNJbmRleFJDID0gdmVjMyh5UkMpICogZWZmZWN0aXZlSW5wdXRPdmVyT3V0cHV0UmF0aW9SQztcXG5cXG4gICAgICAgIC8vIENvbXB1dGUgdGhlIGZvdXIgaW50ZWdlciBpbmRpY2VzLlxcbiAgICAgICAgaXZlYzMgc291cmNlRmxvb3JSQyA9IGl2ZWMzKHNvdXJjZUZyYWNJbmRleFJDKTtcXG4gICAgICAgIGl2ZWMzIHNvdXJjZUNlaWxSQyA9IGl2ZWMzKFxcbiAgICAgICAgICBtaW4oaW5wdXRTaGFwZVJDIC0gMS4wLCBjZWlsKHNvdXJjZUZyYWNJbmRleFJDKSkpO1xcblxcbiAgICAgICAgLy8gU2hvdWxkIHdlIGNhbGN1bGF0ZSBuZXh0IGNvbHVtbiBhbmQgcm93IGVsZW1lbnRzIGluIDJ4MiBwYWNrZWQgY2VsbC5cXG4gICAgICAgIGJvb2wgaGFzTmV4dENvbCA9IGQgPCBcIisocy0xKStcIjtcXG4gICAgICAgIGJvb2wgaGFzTmV4dFJvdyA9IGNvb3Jkcy56IDwgXCIrKG4tMSkrXCI7XFxuXFxuICAgICAgICAvLyBJbiBwYXJhbGxlbCwgY29uc3RydWN0IGZvdXIgY29ybmVycyBmb3IgYWxsIGZvdXIgY29tcG9uZW50cyBpblxcbiAgICAgICAgLy8gcGFja2VkIDJ4MiBjZWxsLlxcbiAgICAgICAgdmVjNCB0b3BMZWZ0ID0gdmVjNChcXG4gICAgICAgICAgZ2V0QVZhbHVlKGIsIHNvdXJjZUZsb29yUkMueCwgc291cmNlRmxvb3JSQy55LCBkKSxcXG4gICAgICAgICAgaGFzTmV4dENvbCA/IGdldEFWYWx1ZShiLCBzb3VyY2VGbG9vclJDLngsIHNvdXJjZUZsb29yUkMueSwgZCArIDEpXFxuICAgICAgICAgICAgICAgICAgICAgOiAwLjAsXFxuICAgICAgICAgIGhhc05leHRSb3cgPyBnZXRBVmFsdWUoYiwgc291cmNlRmxvb3JSQy54LCBzb3VyY2VGbG9vclJDLnosIGQpXFxuICAgICAgICAgICAgICAgICAgICAgOiAwLjAsXFxuICAgICAgICAgIChoYXNOZXh0Um93ICYmIGhhc05leHRDb2wpID9cXG4gICAgICAgICAgICBnZXRBVmFsdWUoYiwgc291cmNlRmxvb3JSQy54LCBzb3VyY2VGbG9vclJDLnosIGQgKyAxKSA6IDAuMCk7XFxuXFxuICAgICAgICB2ZWM0IGJvdHRvbUxlZnQgPSB2ZWM0KFxcbiAgICAgICAgICBnZXRBVmFsdWUoYiwgc291cmNlQ2VpbFJDLngsIHNvdXJjZUZsb29yUkMueSwgZCksXFxuICAgICAgICAgIGhhc05leHRDb2wgPyBnZXRBVmFsdWUoYiwgc291cmNlQ2VpbFJDLngsIHNvdXJjZUZsb29yUkMueSwgZCArIDEpXFxuICAgICAgICAgICAgICAgICAgICAgOiAwLjAsXFxuICAgICAgICAgIGhhc05leHRSb3cgPyBnZXRBVmFsdWUoYiwgc291cmNlQ2VpbFJDLngsIHNvdXJjZUZsb29yUkMueiwgZClcXG4gICAgICAgICAgICAgICAgICAgICA6IDAuMCxcXG4gICAgICAgICAgKGhhc05leHRSb3cgJiYgaGFzTmV4dENvbCkgP1xcbiAgICAgICAgICAgIGdldEFWYWx1ZShiLCBzb3VyY2VDZWlsUkMueCwgc291cmNlRmxvb3JSQy56LCBkICsgMSkgOiAwLjApO1xcblxcbiAgICAgICAgdmVjNCB0b3BSaWdodCA9IHZlYzQoXFxuICAgICAgICAgIGdldEFWYWx1ZShiLCBzb3VyY2VGbG9vclJDLngsIHNvdXJjZUNlaWxSQy55LCBkKSxcXG4gICAgICAgICAgaGFzTmV4dENvbCA/IGdldEFWYWx1ZShiLCBzb3VyY2VGbG9vclJDLngsIHNvdXJjZUNlaWxSQy55LCBkICsgMSlcXG4gICAgICAgICAgICAgICAgICAgICA6IDAuMCxcXG4gICAgICAgICAgaGFzTmV4dFJvdyA/IGdldEFWYWx1ZShiLCBzb3VyY2VGbG9vclJDLngsIHNvdXJjZUNlaWxSQy56LCBkKVxcbiAgICAgICAgICAgICAgICAgICAgIDogMC4wLFxcbiAgICAgICAgICAoaGFzTmV4dFJvdyAmJiBoYXNOZXh0Q29sKSA/XFxuICAgICAgICAgICAgZ2V0QVZhbHVlKGIsIHNvdXJjZUZsb29yUkMueCwgc291cmNlQ2VpbFJDLnosIGQgKyAxKSA6IDAuMCk7XFxuXFxuICAgICAgICB2ZWM0IGJvdHRvbVJpZ2h0ID0gdmVjNChcXG4gICAgICAgICAgZ2V0QVZhbHVlKGIsIHNvdXJjZUNlaWxSQy54LCBzb3VyY2VDZWlsUkMueSwgZCksXFxuICAgICAgICAgIGhhc05leHRDb2wgPyBnZXRBVmFsdWUoYiwgc291cmNlQ2VpbFJDLngsIHNvdXJjZUNlaWxSQy55LCBkICsgMSlcXG4gICAgICAgICAgICAgICAgICAgICA6IDAuMCxcXG4gICAgICAgICAgaGFzTmV4dFJvdyA/IGdldEFWYWx1ZShiLCBzb3VyY2VDZWlsUkMueCwgc291cmNlQ2VpbFJDLnosIGQpXFxuICAgICAgICAgICAgICAgICAgICAgOiAwLjAsXFxuICAgICAgICAgIChoYXNOZXh0Um93ICYmIGhhc05leHRDb2wpID9cXG4gICAgICAgICAgICBnZXRBVmFsdWUoYiwgc291cmNlQ2VpbFJDLngsIHNvdXJjZUNlaWxSQy56LCBkICsgMSkgOiAwLjApO1xcblxcbiAgICAgICAgdmVjMyBmcmFjUkMgPSBzb3VyY2VGcmFjSW5kZXhSQyAtIHZlYzMoc291cmNlRmxvb3JSQyk7XFxuXFxuICAgICAgICB2ZWM0IHRvcCA9IG1peCh0b3BMZWZ0LCB0b3BSaWdodCwgZnJhY1JDLnl5enopO1xcbiAgICAgICAgdmVjNCBib3R0b20gPSBtaXgoYm90dG9tTGVmdCwgYm90dG9tUmlnaHQsIGZyYWNSQy55eXp6KTtcXG4gICAgICAgIHZlYzQgbmV3VmFsdWUgPSBtaXgodG9wLCBib3R0b20sIGZyYWNSQy54KTtcXG5cXG4gICAgICAgIHNldE91dHB1dChuZXdWYWx1ZSk7XFxuICAgICAgfVxcbiAgICBcIn0scnM9ZnVuY3Rpb24odCxlLG4pe3RoaXMudmFyaWFibGVOYW1lcz1bXCJkeVwiXSx0aGlzLm91dHB1dFNoYXBlPVtdLHRoaXMub3V0cHV0U2hhcGU9ZS5zaGFwZTt2YXIgcj1lLnNoYXBlLG89clsxXSxhPXJbMl0saT10LnNoYXBlLHM9aVsxXSx1PWlbMl0sYz1bbiYmcz4xP28tMTpvLG4mJnU+MT9hLTE6YV0sbD1bbiYmcz4xP3MtMTpzLG4mJnU+MT91LTE6dV0saD1jWzBdL2xbMF0sZj1jWzFdL2xbMV0sZD0xL2gscD0xL2Ysdj0yKk1hdGguY2VpbChkKSsyLG09MipNYXRoLmNlaWwocCkrMjt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYiA9IGNvb3Jkc1swXTtcXG4gICAgICAgIGludCBkID0gY29vcmRzWzNdO1xcbiAgICAgICAgaW50IHIgPSBjb29yZHNbMV07XFxuICAgICAgICBpbnQgYyA9IGNvb3Jkc1syXTtcXG5cXG4gICAgICAgIGZsb2F0IGFjY3VtdWxhdG9yID0gMC4wO1xcblxcbiAgICAgICAgY29uc3QgZmxvYXQgaGVpZ2h0U2NhbGUgPSBmbG9hdChcIitoK1wiKTtcXG4gICAgICAgIGNvbnN0IGZsb2F0IHdpZHRoU2NhbGUgPSBmbG9hdChcIitmK1wiKTtcXG5cXG4gICAgICAgIGNvbnN0IGZsb2F0IGludkhlaWdodFNjYWxlID0gZmxvYXQoXCIrZCtcIik7XFxuICAgICAgICBjb25zdCBmbG9hdCBpbnZXaWR0aFNjYWxlID0gZmxvYXQoXCIrcCtcIik7XFxuXFxuICAgICAgICBjb25zdCBpbnQgd2luSGVpZ2h0ID0gaW50KFwiK3YrXCIpO1xcbiAgICAgICAgY29uc3QgaW50IHdpbldpZHRoID0gaW50KFwiK20rXCIpO1xcblxcbiAgICAgICAgLy8gQ29tcHV0ZSBib3VuZHMgZm9yIHdoZXJlIGluIGR5IHdlIHdpbGwgbG9va1xcbiAgICAgICAgZmxvYXQgc3RhcnRSTGVycCA9IGZsb29yKGZsb2F0KHIpICogaW52SGVpZ2h0U2NhbGUpO1xcbiAgICAgICAgaW50IHN0YXJ0RHlSID0gaW50KGZsb29yKHN0YXJ0UkxlcnAgLSBmbG9hdCh3aW5IZWlnaHQgLyAyKSkpO1xcblxcbiAgICAgICAgZmxvYXQgc3RhcnRDTGVycCA9IGZsb29yKGZsb2F0KGMpICogaW52V2lkdGhTY2FsZSk7XFxuICAgICAgICBpbnQgc3RhcnREeUMgPSBpbnQoZmxvb3Ioc3RhcnRDTGVycCAtIGZsb2F0KHdpbldpZHRoIC8gMikpKTtcXG5cXG4gICAgICAgIC8vIExvb3Agb3ZlciBkeVxcbiAgICAgICAgZm9yIChpbnQgZHlST2Zmc2V0ID0gMDsgZHlST2Zmc2V0IDwgd2luSGVpZ2h0OyBkeVJPZmZzZXQrKykge1xcbiAgICAgICAgICBpbnQgZHlSID0gZHlST2Zmc2V0ICsgc3RhcnREeVI7XFxuXFxuICAgICAgICAgIC8vIEd1YXJkIGFnYWluc3QgdGhlIHdpbmRvdyBleGNlZWRpbmcgdGhlIGJvdW5kcyBvZiBkeVxcbiAgICAgICAgICBpZiAoZHlSIDwgMCB8fCBkeVIgPj0gXCIrcytcIikge1xcbiAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgIGZvciAoaW50IGR5Q09mZnNldCA9IDA7IGR5Q09mZnNldCA8IHdpbldpZHRoOyBkeUNPZmZzZXQrKykge1xcbiAgICAgICAgICAgIGludCBkeUMgPSBkeUNPZmZzZXQgKyBzdGFydER5QztcXG5cXG4gICAgICAgICAgICAvLyBHdWFyZCBhZ2FpbnN0IHRoZSB3aW5kb3cgZXhjZWVkaW5nIHRoZSBib3VuZHMgb2YgZHlcXG4gICAgICAgICAgICBpZiAoZHlDIDwgMCB8fCBkeUMgPj0gXCIrdStcIikge1xcbiAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGZsb2F0IHNvdXJjZUZyYWNSb3cgPVxcbiAgICAgICAgICAgICAgZmxvYXQoXCIrY1swXStcIikgKlxcbiAgICAgICAgICAgICAgICAoZmxvYXQoZHlSKSAvIGZsb2F0KFwiK2xbMF0rXCIpKTtcXG5cXG4gICAgICAgICAgICBmbG9hdCBzb3VyY2VGcmFjQ29sID1cXG4gICAgICAgICAgICAgICAgZmxvYXQoXCIrY1sxXStcIikgKlxcbiAgICAgICAgICAgICAgICAgIChmbG9hdChkeUMpIC8gZmxvYXQoXCIrbFsxXStcIikpO1xcblxcbiAgICAgICAgICAgIGludCBzb3VyY2VOZWFyZXN0Um93ID0gaW50KG1pbihcXG4gICAgICAgICAgICAgICAgZmxvYXQoaW50KFwiK28rXCIpIC0gMSksXFxuICAgICAgICAgICAgICAgIFwiK24rXCIgPyBmbG9hdChyb3VuZChzb3VyY2VGcmFjUm93KSkgOlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9hdChmbG9vcihzb3VyY2VGcmFjUm93KSkpKTtcXG5cXG4gICAgICAgICAgICBpbnQgc291cmNlTmVhcmVzdENvbCA9IGludChtaW4oXFxuICAgICAgICAgICAgICAgIGZsb2F0KGludChcIithK1wiKSAtIDEpLFxcbiAgICAgICAgICAgICAgICBcIituK1wiID8gZmxvYXQocm91bmQoc291cmNlRnJhY0NvbCkpIDpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQoZmxvb3Ioc291cmNlRnJhY0NvbCkpKSk7XFxuXFxuICAgICAgICAgICAgaWYgKHIgPT0gc291cmNlTmVhcmVzdFJvdyAmJiBjID09IHNvdXJjZU5lYXJlc3RDb2wpIHtcXG4gICAgICAgICAgICAgIGFjY3VtdWxhdG9yICs9IGdldER5KGIsIGR5UiwgZHlDLCBkKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIC8vIEVuZCBsb29wIG92ZXIgZHlcXG5cXG4gICAgICAgIHNldE91dHB1dChhY2N1bXVsYXRvcik7XFxuICAgICAgfVxcbiAgICBcIn0sb3M9ZnVuY3Rpb24odCxlLG4scil7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5vdXRwdXRTaGFwZT1bXTt2YXIgbz10WzBdLGE9dFsxXSxpPXRbMl0scz10WzNdO3RoaXMub3V0cHV0U2hhcGU9W28sZSxuLHNdO3ZhciB1PVtyJiZlPjE/YS0xOmEsciYmbj4xP2ktMTppXSxjPVtyJiZlPjE/ZS0xOmUsciYmbj4xP24tMTpuXSxsPXI/XCIwLjVcIjpcIjAuMFwiO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICBjb25zdCB2ZWMyIGVmZmVjdGl2ZUlucHV0T3Zlck91dHB1dFJhdGlvUkMgPSB2ZWMyKFxcbiAgICAgICAgICBcIit1WzBdL2NbMF0rXCIsXFxuICAgICAgICAgIFwiK3VbMV0vY1sxXStcIik7XFxuICAgICAgY29uc3QgdmVjMiBpbnB1dFNoYXBlUkMgPSB2ZWMyKFwiK2ErXCIuMCwgXCIraStcIi4wKTtcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjNCBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCBiID0gY29vcmRzWzBdO1xcbiAgICAgICAgaW50IGQgPSBjb29yZHNbM107XFxuICAgICAgICBpdmVjMiB5UkMgPSBjb29yZHMueXo7XFxuXFxuICAgICAgICAvLyBGcmFjdGlvbmFsIHNvdXJjZSBpbmRleC5cXG4gICAgICAgIHZlYzIgc291cmNlRnJhY0luZGV4UkMgPSB2ZWMyKHlSQykgKiBlZmZlY3RpdmVJbnB1dE92ZXJPdXRwdXRSYXRpb1JDO1xcblxcbiAgICAgICAgLy8gQ29tcHV0ZSB0aGUgY29vcmRpbmF0b3JzIG9mIG5lYXJlc3QgbmVpZ2hib3IgcG9pbnQuXFxuICAgICAgICBpdmVjMiBzb3VyY2VOZWFyZXN0UkMgPSBpdmVjMihcXG4gICAgICAgICAgbWluKGlucHV0U2hhcGVSQyAtIDEuMCwgZmxvb3Ioc291cmNlRnJhY0luZGV4UkMgKyBcIitsK1wiKSkpO1xcblxcbiAgICAgICAgZmxvYXQgbmV3VmFsdWUgPSBnZXRBKGIsIHNvdXJjZU5lYXJlc3RSQy54LCBzb3VyY2VOZWFyZXN0UkMueSwgZCk7XFxuXFxuICAgICAgICBzZXRPdXRwdXQobmV3VmFsdWUpO1xcbiAgICAgIH1cXG4gICAgXCJ9LGFzPWZ1bmN0aW9uKHQsZSl7dGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIl07dmFyIG49dC5sZW5ndGg7aWYobj40KXRocm93IG5ldyBFcnJvcihcIldlYkdMIGJhY2tlbmQ6IFJldmVyc2Ugb2YgcmFuay1cIituK1wiIHRlbnNvciBpcyBub3QgeWV0IHN1cHBvcnRlZFwiKTtpZih0aGlzLm91dHB1dFNoYXBlPXQsMSE9PW4pe3ZhciByPXQubWFwKChmdW5jdGlvbihuLHIpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4tMSE9PWUuaW5kZXhPZihuKSYmMSE9PXRbbl0/dFtuXStcIiAtIGNvb3Jkc1tcIituK1wiXSAtIDFcIjpcImNvb3Jkc1tcIituK1wiXVwifShyKX0pKS5qb2luKFwiLFwiKSxvPXdhKG4pO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBcIitvK1wiIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgc2V0T3V0cHV0KGdldFgoXCIrcitcIikpO1xcbiAgICAgIH1cXG4gICAgXCJ9ZWxzZSB0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgIGludCBjb29yZCA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgICBzZXRPdXRwdXQoZ2V0WChcIit0WzBdK1wiIC0gY29vcmQgLSAxKSk7XFxuICAgICAgICB9XFxuICAgICAgXCJ9LGlzPWZ1bmN0aW9uKHQsZSl7dGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITA7dmFyIG49dC5sZW5ndGg7aWYobj40KXRocm93IG5ldyBFcnJvcihcIldlYkdMIGJhY2tlbmQ6IFJldmVyc2Ugb2YgcmFuay1cIituK1wiIHRlbnNvciBpcyBub3QgeWV0IHN1cHBvcnRlZFwiKTt0aGlzLm91dHB1dFNoYXBlPXQ7dmFyIHI9c2EoXCJyY1wiLG4pLG89cltuLTFdK1wiICsgMSA8IFwiK3RoaXMub3V0cHV0U2hhcGVbbi0xXSxhPXJbbi0yXStcIiArIDEgPCBcIit0aGlzLm91dHB1dFNoYXBlW24tMl0saT13YShuKTtmdW5jdGlvbiBzKG4pe3ZhciByPXQubWFwKChmdW5jdGlvbihyLG8pe3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybi0xIT09ZS5pbmRleE9mKG4pJiYxIT09dFtuXT90W25dK1wiIC0gXCIrcltuXStcIiAtIDFcIjpcIlwiK3Jbbl19KG8sbil9KSk7cmV0dXJuXCJnZXRDaGFubmVsKGdldFgoXCIrci5qb2luKFwiLFwiKStcIiksIHZlYzIoXCIrci5zbGljZSgtMikuam9pbihcIixcIikrXCIpKVwifXRoaXMudXNlckNvZGU9MT09PW4/XCJcXG4gICAgICAgIHZvaWQgbWFpbigpe1xcbiAgICAgICAgICBpbnQgcmMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgICAgdmVjNCByZXN1bHQgPSB2ZWM0KDAuKTtcXG4gICAgICAgICAgcmVzdWx0LnIgPSBnZXRDaGFubmVsKGdldFgoXCIrdFswXStcIiAtIHJjIC0gMSksXFxuICAgICAgICAgICAgXCIrdFswXStcIiAtIHJjIC0gMSk7XFxuICAgICAgICAgIGlmKFwiK28rXCIpe1xcbiAgICAgICAgICAgICAgcmVzdWx0LmcgPSBnZXRDaGFubmVsKGdldFgoXCIrdFswXStcIiAtIChyYyAgKyAxKSAtIDEpLFxcbiAgICAgICAgICAgICAgICBcIit0WzBdK1wiIC0gKHJjICArIDEpIC0gMSk7XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgc2V0T3V0cHV0KHJlc3VsdCk7XFxuICAgICAgICB9XFxuICAgICAgXCI6XCJcXG4gICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgXCIraStcIiByYyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMC4pO1xcbiAgICAgICAgICByZXN1bHQuciA9IFwiK2Z1bmN0aW9uKHQpe3JldHVybiBzKHQpfShyLnNsaWNlKCkpK1wiO1xcbiAgICAgICAgICBpZihcIitvK1wiKXtcXG4gICAgICAgICAgICByZXN1bHQuZyA9IFwiK2Z1bmN0aW9uKHQpe3JldHVybiB0W24tMV09XCIoXCIrdFtuLTFdK1wiICsgMSlcIixzKHQpfShyLnNsaWNlKCkpK1wiO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIGlmKFwiK2ErXCIpIHtcXG4gICAgICAgICAgICByZXN1bHQuYiA9IFwiK2Z1bmN0aW9uKHQpe3JldHVybiB0W24tMl09XCIoXCIrdFtuLTJdK1wiICsgMSlcIixzKHQpfShyLnNsaWNlKCkpK1wiO1xcbiAgICAgICAgICAgIGlmKFwiK28rXCIpIHtcXG4gICAgICAgICAgICAgIHJlc3VsdC5hID0gXCIrZnVuY3Rpb24odCl7cmV0dXJuIHRbbi0xXT1cIihcIit0W24tMV0rXCIgKyAxKVwiLHRbbi0yXT1cIihcIit0W24tMl0rXCIgKyAxKVwiLHModCl9KHIuc2xpY2UoKSkrXCI7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICAgICAgfVxcbiAgICBcIn0sc3M9ZnVuY3Rpb24odCxlLG4scixvLGEsaSl7dm9pZCAwPT09aSYmKGk9ITApLHRoaXMudmFyaWFibGVOYW1lcz1bXCJ1cGRhdGVzXCIsXCJpbmRpY2VzXCIsXCJkZWZhdWx0VmFsdWVcIl0sdGhpcy5vdXRwdXRTaGFwZT1hO3ZhciBzPXdhKG8ubGVuZ3RoKSx1PXdhKGEubGVuZ3RoKSxjPVwiXCI7MT09PW4/Yz1cImlcIjoyPT09biYmKGM9XCJpLCBqXCIpO3ZhciBsPVwiZ2V0SW5kaWNlcyhcIitjK1wiKVwiLGg9XCJcIjsxPT09cj9oPVwiaVwiOjI9PT1yJiYoaD1cImksIGNvb3Jkc1sxXVwiKTt2YXIgZj1cImdldFVwZGF0ZXMoXCIraCtcIilcIixkPWU+MT9cInN0cmlkZXNbal1cIjpcInN0cmlkZXNcIjt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgICBcIitzK1wiIHN0cmlkZXMgPSBcIitzK1wiKFwiK28rXCIpO1xcblxcbiAgICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgICBcIit1K1wiIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgICBmbG9hdCBzdW0gPSAwLjA7XFxuICAgICAgICAgIGJvb2wgZm91bmQgPSBmYWxzZTtcXG4gICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBcIit0K1wiOyBpKyspIHtcXG4gICAgICAgICAgICBpbnQgZmxhdHRlbmVkSW5kZXggPSAwO1xcbiAgICAgICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgXCIrZStcIjsgaisrKSB7XFxuICAgICAgICAgICAgICBpbnQgaW5kZXggPSByb3VuZChcIitsK1wiKTtcXG4gICAgICAgICAgICAgIGZsYXR0ZW5lZEluZGV4ICs9IGluZGV4ICogXCIrZCtcIjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaWYgKGZsYXR0ZW5lZEluZGV4ID09IGNvb3Jkc1swXSkge1xcbiAgICAgICAgICAgICAgc3VtICs9IFwiK2YrXCI7XFxuICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICAgIHNldE91dHB1dChtaXgoZ2V0RGVmYXVsdFZhbHVlKCksIHN1bSwgZmxvYXQoZm91bmQpKSk7XFxuICAgICAgICB9XFxuICAgICAgXCJ9LHVzPWZ1bmN0aW9uKHQsZSl7dGhpcy52YXJpYWJsZU5hbWVzPVtcInhcIixcInNlZ21lbnRJZHNcIl07dmFyIG49dC53aW5kb3dTaXplLHI9dC5iYXRjaFNpemUsbz10LmluU2l6ZSxhPXQubnVtU2VnbWVudHMsaT1hKk1hdGguY2VpbChvL24pO3RoaXMub3V0cHV0U2hhcGU9W3IsaV07dmFyIHM9NCpNYXRoLmZsb29yKG4vNCksdT1uJTQsYz1cIlxcbiAgICAgICAgc3VtVmFsdWUgKz0gZG90KHZhbHVlcywgc2VnRmlsdGVyKTtcXG4gICAgXCIsbD1cIlwiO28lbj4wJiYobD1cIlxcbiAgICAgICAgaWYgKGluSWR4IDwgMCB8fCBpbklkeCA+PSBcIitvK1wiKSB7XFxuICAgICAgICAgIHJldHVybiBpbml0aWFsaXphdGlvblZhbHVlO1xcbiAgICAgICAgfVxcbiAgICAgIFwiKTt2YXIgaD1cIlwiO28lbj4wJiYoaD1cIlxcbiAgICAgICAgaWYgKGluSWR4IDwgMCB8fCBpbklkeCA+PSBcIitvK1wiKSB7XFxuICAgICAgICAgIHJldHVybiAtMS4wO1xcbiAgICAgICAgfVxcbiAgICAgIFwiKSx0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgY29uc3QgZmxvYXQgaW5pdGlhbGl6YXRpb25WYWx1ZSA9IDAuMDtcXG5cXG4gICAgICBmbG9hdCBnZXRWYWx1ZShpbnQgYmF0Y2gsIGludCBpbklkeCkge1xcbiAgICAgICAgXCIrbCtcIlxcbiAgICAgICAgcmV0dXJuIGdldFgoYmF0Y2gsIGluSWR4KTtcXG4gICAgICB9XFxuXFxuICAgICAgZmxvYXQgZ2V0U2VnbWVudElkQXRJbmRleChpbnQgaW5JZHgpIHtcXG4gICAgICAgIFwiK2grXCJcXG4gICAgICAgIHJldHVybiBnZXRTZWdtZW50SWRzKGluSWR4KTtcXG4gICAgICB9XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaXZlYzIgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBpbnQgYmF0Y2ggPSBjb29yZHNbMF07XFxuICAgICAgICBpbnQgb3V0SWR4ID0gY29vcmRzWzFdO1xcbiAgICAgICAgaW50IGluT2Zmc2V0ID0gaW50KGZsb29yKGZsb2F0KG91dElkeCkgLyBmbG9hdChcXG4gICAgICAgICAgXCIrYStcIikpICogZmxvYXQoXCIrbitcIikpO1xcbiAgICAgICAgaW50IGN1cnJlbnRTZWcgPSBpbnQobW9kKGZsb2F0KG91dElkeCksIGZsb2F0KFwiK2ErXCIpKSk7XFxuXFxuICAgICAgICBmbG9hdCBzdW1WYWx1ZSA9IDAuMDtcXG5cXG4gICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgXCIrcytcIjsgaSArPSA0KSB7XFxuICAgICAgICAgIGludCBpbklkeCA9IGluT2Zmc2V0ICsgaTtcXG4gICAgICAgICAgdmVjNCB2YWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCBpbklkeCksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMSksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMiksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMylcXG4gICAgICAgICAgKTtcXG5cXG4gICAgICAgICAgdmVjNCBzZWdGaWx0ZXIgPSB2ZWM0KFxcbiAgICAgICAgICAgIGludChnZXRTZWdtZW50SWRBdEluZGV4KGluSWR4KSkgPT0gY3VycmVudFNlZyA/IDEgOiAwLFxcbiAgICAgICAgICAgIGludChnZXRTZWdtZW50SWRBdEluZGV4KGluSWR4ICsgMSkpID09IGN1cnJlbnRTZWcgPyAxIDogMCxcXG4gICAgICAgICAgICBpbnQoZ2V0U2VnbWVudElkQXRJbmRleChpbklkeCArIDIpKSA9PSBjdXJyZW50U2VnID8gMSA6IDAsXFxuICAgICAgICAgICAgaW50KGdldFNlZ21lbnRJZEF0SW5kZXgoaW5JZHggKyAzKSkgPT0gY3VycmVudFNlZyA/IDEgOiAwXFxuICAgICAgICAgICk7XFxuXFxuICAgICAgICAgIFwiK2MrXCJcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIGludCBpbklkeCA9IGluT2Zmc2V0ICsgXCIrcytcIjtcXG4gICAgICAgIGlmIChcIisoMT09PXUpK1wiKSB7XFxuICAgICAgICAgIHZlYzQgdmFsdWVzID0gdmVjNChcXG4gICAgICAgICAgICBnZXRWYWx1ZShiYXRjaCwgaW5JZHgpLFxcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uVmFsdWUsXFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZSxcXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlXFxuICAgICAgICAgICk7XFxuXFxuICAgICAgICAgIGludCBpbklkeFNlZyA9IGludChnZXRTZWdtZW50SWRBdEluZGV4KGluSWR4KSk7XFxuXFxuICAgICAgICAgIHZlYzQgc2VnRmlsdGVyID0gdmVjNChcXG4gICAgICAgICAgICBpbnQoZ2V0U2VnbWVudElkQXRJbmRleChpbklkeCkpID09IGN1cnJlbnRTZWcgPyAxIDogMCxcXG4gICAgICAgICAgICAwLFxcbiAgICAgICAgICAgIDAsXFxuICAgICAgICAgICAgMFxcbiAgICAgICAgICApO1xcblxcbiAgICAgICAgICBcIitjK1wiXFxuICAgICAgICB9IGVsc2UgaWYgKFwiKygyPT09dSkrXCIpIHtcXG4gICAgICAgICAgdmVjNCB2YWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCBpbklkeCksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMSksXFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZSxcXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvblZhbHVlXFxuICAgICAgICAgICk7XFxuXFxuICAgICAgICAgIHZlYzQgc2VnRmlsdGVyID0gdmVjNChcXG4gICAgICAgICAgICBpbnQoZ2V0U2VnbWVudElkQXRJbmRleChpbklkeCkpID09IGN1cnJlbnRTZWcgPyAxIDogMCxcXG4gICAgICAgICAgICBpbnQoZ2V0U2VnbWVudElkQXRJbmRleChpbklkeCArIDEpKSA9PSBjdXJyZW50U2VnID8gMSA6IDAsXFxuICAgICAgICAgICAgICAwLFxcbiAgICAgICAgICAgICAgMFxcbiAgICAgICAgICApO1xcblxcbiAgICAgICAgICBcIitjK1wiXFxuICAgICAgICB9IGVsc2UgaWYgKFwiKygzPT09dSkrXCIpIHtcXG4gICAgICAgICAgdmVjNCB2YWx1ZXMgPSB2ZWM0KFxcbiAgICAgICAgICAgIGdldFZhbHVlKGJhdGNoLCBpbklkeCksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMSksXFxuICAgICAgICAgICAgZ2V0VmFsdWUoYmF0Y2gsIGluSWR4ICsgMiksXFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25WYWx1ZVxcbiAgICAgICAgICApO1xcblxcbiAgICAgICAgICB2ZWM0IHNlZ0ZpbHRlciA9IHZlYzQoXFxuICAgICAgICAgICAgaW50KGdldFNlZ21lbnRJZEF0SW5kZXgoaW5JZHgpKSA9PSBjdXJyZW50U2VnID8gMSA6IDAsXFxuICAgICAgICAgICAgaW50KGdldFNlZ21lbnRJZEF0SW5kZXgoaW5JZHggKyAxKSkgPT0gY3VycmVudFNlZyA/IDEgOiAwLFxcbiAgICAgICAgICAgIGludChnZXRTZWdtZW50SWRBdEluZGV4KGluSWR4ICsgMikpID09IGN1cnJlbnRTZWcgPyAxIDogMCxcXG4gICAgICAgICAgICAwXFxuICAgICAgICAgICk7XFxuXFxuICAgICAgICAgIFwiK2MrXCJcXG4gICAgICAgIH1cXG4gICAgICAgIHNldE91dHB1dChzdW1WYWx1ZSk7XFxuICAgICAgfVxcbiAgICBcIn0sY3M9ZnVuY3Rpb24odCxlLG4pe3ZhciByLG87aWYodGhpcy52YXJpYWJsZU5hbWVzPVtcImNcIixcImFcIixcImJcIl0sdGhpcy5vdXRwdXRTaGFwZT1lLG4+NCl0aHJvdyBFcnJvcihcIldoZXJlIGZvciByYW5rIFwiK24rXCIgaXMgbm90IHlldCBzdXBwb3J0ZWRcIik7aWYoMT09PW4pbz1cInJlc1JDXCIscj1cInJlc1JDXCI7ZWxzZXtmb3IodmFyIGE9W1wicmVzUkMueFwiLFwicmVzUkMueVwiLFwicmVzUkMuelwiLFwicmVzUkMud1wiXSxpPVtdLHM9W10sdT0wO3U8ZS5sZW5ndGg7dSsrKXMucHVzaChcIlwiK2FbdV0pLHU8dCYmaS5wdXNoKFwiXCIrYVt1XSk7cj1pLmpvaW4oKSxvPXMuam9pbigpfXZhciBjPXdhKG4pO3RoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBcIitjK1wiIHJlc1JDID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBmbG9hdCBjVmFsID0gZ2V0QyhcIityK1wiKTtcXG4gICAgICAgIGlmIChjVmFsID49IDEuMCkge1xcbiAgICAgICAgICBzZXRPdXRwdXQoZ2V0QShcIitvK1wiKSk7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICBzZXRPdXRwdXQoZ2V0QihcIitvK1wiKSk7XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICBcIn0sbHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJzb3VyY2VcIl0sdGhpcy5vdXRwdXRTaGFwZT10LHRoaXMucmFuaz10Lmxlbmd0aDt2YXIgZSxuPXdhKHRoaXMucmFuaykscj1cInVuaWZvcm0gaW50IHN0YXJ0W1wiK3RoaXMucmFuaytcIl07XCIsbz1mdW5jdGlvbih0KXtpZigxPT09dClyZXR1cm5cInNvdXJjZUxvY1wiO2lmKHQ8PTYpcmV0dXJuIGhzLnNsaWNlKDAsdCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm5cInNvdXJjZUxvYy5cIit0fSkpLmpvaW4oXCIsXCIpO3Rocm93IEVycm9yKFwiU2xpY2luZyBmb3IgcmFuayBcIit0K1wiIGlzIG5vdCB5ZXQgc3VwcG9ydGVkXCIpfSh0aGlzLnJhbmspO2U9XCJcXG4gICAgICAgIFwiK24rXCIgc291cmNlTG9jO1xcbiAgICAgICAgXCIrbitcIiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIFwiK3QubWFwKChmdW5jdGlvbih0LGUpe3JldHVyblwic291cmNlTG9jLlwiK2hzW2VdK1wiID0gc3RhcnRbXCIrZStcIl0gKyBjb29yZHMuXCIraHNbZV0rXCI7XCJ9KSkuam9pbihcIlxcblwiKStcIlxcbiAgICAgIFwiLHRoaXMudXNlckNvZGU9XCJcXG4gICAgICBcIityK1wiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrZStcIlxcbiAgICAgICAgc2V0T3V0cHV0KGdldFNvdXJjZShcIitvK1wiKSk7XFxuICAgICAgfVxcbiAgICBcIn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0Q3VzdG9tU2V0dXBGdW5jPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodC5sZW5ndGghPT10aGlzLnJhbmspdGhyb3cgRXJyb3IoXCJUaGUgcmFuayAoXCIrdGhpcy5yYW5rK1wiKSBvZiB0aGUgcHJvZ3JhbSBtdXN0IG1hdGNoIHRoZSBsZW5ndGggb2Ygc3RhcnQgKFwiK3QubGVuZ3RoK1wiKVwiKTtyZXR1cm4gZnVuY3Rpb24obixyKXtudWxsPT1lLnN0YXJ0TG9jJiYoZS5zdGFydExvYz1uLmdldFVuaWZvcm1Mb2NhdGlvbk5vVGhyb3cocixcInN0YXJ0XCIpLG51bGw9PWUuc3RhcnRMb2MpfHxuLmdsLnVuaWZvcm0xaXYoZS5zdGFydExvYyx0KX19LHR9KCksaHM9W1wieFwiLFwieVwiLFwielwiLFwid1wiLFwidVwiLFwidlwiXTt2YXIgZnM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJzb3VyY2VcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITAsdGhpcy5vdXRwdXRTaGFwZT10LHRoaXMucmFuaz10Lmxlbmd0aDt2YXIgZT13YSh0aGlzLnJhbmspLG49c2EoXCJjb29yZHNcIix0aGlzLnJhbmspLHI9c2EoXCJzb3VyY2VMb2NcIix0aGlzLnJhbmspLG89MT09PXRoaXMucmFuaz9cInNvdXJjZUxvY1wiOlwidmVjMihcIityLnNsaWNlKC0yKS5qb2luKCkrXCIpXCIsYT1cImdldENoYW5uZWwoZ2V0U291cmNlKFwiK3Iuam9pbigpK1wiKSwgXCIrbytcIilcIixpPVwiXFxuICAgICAgcmVzdWx0LnggPSBcIithK1wiO1xcbiAgICAgIGlmICgrK1wiK25bdGhpcy5yYW5rLTFdK1wiIDwgXCIrdFt0aGlzLnJhbmstMV0rXCIpIHtcXG4gICAgICAgICsrXCIrclt0aGlzLnJhbmstMV0rXCI7XFxuICAgICAgICByZXN1bHQueSA9IFwiK2ErXCI7XFxuICAgICAgICAtLVwiK3JbdGhpcy5yYW5rLTFdK1wiO1xcbiAgICAgIH1cXG4gICAgXCIscz0xPT09dGhpcy5yYW5rP1wiXCI6XCJcXG4gICAgICAtLVwiK25bdGhpcy5yYW5rLTFdK1wiO1xcbiAgICAgIGlmICgrK1wiK25bdGhpcy5yYW5rLTJdK1wiIDwgXCIrdFt0aGlzLnJhbmstMl0rXCIpIHtcXG4gICAgICAgICsrXCIrclt0aGlzLnJhbmstMl0rXCI7XFxuICAgICAgICByZXN1bHQueiA9IFwiK2ErXCI7XFxuICAgICAgICBpZiAoKytcIituW3RoaXMucmFuay0xXStcIiA8IFwiK3RbdGhpcy5yYW5rLTFdK1wiKSB7XFxuICAgICAgICAgICsrXCIrclt0aGlzLnJhbmstMV0rXCI7XFxuICAgICAgICAgIHJlc3VsdC53ID0gXCIrYStcIjtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIFwiLHU9dGhpcy5yYW5rPD00P1wic291cmNlTG9jID0gY29vcmRzICtcXG4gICAgICAgICAgICBcIitlK1wiKFwiK3QubWFwKChmdW5jdGlvbih0LGUpe3JldHVyblwic3RhcnRbXCIrZStcIl1cIn0pKS5qb2luKCkrXCIpO1wiOnQubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiByW2VdK1wiID0gXCIrbltlXStcIiArIHN0YXJ0W1wiK2UrXCJdO1wifSkpLmpvaW4oXCJcXG5cIik7dGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHVuaWZvcm0gaW50IHN0YXJ0W1wiK3RoaXMucmFuaytcIl07XFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrZStcIiBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIFwiK2UrXCIgc291cmNlTG9jO1xcbiAgICAgICAgXCIrdStcIlxcbiAgICAgICAgdmVjNCByZXN1bHQgPSB2ZWM0KDAuKTtcXG4gICAgICAgIFwiK2krXCJcXG4gICAgICAgIFwiK3MrXCJcXG4gICAgICAgIHNldE91dHB1dChyZXN1bHQpO1xcbiAgICAgIH1cXG4gICAgXCJ9cmV0dXJuIHQucHJvdG90eXBlLmdldEN1c3RvbVNldHVwRnVuYz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHQubGVuZ3RoIT09dGhpcy5yYW5rKXRocm93IEVycm9yKFwiVGhlIHJhbmsgKFwiK3RoaXMucmFuaytcIikgb2YgdGhlIHByb2dyYW0gbXVzdCBtYXRjaCB0aGUgbGVuZ3RoIG9mIHN0YXJ0IChcIit0Lmxlbmd0aCtcIilcIik7cmV0dXJuIGZ1bmN0aW9uKG4scil7bnVsbD09ZS5zdGFydExvYyYmKGUuc3RhcnRMb2M9bi5nZXRVbmlmb3JtTG9jYXRpb25Ob1Rocm93KHIsXCJzdGFydFwiKSxudWxsPT1lLnN0YXJ0TG9jKXx8bi5nbC51bmlmb3JtMWl2KGUuc3RhcnRMb2MsdCl9fSx0fSgpLGRzPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wieFwiXSx0aGlzLm91dHB1dFNoYXBlPW47dmFyIHI9bi5sZW5ndGgsbz13YShuLmxlbmd0aCksYT13YShuLmxlbmd0aCksaT1cIlwiO2lmKDE9PT1yKWk9XCJjb29yZHMgKiBzdHJpZGVzICsgYmVnaW5cIjtlbHNle3ZhciBzPTA7aT1uLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gcysrLDE9PT1uLmxlbmd0aD9cImNvb3JkcyAqIHN0cmlkZXNbXCIrZStcIl0gKyBiZWdpbltcIitlK1wiXVwiOlwiY29vcmRzW1wiKyhzLTEpK1wiXSAqIHN0cmlkZXNbXCIrZStcIl0gKyBiZWdpbltcIitlK1wiXVwifSkpLmpvaW4oXCIsXCIpfXRoaXMudXNlckNvZGU9XCJcXG4gICAgICBcIitvK1wiIGJlZ2luID0gXCIrbytcIihcIit0K1wiKTtcXG4gICAgICBcIitvK1wiIHN0cmlkZXMgPSBcIitvK1wiKFwiK2UrXCIpO1xcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIFwiK2ErXCIgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7XFxuICAgICAgICBzZXRPdXRwdXQoZ2V0WChcIitpK1wiKSk7XFxuICAgICAgfVxcbiAgICBcIn0scHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZ3BncHU9dCx0aGlzLm51bVVzZWRUZXh0dXJlcz0wLHRoaXMubnVtRnJlZVRleHR1cmVzPTAsdGhpcy5mcmVlVGV4dHVyZXM9e30sdGhpcy5sb2dFbmFibGVkPSExLHRoaXMudXNlZFRleHR1cmVzPXt9fXJldHVybiB0LnByb3RvdHlwZS5hY3F1aXJlVGV4dHVyZT1mdW5jdGlvbih0LGUsbil7dmFyIHIsbz12cyhlLG4pLGE9bXModCxvLG4pO2lmKGEgaW4gdGhpcy5mcmVlVGV4dHVyZXN8fCh0aGlzLmZyZWVUZXh0dXJlc1thXT1bXSksYSBpbiB0aGlzLnVzZWRUZXh0dXJlc3x8KHRoaXMudXNlZFRleHR1cmVzW2FdPVtdKSx0aGlzLmZyZWVUZXh0dXJlc1thXS5sZW5ndGg+MCl7dGhpcy5udW1GcmVlVGV4dHVyZXMtLSx0aGlzLm51bVVzZWRUZXh0dXJlcysrLHRoaXMubG9nKCk7dmFyIGk9dGhpcy5mcmVlVGV4dHVyZXNbYV0uc2hpZnQoKTtyZXR1cm4gdGhpcy51c2VkVGV4dHVyZXNbYV0ucHVzaChpKSxpfXJldHVybiB0aGlzLm51bVVzZWRUZXh0dXJlcysrLHRoaXMubG9nKCksbz09PUd0LlBBQ0tFRF8yWDJfRkxPQVQzMj9yPXRoaXMuZ3BncHUuY3JlYXRlUGFja2VkTWF0cml4VGV4dHVyZSh0WzBdLHRbMV0pOm89PT1HdC5QQUNLRURfMlgyX0ZMT0FUMTY/cj10aGlzLmdwZ3B1LmNyZWF0ZUZsb2F0MTZQYWNrZWRNYXRyaXhUZXh0dXJlKHRbMF0sdFsxXSk6bz09PUd0LlVOUEFDS0VEX0ZMT0FUMzI/cj10aGlzLmdwZ3B1LmNyZWF0ZUZsb2F0MzJNYXRyaXhUZXh0dXJlKHRbMF0sdFsxXSk6bz09PUd0LlVOUEFDS0VEX0ZMT0FUMTY/cj10aGlzLmdwZ3B1LmNyZWF0ZUZsb2F0MTZNYXRyaXhUZXh0dXJlKHRbMF0sdFsxXSk6bz09PUd0LlBBQ0tFRF80WDFfVU5TSUdORURfQllURSYmKHI9dGhpcy5ncGdwdS5jcmVhdGVVbnNpZ25lZEJ5dGVzTWF0cml4VGV4dHVyZSh0WzBdLHRbMV0pKSx0aGlzLnVzZWRUZXh0dXJlc1thXS5wdXNoKHIpLHJ9LHQucHJvdG90eXBlLnJlbGVhc2VUZXh0dXJlPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKG51bGwhPXRoaXMuZnJlZVRleHR1cmVzKXt2YXIgbz1tcyhlLHZzKG4scikscik7byBpbiB0aGlzLmZyZWVUZXh0dXJlc3x8KHRoaXMuZnJlZVRleHR1cmVzW29dPVtdKSx0aGlzLmZyZWVUZXh0dXJlc1tvXS5wdXNoKHQpLHRoaXMubnVtRnJlZVRleHR1cmVzKyssdGhpcy5udW1Vc2VkVGV4dHVyZXMtLTt2YXIgYT10aGlzLnVzZWRUZXh0dXJlc1tvXSxpPWEuaW5kZXhPZih0KTtpZihpPDApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlbGVhc2UgYSB0ZXh0dXJlIHRoYXQgd2FzIG5ldmVyIHByb3ZpZGVkIGJ5IHRoaXMgdGV4dHVyZSBtYW5hZ2VyXCIpO2Euc3BsaWNlKGksMSksdGhpcy5sb2coKX19LHQucHJvdG90eXBlLmxvZz1mdW5jdGlvbigpe2lmKHRoaXMubG9nRW5hYmxlZCl7dmFyIHQ9dGhpcy5udW1GcmVlVGV4dHVyZXMrdGhpcy5udW1Vc2VkVGV4dHVyZXM7Y29uc29sZS5sb2coXCJGcmVlL1VzZWRcIix0aGlzLm51bUZyZWVUZXh0dXJlcytcIiAvIFwiK3RoaXMubnVtVXNlZFRleHR1cmVzLFwiKFwiK3QrXCIpXCIpfX0sdC5wcm90b3R5cGUuZ2V0TnVtVXNlZFRleHR1cmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubnVtVXNlZFRleHR1cmVzfSx0LnByb3RvdHlwZS5nZXROdW1GcmVlVGV4dHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5udW1GcmVlVGV4dHVyZXN9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKG51bGwhPXRoaXMuZnJlZVRleHR1cmVzKXtmb3IodmFyIGUgaW4gdGhpcy5mcmVlVGV4dHVyZXMpdGhpcy5mcmVlVGV4dHVyZXNbZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5ncGdwdS5kZWxldGVNYXRyaXhUZXh0dXJlKGUpfSkpO2Zvcih2YXIgZSBpbiB0aGlzLnVzZWRUZXh0dXJlcyl0aGlzLnVzZWRUZXh0dXJlc1tlXS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmdwZ3B1LmRlbGV0ZU1hdHJpeFRleHR1cmUoZSl9KSk7dGhpcy5mcmVlVGV4dHVyZXM9bnVsbCx0aGlzLnVzZWRUZXh0dXJlcz1udWxsLHRoaXMubnVtVXNlZFRleHR1cmVzPTAsdGhpcy5udW1GcmVlVGV4dHVyZXM9MH19LHR9KCk7ZnVuY3Rpb24gdnModCxlKXtpZih0PT09enQuVVBMT0FEKXJldHVybiBHdC5QQUNLRURfMlgyX0ZMT0FUMzI7aWYodD09PXp0LlJFTkRFUnx8bnVsbD09dClyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGkoKS5nZXRCb29sKFwiV0VCR0xfUkVOREVSX0ZMT0FUMzJfRU5BQkxFRFwiKT90P0d0LlBBQ0tFRF8yWDJfRkxPQVQzMjpHdC5VTlBBQ0tFRF9GTE9BVDMyOnQ/R3QuUEFDS0VEXzJYMl9GTE9BVDE2Okd0LlVOUEFDS0VEX0ZMT0FUMTZ9KGUpO2lmKHQ9PT16dC5ET1dOTE9BRHx8dD09PXp0LlBJWEVMUylyZXR1cm4gR3QuUEFDS0VEXzRYMV9VTlNJR05FRF9CWVRFO3Rocm93IG5ldyBFcnJvcihcIlVua25vd24gbG9naWNhbCB0ZXh0dXJlIHR5cGUgXCIrdCl9ZnVuY3Rpb24gbXModCxlLG4pe3JldHVybiB0WzBdK1wiX1wiK3RbMV0rXCJfXCIrZStcIl9cIitufXZhciBncz1mdW5jdGlvbih0LGUpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJBXCJdO2Zvcih2YXIgbj1uZXcgQXJyYXkodC5sZW5ndGgpLHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdPXRbcl0qZVtyXTt0aGlzLm91dHB1dFNoYXBlPW4sdGhpcy5yYW5rPW4ubGVuZ3RoO3ZhciBvPXdhKHRoaXMucmFuayksYT1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDtpZihlPjUpdGhyb3cgRXJyb3IoXCJUaWxlIGZvciByYW5rIFwiK2UrXCIgaXMgbm90IHlldCBzdXBwb3J0ZWRcIik7aWYoMT09PWUpcmV0dXJuXCJpbW9kKHJlc1JDLCBcIit0WzBdK1wiKVwiO2Zvcih2YXIgbj1bXCJyZXNSQy54XCIsXCJyZXNSQy55XCIsXCJyZXNSQy56XCIsXCJyZXNSQy53XCIsXCJyZXNSQy51XCJdLHI9W10sbz0wO288dC5sZW5ndGg7bysrKXIucHVzaChcImltb2QoXCIrbltvXStcIiwgXCIrdFtvXStcIilcIik7cmV0dXJuIHIuam9pbigpfSh0KTt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrbytcIiByZXNSQyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgc2V0T3V0cHV0KGdldEEoXCIrYStcIikpO1xcbiAgICAgIH1cXG4gICAgXCJ9O3ZhciB5cz1mdW5jdGlvbih0LGUpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJBXCJdO2Zvcih2YXIgbj1uZXcgQXJyYXkodC5sZW5ndGgpLHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdPXRbZVtyXV07dGhpcy5vdXRwdXRTaGFwZT1uLHRoaXMucmFuaz1uLmxlbmd0aDt2YXIgbz13YSh0aGlzLnJhbmspLGE9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGg7aWYoZT42KXRocm93IEVycm9yKFwiVHJhbnNwb3NlIGZvciByYW5rIFwiK2UrXCIgaXMgbm90IHlldCBzdXBwb3J0ZWRcIik7Zm9yKHZhciBuPVtcInJlc1JDLnhcIixcInJlc1JDLnlcIixcInJlc1JDLnpcIixcInJlc1JDLndcIixcInJlc1JDLnVcIixcInJlc1JDLnZcIl0scj1uZXcgQXJyYXkoZSksbz0wO288dC5sZW5ndGg7bysrKXJbdFtvXV09bltvXTtyZXR1cm4gci5qb2luKCl9KGUpO3RoaXMudXNlckNvZGU9XCJcXG4gICAgdm9pZCBtYWluKCkge1xcbiAgICAgIFwiK28rXCIgcmVzUkMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICBzZXRPdXRwdXQoZ2V0QShcIithK1wiKSk7XFxuICAgIH1cXG4gICAgXCJ9O3ZhciB4cz1mdW5jdGlvbih0LGUpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJBXCJdLHRoaXMucGFja2VkSW5wdXRzPSEwLHRoaXMucGFja2VkT3V0cHV0PSEwO2Zvcih2YXIgbj1uZXcgQXJyYXkodC5sZW5ndGgpLHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdPXRbZVtyXV07aWYodGhpcy5vdXRwdXRTaGFwZT1uLHRoaXMucmFuaz1uLmxlbmd0aCx0aGlzLnJhbms+Nil0aHJvdyBFcnJvcihcIlBhY2tlZCB0cmFuc3Bvc2UgZm9yIHJhbmsgXCIrdGhpcy5yYW5rK1wiIGlzIG5vdCB5ZXQgc3VwcG9ydGVkLlwiKTt2YXIgbz13YSh0aGlzLnJhbmspLGE9aWEoXCJyY1wiLHRoaXMucmFuayksaT1uZXcgQXJyYXkodGhpcy5yYW5rKTtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKWlbZVtyXV09YVtyXTt2YXIgcz1cInZlYzIoXCIraS5zbGljZSgtMikuam9pbigpK1wiKVwiLHU9XCIrK1wiK2FbdGhpcy5yYW5rLTFdK1wiIDwgXCIrblt0aGlzLnJhbmstMV0sYz1cImdldENoYW5uZWwoZ2V0QShcIitpLmpvaW4oKStcIiksIFwiK3MrXCIpXCI7dGhpcy51c2VyQ29kZT1cIlxcbiAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgXCIrbytcIiByYyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgIHZlYzQgcmVzdWx0ID0gdmVjNCgwLik7XFxuICAgICAgcmVzdWx0WzBdID0gXCIrYytcIjtcXG4gICAgICBpZihcIit1K1wiKSB7XFxuICAgICAgICByZXN1bHRbMV0gPSBcIitjK1wiO1xcbiAgICAgIH1cXG4gICAgICAtLVwiK2FbdGhpcy5yYW5rLTFdK1wiO1xcbiAgICAgIGlmKCsrXCIrYVt0aGlzLnJhbmstMl0rXCIgPCBcIituW3RoaXMucmFuay0yXStcIikge1xcbiAgICAgICAgcmVzdWx0WzJdID0gXCIrYytcIjtcXG4gICAgICAgIGlmKFwiK3UrXCIpIHtcXG4gICAgICAgICAgcmVzdWx0WzNdID0gXCIrYytcIjtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgc2V0T3V0cHV0KHJlc3VsdCk7XFxuICAgIH1cXG4gICAgXCJ9LGJzPTEuNzU4MDk5MzQwODQ3Mzc2OCx3cz0xLjA1MDcwMDk4NzM1NTQ4MDUsQ3M9ZnVuY3Rpb24odCxlKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXSx0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIGZsb2F0IHVuYXJ5T3BlcmF0aW9uKGZsb2F0IHgpIHtcXG4gICAgICAgIFwiK2UrXCJcXG4gICAgICB9XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgZmxvYXQgeCA9IGdldEFBdE91dENvb3JkcygpO1xcbiAgICAgICAgZmxvYXQgeSA9IHVuYXJ5T3BlcmF0aW9uKHgpO1xcblxcbiAgICAgICAgc2V0T3V0cHV0KHkpO1xcbiAgICAgIH1cXG4gICAgXCJ9LEVzPVwiaWYgKGlzbmFuKHgpKSByZXR1cm4geDtcIixScz1cInJldHVybiB4O1wiLElzPVwicmV0dXJuIGFicyh4KTtcIixrcz1FcytcIlxcbiAgcmV0dXJuICh4IDwgMC4wKSA/IDAuMCA6IHg7XFxuXCIsU3M9RXMrXCJcXG4gIHJldHVybiAoeCA8IDAuMCkgPyAwLjAgOiBtaW4oNi4wLCB4KTtcXG5cIixBcz1cInJldHVybiAoeCA+PSAwLjApID8geCA6IChleHAoeCkgLSAxLjApO1wiLERzPVwiXFxuICAvLyBTdGFibGUgYW5kIEF0dHJhY3RpbmcgRml4ZWQgUG9pbnQgKDAsIDEpIGZvciBOb3JtYWxpemVkIFdlaWdodHMuXFxuICAvLyBzZWU6IGh0dHBzOi8vYXJ4aXYub3JnL2Ficy8xNzA2LjAyNTE1XFxuICBmbG9hdCBzY2FsZUFscGhhID0gXCIrYnMrXCI7XFxuICBmbG9hdCBzY2FsZSA9IFwiK3dzK1wiO1xcbiAgcmV0dXJuICh4ID49IDAuMCkgPyBzY2FsZSAqIHggOiBzY2FsZUFscGhhICogKGV4cCh4KSAtIDEuMCk7XFxuXCI7dmFyIFRzPVwicmV0dXJuIC14O1wiLE5zPVwicmV0dXJuIGNlaWwoeCk7XCIsRnM9XCJyZXR1cm4gZmxvb3IoeCk7XCIsX3M9XCJyZXR1cm4gZXhwKHgpO1wiLE9zPVwicmV0dXJuIGV4cCh4KSAtIDEuMDtcIixNcz1FcytcIlxcbiAgcmV0dXJuIHNpbih4KTtcXG5cIixCcz1FcytcIlxcbiAgcmV0dXJuIGNvcyh4KTtcXG5cIixQcz1FcytcIlxcbiAgaWYgKGFicyh4KSA+IDEuKSB7XFxuICAgIHJldHVybiBOQU47XFxuICB9XFxuICByZXR1cm4gYXNpbih4KTtcXG5cIixMcz1FcytcIlxcbiAgaWYgKGFicyh4KSA+IDEuKSB7XFxuICAgIHJldHVybiBOQU47XFxuICB9XFxuICByZXR1cm4gYWNvcyh4KTtcXG5cIixXcz1FcytcIlxcbiAgcmV0dXJuIGF0YW4oeCk7XFxuXCIsVXM9RXMrXCJyZXR1cm4gbG9nKHggKyBzcXJ0KHggKiB4ICsgMS4wKSk7XCIsVnM9RXMrXCJcXG4gIGlmICh4IDwgMS4wKSByZXR1cm4gTkFOO1xcbiAgcmV0dXJuIGxvZyh4ICsgc3FydCh4ICogeCAtIDEuMCkpO1wiLHpzPUVzK1wiXFxuICBpZiAoKHggPCAtMS4wKSB8fCAoeCA+IDEuMCkpIHJldHVybiBOQU47XFxuICByZXR1cm4gKGxvZygxLjAgKyB4KSAtIGxvZygxLjAgLSB4KSkgLyAyLjA7XCIsR3M9XCJyZXR1cm4geDtcIixIcz1cInJldHVybiB4O1wiLHFzPVwiXFxuICB2ZWM0IHJlc3VsdCA9IHggKiB2ZWM0KGdyZWF0ZXJUaGFuRXF1YWwoeCwgdmVjNCgwLjApKSk7XFxuICBidmVjNCBpc05hTiA9IGlzbmFuKHgpO1xcblxcbiAgcmVzdWx0LnIgPSBpc05hTi5yID8geC5yIDogcmVzdWx0LnI7XFxuICByZXN1bHQuZyA9IGlzTmFOLmcgPyB4LmcgOiByZXN1bHQuZztcXG4gIHJlc3VsdC5iID0gaXNOYU4uYiA/IHguYiA6IHJlc3VsdC5iO1xcbiAgcmVzdWx0LmEgPSBpc05hTi5hID8geC5hIDogcmVzdWx0LmE7XFxuXFxuICByZXR1cm4gcmVzdWx0O1xcblwiLEtzPVwiXFxuICB2ZWM0IHJlc3VsdCA9IG1pbih4LCB2ZWM0KDYuKSkgKiB2ZWM0KGdyZWF0ZXJUaGFuRXF1YWwoeCwgdmVjNCgwLjApKSk7XFxuICBidmVjNCBpc05hTiA9IGlzbmFuKHgpO1xcblxcbiAgcmVzdWx0LnIgPSBpc05hTi5yID8geC5yIDogcmVzdWx0LnI7XFxuICByZXN1bHQuZyA9IGlzTmFOLmcgPyB4LmcgOiByZXN1bHQuZztcXG4gIHJlc3VsdC5iID0gaXNOYU4uYiA/IHguYiA6IHJlc3VsdC5iO1xcbiAgcmVzdWx0LmEgPSBpc05hTi5hID8geC5hIDogcmVzdWx0LmE7XFxuXFxuICByZXR1cm4gcmVzdWx0O1xcblwiLGpzPVwiXFxuICB2ZWM0IHJlc3VsdDtcXG5cXG4gIHJlc3VsdC5yID0gKHguciA+PSAwLjApID8geC5yIDogKGV4cCh4LnIpIC0gMS4wKTtcXG4gIHJlc3VsdC5nID0gKHguZyA+PSAwLjApID8geC5nIDogKGV4cCh4LmcpIC0gMS4wKTtcXG4gIHJlc3VsdC5iID0gKHguYiA+PSAwLjApID8geC5iIDogKGV4cCh4LmIpIC0gMS4wKTtcXG4gIHJlc3VsdC5hID0gKHguYSA+PSAwLjApID8geC5hIDogKGV4cCh4LmEpIC0gMS4wKTtcXG5cXG4gIHJldHVybiByZXN1bHQ7XFxuXCIsWHM9ZnVuY3Rpb24odCxlKXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXSx0aGlzLnBhY2tlZElucHV0cz0hMCx0aGlzLnBhY2tlZE91dHB1dD0hMCx0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZlYzQgdW5hcnlPcGVyYXRpb24odmVjNCB4KSB7XFxuICAgICAgICBcIitlK1wiXFxuICAgICAgfVxcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIHZlYzQgeCA9IGdldEFBdE91dENvb3JkcygpO1xcbiAgICAgICAgdmVjNCB5ID0gdW5hcnlPcGVyYXRpb24oeCk7XFxuXFxuICAgICAgICBzZXRPdXRwdXQoeSk7XFxuICAgICAgfVxcbiAgICBcIn0sWXM9ZnVuY3Rpb24odCl7dGhpcy52YXJpYWJsZU5hbWVzPVtcIkFcIl0sdGhpcy5wYWNrZWRJbnB1dHM9ITAsdGhpcy5wYWNrZWRPdXRwdXQ9ITEsdGhpcy5vdXRwdXRTaGFwZT10O3ZhciBlPXQubGVuZ3RoLG49c2EoXCJyY1wiLGUpLHI9d2EoZSksbz1mdW5jdGlvbih0LGUpe2lmKDE9PT10KXJldHVyblwicmNcIjtmb3IodmFyIG49XCJcIixyPTA7cjx0O3IrKyluKz1lW3JdLHI8dC0xJiYobis9XCIsXCIpO3JldHVybiBufShlLG4pLGE9bi5zbGljZSgtMiksaT1lPD0xP1wicmNcIjpcInZlYzIoXCIrYS5qb2luKFwiLFwiKStcIilcIjt0aGlzLnVzZXJDb2RlPVwiXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgXCIrcitcIiByYyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgdmVjNCBwYWNrZWRJbnB1dCA9IGdldEEoXCIrbytcIik7XFxuXFxuICAgICAgICBzZXRPdXRwdXQoZ2V0Q2hhbm5lbChwYWNrZWRJbnB1dCwgXCIraStcIikpO1xcbiAgICAgIH1cXG4gICAgXCJ9LCRzPXt9O2Z1bmN0aW9uIFFzKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9ITEpLFwibGluZWFyXCI9PT10KXJldHVybiBlP0hzOlJzO2lmKFwicmVsdVwiPT09dClyZXR1cm4gZT9xczprcztpZihcImVsdVwiPT09dClyZXR1cm4gZT9qczpBcztpZihcInJlbHU2XCI9PT10KXJldHVybiBlP0tzOlNzO2lmKFwicHJlbHVcIj09PXQpcmV0dXJuIGU/UGE6TWE7dGhyb3cgbmV3IEVycm9yKFwiQWN0aXZhdGlvbiBcIit0K1wiIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZCBmb3IgdGhlIFdlYkdMIGJhY2tlbmQuXCIpfXZhciBKcz02MDA7dmFyIFpzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG8oZSl7dmFyIG4scj10LmNhbGwodGhpcyl8fHRoaXM7aWYoci5wZW5kaW5nUmVhZD1uZXcgV2Vha01hcCxyLnBlbmRpbmdEaXNwb3NhbD1uZXcgV2Vha1NldCxyLmRhdGFSZWZDb3VudD1uZXcgV2Vha01hcCxyLm51bUJ5dGVzSW5HUFU9MCxyLnVwbG9hZFdhaXRNcz0wLHIuZG93bmxvYWRXYWl0TXM9MCxyLndhcm5lZEFib3V0TWVtb3J5PSExLHIucGVuZGluZ0RlbGV0ZXM9MCxyLmRpc3Bvc2VkPSExLCFpKCkuZ2V0Qm9vbChcIkhBU19XRUJHTFwiKSl0aHJvdyBuZXcgRXJyb3IoXCJXZWJHTCBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlXCIpO2lmKG51bGw9PWUpe3ZhciBvPWp0KGkoKS5nZXROdW1iZXIoXCJXRUJHTF9WRVJTSU9OXCIpKTtyLmJpbmFyeUNhY2hlPShuPWkoKS5nZXROdW1iZXIoXCJXRUJHTF9WRVJTSU9OXCIpKWluICRzPyRzW25dOigkc1tuXT17fSwkc1tuXSksci5ncGdwdT1uZXcgQmkobyksci5jYW52YXM9by5jYW52YXMsci5ncGdwdUNyZWF0ZWRMb2NhbGx5PSEwfWVsc2Ugci5ncGdwdT1lLHIuYmluYXJ5Q2FjaGU9e30sci5ncGdwdUNyZWF0ZWRMb2NhbGx5PSExLHIuY2FudmFzPWUuZ2wuY2FudmFzO3JldHVybiByLnRleHR1cmVNYW5hZ2VyPW5ldyBwcyhyLmdwZ3B1KSxyLm51bU1CQmVmb3JlV2FybmluZz1udWxsPT1pKCkuZ2xvYmFsLnNjcmVlbj8xMDI0OmkoKS5nbG9iYWwuc2NyZWVuLmhlaWdodCppKCkuZ2xvYmFsLnNjcmVlbi53aWR0aCp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbypKcy8xMDI0LzEwMjQsci50ZXhEYXRhPW5ldyB4byhyLEx0KSxyfXJldHVybiBlKG8sdCksby5wcm90b3R5cGUubnVtRGF0YUlkcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleERhdGEubnVtRGF0YUlkcygpKyh0aGlzLmNwdUJhY2tlbmQ/dGhpcy5jcHVCYWNrZW5kLm51bURhdGFJZHMoKTowKS10aGlzLnBlbmRpbmdEZWxldGVzfSxvLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0LGUsbil7aWYoaSgpLmdldEJvb2woXCJERUJVR1wiKSYmdGhpcy5jaGVja051bWVyaWNhbFByb2JsZW1zKHQpLFwiY29tcGxleDY0XCI9PT1uJiZudWxsIT10KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB3cml0ZSB0byBhIGNvbXBsZXg2NCBkdHlwZS4gUGxlYXNlIHVzZSB0Zi5jb21wbGV4KHJlYWwsIGltYWcpLlwiKTt2YXIgcj17fTtyZXR1cm4gdGhpcy50ZXhEYXRhLnNldChyLHtzaGFwZTplLGR0eXBlOm4sdmFsdWVzOnQsdXNhZ2U6enQuVVBMT0FEfSkscn0sby5wcm90b3R5cGUubW92ZT1mdW5jdGlvbih0LGUsbixyKXtpZihpKCkuZ2V0Qm9vbChcIkRFQlVHXCIpJiZ0aGlzLmNoZWNrTnVtZXJpY2FsUHJvYmxlbXMoZSksXCJjb21wbGV4NjRcIj09PXIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHdyaXRlIHRvIGEgY29tcGxleDY0IGR0eXBlLiBQbGVhc2UgdXNlIHRmLmNvbXBsZXgocmVhbCwgaW1hZykuXCIpO3RoaXMudGV4RGF0YS5zZXQodCx7c2hhcGU6bixkdHlwZTpyLHZhbHVlczplLHVzYWdlOnp0LlVQTE9BRH0pfSxvLnByb3RvdHlwZS5yZWFkU3luYz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRleERhdGEuZ2V0KHQpLG49ZS52YWx1ZXMscj1lLmR0eXBlLG89ZS5jb21wbGV4VGVuc29ycyxhPWUuc2xpY2UsaT1lLnNoYXBlLHM9ZS5pc1BhY2tlZDtpZihudWxsIT1hKXt2YXIgdT12b2lkIDA7dT1zP25ldyBYcyhpLEdzKTpuZXcgQ3MoaSxHcyk7dmFyIGM9dGhpcy5ydW5XZWJHTFByb2dyYW0odSxbe2RhdGFJZDp0LHNoYXBlOmksZHR5cGU6cn1dLHIpLGw9dGhpcy5yZWFkU3luYyhjLmRhdGFJZCk7cmV0dXJuIHRoaXMuZGlzcG9zZURhdGEoYy5kYXRhSWQpLGx9aWYobnVsbCE9bilyZXR1cm4gdGhpcy5jb252ZXJ0QW5kQ2FjaGVPbkNQVSh0KTtpZihcInN0cmluZ1wiPT09cilyZXR1cm4gbjt2YXIgaCxmLGQ9bnVsbCE9dGhpcy5hY3RpdmVUaW1lcnM7KGQmJihoPWV0KCkpLFwiY29tcGxleDY0XCI9PT1yKT9mPVZvKG8ucmVhbC5kYXRhU3luYygpLG8uaW1hZy5kYXRhU3luYygpKTpmPXRoaXMuZ2V0VmFsdWVzRnJvbVRleHR1cmUodCk7cmV0dXJuIGQmJih0aGlzLmRvd25sb2FkV2FpdE1zKz1ldCgpLWgpLHRoaXMuY29udmVydEFuZENhY2hlT25DUFUodCxmKX0sby5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbixvLGEscyx1LGMsbCxoLGYsZCxwLHYsbSxnLHkseCxiLHcsQyxFLFI7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDppZih0aGlzLnBlbmRpbmdSZWFkLmhhcyh0KSlyZXR1cm4gZT10aGlzLnBlbmRpbmdSZWFkLmdldCh0KSxbMixuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7cmV0dXJuIGUucHVzaCh0KX0pKV07aWYobj10aGlzLnRleERhdGEuZ2V0KHQpLG89bi52YWx1ZXMsYT1uLnNoYXBlLHM9bi5zbGljZSx1PW4uZHR5cGUsYz1uLmNvbXBsZXhUZW5zb3JzLGw9bi5pc1BhY2tlZCxudWxsIT1zKXJldHVybiBoPXZvaWQgMCxoPWw/bmV3IFhzKGEsR3MpOm5ldyBDcyhhLEdzKSxmPXRoaXMucnVuV2ViR0xQcm9ncmFtKGgsW3tkYXRhSWQ6dCxzaGFwZTphLGR0eXBlOnV9XSx1KSxkPXRoaXMucmVhZChmLmRhdGFJZCksdGhpcy5kaXNwb3NlRGF0YShmLmRhdGFJZCksWzIsZF07aWYobnVsbCE9bylyZXR1cm5bMix0aGlzLmNvbnZlcnRBbmRDYWNoZU9uQ1BVKHQpXTtpZighaSgpLmdldEJvb2woXCJXRUJHTF9ET1dOTE9BRF9GTE9BVF9FTkFCTEVEXCIpJiYyPT09aSgpLmdldE51bWJlcihcIldFQkdMX1ZFUlNJT05cIikpdGhyb3cgbmV3IEVycm9yKFwidGVuc29yLmRhdGEoKSB3aXRoIFdFQkdMX0RPV05MT0FEX0ZMT0FUX0VOQUJMRUQ9ZmFsc2UgYW5kIFdFQkdMX1ZFUlNJT049MiBub3QgeWV0IHN1cHBvcnRlZC5cIik7cmV0dXJuIHA9bnVsbCxcImNvbXBsZXg2NFwiIT09dSYmaSgpLmdldChcIldFQkdMX0JVRkZFUl9TVVBQT1JURURcIikmJih2PXRoaXMuZGVjb2RlKHQpLG09dGhpcy50ZXhEYXRhLmdldCh2LmRhdGFJZCkscD0oUj10aGlzLmdwZ3B1KS5jcmVhdGVCdWZmZXJGcm9tVGV4dHVyZS5hcHBseShSLFttLnRleHR1cmVdLmNvbmNhdChZdChhKSkpKSx0aGlzLnBlbmRpbmdSZWFkLnNldCh0LFtdKSxcImNvbXBsZXg2NFwiPT09dT9bMywyXTpbNCx0aGlzLmdwZ3B1LmNyZWF0ZUFuZFdhaXRGb3JGZW5jZSgpXTtjYXNlIDE6ci5zZW50KCksci5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5cImNvbXBsZXg2NFwiIT09dT9bMyw0XTpbNCxQcm9taXNlLmFsbChbYy5yZWFsLmRhdGEoKSxjLmltYWcuZGF0YSgpXSldO2Nhc2UgMzpyZXR1cm4geT1yLnNlbnQoKSx4PXlbMF0sYj15WzFdLGc9Vm8oeCxiKSxbMyw1XTtjYXNlIDQ6bnVsbD09cD9nPXRoaXMuZ2V0VmFsdWVzRnJvbVRleHR1cmUodCk6KHc9ayhhKSxnPXRoaXMuZ3BncHUuZG93bmxvYWRGbG9hdDMyTWF0cml4RnJvbUJ1ZmZlcihwLHcpKSxyLmxhYmVsPTU7Y2FzZSA1OnJldHVybiBudWxsIT12JiZ0aGlzLmRpc3Bvc2VEYXRhKHYuZGF0YUlkKSxDPXRoaXMuY29udmVydEFuZENhY2hlT25DUFUodCxnKSxFPXRoaXMucGVuZGluZ1JlYWQuZ2V0KHQpLHRoaXMucGVuZGluZ1JlYWQuZGVsZXRlKHQpLEUuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQoQyl9KSksdGhpcy5wZW5kaW5nRGlzcG9zYWwuaGFzKHQpJiYodGhpcy5wZW5kaW5nRGlzcG9zYWwuZGVsZXRlKHQpLHRoaXMuZGlzcG9zZURhdGEodCksdGhpcy5wZW5kaW5nRGVsZXRlcy0tKSxbMixDXX19KSl9KSl9LG8ucHJvdG90eXBlLmNoZWNrTnVtZXJpY2FsUHJvYmxlbXM9ZnVuY3Rpb24odCl7aWYobnVsbCE9dClmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49dFtlXTtpZighZWUobikpe2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUkVOREVSX0ZMT0FUMzJfQ0FQQUJMRVwiKSl0aHJvdyBFcnJvcihcIlRoZSB2YWx1ZSBcIituK1wiIGNhbm5vdCBiZSByZXByZXNlbnRlZCB3aXRoIHlvdXIgY3VycmVudCBzZXR0aW5ncy4gQ29uc2lkZXIgZW5hYmxpbmcgZmxvYXQzMiByZW5kZXJpbmc6ICd0Zi5lbnYoKS5zZXQoJ1dFQkdMX1JFTkRFUl9GTE9BVDMyX0VOQUJMRUQnLCB0cnVlKTsnXCIpO3Rocm93IEVycm9yKFwiVGhlIHZhbHVlIFwiK24rXCIgY2Fubm90IGJlIHJlcHJlc2VudGVkIG9uIHRoaXMgZGV2aWNlLlwiKX19fSxvLnByb3RvdHlwZS5nZXRWYWx1ZXNGcm9tVGV4dHVyZT1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMudGV4RGF0YS5nZXQodCkscj1uLnNoYXBlLG89bi5kdHlwZSxhPW4uaXNQYWNrZWQscz1rKHIpO2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfRE9XTkxPQURfRkxPQVRfRU5BQkxFRFwiKSl7dmFyIHU9dGhpcy5kZWNvZGUodCksYz10aGlzLnRleERhdGEuZ2V0KHUuZGF0YUlkKSxsPShlPXRoaXMuZ3BncHUpLmRvd25sb2FkTWF0cml4RnJvbVBhY2tlZFRleHR1cmUuYXBwbHkoZSxbYy50ZXh0dXJlXS5jb25jYXQoWXQocikpKS5zdWJhcnJheSgwLHMpO3JldHVybiB0aGlzLmRpc3Bvc2VEYXRhKHUuZGF0YUlkKSxsfXZhciBoPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS1wiKSYmITA9PT1hLGY9aD9UZShyKTpyLGQ9aD9uZXcgY2koZik6bmV3IHVpKGYpLHA9dGhpcy5ydW5XZWJHTFByb2dyYW0oZCxbe3NoYXBlOmYsZHR5cGU6byxkYXRhSWQ6dH1dLFwiZmxvYXQzMlwiKSx2PXRoaXMudGV4RGF0YS5nZXQocC5kYXRhSWQpLG09dGhpcy5ncGdwdS5kb3dubG9hZEJ5dGVFbmNvZGVkRmxvYXRNYXRyaXhGcm9tT3V0cHV0VGV4dHVyZSh2LnRleHR1cmUsdi50ZXhTaGFwZVswXSx2LnRleFNoYXBlWzFdKS5zdWJhcnJheSgwLHMpO3JldHVybiB0aGlzLmRpc3Bvc2VEYXRhKHAuZGF0YUlkKSxtfSxvLnByb3RvdHlwZS50aW1lPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLG8sYSxzLHUsYztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPXRoaXMuYWN0aXZlVGltZXJzLG49W10sbz0hMSxudWxsPT10aGlzLnByb2dyYW1UaW1lcnNTdGFjaz8odGhpcy5wcm9ncmFtVGltZXJzU3RhY2s9bixvPSEwKTp0aGlzLmFjdGl2ZVRpbWVycy5wdXNoKG4pLHRoaXMuYWN0aXZlVGltZXJzPW4sdCgpLGE9SSh0aGlzLmFjdGl2ZVRpbWVycy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnF1ZXJ5fSkpKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10fSkpLHM9SSh0aGlzLmFjdGl2ZVRpbWVycy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWV9KSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXR9KSksdGhpcy5hY3RpdmVUaW1lcnM9ZSxvJiYodGhpcy5wcm9ncmFtVGltZXJzU3RhY2s9bnVsbCksdT17dXBsb2FkV2FpdE1zOnRoaXMudXBsb2FkV2FpdE1zLGRvd25sb2FkV2FpdE1zOnRoaXMuZG93bmxvYWRXYWl0TXMsa2VybmVsTXM6bnVsbCx3YWxsTXM6bnVsbH0saSgpLmdldE51bWJlcihcIldFQkdMX0RJU0pPSU5UX1FVRVJZX1RJTUVSX0VYVEVOU0lPTl9SRUxJQUJMRVwiKT4wP1s0LFByb21pc2UuYWxsKGEpXTpbMywyXTtjYXNlIDE6cmV0dXJuIGM9ci5zZW50KCksdS5rZXJuZWxNcz13KGMpLHUuZ2V0RXh0cmFQcm9maWxlSW5mbz1mdW5jdGlvbigpe3JldHVybiBjLm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm57bmFtZTpzW2VdLG1zOnR9fSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZStcIjogXCIrdC5tc30pKS5qb2luKFwiLCBcIil9LFszLDNdO2Nhc2UgMjp1Lmtlcm5lbE1zPXtlcnJvcjpcIldlYkdMIHF1ZXJ5IHRpbWVycyBhcmUgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50LlwifSxyLmxhYmVsPTM7Y2FzZSAzOnJldHVybiB0aGlzLnVwbG9hZFdhaXRNcz0wLHRoaXMuZG93bmxvYWRXYWl0TXM9MCxbMix1XX19KSl9KSl9LG8ucHJvdG90eXBlLm1lbW9yeT1mdW5jdGlvbigpe3JldHVybnt1bnJlbGlhYmxlOiExLG51bUJ5dGVzSW5HUFU6dGhpcy5udW1CeXRlc0luR1BVfX0sby5wcm90b3R5cGUuc3RhcnRUaW1lcj1mdW5jdGlvbigpe3JldHVybiBpKCkuZ2V0TnVtYmVyKFwiV0VCR0xfRElTSk9JTlRfUVVFUllfVElNRVJfRVhURU5TSU9OX1JFTElBQkxFXCIpPjA/dGhpcy5ncGdwdS5iZWdpblF1ZXJ5KCk6e3N0YXJ0TXM6ZXQoKSxlbmRNczpudWxsfX0sby5wcm90b3R5cGUuZW5kVGltZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGkoKS5nZXROdW1iZXIoXCJXRUJHTF9ESVNKT0lOVF9RVUVSWV9USU1FUl9FWFRFTlNJT05fUkVMSUFCTEVcIik+MD8odGhpcy5ncGdwdS5lbmRRdWVyeSgpLHQpOih0LmVuZE1zPWV0KCksdCl9LG8ucHJvdG90eXBlLmdldFF1ZXJ5VGltZT1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24obil7cmV0dXJuIGkoKS5nZXROdW1iZXIoXCJXRUJHTF9ESVNKT0lOVF9RVUVSWV9USU1FUl9FWFRFTlNJT05fUkVMSUFCTEVcIik+MD9bMix0aGlzLmdwZ3B1LndhaXRGb3JRdWVyeUFuZEdldFRpbWUodCldOlsyLChlPXQpLmVuZE1zLWUuc3RhcnRNc119KSl9KSl9LG8ucHJvdG90eXBlLmRpc3Bvc2VEYXRhPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLnBlbmRpbmdEaXNwb3NhbC5oYXModCkpe2lmKHRoaXMucGVuZGluZ1JlYWQuaGFzKHQpKXJldHVybiB0aGlzLnBlbmRpbmdEaXNwb3NhbC5hZGQodCksdm9pZCB0aGlzLnBlbmRpbmdEZWxldGVzKys7aWYodGhpcy50ZXhEYXRhLmhhcyh0KSl7dGhpcy5yZWxlYXNlR1BVRGF0YSh0KTt2YXIgZT10aGlzLnRleERhdGEuZ2V0KHQpLmNvbXBsZXhUZW5zb3JzO251bGwhPWUmJihlLnJlYWwuZGlzcG9zZSgpLGUuaW1hZy5kaXNwb3NlKCkpLHRoaXMudGV4RGF0YS5kZWxldGUodCl9fX0sby5wcm90b3R5cGUucmVsZWFzZUdQVURhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50ZXhEYXRhLmdldCh0KSxuPWUudGV4dHVyZSxyPWUuZHR5cGUsbz1lLnRleFNoYXBlLGE9ZS51c2FnZSxpPWUuaXNQYWNrZWQscz1lLnNsaWNlLHU9cyYmcy5vcmlnRGF0YUlkfHx0LGM9dGhpcy5kYXRhUmVmQ291bnQuZ2V0KHUpO2M+MT90aGlzLmRhdGFSZWZDb3VudC5zZXQodSxjLTEpOih0aGlzLmRhdGFSZWZDb3VudC5kZWxldGUodSksbnVsbCE9biYmKHRoaXMubnVtQnl0ZXNJbkdQVS09dGhpcy5jb21wdXRlQnl0ZXMobyxyKSx0aGlzLnRleHR1cmVNYW5hZ2VyLnJlbGVhc2VUZXh0dXJlKG4sbyxhLGkpKSk7dmFyIGw9dGhpcy50ZXhEYXRhLmdldCh0KTtsLnRleHR1cmU9bnVsbCxsLnRleFNoYXBlPW51bGwsbC5pc1BhY2tlZD0hMSxsLnNsaWNlPW51bGx9LG8ucHJvdG90eXBlLmdldFRleHR1cmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXBsb2FkVG9HUFUodCksdGhpcy50ZXhEYXRhLmdldCh0KS50ZXh0dXJlfSxvLnByb3RvdHlwZS5nZXREYXRhSW5mbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50ZXhEYXRhLmdldCh0KX0sby5wcm90b3R5cGUuZ2V0Q1BVQmFja2VuZD1mdW5jdGlvbigpe3JldHVybiBpKCkuZ2V0Qm9vbChcIldFQkdMX0NQVV9GT1JXQVJEXCIpPyhudWxsPT10aGlzLmNwdUJhY2tlbmQmJih0aGlzLmNwdUJhY2tlbmQ9THQuZmluZEJhY2tlbmQoXCJjcHVcIikpLHRoaXMuY3B1QmFja2VuZCk6bnVsbH0sby5wcm90b3R5cGUuc2hvdWxkRXhlY3V0ZU9uQ1BVPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MTI4KSxudWxsIT10aGlzLmdldENQVUJhY2tlbmQoKSYmdC5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PW4udGV4RGF0YS5nZXQodC5kYXRhSWQpLnRleHR1cmUmJnQuc2l6ZTxlfSkpfSxvLnByb3RvdHlwZS5nZXRHUEdQVUNvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncGdwdX0sby5wcm90b3R5cGUuY29tcGxleD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMubWFrZU91dHB1dCh0LnNoYXBlLFwiY29tcGxleDY0XCIpO3JldHVybiB0aGlzLnRleERhdGEuZ2V0KG4uZGF0YUlkKS5jb21wbGV4VGVuc29ycz17cmVhbDpMdC5rZWVwKHQuY2xvbmUoKSksaW1hZzpMdC5rZWVwKGUuY2xvbmUoKSl9LG59LG8ucHJvdG90eXBlLnJlYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGV4RGF0YS5nZXQodC5kYXRhSWQpLmNvbXBsZXhUZW5zb3JzLnJlYWwuY2xvbmUoKX0sby5wcm90b3R5cGUuaW1hZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50ZXhEYXRhLmdldCh0LmRhdGFJZCkuY29tcGxleFRlbnNvcnMuaW1hZy5jbG9uZSgpfSxvLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3RdKSlyZXR1cm4gdGhpcy5jcHVCYWNrZW5kLnNsaWNlKHQsZSxuKTtpZigwPT09ayhuKSlyZXR1cm4gRm4oW10sbix0LmR0eXBlKTt2YXIgcj10aGlzLnRleERhdGEuZ2V0KHQuZGF0YUlkKS5pc1BhY2tlZCxvPWlvKHQuc2hhcGUsZSxuKTtpZihyfHwhbyl7dmFyIGE9aSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0FSUkFZX09QRVJBVElPTlNcIik/bmV3IGZzKG4pOm5ldyBscyhuKSxzPWEuZ2V0Q3VzdG9tU2V0dXBGdW5jKGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oYSxbdF0sbnVsbCxzKX1yZXR1cm4gdGhpcy51cGxvYWRUb0dQVSh0LmRhdGFJZCksdGhpcy5zaGFsbG93U2xpY2UodCxlLG4pfSxvLnByb3RvdHlwZS5zaGFsbG93U2xpY2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMudGV4RGF0YS5nZXQodC5kYXRhSWQpLG89dGhpcy5tYWtlT3V0cHV0KG4sdC5kdHlwZSksYT10aGlzLnRleERhdGEuZ2V0KG8uZGF0YUlkKTtPYmplY3QuYXNzaWduKGEsciksYS5zaGFwZT1uLGEuZHR5cGU9dC5kdHlwZTt2YXIgaT1zbyhlLHQuc3RyaWRlcyk7ci5zbGljZSYmKGkrPXIuc2xpY2UuZmxhdE9mZnNldCksYS5zbGljZT17ZmxhdE9mZnNldDppLG9yaWdEYXRhSWQ6ci5zbGljZSYmci5zbGljZS5vcmlnRGF0YUlkfHx0LmRhdGFJZH07dmFyIHM9dGhpcy5kYXRhUmVmQ291bnQuZ2V0KGEuc2xpY2Uub3JpZ0RhdGFJZCl8fDE7cmV0dXJuIHRoaXMuZGF0YVJlZkNvdW50LnNldChhLnNsaWNlLm9yaWdEYXRhSWQscysxKSxvfSxvLnByb3RvdHlwZS5zdHJpZGVkU2xpY2U9ZnVuY3Rpb24odCxlLG4scil7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3RdKSlyZXR1cm4gdGhpcy5jcHVCYWNrZW5kLnN0cmlkZWRTbGljZSh0LGUsbixyKTt2YXIgbz1ybyhlLG4scik7aWYoby5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gMD09PXR9KSkpcmV0dXJuIEZuKFtdLG8pO3ZhciBhPW5ldyBkcyhlLHIsbyk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihhLFt0XSl9LG8ucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24odCxlKXt2YXIgbj1pKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfQVJSQVlfT1BFUkFUSU9OU1wiKT9uZXcgaXModC5zaGFwZSxlKTpuZXcgYXModC5zaGFwZSxlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3RdKX0sby5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKHQsZSl7aWYoXCJjb21wbGV4NjRcIj09PXRbMF0uZHR5cGUpe3ZhciBuPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gVG4odCl9KSkscj10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIE5uKHQpfSkpO3JldHVybiBEbih0aGlzLmNvbmNhdChuLGUpLHRoaXMuY29uY2F0KHIsZSkpfWlmKHRoaXMuc2hvdWxkRXhlY3V0ZU9uQ1BVKHQpKXJldHVybiB0aGlzLmNwdUJhY2tlbmQuY29uY2F0KHQsZSk7aWYoMT09PXQubGVuZ3RoKXJldHVybiB0WzBdO2lmKHQubGVuZ3RoPmkoKS5nZXROdW1iZXIoXCJXRUJHTF9NQVhfVEVYVFVSRVNfSU5fU0hBREVSXCIpKXt2YXIgbz1NYXRoLmZsb29yKHQubGVuZ3RoLzIpLGE9dGhpcy5jb25jYXQodC5zbGljZSgwLG8pLGUpLHM9dGhpcy5jb25jYXQodC5zbGljZShvKSxlKTtyZXR1cm4gdGhpcy5jb25jYXQoW2Esc10sZSl9aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0FSUkFZX09QRVJBVElPTlNcIikmJnRbMF0ucmFuaz4xKXt2YXIgdT1uZXcgR2EodC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNoYXBlfSkpLGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4odSx0KX12YXIgYz1Tbih0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2hhcGV9KSksZSksbD10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuYXMyRCgtMSxrKHQuc2hhcGUuc2xpY2UoZSkpKX0pKSxoPW5ldyB6YShsLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2hhcGV9KSkpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oaCxsKS5yZXNoYXBlKGMpfSxvLnByb3RvdHlwZS5uZWc9ZnVuY3Rpb24odCl7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3RdKSlyZXR1cm4gdGhpcy5jcHVCYWNrZW5kLm5lZyh0KTtpZihpKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfVU5BUllfT1BFUkFUSU9OU1wiKSlyZXR1cm4gdGhpcy5wYWNrZWRVbmFyeU9wKHQsVHMsdC5kdHlwZSk7dmFyIGU9bmV3IENzKHQuc2hhcGUsVHMpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5iYXRjaE1hdE11bD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1uP3Quc2hhcGVbMl06dC5zaGFwZVsxXSxhPXI/ZS5zaGFwZVsxXTplLnNoYXBlWzJdLGk9bj90LnNoYXBlWzFdOnQuc2hhcGVbMl0scz10LnNoYXBlWzBdO2lmKCgxPT09b3x8MT09PWEpJiZpPjFlMyl7biYmKHQ9dC50cmFuc3Bvc2UoWzAsMiwxXSkpLHImJihlPWUudHJhbnNwb3NlKFswLDIsMV0pKTt2YXIgdT0xPT09YT90OnQuYXMzRChzLGksMSksYz0xPT09YT8yOjEsbD0xPT09YT9lLmFzM0QocywxLGkpOmU7cmV0dXJuIHRoaXMubXVsdGlwbHkodSxsKS5zdW0oYywhMCl9dmFyIGg9RHQodC5kdHlwZSxlLmR0eXBlKSxmPW5ldyBIaSh0LnNoYXBlLFtzLG8sYV0sbixyKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGYsW3QsZV0saCl9LG8ucHJvdG90eXBlLmZ1c2VkQmF0Y2hNYXRNdWw9ZnVuY3Rpb24odCl7dmFyIGU9dC5hLG49dC5iLHI9dC50cmFuc3Bvc2VBLG89dC50cmFuc3Bvc2VCLGE9dC5iaWFzLGk9dC5hY3RpdmF0aW9uLHM9dC5wcmVsdUFjdGl2YXRpb25XZWlnaHRzLHU9cj9lLnNoYXBlWzJdOmUuc2hhcGVbMV0sYz1vP24uc2hhcGVbMV06bi5zaGFwZVsyXSxsPWUuc2hhcGVbMF0saD1EdChlLmR0eXBlLG4uZHR5cGUpLGY9bnVsbCE9YSxkPW51bGwhPXMscD1pP1FzKGksITApOm51bGwsdj1uZXcgSGkoZS5zaGFwZSxbbCx1LGNdLHIsbyxmLHAsZCksbT1bZSxuXTtyZXR1cm4gYSYmbS5wdXNoKGEpLHMmJm0ucHVzaChzKSx0aGlzLmNvbXBpbGVBbmRSdW4odixtLGgpfSxvLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbih0LGUpe2lmKFwiY29tcGxleDY0XCI9PT10LmR0eXBlKXt2YXIgbj10aGlzLnRleERhdGEuZ2V0KHQuZGF0YUlkKSxyPXRoaXMudGV4RGF0YS5nZXQoZS5kYXRhSWQpLG89bmV3IE5hKERhLHQuc2hhcGUsZS5zaGFwZSksYT1uZXcgTmEoVGEsdC5zaGFwZSxlLnNoYXBlKSxzPVt0aGlzLm1ha2VDb21wbGV4Q29tcG9uZW50VGVuc29ySW5mbyh0LG4uY29tcGxleFRlbnNvcnMucmVhbCksdGhpcy5tYWtlQ29tcGxleENvbXBvbmVudFRlbnNvckluZm8odCxuLmNvbXBsZXhUZW5zb3JzLmltYWcpLHRoaXMubWFrZUNvbXBsZXhDb21wb25lbnRUZW5zb3JJbmZvKGUsci5jb21wbGV4VGVuc29ycy5yZWFsKSx0aGlzLm1ha2VDb21wbGV4Q29tcG9uZW50VGVuc29ySW5mbyhlLHIuY29tcGxleFRlbnNvcnMuaW1hZyldLHU9dGhpcy5jb21waWxlQW5kUnVuKG8scyksYz10aGlzLmNvbXBpbGVBbmRSdW4oYSxzKSxsPXRoaXMuY29tcGxleCh1LGMpO3JldHVybiB1LmRpc3Bvc2UoKSxjLmRpc3Bvc2UoKSxsfWlmKHRoaXMuc2hvdWxkRXhlY3V0ZU9uQ1BVKFt0LGVdKSlyZXR1cm4gdGhpcy5jcHVCYWNrZW5kLm11bHRpcGx5KHQsZSk7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZEJpbmFyeU9wKHQsZSxPYSx0LmR0eXBlKTt2YXIgaD1uZXcgQmEoT2EsdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGgsW3QsZV0sdC5kdHlwZSl9LG8ucHJvdG90eXBlLmJhdGNoTm9ybWFsaXphdGlvbj1mdW5jdGlvbih0LGUsbixyLG8sYSl7dmFyIHM9W3QsZSxuXSx1PW51bGw7bnVsbCE9YSYmKHU9YS5zaGFwZSxzLnB1c2goYSkpO3ZhciBjPW51bGw7aWYobnVsbCE9byYmKGM9by5zaGFwZSxzLnB1c2gobykpLGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19OT1JNQUxJWkFUSU9OXCIpKXt2YXIgbD1uZXcgQWEodC5zaGFwZSxlLnNoYXBlLG4uc2hhcGUsdSxjLHIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obCxzKX12YXIgaD1uZXcgU2EodC5zaGFwZSxlLnNoYXBlLG4uc2hhcGUsdSxjLHIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oaCxzKX0sby5wcm90b3R5cGUubG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb240RD1mdW5jdGlvbih0LGUsbixyLG8pe3ZhciBhPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19OT1JNQUxJWkFUSU9OXCIpP25ldyBWaSh0LnNoYXBlLGUsbixyLG8pOm5ldyBXaSh0LnNoYXBlLGUsbixyLG8pO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oYSxbdF0pfSxvLnByb3RvdHlwZS5MUk5HcmFkPWZ1bmN0aW9uKHQsZSxuLHIsbyxhLGkpe3ZhciBzPW5ldyBVaShlLnNoYXBlLHIsbyxhLGkpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocyxbZSxuLHRdKX0sby5wcm90b3R5cGUudGlsZT1mdW5jdGlvbih0LGUpe2lmKFwic3RyaW5nXCI9PT10LmR0eXBlKXt2YXIgbj10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBvdCh0KX0pKTtyZXR1cm4gdGEoZHIodC5zaGFwZSx0LmR0eXBlLG4pLGUpfXZhciByPW5ldyBncyh0LnNoYXBlLGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdF0pfSxvLnByb3RvdHlwZS5wYWQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19BUlJBWV9PUEVSQVRJT05TXCIpP25ldyBZaSh0LnNoYXBlLGUsbik6bmV3IFhpKHQuc2hhcGUsZSxuKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKHIsW3RdKX0sby5wcm90b3R5cGUudHJhbnNwb3NlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3RdKSlyZXR1cm4gdGhpcy5jcHVCYWNrZW5kLnRyYW5zcG9zZSh0LGUpO3ZhciBuPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19BUlJBWV9PUEVSQVRJT05TXCIpP25ldyB4cyh0LnNoYXBlLGUpOm5ldyB5cyh0LnNoYXBlLGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obixbdF0pfSxvLnByb3RvdHlwZS5nYXRoZXI9ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMuc2hvdWxkRXhlY3V0ZU9uQ1BVKFt0LGVdKSlyZXR1cm4gdGhpcy5jcHVCYWNrZW5kLmdhdGhlcih0LGUsbik7dmFyIHI9bmV3IG1pKHQuc2hhcGUsZS5zaXplLG4pO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdCxlXSl9LG8ucHJvdG90eXBlLmJhdGNoVG9TcGFjZU5EPWZ1bmN0aW9uKHQsZSxuKXtDKHQucmFuazw9NCwoZnVuY3Rpb24oKXtyZXR1cm5cImJhdGNoVG9TcGFjZU5EIGZvciByYW5rID4gNCB3aXRoIGEgV2ViR0wgYmFja2VuZCBub3QgaW1wbGVtZW50ZWQgeWV0XCJ9KSk7dmFyIHI9ZS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQqZX0pKSxvPXpyKHQuc2hhcGUsZSxyKSxhPUdyKG8ubGVuZ3RoLGUubGVuZ3RoKSxpPUhyKHQuc2hhcGUsZSxyKSxzPXFyKG4sZS5sZW5ndGgpLHU9S3IoaSxuLGUubGVuZ3RoKTtyZXR1cm4gdC5yZXNoYXBlKG8pLnRyYW5zcG9zZShhKS5yZXNoYXBlKGkpLnNsaWNlKHMsdSl9LG8ucHJvdG90eXBlLnNwYWNlVG9CYXRjaE5EPWZ1bmN0aW9uKHQsZSxuKXtDKHQucmFuazw9NCwoZnVuY3Rpb24oKXtyZXR1cm5cInNwYWNlVG9CYXRjaE5EIGZvciByYW5rID4gNCB3aXRoIGEgV2ViR0wgYmFja2VuZCBub3QgaW1wbGVtZW50ZWQgeWV0XCJ9KSk7dmFyIHI9ZS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQqZX0pKSxvPVtbMCwwXV07by5wdXNoLmFwcGx5KG8sbik7Zm9yKHZhciBhPTErZS5sZW5ndGg7YTx0LnNoYXBlLmxlbmd0aDsrK2Epby5wdXNoKFswLDBdKTt2YXIgaT10LnBhZChvKSxzPXpyKGkuc2hhcGUsZSxyLCExKSx1PUdyKHMubGVuZ3RoLGUubGVuZ3RoLCExKSxjPUhyKGkuc2hhcGUsZSxyLCExKTtyZXR1cm4gaS5yZXNoYXBlKHMpLnRyYW5zcG9zZSh1KS5yZXNoYXBlKGMpfSxvLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuc2hhcGVbMF0sbz10LnNoYXBlWzFdLGE9JHIobyksaT1uZXcgSmkoe3dpbmRvd1NpemU6YSxpblNpemU6byxiYXRjaFNpemU6cn0sZSkscz10aGlzLmNvbXBpbGVBbmRSdW4oaSxbdF0sbik7cmV0dXJuIDE9PT1zLnNoYXBlWzFdP3M6dGhpcy5yZWR1Y2UocyxlLG4pfSxvLnByb3RvdHlwZS5hcmdSZWR1Y2U9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPW51bGwpO3ZhciByPXQuc2hhcGVbMF0sbz10LnNoYXBlWzFdO251bGwhPW4mJihyPW4uc2hhcGVbMF0sbz1uLnNoYXBlWzFdKTt2YXIgYT0kcihvKSxpPW5ldyBhYSh7d2luZG93U2l6ZTphLGluU2l6ZTpvLGJhdGNoU2l6ZTpyfSxlLG51bGw9PW4pLHM9W3RdO251bGwhPW4mJnMucHVzaChuKTt2YXIgdT10aGlzLmNvbXBpbGVBbmRSdW4oaSxzLFwiaW50MzJcIik7cmV0dXJuIDE9PT11LnNoYXBlWzFdP3U6dGhpcy5hcmdSZWR1Y2UodCxlLHUpfSxvLnByb3RvdHlwZS5hcmdSZWR1Y2VQYWNrZWQ9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPW51bGwpO3ZhciByPW51bGwhPW4/bi5zaGFwZTp0LnNoYXBlLG89JHIocltyLmxlbmd0aC0xXSksYT1uZXcgUmEocixvLGUsbnVsbD09biksaT1udWxsPT1uP1t0XTpbdCxuXSxzPXRoaXMuY29tcGlsZUFuZFJ1bihhLGksXCJpbnQzMlwiKTtyZXR1cm4gcy5yYW5rPT09dC5yYW5rP3RoaXMuYXJnUmVkdWNlUGFja2VkKHQsZSxzKTpzfSxvLnByb3RvdHlwZS5zdW09ZnVuY3Rpb24odCxlKXtDbihcInN1bVwiLGUsdC5yYW5rKTt2YXIgbj1ibih0LnNoYXBlLGUpLHI9blswXSxvPWsoblsxXSksYT10LmFzMkQoLTEsbyksaT1UdCh0LmR0eXBlKTtyZXR1cm4gdGhpcy5yZWR1Y2UoYSxcInN1bVwiLGkpLnJlc2hhcGUocil9LG8ucHJvdG90eXBlLnByb2Q9ZnVuY3Rpb24odCxlKXtpZih0aGlzLnNob3VsZEV4ZWN1dGVPbkNQVShbdF0pKXJldHVybiB0aGlzLmNwdUJhY2tlbmQucHJvZCh0LGUpO3ZhciBuPWJuKHQuc2hhcGUsZSkscj1uWzBdLG89ayhuWzFdKSxhPXQuYXMyRCgtMSxvKSxpPVR0KHQuZHR5cGUpO3JldHVybiB0aGlzLnJlZHVjZShhLFwicHJvZFwiLGkpLnJlc2hhcGUocil9LG8ucHJvdG90eXBlLnVuc29ydGVkU2VnbWVudFN1bT1mdW5jdGlvbih0LGUsbil7dmFyIHI9MCxvPUVuKFtyXSx0LnJhbmspLGE9dDtudWxsIT1vJiYoYT10LnRyYW5zcG9zZShvKSxyPUluKDEsdC5yYW5rKVswXSk7dmFyIGk9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1bXSxvPXQubGVuZ3RoLGE9MDthPG87YSsrKWEhPT1lP3IucHVzaCh0W2FdKTpyLnB1c2gobik7cmV0dXJuIHJ9KGEuc2hhcGUscixuKSxzPWsoW2Euc2hhcGVbcl1dKSx1PWEuYXMyRCgtMSxzKSxjPVR0KHQuZHR5cGUpLGw9dGhpcy5zZWdPcENvbXB1dGUodSxcInVuc29ydGVkU2VnbWVudFN1bVwiLGUsYyxuKS5yZXNoYXBlKGkpO3JldHVybiBudWxsIT1vJiYobD1sLnRyYW5zcG9zZShSbihvKSkpLGx9LG8ucHJvdG90eXBlLnNlZ09wQ29tcHV0ZT1mdW5jdGlvbih0LGUsbixyLG8pe3ZhciBhPXQuc2hhcGVbMF0saT10LnNoYXBlWzFdLHM9ZnVuY3Rpb24odCxlKXt2YXIgbixyPSExO2Zvcih0PD1Zcj8obj10LHI9ITApOm49WSh0LE1hdGguZmxvb3IoTWF0aC5zcXJ0KHQpKSk7IXI7KW4+ZXx8bj09PXQ/cj0hMDpuPVkodCxuKzEpO3JldHVybiBufShpLG8pLHU9bmV3IHVzKHt3aW5kb3dTaXplOnMsaW5TaXplOmksYmF0Y2hTaXplOmEsbnVtU2VnbWVudHM6b30sZSksYz10aGlzLmNvbXBpbGVBbmRSdW4odSxbdCxuXSxyKTtyZXR1cm4gYy5zaGFwZVsxXT09PW8/Yzoobj1LbigwLG8pLnRpbGUoW2kvc10pLHRoaXMuc2VnT3BDb21wdXRlKGMsZSxuLHIsbykpfSxvLnByb3RvdHlwZS5hcmdNaW5NYXhSZWR1Y2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPVtlXTtpZihDbihcImFyZ1wiK24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSxyLHQucmFuayksIWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19SRURVQ0VcIil8fHQucmFuazw9Mil7dmFyIG89Ym4odC5zaGFwZSxyKSxhPW9bMF0scz1rKG9bMV0pLHU9dC5hczJEKC0xLHMpO3JldHVybiB0aGlzLmFyZ1JlZHVjZSh1LG4pLnJlc2hhcGUoYSl9cmV0dXJuIHRoaXMuYXJnUmVkdWNlUGFja2VkKHQsbil9LG8ucHJvdG90eXBlLmFyZ01pbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFyZ01pbk1heFJlZHVjZSh0LGUsXCJtaW5cIil9LG8ucHJvdG90eXBlLmFyZ01heD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFyZ01pbk1heFJlZHVjZSh0LGUsXCJtYXhcIil9LG8ucHJvdG90eXBlLmN1bXN1bT1mdW5jdGlvbih0LGUsbixyKXtpZihlIT09dC5yYW5rLTEpdGhyb3cgbmV3IEVycm9yKFwiV2ViR0wgY3Vtc3VtIHNoYWRlciBleHBlY3RzIGFuIGlubmVyLW1vc3QgYXhpcz1cIisodC5yYW5rLTEpK1wiIGJ1dCBnb3QgYXhpcz1cIitlKTt2YXIgbz1uZXcgbmkodC5zaGFwZSxuLHIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obyxbdF0pfSxvLnByb3RvdHlwZS5lcXVhbD1mdW5jdGlvbih0LGUpe2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKSlyZXR1cm4gdGhpcy5wYWNrZWRCaW5hcnlPcCh0LGUsXCJcXG4gIHJldHVybiB2ZWM0KGVxdWFsKGEsIGIpKTtcXG5cIixcImJvb2xcIik7dmFyIG49bmV3IEJhKFwicmV0dXJuIGZsb2F0KGEgPT0gYik7XCIsdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3QsZV0sXCJib29sXCIpfSxvLnByb3RvdHlwZS5ub3RFcXVhbD1mdW5jdGlvbih0LGUpe2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKSlyZXR1cm4gdGhpcy5wYWNrZWRCaW5hcnlPcCh0LGUsXCJcXG4gIHJldHVybiB2ZWM0KG5vdEVxdWFsKGEsIGIpKTtcXG5cIixcImJvb2xcIik7dmFyIG49bmV3IEJhKFwicmV0dXJuIGZsb2F0KGEgIT0gYik7XCIsdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3QsZV0sXCJib29sXCIpfSxvLnByb3RvdHlwZS5sZXNzPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3QsZV0pKXJldHVybiB0aGlzLmNwdUJhY2tlbmQubGVzcyh0LGUpO2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKSlyZXR1cm4gdGhpcy5wYWNrZWRCaW5hcnlPcCh0LGUsXCJcXG4gIHJldHVybiB2ZWM0KGxlc3NUaGFuKGEsIGIpKTtcXG5cIixcImJvb2xcIik7dmFyIG49bmV3IEJhKFwicmV0dXJuIGZsb2F0KGEgPCBiKTtcIix0LnNoYXBlLGUuc2hhcGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obixbdCxlXSxcImJvb2xcIil9LG8ucHJvdG90eXBlLmxlc3NFcXVhbD1mdW5jdGlvbih0LGUpe2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKSlyZXR1cm4gdGhpcy5wYWNrZWRCaW5hcnlPcCh0LGUsXCJcXG4gIHJldHVybiB2ZWM0KGxlc3NUaGFuRXF1YWwoYSwgYikpO1xcblwiLFwiYm9vbFwiKTt2YXIgbj1uZXcgQmEoXCJyZXR1cm4gZmxvYXQoYSA8PSBiKTtcIix0LnNoYXBlLGUuc2hhcGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obixbdCxlXSxcImJvb2xcIil9LG8ucHJvdG90eXBlLmdyZWF0ZXI9ZnVuY3Rpb24odCxlKXtpZih0aGlzLnNob3VsZEV4ZWN1dGVPbkNQVShbdCxlXSkpcmV0dXJuIHRoaXMuY3B1QmFja2VuZC5ncmVhdGVyKHQsZSk7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZEJpbmFyeU9wKHQsZSxcIlxcbiAgcmV0dXJuIHZlYzQoZ3JlYXRlclRoYW4oYSwgYikpO1xcblwiLFwiYm9vbFwiKTt2YXIgbj1uZXcgQmEoXCJyZXR1cm4gZmxvYXQoYSA+IGIpO1wiLHQuc2hhcGUsZS5zaGFwZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0LGVdLFwiYm9vbFwiKX0sby5wcm90b3R5cGUuZ3JlYXRlckVxdWFsPWZ1bmN0aW9uKHQsZSl7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZEJpbmFyeU9wKHQsZSxcIlxcbiAgcmV0dXJuIHZlYzQoZ3JlYXRlclRoYW5FcXVhbChhLCBiKSk7XFxuXCIsXCJib29sXCIpO3ZhciBuPW5ldyBCYShcInJldHVybiBmbG9hdChhID49IGIpO1wiLHQuc2hhcGUsZS5zaGFwZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0LGVdLFwiYm9vbFwiKX0sby5wcm90b3R5cGUubG9naWNhbE5vdD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQ3ModC5zaGFwZSxcInJldHVybiBmbG9hdCghKHggPj0gMS4wKSk7XCIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5sb2dpY2FsQW5kPWZ1bmN0aW9uKHQsZSl7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZEJpbmFyeU9wKHQsZSxcIlxcbiAgcmV0dXJuIHZlYzQoXFxuICAgIHZlYzQoZ3JlYXRlclRoYW5FcXVhbChhLCB2ZWM0KDEuMCkpKSAqXFxuICAgIHZlYzQoZ3JlYXRlclRoYW5FcXVhbChiLCB2ZWM0KDEuMCkpKSk7XFxuXCIsXCJib29sXCIpO3ZhciBuPW5ldyBCYShcInJldHVybiBmbG9hdChhID49IDEuMCAmJiBiID49IDEuMCk7XCIsdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3QsZV0sXCJib29sXCIpfSxvLnByb3RvdHlwZS5sb2dpY2FsT3I9ZnVuY3Rpb24odCxlKXtpZihpKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfQklOQVJZX09QRVJBVElPTlNcIikpcmV0dXJuIHRoaXMucGFja2VkQmluYXJ5T3AodCxlLFwiXFxuICByZXR1cm4gbWluKFxcbiAgICB2ZWM0KGdyZWF0ZXJUaGFuRXF1YWwoYSwgdmVjNCgxLjApKSkgK1xcbiAgICB2ZWM0KGdyZWF0ZXJUaGFuRXF1YWwoYiwgdmVjNCgxLjApKSksXFxuICAgIHZlYzQoMS4wKSk7XFxuXCIsXCJib29sXCIpO3ZhciBuPW5ldyBCYShcInJldHVybiBmbG9hdChhID49IDEuMCB8fCBiID49IDEuMCk7XCIsdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3QsZV0sXCJib29sXCIpfSxvLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBjcyh0LnJhbmssZS5zaGFwZSxlLnJhbmspO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdCxlLG5dLER0KGUuZHR5cGUsbi5kdHlwZSkpfSxvLnByb3RvdHlwZS53aGVyZT1mdW5jdGlvbih0KXtkbihcInRmLndoZXJlKCkgaW4gd2ViZ2wgbG9ja3MgdGhlIFVJIHRocmVhZC4gQ2FsbCB0Zi53aGVyZUFzeW5jKCkgaW5zdGVhZFwiKTt2YXIgZT10LmRhdGFTeW5jKCk7cmV0dXJuIG5hKHQuc2hhcGUsZSl9LG8ucHJvdG90eXBlLnRvcGs9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlYSh0LmRhdGFTeW5jKCksdC5zaGFwZSx0LmR0eXBlLGUpfSxvLnByb3RvdHlwZS5taW49ZnVuY3Rpb24odCxlKXtDbihcIm1pblwiLGUsdC5yYW5rKTt2YXIgbj1ibih0LnNoYXBlLGUpLHI9blswXSxvPWsoblsxXSksYT10LmFzMkQoLTEsbyk7cmV0dXJuIHRoaXMucmVkdWNlKGEsXCJtaW5cIixhLmR0eXBlKS5yZXNoYXBlKHIpfSxvLnByb3RvdHlwZS5taW5pbXVtPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3QsZV0pKXJldHVybiB0aGlzLmNwdUJhY2tlbmQubWluaW11bSh0LGUpO3ZhciBuPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKT9uZXcgTGEoXCJcXG4gIHZlYzQgcmVzdWx0ID0gdmVjNChtaW4oYSwgYikpO1xcbiAgdmVjNCBpc05hTiA9IG1pbih2ZWM0KGlzbmFuKGEpKSArIHZlYzQoaXNuYW4oYikpLCB2ZWM0KDEuMCkpO1xcbiAgXFxuICByZXN1bHQuciA9IGlzTmFOLnIgPiAwLiA/IE5BTiA6IHJlc3VsdC5yO1xcbiAgcmVzdWx0LmcgPSBpc05hTi5nID4gMC4gPyBOQU4gOiByZXN1bHQuZztcXG4gIHJlc3VsdC5iID0gaXNOYU4uYiA+IDAuID8gTkFOIDogcmVzdWx0LmI7XFxuICByZXN1bHQuYSA9IGlzTmFOLmEgPiAwLiA/IE5BTiA6IHJlc3VsdC5hO1xcblxcbiAgcmV0dXJuIHJlc3VsdDtcXG5cIix0LnNoYXBlLGUuc2hhcGUpOm5ldyBCYShcIlxcbiAgaWYgKGlzbmFuKGEpKSByZXR1cm4gYTtcXG4gIGlmIChpc25hbihiKSkgcmV0dXJuIGI7XFxuXFxuICByZXR1cm4gbWluKGEsIGIpO1xcblwiLHQuc2hhcGUsZS5zaGFwZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0LGVdKX0sby5wcm90b3R5cGUubW9kPWZ1bmN0aW9uKHQsZSl7dmFyIG49aSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpP25ldyBMYShcIlxcbiAgdmVjNCByZXN1bHQgPSBtb2QoYSwgYik7XFxuICB2ZWM0IGlzTmFOID0gdmVjNChlcXVhbChiLCB2ZWM0KDAuMCkpKTtcXG4gIFxcbiAgcmVzdWx0LnIgPSBpc05hTi5yID4gMC4gPyBOQU4gOiByZXN1bHQucjtcXG4gIHJlc3VsdC5nID0gaXNOYU4uZyA+IDAuID8gTkFOIDogcmVzdWx0Lmc7XFxuICByZXN1bHQuYiA9IGlzTmFOLmIgPiAwLiA/IE5BTiA6IHJlc3VsdC5iO1xcbiAgcmVzdWx0LmEgPSBpc05hTi5hID4gMC4gPyBOQU4gOiByZXN1bHQuYTtcXG5cXG4gIHJldHVybiByZXN1bHQ7XFxuXCIsdC5zaGFwZSxlLnNoYXBlKTpuZXcgQmEoXCJpZiAoYiA9PSAwLjApIHJldHVybiBOQU47XFxuICByZXR1cm4gbW9kKGEsIGIpO1wiLHQuc2hhcGUsZS5zaGFwZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0LGVdKX0sby5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3RdKSlyZXR1cm4gdGhpcy5jcHVCYWNrZW5kLm1heCh0LGUpO0NuKFwibWF4XCIsZSx0LnJhbmspO3ZhciBuPWJuKHQuc2hhcGUsZSkscj1uWzBdLG89ayhuWzFdKSxhPXQuYXMyRCgtMSxvKTtyZXR1cm4gdGhpcy5yZWR1Y2UoYSxcIm1heFwiLGEuZHR5cGUpLnJlc2hhcGUocil9LG8ucHJvdG90eXBlLm1heGltdW09ZnVuY3Rpb24odCxlKXtpZih0aGlzLnNob3VsZEV4ZWN1dGVPbkNQVShbdCxlXSkpcmV0dXJuIHRoaXMuY3B1QmFja2VuZC5tYXhpbXVtKHQsZSk7dmFyIG49aSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpP25ldyBMYShcIlxcbiAgdmVjNCByZXN1bHQgPSB2ZWM0KG1heChhLCBiKSk7XFxuICB2ZWM0IGlzTmFOID0gbWluKHZlYzQoaXNuYW4oYSkpICsgdmVjNChpc25hbihiKSksIHZlYzQoMS4wKSk7XFxuICBcXG4gIHJlc3VsdC5yID0gaXNOYU4uciA+IDAuID8gTkFOIDogcmVzdWx0LnI7XFxuICByZXN1bHQuZyA9IGlzTmFOLmcgPiAwLiA/IE5BTiA6IHJlc3VsdC5nO1xcbiAgcmVzdWx0LmIgPSBpc05hTi5iID4gMC4gPyBOQU4gOiByZXN1bHQuYjtcXG4gIHJlc3VsdC5hID0gaXNOYU4uYSA+IDAuID8gTkFOIDogcmVzdWx0LmE7XFxuXFxuICByZXR1cm4gcmVzdWx0O1xcblwiLHQuc2hhcGUsZS5zaGFwZSk6bmV3IEJhKFwiXFxuICBpZiAoaXNuYW4oYSkpIHJldHVybiBhO1xcbiAgaWYgKGlzbmFuKGIpKSByZXR1cm4gYjtcXG5cXG4gIHJldHVybiBtYXgoYSwgYik7XFxuXCIsdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3QsZV0pfSxvLnByb3RvdHlwZS5hbGw9ZnVuY3Rpb24odCxlKXtDbihcImFsbFwiLGUsdC5yYW5rKTt2YXIgbj1ibih0LnNoYXBlLGUpLHI9blswXSxvPWsoblsxXSksYT10LmFzMkQoLTEsbyk7cmV0dXJuIHRoaXMucmVkdWNlKGEsXCJhbGxcIixhLmR0eXBlKS5yZXNoYXBlKHIpfSxvLnByb3RvdHlwZS5hbnk9ZnVuY3Rpb24odCxlKXtDbihcImFueVwiLGUsdC5yYW5rKTt2YXIgbj1ibih0LnNoYXBlLGUpLHI9blswXSxvPWsoblsxXSksYT10LmFzMkQoLTEsbyk7cmV0dXJuIHRoaXMucmVkdWNlKGEsXCJhbnlcIixhLmR0eXBlKS5yZXNoYXBlKHIpfSxvLnByb3RvdHlwZS5yZWFsRGl2aWRlPWZ1bmN0aW9uKHQsZSl7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpKXtyZXR1cm4gdGhpcy5wYWNrZWRCaW5hcnlPcCh0LGUsXCJcXG4gIC8vIHZlYzQgb25lID0gdmVjNChlcXVhbChhLCBiKSk7XFxuICAvLyByZXR1cm4gb25lICsgKHZlYzQoMS4wKSAtIG9uZSkgKiBhIC8gYjtcXG4gIHZlYzQgcmVzdWx0ID0gYSAvIGI7XFxuICBpZihhLnggPT0gYi54KSB7XFxuICAgIHJlc3VsdC54ID0gMS47XFxuICB9XFxuICBpZihhLnkgPT0gYi55KSB7XFxuICAgIHJlc3VsdC55ID0gMS47XFxuICB9XFxuICBpZihhLnogPT0gYi56KSB7XFxuICAgIHJlc3VsdC56ID0gMS47XFxuICB9XFxuICBpZihhLncgPT0gYi53KSB7XFxuICAgIHJlc3VsdC53ID0gMS47XFxuICB9XFxuXFxuICByZXR1cm4gcmVzdWx0O1xcblwiLFwiZmxvYXQzMlwiLCEwKX12YXIgbj1uZXcgQmEoXCJcXG5pZiAoYSA9PSBiKSB7XFxuICByZXR1cm4gMS4wO1xcbn07XFxucmV0dXJuIGEgLyBiO1wiLHQuc2hhcGUsZS5zaGFwZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0LGVdLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuZmxvb3JEaXY9ZnVuY3Rpb24odCxlKXtpZihpKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfQklOQVJZX09QRVJBVElPTlNcIikpcmV0dXJuIHRoaXMucGFja2VkQmluYXJ5T3AodCxlLFwiXFxuICBpdmVjNCBpYSA9IHJvdW5kKGEpO1xcbiAgaXZlYzQgaWIgPSByb3VuZChiKTtcXG4gIGJ2ZWM0IGNvbmQgPSBub3RFcXVhbChpYiwgaXZlYzQoMCkpO1xcbiAgaXZlYzQgcmVzdWx0ID0gaXZlYzQoMCk7XFxuICB2ZWM0IHMgPSBzaWduKGEpICogc2lnbihiKTtcXG5cXG4gIC8vIFdpbmRvd3MgKEQzRCkgd2FudHMgZ3VhcmFudGVlZCBub24temVybyBpbnQgZGl2aXNpb24gYXQgY29tcGlsZS10aW1lLlxcbiAgaWYgKGNvbmRbMF0pIHtcXG4gICAgcmVzdWx0WzBdID0gaWRpdihpYVswXSwgaWJbMF0sIHNbMF0pO1xcbiAgfVxcbiAgaWYgKGNvbmRbMV0pIHtcXG4gICAgcmVzdWx0WzFdID0gaWRpdihpYVsxXSwgaWJbMV0sIHNbMV0pO1xcbiAgfVxcbiAgaWYgKGNvbmRbMl0pIHtcXG4gICAgcmVzdWx0WzJdID0gaWRpdihpYVsyXSwgaWJbMl0sIHNbMl0pO1xcbiAgfVxcbiAgaWYgKGNvbmRbM10pIHtcXG4gICAgcmVzdWx0WzNdID0gaWRpdihpYVszXSwgaWJbM10sIHNbM10pO1xcbiAgfVxcbiAgcmV0dXJuIHZlYzQocmVzdWx0KTtcXG5cIixcImludDMyXCIpO3ZhciBuPW5ldyBCYShcIlxcbiAgZmxvYXQgcyA9IHNpZ24oYSkgKiBzaWduKGIpO1xcbiAgaW50IGlhID0gcm91bmQoYSk7XFxuICBpbnQgaWIgPSByb3VuZChiKTtcXG4gIGlmIChpYiAhPSAwKSB7XFxuICAgIC8vIFdpbmRvd3MgKEQzRCkgd2FudHMgZ3VhcmFudGVlZCBub24temVybyBpbnQgZGl2aXNpb24gYXQgY29tcGlsZS10aW1lLlxcbiAgICByZXR1cm4gZmxvYXQoaWRpdihpYSwgaWIsIHMpKTtcXG4gIH0gZWxzZSB7XFxuICAgIHJldHVybiBOQU47XFxuICB9XFxuXCIsdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3QsZV0sXCJpbnQzMlwiKX0sby5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSl7aWYoXCJjb21wbGV4NjRcIj09PXQuZHR5cGUmJlwiY29tcGxleDY0XCI9PT1lLmR0eXBlKXJldHVybiB0aGlzLmNvbXBsZXhTZXBhcmFibGVCaW5hcnlPcCh0LGUsRmEpO2lmKHRoaXMuc2hvdWxkRXhlY3V0ZU9uQ1BVKFt0LGVdKSlyZXR1cm4gdGhpcy5jcHVCYWNrZW5kLmFkZCh0LGUpO3ZhciBuPUR0KHQuZHR5cGUsZS5kdHlwZSk7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZEJpbmFyeU9wKHQsZSxGYSxuKTt2YXIgcj1uZXcgQmEoRmEsdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKHIsW3QsZV0sbil9LG8ucHJvdG90eXBlLnBhY2tlZFVuYXJ5T3A9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBYcyh0LnNoYXBlLGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdF0sbil9LG8ucHJvdG90eXBlLnBhY2tlZEJpbmFyeU9wPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dm9pZCAwPT09byYmKG89ITEpO3ZhciBhPW5ldyBMYShuLHQuc2hhcGUsZS5zaGFwZSxvKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGEsW3QsZV0scil9LG8ucHJvdG90eXBlLmNvbXBsZXhTZXBhcmFibGVCaW5hcnlPcD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxvPXRoaXMudGV4RGF0YS5nZXQodC5kYXRhSWQpLGE9dGhpcy50ZXhEYXRhLmdldChlLmRhdGFJZCksaT1bW28uY29tcGxleFRlbnNvcnMucmVhbCxhLmNvbXBsZXhUZW5zb3JzLnJlYWxdLFtvLmNvbXBsZXhUZW5zb3JzLmltYWcsYS5jb21wbGV4VGVuc29ycy5pbWFnXV0ubWFwKChmdW5jdGlvbihvKXt2YXIgYT1vWzBdLGk9b1sxXSxzPXIubWFrZUNvbXBsZXhDb21wb25lbnRUZW5zb3JJbmZvKHQsYSksdT1yLm1ha2VDb21wbGV4Q29tcG9uZW50VGVuc29ySW5mbyhlLGkpLGM9bmV3IEJhKG4sdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gci5jb21waWxlQW5kUnVuKGMsW3MsdV0sRHQoYS5kdHlwZSxpLmR0eXBlKSl9KSkscz1pWzBdLHU9aVsxXSxjPXRoaXMuY29tcGxleChzLHUpO3JldHVybiBzLmRpc3Bvc2UoKSx1LmRpc3Bvc2UoKSxjfSxvLnByb3RvdHlwZS5tYWtlQ29tcGxleENvbXBvbmVudFRlbnNvckluZm89ZnVuY3Rpb24odCxlKXtyZXR1cm57ZGF0YUlkOmUuZGF0YUlkLGR0eXBlOmUuZHR5cGUsc2hhcGU6dC5zaGFwZX19LG8ucHJvdG90eXBlLmFkZE49ZnVuY3Rpb24odCl7aWYoMT09PXQubGVuZ3RoKXJldHVybiB0WzBdO2lmKHQubGVuZ3RoPmkoKS5nZXQoXCJXRUJHTF9NQVhfVEVYVFVSRVNfSU5fU0hBREVSXCIpKXt2YXIgZT1NYXRoLmZsb29yKHQubGVuZ3RoLzIpLG49dGhpcy5hZGROKHQuc2xpY2UoMCxlKSkscj10aGlzLmFkZE4odC5zbGljZShlKSk7cmV0dXJuIHRoaXMuYWRkTihbbixyXSl9dmFyIG89dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmR0eXBlfSkpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gRHQodCxlKX0pKSxhPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaGFwZX0pKSxzPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS1wiKT9uZXcgb2EodFswXS5zaGFwZSxhKTpuZXcgcmEodFswXS5zaGFwZSxhKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKHMsdCxvKX0sby5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24odCxlKXtpZihcImNvbXBsZXg2NFwiPT09dC5kdHlwZSYmXCJjb21wbGV4NjRcIj09PWUuZHR5cGUpcmV0dXJuIHRoaXMuY29tcGxleFNlcGFyYWJsZUJpbmFyeU9wKHQsZSxfYSk7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3QsZV0pKXJldHVybiB0aGlzLmNwdUJhY2tlbmQuc3VidHJhY3QodCxlKTt2YXIgbj1EdCh0LmR0eXBlLGUuZHR5cGUpO2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKSlyZXR1cm4gdGhpcy5wYWNrZWRCaW5hcnlPcCh0LGUsX2EsdC5kdHlwZSk7dmFyIHI9bmV3IEJhKF9hLHQuc2hhcGUsZS5zaGFwZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihyLFt0LGVdLG4pfSxvLnByb3RvdHlwZS5wb3c9ZnVuY3Rpb24odCxlKXt2YXIgbj1pKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfQklOQVJZX09QRVJBVElPTlNcIik/bmV3IExhKFwiXFxuICAvLyBpc01vZFJvdW5kMSBoYXMgMSBmb3IgY29tcG9uZW50cyB3aXRoIHJvdW5kKG1vZChiLCAyLjApKSA9PSAxLCAwIG90aGVyd2lzZS5cXG4gIHZlYzQgaXNNb2RSb3VuZDEgPSB2ZWM0KGVxdWFsKHJvdW5kKG1vZChiLCAyLjApKSwgaXZlYzQoMSkpKTtcXG4gIHZlYzQgbXVsdGlwbGllciA9IHNpZ24oYSkgKiBpc01vZFJvdW5kMSArICh2ZWM0KDEuMCkgLSBpc01vZFJvdW5kMSk7XFxuICB2ZWM0IHJlc3VsdCA9IG11bHRpcGxpZXIgKiBwb3coYWJzKGEpLCBiKTtcXG5cXG4gIC8vIEVuc3VyZSB0aGF0IGFeMCA9IDEsIGluY2x1ZGluZyAwXjAgPSAxIGFzIHRoaXMgY29ycmVzcG9uZCB0byBURiBhbmQgSlNcXG4gIGJ2ZWM0IGlzRXhwWmVybyA9IGVxdWFsKGIsIHZlYzQoMC4wKSk7XFxuICByZXN1bHQuciA9IGlzRXhwWmVyby5yID8gMS4wIDogcmVzdWx0LnI7XFxuICByZXN1bHQuZyA9IGlzRXhwWmVyby5nID8gMS4wIDogcmVzdWx0Lmc7XFxuICByZXN1bHQuYiA9IGlzRXhwWmVyby5iID8gMS4wIDogcmVzdWx0LmI7XFxuICByZXN1bHQuYSA9IGlzRXhwWmVyby5hID8gMS4wIDogcmVzdWx0LmE7XFxuXFxuICB2ZWM0IGlzTmFOID0gdmVjNChsZXNzVGhhbihhLCB2ZWM0KDAuMCkpKSAqIHZlYzQobGVzc1RoYW4oZmxvb3IoYiksIGIpKTtcXG4gIFxcbiAgcmVzdWx0LnIgPSBpc05hTi5yID4gMC4gPyBOQU4gOiByZXN1bHQucjtcXG4gIHJlc3VsdC5nID0gaXNOYU4uZyA+IDAuID8gTkFOIDogcmVzdWx0Lmc7XFxuICByZXN1bHQuYiA9IGlzTmFOLmIgPiAwLiA/IE5BTiA6IHJlc3VsdC5iO1xcbiAgcmVzdWx0LmEgPSBpc05hTi5hID4gMC4gPyBOQU4gOiByZXN1bHQuYTtcXG5cXG4gIHJldHVybiByZXN1bHQ7XFxuXCIsdC5zaGFwZSxlLnNoYXBlKTpuZXcgQmEoXCJcXG5pZihhIDwgMC4wICYmIGZsb29yKGIpIDwgYil7XFxuICByZXR1cm4gTkFOO1xcbn1cXG5pZiAoYiA9PSAwLjApIHtcXG4gIHJldHVybiAxLjA7XFxufVxcbnJldHVybiAocm91bmQobW9kKGIsIDIuMCkpICE9IDEpID9cXG4gICAgcG93KGFicyhhKSwgYikgOiBzaWduKGEpICogcG93KGFicyhhKSwgYik7XFxuXCIsdC5zaGFwZSxlLnNoYXBlKSxyPUR0KHQuZHR5cGUsZS5kdHlwZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0LGVdLHIpfSxvLnByb3RvdHlwZS5jZWlsPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc2hvdWxkRXhlY3V0ZU9uQ1BVKFt0XSkpcmV0dXJuIHRoaXMuY3B1QmFja2VuZC5jZWlsKHQpO2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19VTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZFVuYXJ5T3AodCxOcyx0LmR0eXBlKTt2YXIgZT1uZXcgQ3ModC5zaGFwZSxOcyk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLmZsb29yPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc2hvdWxkRXhlY3V0ZU9uQ1BVKFt0XSkpcmV0dXJuIHRoaXMuY3B1QmFja2VuZC5mbG9vcih0KTtpZihpKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfVU5BUllfT1BFUkFUSU9OU1wiKSlyZXR1cm4gdGhpcy5wYWNrZWRVbmFyeU9wKHQsRnMsdC5kdHlwZSk7dmFyIGU9bmV3IENzKHQuc2hhcGUsRnMpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5zaWduPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBDcyh0LnNoYXBlLFwiXFxuICBpZiAoaXNuYW4oeCkpIHsgcmV0dXJuIDAuMDsgfVxcbiAgcmV0dXJuIHNpZ24oeCk7XFxuXCIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5pc05hTj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQ3ModC5zaGFwZSxcInJldHVybiBmbG9hdChpc25hbih4KSk7XCIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0sXCJib29sXCIpfSxvLnByb3RvdHlwZS5pc0luZj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQ3ModC5zaGFwZSxcInJldHVybiBmbG9hdChpc2luZih4KSk7XCIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0sXCJib29sXCIpfSxvLnByb3RvdHlwZS5pc0Zpbml0ZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQ3ModC5zaGFwZSxcInJldHVybiBmbG9hdCghaXNuYW4oeCkgJiYgIWlzaW5mKHgpKTtcIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSxcImJvb2xcIil9LG8ucHJvdG90eXBlLnJvdW5kPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBDcyh0LnNoYXBlLFwiXFxuICAvLyBPcGVuR0wgRVMgZG9lcyBub3Qgc3VwcG9ydCByb3VuZCBmdW5jdGlvbi5cXG4gIC8vIFRoZSBhbGdvcml0aG0gaXMgYmFzZWQgb24gYmFua2VyJ3Mgcm91bmRpbmcuXFxuICBmbG9hdCBiYXNlID0gZmxvb3IoeCk7XFxuICBpZiAoKHggLSBiYXNlKSA8IDAuNSkge1xcbiAgICByZXR1cm4gZmxvb3IoeCk7XFxuICB9IGVsc2UgaWYgKCh4IC0gYmFzZSkgPiAwLjUpIHtcXG4gICAgcmV0dXJuIGNlaWwoeCk7XFxuICB9IGVsc2Uge1xcbiAgICBpZiAobW9kKGJhc2UsIDIuMCkgPT0gMC4wKSB7XFxuICAgICAgcmV0dXJuIGJhc2U7XFxuICAgIH0gZWxzZSB7XFxuICAgICAgcmV0dXJuIGJhc2UgKyAxLjA7XFxuICAgIH1cXG4gIH1cXG5cIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLmV4cD1mdW5jdGlvbih0KXtpZih0aGlzLnNob3VsZEV4ZWN1dGVPbkNQVShbdF0pKXJldHVybiB0aGlzLmNwdUJhY2tlbmQuZXhwKHQpO2lmKGkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19VTkFSWV9PUEVSQVRJT05TXCIpKXJldHVybiB0aGlzLnBhY2tlZFVuYXJ5T3AodCxfcyx0LmR0eXBlKTt2YXIgZT1uZXcgQ3ModC5zaGFwZSxfcyk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLmV4cG0xPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc2hvdWxkRXhlY3V0ZU9uQ1BVKFt0XSkpcmV0dXJuIHRoaXMuY3B1QmFja2VuZC5leHBtMSh0KTtpZihpKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfVU5BUllfT1BFUkFUSU9OU1wiKSlyZXR1cm4gdGhpcy5wYWNrZWRVbmFyeU9wKHQsT3MsdC5kdHlwZSk7dmFyIGU9bmV3IENzKHQuc2hhcGUsT3MpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5zb2Z0bWF4PWZ1bmN0aW9uKHQsZSl7dmFyIG49TyhbZV0sdC5zaGFwZSkscj10aGlzLm1heCh0LG4pLG89d24oci5zaGFwZSxuKSxhPXRoaXMuc3VidHJhY3QodCxyLnJlc2hhcGUobykpLGk9dGhpcy5leHAoYSkscz10aGlzLnN1bShpLG4pLnJlc2hhcGUobyk7cmV0dXJuIHRoaXMucmVhbERpdmlkZShpLHMpfSxvLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24odCl7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3RdKSlyZXR1cm4gdGhpcy5jcHVCYWNrZW5kLmxvZyh0KTtpZihpKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfVU5BUllfT1BFUkFUSU9OU1wiKSlyZXR1cm4gdGhpcy5wYWNrZWRVbmFyeU9wKHQsXCJcXG4gIHZlYzQgcmVzdWx0ID0gbG9nKHgpO1xcbiAgdmVjNCBpc05hTiA9IHZlYzQobGVzc1RoYW4oeCwgdmVjNCgwLjApKSk7XFxuICByZXN1bHQuciA9IGlzTmFOLnIgPT0gMS4wID8gTkFOIDogcmVzdWx0LnI7XFxuICByZXN1bHQuZyA9IGlzTmFOLmcgPT0gMS4wID8gTkFOIDogcmVzdWx0Lmc7XFxuICByZXN1bHQuYiA9IGlzTmFOLmIgPT0gMS4wID8gTkFOIDogcmVzdWx0LmI7XFxuICByZXN1bHQuYSA9IGlzTmFOLmEgPT0gMS4wID8gTkFOIDogcmVzdWx0LmE7XFxuXFxuICByZXR1cm4gcmVzdWx0O1xcblwiLHQuZHR5cGUpO3ZhciBlPW5ldyBDcyh0LnNoYXBlLFwiaWYgKHggPCAwLjApIHJldHVybiBOQU47XFxuICByZXR1cm4gbG9nKHgpO1wiKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUubG9nMXA9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENzKHQuc2hhcGUsXCJyZXR1cm4gbG9nKDEuMCArIHgpO1wiKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuc3FydD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQ3ModC5zaGFwZSxcInJldHVybiBzcXJ0KHgpO1wiKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUucnNxcnQ9ZnVuY3Rpb24odCl7aWYodGhpcy5zaG91bGRFeGVjdXRlT25DUFUoW3RdKSlyZXR1cm4gdGhpcy5jcHVCYWNrZW5kLnJzcXJ0KHQpO3ZhciBlPW5ldyBDcyh0LnNoYXBlLFwicmV0dXJuIGludmVyc2VzcXJ0KHgpO1wiKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUucmVjaXByb2NhbD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQ3ModC5zaGFwZSxcInJldHVybiAxLjAgLyB4O1wiKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUucmVsdT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT1pKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tcIik/bmV3IFhzKHQuc2hhcGUscXMpOm5ldyBDcyh0LnNoYXBlLGtzKSx0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5yZWx1Nj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT1pKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tcIik/bmV3IFhzKHQuc2hhcGUsS3MpOm5ldyBDcyh0LnNoYXBlLFNzKSx0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5wcmVsdT1mdW5jdGlvbih0LGUpe3ZhciBuPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKT9uZXcgTGEoUGEsdC5zaGFwZSxlLnNoYXBlKTpuZXcgQmEoTWEsdC5zaGFwZSxlLnNoYXBlKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3QsZV0pfSxvLnByb3RvdHlwZS5lbHU9ZnVuY3Rpb24odCl7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX1VOQVJZX09QRVJBVElPTlNcIikpcmV0dXJuIHRoaXMucGFja2VkVW5hcnlPcCh0LGpzLHQuZHR5cGUpO3ZhciBlPW5ldyBDcyh0LnNoYXBlLEFzKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuZWx1RGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49aSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpP25ldyBMYShcIlxcbiAgdmVjNCBiR1RFWmVybyA9IHZlYzQoZ3JlYXRlclRoYW5FcXVhbChiLCB2ZWM0KDAuKSkpO1xcbiAgcmV0dXJuIChiR1RFWmVybyAqIGEpICsgKCh2ZWM0KDEuMCkgLSBiR1RFWmVybykgKiAoYSAqIChiICsgdmVjNCgxLjApKSkpO1xcblwiLHQuc2hhcGUsZS5zaGFwZSk6bmV3IEJhKFwicmV0dXJuIChiID49IDEuMCkgPyBhIDogYSAqIChiICsgMS4wKTtcIix0LnNoYXBlLGUuc2hhcGUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obixbdCxlXSl9LG8ucHJvdG90eXBlLnNlbHU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENzKHQuc2hhcGUsRHMpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENzKHQuc2hhcGUsXCJyZXR1cm4gZmxvYXQoaW50KHgpKTtcIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSxcImludDMyXCIpfSxvLnByb3RvdHlwZS5jbGlwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvPShyPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19DTElQXCIpP25ldyBVYSh0LnNoYXBlKTpuZXcgV2EodC5zaGFwZSkpLmdldEN1c3RvbVNldHVwRnVuYyhlLG4pO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdF0sbnVsbCxvKX0sby5wcm90b3R5cGUuYWJzPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc2hvdWxkRXhlY3V0ZU9uQ1BVKFt0XSkpcmV0dXJuIHRoaXMuY3B1QmFja2VuZC5hYnModCk7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX1VOQVJZX09QRVJBVElPTlNcIikpcmV0dXJuIHRoaXMucGFja2VkVW5hcnlPcCh0LElzLHQuZHR5cGUpO3ZhciBlPW5ldyBDcyh0LnNoYXBlLElzKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuY29tcGxleEFicz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRleERhdGEuZ2V0KHQuZGF0YUlkKSxuPW5ldyBWYSh0LnNoYXBlKSxyPVt0aGlzLm1ha2VDb21wbGV4Q29tcG9uZW50VGVuc29ySW5mbyh0LGUuY29tcGxleFRlbnNvcnMucmVhbCksdGhpcy5tYWtlQ29tcGxleENvbXBvbmVudFRlbnNvckluZm8odCxlLmNvbXBsZXhUZW5zb3JzLmltYWcpXTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4scil9LG8ucHJvdG90eXBlLnNpZ21vaWQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENzKHQuc2hhcGUsXCJyZXR1cm4gMS4wIC8gKDEuMCArIGV4cCgtMS4wICogeCkpO1wiKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuc29mdHBsdXM9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENzKHQuc2hhcGUsXCJcXG4gIGZsb2F0IGVwc2lsb24gPSAxLjE5MjA5Mjg5NTUwNzgxMjVlLTc7XFxuICBmbG9hdCB0aHJlc2hvbGQgPSBsb2coZXBzaWxvbikgKyAyLjA7XFxuXFxuICBib29sIHRvb19sYXJnZSA9IHggPiAtdGhyZXNob2xkO1xcbiAgYm9vbCB0b29fc21hbGwgPSB4IDwgdGhyZXNob2xkO1xcblxcbiAgZmxvYXQgcmVzdWx0O1xcbiAgZmxvYXQgZXhwX3ggPSBleHAoeCk7XFxuXFxuICBpZiAodG9vX2xhcmdlKXtcXG4gICAgcmVzdWx0ID0geDtcXG4gIH1cXG4gIGVsc2UgaWYgKHRvb19zbWFsbCl7XFxuICAgIHJlc3VsdCA9IGV4cF94O1xcbiAgfVxcbiAgZWxzZXtcXG4gICAgcmVzdWx0ID0gbG9nKGV4cF94ICsgMS4wKTtcXG4gIH1cXG4gIHJldHVybiByZXN1bHQ7XFxuXCIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5zaW49ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENzKHQuc2hhcGUsTXMpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5jb3M9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENzKHQuc2hhcGUsQnMpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS50YW49ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENzKHQuc2hhcGUsXCJyZXR1cm4gdGFuKHgpO1wiKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuYXNpbj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQ3ModC5zaGFwZSxQcyk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLmFjb3M9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENzKHQuc2hhcGUsTHMpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5hdGFuPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBDcyh0LnNoYXBlLFdzKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuYXRhbjI9ZnVuY3Rpb24odCxlKXt2YXIgbj1pKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfQklOQVJZX09QRVJBVElPTlNcIik/bmV3IExhKFwiXFxuICB2ZWM0IHJlc3VsdCA9IGF0YW4oYSwgYik7XFxuICB2ZWM0IGlzTmFOID0gbWluKHZlYzQoaXNuYW4oYSkpICsgdmVjNChpc25hbihiKSksIHZlYzQoMS4wKSk7XFxuICBcXG4gIHJlc3VsdC5yID0gaXNOYU4uciA+IDAuID8gTkFOIDogcmVzdWx0LnI7XFxuICByZXN1bHQuZyA9IGlzTmFOLmcgPiAwLiA/IE5BTiA6IHJlc3VsdC5nO1xcbiAgcmVzdWx0LmIgPSBpc05hTi5iID4gMC4gPyBOQU4gOiByZXN1bHQuYjtcXG4gIHJlc3VsdC5hID0gaXNOYU4uYSA+IDAuID8gTkFOIDogcmVzdWx0LmE7XFxuXFxuICByZXR1cm4gcmVzdWx0O1xcblwiLHQuc2hhcGUsZS5zaGFwZSk6bmV3IEJhKFwiXFxuICBpZiAoaXNuYW4oYSkpIHJldHVybiBhO1xcbiAgaWYgKGlzbmFuKGIpKSByZXR1cm4gYjtcXG5cXG4gIHJldHVybiBhdGFuKGEsIGIpO1xcblwiLHQuc2hhcGUsZS5zaGFwZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0LGVdKX0sby5wcm90b3R5cGUuc2luaD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQ3ModC5zaGFwZSxcIlxcbiAgZmxvYXQgZTJ4ID0gZXhwKHgpO1xcbiAgcmV0dXJuIChlMnggLSAxLjAgLyBlMngpIC8gMi4wO1xcblwiKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuY29zaD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQ3ModC5zaGFwZSxcIlxcbiAgZmxvYXQgZTJ4ID0gZXhwKC14KTtcXG4gIHJldHVybiAoZTJ4ICsgMS4wIC8gZTJ4KSAvIDIuMDtcXG5cIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLnRhbmg9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENzKHQuc2hhcGUsXCJcXG4gIGZsb2F0IGUyeCA9IGV4cCgtMi4wICogYWJzKHgpKTtcXG4gIHJldHVybiBzaWduKHgpICogKDEuMCAtIGUyeCkgLyAoMS4wICsgZTJ4KTtcXG5cIik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLmFzaW5oPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBDcyh0LnNoYXBlLFVzKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGUsW3RdKX0sby5wcm90b3R5cGUuYWNvc2g9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENzKHQuc2hhcGUsVnMpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5hdGFuaD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQ3ModC5zaGFwZSx6cyk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLmVyZj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQ3ModC5zaGFwZSwnXFxuICAvLyBFcnJvciBmdW5jdGlvbiBpcyBjYWxjdWxhdGVkIGFwcHJveGltYXRlbHkgd2l0aCBlbGVtZW50YXJ5IGZ1bmN0aW9uLlxcbiAgLy8gU2VlIFwiSGFuZGJvb2sgb2YgTWF0aGVtYXRpY2FsIEZ1bmN0aW9ucyB3aXRoIEZvcm11bGFzLFxcbiAgLy8gR3JhcGhzLCBhbmQgTWF0aGVtYXRpY2FsIFRhYmxlc1wiLCBBYnJhbW93aXR6IGFuZCBTdGVndW4uXFxuICBmbG9hdCBwID0gMC4zMjc1OTExO1xcbiAgZmxvYXQgYTEgPSAwLjI1NDgyOTU5MjtcXG4gIGZsb2F0IGEyID0gLTAuMjg0NDk2NzM2O1xcbiAgZmxvYXQgYTMgPSAxLjQyMTQxMzc0MTtcXG4gIGZsb2F0IGE0ID0gLTEuNDUzMTUyMDI3O1xcbiAgZmxvYXQgYTUgPSAxLjA2MTQwNTQyOTtcXG5cXG4gIGZsb2F0IHNpZ24gPSBzaWduKHgpO1xcbiAgeCA9IGFicyh4KTtcXG4gIGZsb2F0IHQgPSAxLjAgLyAoMS4wICsgcCAqIHgpO1xcbiAgcmV0dXJuIHNpZ24gKiAoMS4wIC0gKCgoKChhNSp0ICsgYTQpKnQpICsgYTMpKnQgKyBhMikqdCArIGExKSp0KmV4cCgteCp4KSk7XFxuJyk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihlLFt0XSl9LG8ucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgQ3ModC5zaGFwZSxmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksRXMrXCJcXG4gICAgcmV0dXJuIHggPiAwLjAgPyAxLjAgOiBmbG9hdChcIit0K1wiKTtcXG4gIFwifShlKSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0XSl9LG8ucHJvdG90eXBlLmNvbnYyZEJ5TWF0TXVsPWZ1bmN0aW9uKHQsZSxuLHIsbyxhKXt2YXIgcz10LnNoYXBlLHU9dGhpcy50ZXhEYXRhLmdldCh0LmRhdGFJZCksYz1uLmluQ2hhbm5lbHMsbD1zWzBdKnNbMV0qc1syXSxoPW4ub3V0Q2hhbm5lbHMsZj1cImNoYW5uZWxzTGFzdFwiPT09bi5kYXRhRm9ybWF0LGQ9KDE9PT1sfHwxPT09aCkmJmM+MWUzLHA9c1syXSUyIT0wJiYhIXUuaXNQYWNrZWQ7aWYoZHx8IWkoKS5nZXRCb29sKFwiV0VCR0xfTEFaSUxZX1VOUEFDS1wiKXx8IWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19CSU5BUllfT1BFUkFUSU9OU1wiKXx8IXApe3ZhciB2PWY/c1swXSpzWzFdKnNbMl06c1swXSpzWzJdKnNbM10sbT10aGlzLnJlc2hhcGUodCxbMSx2LG4uaW5DaGFubmVsc10pLGc9dGhpcy5yZXNoYXBlKGUsWzEsbi5pbkNoYW5uZWxzLG4ub3V0Q2hhbm5lbHNdKTtyZXR1cm4gdGhpcy5yZXNoYXBlKHRoaXMuZnVzZWRCYXRjaE1hdE11bCh7YTptLGI6Zyx0cmFuc3Bvc2VBOiExLHRyYW5zcG9zZUI6ITEsYmlhczpyLGFjdGl2YXRpb246byxwcmVsdUFjdGl2YXRpb25XZWlnaHRzOmF9KSxuLm91dFNoYXBlKX12YXIgeT1mP3NbMF0qc1sxXSooc1syXSsxKTpzWzBdKnNbMl0qKHNbM10rMSkseD17ZGF0YUlkOnQuZGF0YUlkLHNoYXBlOlsxLHksbi5pbkNoYW5uZWxzXSxkdHlwZTp0LmR0eXBlfSxiPXUuc2hhcGU7dS5zaGFwZT11LnNoYXBlLnNsaWNlKCksdS5zaGFwZVt1LnNoYXBlLmxlbmd0aC0yXSsrLEMoX2UodS5zaGFwZSx4LnNoYXBlKSwoZnVuY3Rpb24oKXtyZXR1cm5cInBhY2tlZCByZXNoYXBlIFwiK3Uuc2hhcGUrXCIgdG8gXCIreC5zaGFwZStcIiBpc24ndCBmcmVlXCJ9KSk7dmFyIHc9dGhpcy5yZXNoYXBlKGUsWzEsbi5pbkNoYW5uZWxzLG4ub3V0Q2hhbm5lbHNdKSxFPXRoaXMuZnVzZWRCYXRjaE1hdE11bCh7YTp4LGI6dyx0cmFuc3Bvc2VBOiExLHRyYW5zcG9zZUI6ITEsYmlhczpyLGFjdGl2YXRpb246byxwcmVsdUFjdGl2YXRpb25XZWlnaHRzOmF9KSxSPXRoaXMudGV4RGF0YS5nZXQoRS5kYXRhSWQpO3JldHVybiBDKFIuaXNQYWNrZWQsKGZ1bmN0aW9uKCl7cmV0dXJuXCJiYXRjaE1hdE11bCByZXN1bHQgaXMgZXhwZWN0ZWQgdG8gYmUgcGFja2VkXCJ9KSksdS5zaGFwZT1iLFIuc2hhcGU9bi5vdXRTaGFwZSxMdC5tYWtlVGVuc29yRnJvbURhdGFJZChFLmRhdGFJZCxuLm91dFNoYXBlLEUuZHR5cGUpfSxvLnByb3RvdHlwZS5jb252MmRXaXRoSW0yUm93PWZ1bmN0aW9uKHQsZSxuLHIsbyxhKXt2YXIgaT1uLmZpbHRlcldpZHRoLHM9bi5maWx0ZXJIZWlnaHQsdT1uLmluQ2hhbm5lbHMsYz1uLm91dFdpZHRoLGw9bi5vdXRIZWlnaHQsaD1cImNoYW5uZWxzTGFzdFwiPT09bi5kYXRhRm9ybWF0LGY9aSpzKnUsZD1sKmMscD1bZixkXSx2PXQuc3F1ZWV6ZShbMF0pLG09ZS5yZXNoYXBlKFsxLGYsLTFdKSxnPW5ldyBMaShwLHYuc2hhcGUsbikseT10aGlzLmNvbXBpbGVBbmRSdW4oZyxbdl0pLnJlc2hhcGUoWzEscFswXSxwWzFdXSkseD1udWxsIT1yLGI9bnVsbCE9YSx3PW8/UXMobywhMCk6bnVsbCxDPW5ldyBIaSh5LnNoYXBlLFsxLGQsbi5vdXRDaGFubmVsc10sITAsITEseCx3LGIpLEU9W3ksbV07ciYmRS5wdXNoKHIpLGImJkUucHVzaChhKTt2YXIgUj10aGlzLmNvbXBpbGVBbmRSdW4oQyxFKTtyZXR1cm4gaD9SLnJlc2hhcGUoWzEsbCxjLG4ub3V0Q2hhbm5lbHNdKTpSLnJlc2hhcGUoWzEsbi5vdXRDaGFubmVscyxsLGNdKX0sby5wcm90b3R5cGUuZnVzZWRDb252MmQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5pbnB1dCxuPXQuZmlsdGVyLHI9dC5jb252SW5mbyxvPXQuYmlhcyxhPXQuYWN0aXZhdGlvbixzPXQucHJlbHVBY3RpdmF0aW9uV2VpZ2h0cztpZigxPT09ci5maWx0ZXJIZWlnaHQmJjE9PT1yLmZpbHRlcldpZHRoJiYxPT09ci5kaWxhdGlvbkhlaWdodCYmMT09PXIuZGlsYXRpb25XaWR0aCYmMT09PXIuc3RyaWRlSGVpZ2h0JiYxPT09ci5zdHJpZGVXaWR0aCYmKFwiU0FNRVwiPT09ci5wYWRJbmZvLnR5cGV8fFwiVkFMSURcIj09PXIucGFkSW5mby50eXBlKSlyZXR1cm4gdGhpcy5jb252MmRCeU1hdE11bChlLG4scixvLGEscyk7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9DT05WX0lNMkNPTFwiKSYmMT09PWUuc2hhcGVbMF0pcmV0dXJuIHRoaXMuY29udjJkV2l0aEltMlJvdyhlLG4scixvLGEscyk7dmFyIHU9bnVsbCE9byxjPW51bGwhPXMsbD1hP1FzKGEsITEpOm51bGwsaD1uZXcgUWEocix1LGwsYyksZj1bZSxuXTtyZXR1cm4gbyYmZi5wdXNoKG8pLHMmJmYucHVzaChzKSx0aGlzLmNvbXBpbGVBbmRSdW4oaCxmKX0sby5wcm90b3R5cGUuY29udjJkPWZ1bmN0aW9uKHQsZSxuKXtpZigxPT09bi5maWx0ZXJIZWlnaHQmJjE9PT1uLmZpbHRlcldpZHRoJiYxPT09bi5kaWxhdGlvbkhlaWdodCYmMT09PW4uZGlsYXRpb25XaWR0aCYmMT09PW4uc3RyaWRlSGVpZ2h0JiYxPT09bi5zdHJpZGVXaWR0aCYmKFwiU0FNRVwiPT09bi5wYWRJbmZvLnR5cGV8fFwiVkFMSURcIj09PW4ucGFkSW5mby50eXBlKSlyZXR1cm4gdGhpcy5jb252MmRCeU1hdE11bCh0LGUsbik7aWYoaSgpLmdldEJvb2woXCJXRUJHTF9DT05WX0lNMkNPTFwiKSYmMT09PXQuc2hhcGVbMF0pcmV0dXJuIHRoaXMuY29udjJkV2l0aEltMlJvdyh0LGUsbik7dmFyIHI9bmV3IFFhKG4pO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdCxlXSl9LG8ucHJvdG90eXBlLmNvbnYyZERlcklucHV0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgS2Eobik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihyLFt0LGVdKX0sby5wcm90b3R5cGUuY29udjJkRGVyRmlsdGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgcWEobik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihyLFt0LGVdKX0sby5wcm90b3R5cGUuZnVzZWREZXB0aHdpc2VDb252MkQ9ZnVuY3Rpb24odCl7dmFyIGUsbj10LmlucHV0LHI9dC5maWx0ZXIsbz10LmNvbnZJbmZvLGE9dC5iaWFzLHM9dC5hY3RpdmF0aW9uLHU9dC5wcmVsdUFjdGl2YXRpb25XZWlnaHRzLGM9aSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0RFUFRIV0lTRUNPTlZcIikmJm8uc3RyaWRlV2lkdGg8PTImJm8ub3V0Q2hhbm5lbHMvby5pbkNoYW5uZWxzPT0xLGw9cz9RcyhzLGMpOm51bGwsaD1bbixyXSxmPW51bGwhPWEsZD1udWxsIT11O3JldHVybiBmJiZoLnB1c2goYSksZCYmaC5wdXNoKHUpLGM/KGU9bmV3IHRpKG8sZixsLGQpLHRoaXMuY29tcGlsZUFuZFJ1bihlLGgpKTooZT1uZXcgWmEobyxmLGwsZCksdGhpcy5jb21waWxlQW5kUnVuKGUsaCkpfSxvLnByb3RvdHlwZS5kZXB0aHdpc2VDb252MkQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByO3JldHVybiBpKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tfREVQVEhXSVNFQ09OVlwiKSYmbi5zdHJpZGVXaWR0aDw9MiYmbi5vdXRDaGFubmVscy9uLmluQ2hhbm5lbHM9PTE/KHI9bmV3IHRpKG4pLHRoaXMuY29tcGlsZUFuZFJ1bihyLFt0LGVdKSk6KHI9bmV3IFphKG4pLHRoaXMuY29tcGlsZUFuZFJ1bihyLFt0LGVdKSl9LG8ucHJvdG90eXBlLmRlcHRod2lzZUNvbnYyRERlcklucHV0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgJGEobik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihyLFt0LGVdKX0sby5wcm90b3R5cGUuZGVwdGh3aXNlQ29udjJERGVyRmlsdGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgWWEobik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihyLFt0LGVdKX0sby5wcm90b3R5cGUuY29udjNkPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgSmEobik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihyLFt0LGVdKX0sby5wcm90b3R5cGUuY29udjNkRGVySW5wdXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBYYShuKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKHIsW3QsZV0pfSxvLnByb3RvdHlwZS5jb252M2REZXJGaWx0ZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBqYShuKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKHIsW3QsZV0pfSxvLnByb3RvdHlwZS5tYXhQb29sPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3ICRpKGUsXCJtYXhcIiwhMSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihuLFt0XSl9LG8ucHJvdG90eXBlLmF2Z1Bvb2w9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgJGkoZSxcImF2Z1wiLCExKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3RdLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUubWF4UG9vbEJhY2twcm9wPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPW5ldyAkaShyLFwibWF4XCIsITApLGE9dGhpcy5jb21waWxlQW5kUnVuKG8sW2VdKSxpPW5ldyB6aShyKSxzPXRoaXMuY29tcGlsZUFuZFJ1bihpLFt0LGFdLGUuZHR5cGUpO3JldHVybiBhLmRpc3Bvc2UoKSxzfSxvLnByb3RvdHlwZS5hdmdQb29sQmFja3Byb3A9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBJYShuKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKHIsW3RdLGUuZHR5cGUpfSxvLnByb3RvdHlwZS5jYXN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFBvKHQsZSx0aGlzKX0sby5wcm90b3R5cGUudW5zdGFjaz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LnNoYXBlW2VdLHI9bmV3IEFycmF5KHQucmFuay0xKSxvPTAsYT0wO2E8dC5yYW5rO2ErKylhIT09ZSYmKHJbbysrXT10LnNoYXBlW2FdKTt2YXIgaT1uZXcgQXJyYXkodC5yYW5rKS5maWxsKDApLHM9dC5zaGFwZS5zbGljZSgpO3NbZV09MTt2YXIgdT1uZXcgQXJyYXkobik7Zm9yKGE9MDthPHUubGVuZ3RoO2ErKylpW2VdPWEsdVthXT10aGlzLnNsaWNlKHQsaSxzKS5yZXNoYXBlKHIpO3JldHVybiB1fSxvLnByb3RvdHlwZS5hdmdQb29sM2Q9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgUWkoZSxcImF2Z1wiLCExKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3RdLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuYXZnUG9vbDNkQmFja3Byb3A9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBrYShuKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKHIsW3RdLGUuZHR5cGUpfSxvLnByb3RvdHlwZS5tYXhQb29sM2Q9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgUWkoZSxcIm1heFwiLCExKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKG4sW3RdLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUubWF4UG9vbDNkQmFja3Byb3A9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89bmV3IFFpKHIsXCJtYXhcIiwhMCksYT10aGlzLmNvbXBpbGVBbmRSdW4obyxbZV0pLGk9bmV3IEdpKHIpLHM9dGhpcy5jb21waWxlQW5kUnVuKGksW3QsYV0sZS5kdHlwZSk7cmV0dXJuIGEuZGlzcG9zZSgpLHN9LG8ucHJvdG90eXBlLnJlc2hhcGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnRleERhdGEuZ2V0KHQuZGF0YUlkKTtpZihuLmlzUGFja2VkJiYhX2UodC5zaGFwZSxlKSYmKG51bGw9PT1uLnRleHR1cmV8fCFfZShuLnNoYXBlLGUpKSl7dmFyIHI9dGhpcy5wYWNrZWRSZXNoYXBlKHQsZSk7cmV0dXJuIEx0Lm1ha2VUZW5zb3JGcm9tRGF0YUlkKHIuZGF0YUlkLHIuc2hhcGUsci5kdHlwZSl9cmV0dXJuIExvKHQsZSl9LG8ucHJvdG90eXBlLnJlc2l6ZUJpbGluZWFyPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPWkoKS5nZXRCb29sKFwiV0VCR0xfUEFDS19JTUFHRV9PUEVSQVRJT05TXCIpP25ldyBucyh0LnNoYXBlLGUsbixyKTpuZXcgZXModC5zaGFwZSxlLG4scik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihvLFt0XSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLnJlc2l6ZUJpbGluZWFyQmFja3Byb3A9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyB0cyh0LGUsbik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihyLFt0XSl9LG8ucHJvdG90eXBlLnJlc2l6ZU5lYXJlc3ROZWlnaGJvcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1uZXcgb3ModC5zaGFwZSxlLG4scik7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihvLFt0XSl9LG8ucHJvdG90eXBlLnJlc2l6ZU5lYXJlc3ROZWlnaGJvckJhY2twcm9wPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgcnModCxlLG4pO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4ocixbdF0pfSxvLnByb3RvdHlwZS5tdWx0aW5vbWlhbD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1lP3Q6Z28odCksYT1vLnNoYXBlWzBdLGk9by5zaGFwZVsxXSxzPW5ldyBxaShhLGksbiksdT1zLmdldEN1c3RvbVNldHVwRnVuYyhyKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKHMsW29dLFwiaW50MzJcIix1KX0sby5wcm90b3R5cGUub25lSG90PWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPW5ldyBLaSh0LnNpemUsZSxuLHIpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obyxbdF0pfSxvLnByb3RvdHlwZS5kaWFnPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBzaSh0LnNpemUpO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oZSxbdF0pfSxvLnByb3RvdHlwZS5ub25NYXhTdXBwcmVzc2lvbj1mdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiBkbihcInRmLm5vbk1heFN1cHByZXNzaW9uKCkgaW4gd2ViZ2wgbG9ja3MgdGhlIFVJIHRocmVhZC4gQ2FsbCB0Zi5ub25NYXhTdXBwcmVzc2lvbkFzeW5jKCkgaW5zdGVhZFwiKSxqbyh0LmRhdGFTeW5jKCksZS5kYXRhU3luYygpLG4scixvKX0sby5wcm90b3R5cGUuY3JvcEFuZFJlc2l6ZT1mdW5jdGlvbih0LGUsbixyLG8sYSl7dmFyIGk9bmV3IGVpKHQuc2hhcGUsZS5zaGFwZSxyLG8sYSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihpLFt0LGUsbl0sXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5kZXB0aFRvU3BhY2U9ZnVuY3Rpb24odCxlLG4pe0MoZT4xLChmdW5jdGlvbigpe3JldHVyblwiYmxvY2tTaXplIHNob3VsZCBiZSA+IDEgZm9yIGRlcHRoVG9TcGFjZSwgYnV0IHdhczogXCIrZX0pKTt2YXIgcj10LnNoYXBlWzBdLG89XCJOSFdDXCI9PT1uP3Quc2hhcGVbMV06dC5zaGFwZVsyXSxhPVwiTkhXQ1wiPT09bj90LnNoYXBlWzJdOnQuc2hhcGVbM10saT1cIk5IV0NcIj09PW4/dC5zaGFwZVszXTp0LnNoYXBlWzFdLHM9byplLHU9YSplLGM9aS8oZSplKSxsPW5ldyBpaShcIk5IV0NcIj09PW4/W3Iscyx1LGNdOltyLGMscyx1XSxlLG4pO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4obCxbdF0pfSxvLnByb3RvdHlwZS5zcGxpdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFpvKHQsZSxuKX0sby5wcm90b3R5cGUuc2NhdHRlck5EPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1acigwLHQsbiksbz1yLnNsaWNlUmFuayxhPXIubnVtVXBkYXRlcyxpPXIuc2xpY2VTaXplLHM9ci5zdHJpZGVzLHU9ci5vdXRwdXRTaXplLGM9W3UvaSxpXSxsPXQucmVzaGFwZShbYSxvXSksaD1lLnJlc2hhcGUoW2EsaV0pO2lmKDA9PT11KXJldHVybiBMbyhGbihbXSksbik7dmFyIGY9T24oMCksZD1uZXcgc3MoYSxvLGwucmFuayxoLnJhbmsscyxjKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGQsW2gsbCxmXSkucmVzaGFwZShuKX0sby5wcm90b3R5cGUuc3BhcnNlVG9EZW5zZT1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1acigwLHQsbiksYT1vLnNsaWNlUmFuayxpPW8ubnVtVXBkYXRlcyxzPW8uc3RyaWRlcyx1PW8ub3V0cHV0U2l6ZSxjPW5ldyBzcyhpLGEsdC5yYW5rLGUucmFuayxzLFt1LDFdLCExKTtyZXR1cm4gdGhpcy5jb21waWxlQW5kUnVuKGMsW2UsdCxyXSkucmVzaGFwZShuKX0sby5wcm90b3R5cGUuZmZ0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZmdEltcGwodCwhMSl9LG8ucHJvdG90eXBlLmlmZnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZmZ0SW1wbCh0LCEwKX0sby5wcm90b3R5cGUuZmZ0SW1wbD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMudGV4RGF0YS5nZXQodC5kYXRhSWQpLHI9bmV3IHBpKGZpLHQuc2hhcGUsZSksbz1uZXcgcGkoZGksdC5zaGFwZSxlKSxhPVt0aGlzLm1ha2VDb21wbGV4Q29tcG9uZW50VGVuc29ySW5mbyh0LG4uY29tcGxleFRlbnNvcnMucmVhbCksdGhpcy5tYWtlQ29tcGxleENvbXBvbmVudFRlbnNvckluZm8odCxuLmNvbXBsZXhUZW5zb3JzLmltYWcpXSxpPXRoaXMuY29tcGlsZUFuZFJ1bihyLGEpLHM9dGhpcy5jb21waWxlQW5kUnVuKG8sYSksdT10aGlzLmNvbXBsZXgoaSxzKS5hczJEKHQuc2hhcGVbMF0sdC5zaGFwZVsxXSk7cmV0dXJuIGkuZGlzcG9zZSgpLHMuZGlzcG9zZSgpLHV9LG8ucHJvdG90eXBlLmdhdGhlck5EPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5zaGFwZSxyPW5bbi5sZW5ndGgtMV0sbz1qcih0LGUpLGE9b1swXSxpPW9bMV0scz1vWzJdLHU9b1szXSxjPWUucmVzaGFwZShbaSxyXSksbD10LnJlc2hhcGUoW3Quc2l6ZS9zLHNdKSxoPW5ldyBnaShyLHUsW2ksc10pO3JldHVybiB0aGlzLmNvbXBpbGVBbmRSdW4oaCxbbCxjXSkucmVzaGFwZShhKX0sby5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbih0LGUsbil7aWYoXCJzdHJpbmdcIj09PShuPW58fGooZSkpKXt2YXIgcj1QKG4sayh0KSk7cmV0dXJuIHIuZmlsbChlKSxMdC5tYWtlVGVuc29yKHIsdCxuLHRoaXMpfXZhciBvPW5ldyB2aSh0LGUpLGE9by5nZXRDdXN0b21TZXR1cEZ1bmMoZSk7cmV0dXJuIHRoaXMuY29tcGlsZUFuZFJ1bihvLFtdLG4sYSl9LG8ucHJvdG90eXBlLm9uZXNMaWtlPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PT10LmR0eXBlKXRocm93IG5ldyBFcnJvcihcIm9uZXNMaWtlIGlzIG5vdCBzdXBwb3J0ZWQgdW5kZXIgc3RyaW5nIGR0eXBlXCIpO3JldHVybiB0aGlzLmZpbGwodC5zaGFwZSwxLHQuZHR5cGUpfSxvLnByb3RvdHlwZS56ZXJvc0xpa2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZmlsbCh0LnNoYXBlLFwic3RyaW5nXCI9PT10LmR0eXBlP1wiXCI6MCx0LmR0eXBlKX0sby5wcm90b3R5cGUubGluc3BhY2U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBXbyh0LGUsbil9LG8ucHJvdG90eXBlLm1ha2VUZW5zb3JJbmZvPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy53cml0ZShudWxsLHQsZSk7cmV0dXJuIHRoaXMudGV4RGF0YS5nZXQobikudXNhZ2U9bnVsbCx7ZGF0YUlkOm4sc2hhcGU6dCxkdHlwZTplfX0sby5wcm90b3R5cGUubWFrZU91dHB1dD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMubWFrZVRlbnNvckluZm8odCxlKS5kYXRhSWQ7cmV0dXJuIEx0Lm1ha2VUZW5zb3JGcm9tRGF0YUlkKG4sdCxlLHRoaXMpfSxvLnByb3RvdHlwZS51bnBhY2tUZW5zb3I9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFlzKHQuc2hhcGUpO3JldHVybiB0aGlzLnJ1bldlYkdMUHJvZ3JhbShlLFt0XSx0LmR0eXBlKX0sby5wcm90b3R5cGUucGFja1RlbnNvcj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgamkodC5zaGFwZSk7cmV0dXJuIHRoaXMucnVuV2ViR0xQcm9ncmFtKGUsW3RdLHQuZHR5cGUsbnVsbCwhMCl9LG8ucHJvdG90eXBlLnBhY2tlZFJlc2hhcGU9ZnVuY3Rpb24odCxlKXt2YXIgbj1bQWUodC5zaGFwZSldLmNvbmNhdChEZSh0LnNoYXBlKSkscj17ZHR5cGU6dC5kdHlwZSxzaGFwZTpuLGRhdGFJZDp0LmRhdGFJZH0sbz1bQWUoZSldLmNvbmNhdChEZShlKSksYT1uZXcgWmkobyxuKSxpPXRoaXMucnVuV2ViR0xQcm9ncmFtKGEsW3JdLHQuZHR5cGUsbnVsbCwhMCk7cmV0dXJue2RhdGFJZDppLmRhdGFJZCxzaGFwZTplLGR0eXBlOmkuZHR5cGV9fSxvLnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLnRleERhdGEuZ2V0KHQpLHI9bi5pc1BhY2tlZCxvPW4uc2hhcGUsYT1uLmR0eXBlLGk9VGUobyk7ZT1yP25ldyBhaShpKTpuZXcgb2koaSk7cmV0dXJue2R0eXBlOmEsc2hhcGU6byxkYXRhSWQ6dGhpcy5ydW5XZWJHTFByb2dyYW0oZSxbe3NoYXBlOmksZHR5cGU6YSxkYXRhSWQ6dH1dLGEsbnVsbCwhMCkuZGF0YUlkfX0sby5wcm90b3R5cGUucnVuV2ViR0xQcm9ncmFtPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dmFyIGE9dGhpczt2b2lkIDA9PT1vJiYobz0hMSk7dmFyIHM9dGhpcy5tYWtlVGVuc29ySW5mbyh0Lm91dHB1dFNoYXBlLG4pLHU9dGhpcy50ZXhEYXRhLmdldChzLmRhdGFJZCk7aWYodC5wYWNrZWRPdXRwdXQmJih1LmlzUGFja2VkPSEwKSx0Lm91dFBhY2tpbmdTY2hlbWU9PT1WdC5ERU5TRSl7dmFyIGM9WXQodC5vdXRwdXRTaGFwZSk7dS50ZXhTaGFwZT1jLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIDIqdH0pKX1pZihudWxsIT10Lm91dFRleFVzYWdlJiYodS51c2FnZT10Lm91dFRleFVzYWdlKSwwPT09ayhzLnNoYXBlKSlyZXR1cm4gdS52YWx1ZXM9QihzLmR0eXBlLDApLHM7dmFyIGw9W10saD1lLm1hcCgoZnVuY3Rpb24oZSl7aWYoXCJjb21wbGV4NjRcIj09PWUuZHR5cGUpdGhyb3cgbmV3IEVycm9yKFwiR1BHUFVQcm9ncmFtIGRvZXMgbm90IHN1cHBvcnQgY29tcGxleDY0IGlucHV0LiBGb3IgY29tcGxleDY0IGR0eXBlcywgcGxlYXNlIHNlcGFyYXRlIHRoZSBwcm9ncmFtIGludG8gcmVhbCBhbmQgaW1hZ2luYXJ5IHBhcnRzLlwiKTt2YXIgbj1hLnRleERhdGEuZ2V0KGUuZGF0YUlkKTtpZihudWxsPT1uLnRleHR1cmUpe2lmKCF0LnBhY2tlZElucHV0cyYmayhlLnNoYXBlKTw9aSgpLmdldE51bWJlcihcIldFQkdMX1NJWkVfVVBMT0FEX1VOSUZPUk1cIikpcmV0dXJue3NoYXBlOmUuc2hhcGUsdGV4RGF0YTpudWxsLGlzVW5pZm9ybTohMCx1bmlmb3JtVmFsdWVzOm4udmFsdWVzfTt0LnBhY2tlZElucHV0cyYmKG4uaXNQYWNrZWQ9ITAsbi5zaGFwZT1lLnNoYXBlKX1lbHNlIGlmKCEhbi5pc1BhY2tlZCE9ISF0LnBhY2tlZElucHV0cyllPW4uaXNQYWNrZWQ/YS51bnBhY2tUZW5zb3IoZSk6YS5wYWNrVGVuc29yKGUpLGwucHVzaChlKSxuPWEudGV4RGF0YS5nZXQoZS5kYXRhSWQpO2Vsc2UgaWYobi5pc1BhY2tlZCYmIV9lKG4uc2hhcGUsZS5zaGFwZSkpe3ZhciByPWUsbz1lLnNoYXBlO2Uuc2hhcGU9bi5zaGFwZSxlPWEucGFja2VkUmVzaGFwZShlLG8pLGwucHVzaChlKSxuPWEudGV4RGF0YS5nZXQoZS5kYXRhSWQpLHIuc2hhcGU9b31yZXR1cm4gYS51cGxvYWRUb0dQVShlLmRhdGFJZCkse3NoYXBlOmUuc2hhcGUsdGV4RGF0YTpuLGlzVW5pZm9ybTohMX19KSk7dGhpcy51cGxvYWRUb0dQVShzLmRhdGFJZCk7dmFyIGYsZD17c2hhcGU6cy5zaGFwZSx0ZXhEYXRhOnUsaXNVbmlmb3JtOiExfSxwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1cIlwiO2UuY29uY2F0KG4pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPW51bGwhPXQudGV4RGF0YSYmbnVsbCE9dC50ZXhEYXRhLnNsaWNlJiZ0LnRleERhdGEuc2xpY2UuZmxhdE9mZnNldD4wLG49dC5pc1VuaWZvcm0/XCJ1bmlmb3JtXCI6dC50ZXhEYXRhLnRleFNoYXBlO3IrPXQuc2hhcGUrXCJfXCIrbitcIl9cIitlfSkpO3ZhciBvPXQudXNlckNvZGUsYT10LmNvbnN0cnVjdG9yLm5hbWU7cmV0dXJuIGErPVwiX1wiK3IrXCJfXCIrb30odCxoLGQpLHY9dGhpcy5nZXRBbmRTYXZlQmluYXJ5KHAsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPWUudXNlckNvZGUsYT1uLm1hcCgoZnVuY3Rpb24odCxuKXt2YXIgcj17bG9naWNhbFNoYXBlOnQuc2hhcGUsdGV4U2hhcGU6dC5pc1VuaWZvcm0/bnVsbDp0LnRleERhdGEudGV4U2hhcGUsaXNVbmlmb3JtOnQuaXNVbmlmb3JtLGlzUGFja2VkOiF0LmlzVW5pZm9ybSYmdC50ZXhEYXRhLmlzUGFja2VkLGZsYXRPZmZzZXQ6bnVsbH07cmV0dXJuIG51bGwhPXQudGV4RGF0YSYmbnVsbCE9dC50ZXhEYXRhLnNsaWNlJiZ0LnRleERhdGEuc2xpY2UuZmxhdE9mZnNldD4wJiYoci5mbGF0T2Zmc2V0PXQudGV4RGF0YS5zbGljZS5mbGF0T2Zmc2V0KSx7bmFtZTplLnZhcmlhYmxlTmFtZXNbbl0sc2hhcGVJbmZvOnJ9fSkpLHM9YS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNoYXBlSW5mb30pKSx1PXtsb2dpY2FsU2hhcGU6ci5zaGFwZSx0ZXhTaGFwZTpyLnRleERhdGEudGV4U2hhcGUsaXNVbmlmb3JtOiExLGlzUGFja2VkOnIudGV4RGF0YS5pc1BhY2tlZCxmbGF0T2Zmc2V0Om51bGx9LGM9ZmEoYSx1LG8sZS5wYWNrZWRJbnB1dHMpLGw9dC5jcmVhdGVQcm9ncmFtKGMpLGg9bnVsbCxmPXQuZ2V0VW5pZm9ybUxvY2F0aW9uKGwsXCJOQU5cIiwhMSk7MT09PWkoKS5nZXROdW1iZXIoXCJXRUJHTF9WRVJTSU9OXCIpJiYoaD10LmdldFVuaWZvcm1Mb2NhdGlvbihsLFwiSU5GSU5JVFlcIiwhMSkpO2Zvcih2YXIgZD17fSxwPTA7cDxlLnZhcmlhYmxlTmFtZXMubGVuZ3RoO3ArKyl7dmFyIHY9ZS52YXJpYWJsZU5hbWVzW3BdO2Rbdl09dC5nZXRVbmlmb3JtTG9jYXRpb24obCx2LCExKSxkW1wib2Zmc2V0XCIrdl09dC5nZXRVbmlmb3JtTG9jYXRpb24obCxcIm9mZnNldFwiK3YsITEpfXJldHVybntwcm9ncmFtOmUsc291cmNlOmMsd2ViR0xQcm9ncmFtOmwsdW5pZm9ybUxvY2F0aW9uczpkLGluU2hhcGVJbmZvczpzLG91dFNoYXBlSW5mbzp1LGluZkxvYzpoLG5hbkxvYzpmfX0oYS5ncGdwdSx0LGgsZCl9KSksbT1udWxsIT10aGlzLmFjdGl2ZVRpbWVycztpZihtJiYoZj10aGlzLnN0YXJ0VGltZXIoKSksZnVuY3Rpb24odCxlLG4scixvKXtQaShlLmluU2hhcGVJbmZvcyxuKSxQaShbZS5vdXRTaGFwZUluZm9dLFtyXSk7dmFyIGE9ci50ZXhEYXRhLnRleHR1cmUscz1yLnRleERhdGEudGV4U2hhcGU7ci50ZXhEYXRhLmlzUGFja2VkP3Quc2V0T3V0cHV0UGFja2VkTWF0cml4VGV4dHVyZShhLHNbMF0sc1sxXSk6dC5zZXRPdXRwdXRNYXRyaXhUZXh0dXJlKGEsc1swXSxzWzFdKSx0LnNldFByb2dyYW0oZS53ZWJHTFByb2dyYW0pLDE9PT1pKCkuZ2V0TnVtYmVyKFwiV0VCR0xfVkVSU0lPTlwiKSYmbnVsbCE9PWUuaW5mTG9jJiZ0LmdsLnVuaWZvcm0xZihlLmluZkxvYywxLzApLG51bGwhPT1lLm5hbkxvYyYmdC5nbC51bmlmb3JtMWYoZS5uYW5Mb2MsTmFOKSxuLmZvckVhY2goKGZ1bmN0aW9uKG4scil7dmFyIG89ZS5wcm9ncmFtLnZhcmlhYmxlTmFtZXNbcl0sYT1lLnVuaWZvcm1Mb2NhdGlvbnNbb10saT1lLnVuaWZvcm1Mb2NhdGlvbnNbXCJvZmZzZXRcIitvXTtpZihudWxsIT1hKWlmKG4uaXNVbmlmb3JtKWlmKGsobi5zaGFwZSk8Mil0LmdsLnVuaWZvcm0xZihhLG4udW5pZm9ybVZhbHVlc1swXSk7ZWxzZXt2YXIgcz1uLnVuaWZvcm1WYWx1ZXM7cyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8KHM9bmV3IEZsb2F0MzJBcnJheShzKSksdC5nbC51bmlmb3JtMWZ2KGEscyl9ZWxzZSBudWxsIT1uLnRleERhdGEuc2xpY2UmJm51bGwhPWkmJnQuZ2wudW5pZm9ybTFpKGksbi50ZXhEYXRhLnNsaWNlLmZsYXRPZmZzZXQpLHQuc2V0SW5wdXRNYXRyaXhUZXh0dXJlKG4udGV4RGF0YS50ZXh0dXJlLGEscil9KSksbnVsbCE9byYmbyh0LGUud2ViR0xQcm9ncmFtKSx0LmV4ZWN1dGVQcm9ncmFtKCl9KHRoaXMuZ3BncHUsdixoLGQsciksbC5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gYS5kaXNwb3NlRGF0YSh0LmRhdGFJZCl9KSksbSYmKGY9dGhpcy5lbmRUaW1lcihmKSx0aGlzLmFjdGl2ZVRpbWVycy5wdXNoKHtuYW1lOnQuY29uc3RydWN0b3IubmFtZSxxdWVyeTp0aGlzLmdldFF1ZXJ5VGltZShmKX0pKSwhaSgpLmdldEJvb2woXCJXRUJHTF9MQVpJTFlfVU5QQUNLXCIpJiZ1LmlzUGFja2VkJiYhMT09PW8pe3ZhciBnPXRoaXMudW5wYWNrVGVuc29yKHMpO3JldHVybiB0aGlzLmRpc3Bvc2VEYXRhKHMuZGF0YUlkKSxnfXJldHVybiBzfSxvLnByb3RvdHlwZS5jb21waWxlQW5kUnVuPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dm9pZCAwPT09byYmKG89ITEpLG49bnx8ZVswXS5kdHlwZTt2YXIgYT10aGlzLnJ1bldlYkdMUHJvZ3JhbSh0LGUsbixyLG8pO3JldHVybiBMdC5tYWtlVGVuc29yRnJvbURhdGFJZChhLmRhdGFJZCxhLnNoYXBlLGEuZHR5cGUpfSxvLnByb3RvdHlwZS5nZXRBbmRTYXZlQmluYXJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQgaW4gdGhpcy5iaW5hcnlDYWNoZXx8KHRoaXMuYmluYXJ5Q2FjaGVbdF09ZSgpKSx0aGlzLmJpbmFyeUNhY2hlW3RdfSxvLnByb3RvdHlwZS5nZXRUZXh0dXJlTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHR1cmVNYW5hZ2VyfSxvLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZighdGhpcy5kaXNwb3NlZCl7aWYoIWkoKS5nZXRCb29sKFwiSVNfVEVTVFwiKSlPYmplY3Qua2V5cyh0aGlzLmJpbmFyeUNhY2hlKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmdwZ3B1LmRlbGV0ZVByb2dyYW0odC5iaW5hcnlDYWNoZVtlXS53ZWJHTFByb2dyYW0pLGRlbGV0ZSB0LmJpbmFyeUNhY2hlW2VdfSkpO3RoaXMudGV4dHVyZU1hbmFnZXIuZGlzcG9zZSgpLG51bGwhPXRoaXMuY2FudmFzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQmJnRoaXMuY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQ/dGhpcy5jYW52YXMucmVtb3ZlKCk6dGhpcy5jYW52YXM9bnVsbCx0aGlzLmdwZ3B1Q3JlYXRlZExvY2FsbHkmJih0aGlzLmdwZ3B1LnByb2dyYW09bnVsbCx0aGlzLmdwZ3B1LmRpc3Bvc2UoKSksdGhpcy5kaXNwb3NlZD0hMH19LG8ucHJvdG90eXBlLmZsb2F0UHJlY2lzaW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gbnVsbD09dGhpcy5mbG9hdFByZWNpc2lvblZhbHVlJiYodGhpcy5mbG9hdFByZWNpc2lvblZhbHVlPVplKChmdW5jdGlvbigpe2lmKCFpKCkuZ2V0KFwiV0VCR0xfUkVOREVSX0ZMT0FUMzJfRU5BQkxFRFwiKSl7dmFyIGU9aSgpLmdldEJvb2woXCJERUJVR1wiKTtpKCkuc2V0KFwiREVCVUdcIiwhMSk7dmFyIG49dC5hYnMoT24oMWUtOCkpLmRhdGFTeW5jKClbMF07aWYoaSgpLnNldChcIkRFQlVHXCIsZSksbj4wKXJldHVybiAzMn1yZXR1cm4gMTZ9KSkpLHRoaXMuZmxvYXRQcmVjaXNpb25WYWx1ZX0sby5wcm90b3R5cGUuZXBzaWxvbj1mdW5jdGlvbigpe3JldHVybiAzMj09PXRoaXMuZmxvYXRQcmVjaXNpb24oKT8xZS03OjFlLTR9LG8ucHJvdG90eXBlLnVwbG9hZFRvR1BVPWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy50ZXhEYXRhLmdldCh0KSxyPW4uc2hhcGUsbz1uLmR0eXBlLGE9bi52YWx1ZXMsaT1uLnRleHR1cmUscz1uLnVzYWdlLHU9bi5pc1BhY2tlZDtpZihudWxsPT1pKXt2YXIgYyxsPW51bGwhPXRoaXMuYWN0aXZlVGltZXJzO2wmJihjPWV0KCkpO3ZhciBoPW4udGV4U2hhcGU7aWYobnVsbD09aCYmKGg9TmUocix1KSxuLnRleFNoYXBlPWgpLG51bGwhPWEpe3ZhciBmPVRlKHIpLGQ9dm9pZCAwLHA9aFsxXSx2PWhbMF0sbT1hIGluc3RhbmNlb2YgVWludDhBcnJheTt1PyhwPShlPSR0KGhbMF0saFsxXSkpWzBdLHY9ZVsxXSxkPW5ldyBoaShmLFt2LHBdLG0pKTpkPW5ldyBsaShmLFt2LHBdLG0pO3ZhciBnPXRoaXMubWFrZVRlbnNvckluZm8oW3YscF0sbyk7dGhpcy50ZXhEYXRhLmdldChnLmRhdGFJZCkudXNhZ2U9bT96dC5QSVhFTFM6enQuVVBMT0FELHRoaXMuZ3BncHUudXBsb2FkRGVuc2VNYXRyaXhUb1RleHR1cmUodGhpcy5nZXRUZXh0dXJlKGcuZGF0YUlkKSxwLHYsYSk7dmFyIHk9dGhpcy5ydW5XZWJHTFByb2dyYW0oZCxbZ10sbyxudWxsLCEwKSx4PXRoaXMudGV4RGF0YS5nZXQoeS5kYXRhSWQpO24udGV4dHVyZT14LnRleHR1cmUsbi50ZXhTaGFwZT14LnRleFNoYXBlLG4uaXNQYWNrZWQ9eC5pc1BhY2tlZCxuLnVzYWdlPXgudXNhZ2UsdGhpcy5kaXNwb3NlRGF0YShnLmRhdGFJZCksdGhpcy50ZXhEYXRhLmRlbGV0ZSh5LmRhdGFJZCksbi52YWx1ZXM9bnVsbCxsJiYodGhpcy51cGxvYWRXYWl0TXMrPWV0KCktYyl9ZWxzZXt2YXIgYj10aGlzLmFjcXVpcmVUZXh0dXJlKGgscyxvLHUpO24udGV4dHVyZT1ifX19LG8ucHJvdG90eXBlLmNvbnZlcnRBbmRDYWNoZU9uQ1BVPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy50ZXhEYXRhLmdldCh0KSxyPW4uZHR5cGU7cmV0dXJuIHRoaXMucmVsZWFzZUdQVURhdGEodCksbnVsbCE9ZSYmKG4udmFsdWVzPWZ1bmN0aW9uKHQsZSl7aWYoXCJmbG9hdDMyXCI9PT1lfHxcImNvbXBsZXg2NFwiPT09ZSlyZXR1cm4gdDtpZihcImludDMyXCI9PT1lfHxcImJvb2xcIj09PWUpe2Zvcih2YXIgbj1cImludDMyXCI9PT1lP25ldyBJbnQzMkFycmF5KHQubGVuZ3RoKTpuZXcgVWludDhBcnJheSh0Lmxlbmd0aCkscj0wO3I8bi5sZW5ndGg7KytyKW5bcl09TWF0aC5yb3VuZCh0W3JdKTtyZXR1cm4gbn10aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGR0eXBlIFwiK2UpfShlLHIpKSxuLnZhbHVlc30sby5wcm90b3R5cGUuYWNxdWlyZVRleHR1cmU9ZnVuY3Rpb24odCxlLG4scil7aWYodGhpcy5udW1CeXRlc0luR1BVKz10aGlzLmNvbXB1dGVCeXRlcyh0LG4pLCF0aGlzLndhcm5lZEFib3V0TWVtb3J5JiZ0aGlzLm51bUJ5dGVzSW5HUFU+MTAyNCp0aGlzLm51bU1CQmVmb3JlV2FybmluZyoxMDI0KXt2YXIgbz0odGhpcy5udW1CeXRlc0luR1BVLzEwMjQvMTAyNCkudG9GaXhlZCgyKTt0aGlzLndhcm5lZEFib3V0TWVtb3J5PSEwLGNvbnNvbGUud2FybihcIkhpZ2ggbWVtb3J5IHVzYWdlIGluIEdQVTogXCIrbytcIiBNQiwgbW9zdCBsaWtlbHkgZHVlIHRvIGEgbWVtb3J5IGxlYWtcIil9cmV0dXJuIHRoaXMudGV4dHVyZU1hbmFnZXIuYWNxdWlyZVRleHR1cmUodCxlLHIpfSxvLnByb3RvdHlwZS5jb21wdXRlQnl0ZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXSp0WzFdKnooZSl9LG99KGJvKTtXdCgpJiZMdC5yZWdpc3RlckJhY2tlbmQoXCJ3ZWJnbFwiLChmdW5jdGlvbigpe3JldHVybiBuZXcgWnN9KSwyKTt2YXIgdHU9QW4oe3NxdWFyZV86ZnVuY3Rpb24odCl7dmFyIGU9bW4odCxcInhcIixcInNxdWFyZVwiKSxuPVtlXTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxuKXtyZXR1cm4gbihbZV0pLHQuc3F1YXJlKGUpfSkse3g6ZX0sbnVsbCxcIlNxdWFyZVwiLHt9LG4sW10pfX0pLGV1PVwiU3F1YXJlZERpZmZlcmVuY2VcIjt2YXIgbnU9QW4oe3NxdWFyZWREaWZmZXJlbmNlXzpmdW5jdGlvbih0LGUpe3ZhciBuLHI9bW4odCxcImFcIixcInNxdWFyZWREaWZmZXJlbmNlXCIpLG89bW4oZSxcImJcIixcInNxdWFyZWREaWZmZXJlbmNlXCIpO249TnQocixvKSxyPW5bMF0sbz1uWzFdLFJvKHIuc2hhcGUsby5zaGFwZSk7dmFyIGE9e2E6cixiOm99LGk9W3Isb107cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5zcXVhcmVkRGlmZmVyZW5jZShyLG8pO3JldHVybiBlKFtyLG9dKSxufSksYSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdLHI9ZVsxXSxvPU9uKDIpO3JldHVybnthOmZ1bmN0aW9uKCl7cmV0dXJuIHQubXVsKG4uc3ViKHIpLm11bChvKSl9LGI6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tdWwoci5zdWIobikubXVsKG8pKX19fSksZXUse30saSxbXSl9fSk7dmFyIHJ1PUFuKHthYnNfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJhYnNcIik7cmV0dXJuXCJjb21wbGV4NjRcIj09PWUuZHR5cGU/THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29tcGxleEFicyhlKX0pLHskeDplfSk6THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxuKXt2YXIgcj10LmFicyhlKTtyZXR1cm4gbihbZV0pLHJ9KSx7eDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQubXVsKG4udG9GbG9hdCgpLnN0ZXAoLTEpKX19fSksXCJBYnNcIil9fSksb3U9QW4oe2Fjb3NfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJhY29zXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQuYWNvcyhlKTtyZXR1cm4gbihbZV0pLHJ9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXZTdHJpY3QoT24oMSkuc3ViKG4udG9GbG9hdCgpLnNxdWFyZSgpKS5zcXJ0KCkpLm5lZygpfX19KSl9fSksYXU9QW4oe2Fjb3NoXzpmdW5jdGlvbih0KXt2YXIgZT1tbih0LFwieFwiLFwiYWNvc2hcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5hY29zaChlKTtyZXR1cm4gbihbZV0pLHJ9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXZTdHJpY3Qobi50b0Zsb2F0KCkuc3F1YXJlKCkuc3ViKDEpLnNxcnQoKSl9fX0pKX19KSxpdT1Bbih7YXNpbl86ZnVuY3Rpb24odCl7dmFyIGU9bW4odCxcInhcIixcImFzaW5cIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5hc2luKGUpO3JldHVybiBuKFtlXSkscn0pLHskeDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiB0LmRpdlN0cmljdChPbigxKS5zdWIobi50b0Zsb2F0KCkuc3F1YXJlKCkpLnNxcnQoKSl9fX0pKX19KSxzdT1Bbih7YXNpbmhfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJhc2luaFwiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxuKXt2YXIgcj10LmFzaW5oKGUpO3JldHVybiBuKFtlXSkscn0pLHskeDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiB0LmRpdlN0cmljdChPbigxKS5hZGQobi50b0Zsb2F0KCkuc3F1YXJlKCkpLnNxcnQoKSl9fX0pKX19KSx1dT1Bbih7YXRhbl86ZnVuY3Rpb24odCl7dmFyIGU9bW4odCxcInhcIixcImF0YW5cIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5hdGFuKGUpO3JldHVybiBuKFtlXSkscn0pLHskeDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiB0LmRpdihuLnRvRmxvYXQoKS5zcXVhcmUoKS5hZGQoMSkpfX19KSl9fSksY3U9QW4oe2F0YW5oXzpmdW5jdGlvbih0KXt2YXIgZT1tbih0LFwieFwiLFwiYXRhbmhcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5hdGFuaChlKTtyZXR1cm4gbihbZV0pLHJ9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXYoT24oMSkuc3ViKG4udG9GbG9hdCgpLnNxdWFyZSgpKSl9fX0pKX19KSxsdT1Bbih7Y2VpbF86ZnVuY3Rpb24odCl7dmFyIGU9bW4odCxcInhcIixcImNlaWxcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNlaWwoZSl9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQpe3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiBYbih0KX19fSkpfX0pLGh1PUFuKHtjbGlwQnlWYWx1ZV86ZnVuY3Rpb24odCxlLG4pe3ZhciByPW1uKHQsXCJ4XCIsXCJjbGlwQnlWYWx1ZVwiKTtDKGU8PW4sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjbGlwOiBtaW4gKFwiK2UrXCIpIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIG1heCAoXCIrbitcIikuXCJ9KSk7dmFyIG89W3JdLGE9e21pbjplLG1heDpufTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxvKXt2YXIgYT10LmNsaXAocixlLG4pO3JldHVybiBvKFtyXSksYX0pLHt4OnJ9LChmdW5jdGlvbih0LHIpe3ZhciBvPXJbMF07cmV0dXJue3g6ZnVuY3Rpb24oKXtyZXR1cm4gdC53aGVyZShvLmdyZWF0ZXJFcXVhbChlKS5sb2dpY2FsQW5kKG8ubGVzc0VxdWFsKG4pKSxYbih0KSl9fX0pLFwiQ2xpcEJ5VmFsdWVcIixhLG8pfX0pLGZ1PUFuKHtjb3NfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJjb3NcIiksbj1bZV07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5jb3MoZSk7cmV0dXJuIG4oW2VdKSxyfSkse3g6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiBuLnRvRmxvYXQoKS5zaW4oKS5uZWcoKS5tdWwodCl9fX0pLFwiQ29zXCIse30sbil9fSksZHU9QW4oe2Nvc2hfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJjb3NoXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQuY29zaChlKTtyZXR1cm4gbihbZV0pLHJ9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gbi50b0Zsb2F0KCkuc2luaCgpLm11bFN0cmljdCh0KX19fSkpfX0pLHB1PUFuKHtlcmZfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJlcmZcIik7cmV0dXJuIEMoXCJpbnQzMlwiPT09ZS5kdHlwZXx8XCJmbG9hdDMyXCI9PT1lLmR0eXBlLChmdW5jdGlvbigpe3JldHVyblwiSW5wdXQgZHR5cGUgbXVzdCBiZSBgaW50MzJgIG9yIGBmbG9hdDMyYC5cIn0pKSxcImludDMyXCI9PT1lLmR0eXBlJiYoZT1lLnRvRmxvYXQoKSksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxuKXt2YXIgcj10LmVyZihlKTtyZXR1cm4gbihbZV0pLHJ9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tdWwobi5zcXVhcmUoKS5uZWcoKS5leHAoKS5tdWwoMi9NYXRoLnNxcnQoTWF0aC5QSSkpKX19fSkpfX0pLHZ1PUFuKHtleHBfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJleHBcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5leHAoZSk7cmV0dXJuIG4oW3JdKSxyfSkse3g6ZX0sKGZ1bmN0aW9uKHQsZSl7cmV0dXJue3g6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tdWxTdHJpY3QoZVswXSl9fX0pLFwiRXhwXCIse30sW10sWyEwXSl9fSksbXU9QW4oe2V4cG0xXzpmdW5jdGlvbih0KXt2YXIgZT1tbih0LFwieFwiLFwiZXhwbTFcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5leHBtMShlKTtyZXR1cm4gbihbZV0pLHJ9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tdWwobi5leHAoKSl9fX0pKX19KSxndT1Bbih7Zmxvb3JfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJmbG9vclwiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuZmxvb3IoZSl9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQpe3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiBYbih0KX19fSkpfX0pLHl1PUFuKHtsb2dfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJsb2dcIiksbj1bZV07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5sb2coZSk7cmV0dXJuIG4oW2VdKSxyfSkse3g6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiB0LmRpdihuLnRvRmxvYXQoKSl9fX0pLFwiTG9nXCIse30sbil9fSkseHU9QW4oe2xvZzFwXzpmdW5jdGlvbih0KXt2YXIgZT1tbih0LFwieFwiLFwibG9nMXBcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5sb2cxcChlKTtyZXR1cm4gbihbZV0pLHJ9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXYobi5hZGQoMSkpfX19KSl9fSksYnU9QW4oe2xvZ1NpZ21vaWRfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJsb2dTaWdtb2lkXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQuc29mdHBsdXMoZS5uZWcoKSkubmVnKCk7cmV0dXJuIG4oW2VdKSxyfSkseyR4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIHQubXVsKG4ubmVnKCkuc2lnbW9pZCgpKX19fSkpfX0pLHd1PUFuKHtuZWdfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJuZWdcIiksbj1bZV07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5lZyhlKX0pLHt4OmV9LChmdW5jdGlvbih0KXtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiB0Lm5lZygpfX19KSxcIk5lZ1wiLHt9LG4pfX0pLEN1PUFuKHtyZWNpcHJvY2FsXzpmdW5jdGlvbih0KXt2YXIgZT1tbih0LFwieFwiLFwicmVjaXByb2NhbFwiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxuKXt2YXIgcj10LnJlY2lwcm9jYWwoZSk7cmV0dXJuIG4oW2VdKSxyfSkseyR4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZGl2KG4uc3F1YXJlKCkubmVnKCkpfX19KSl9fSksRXU9QW4oe3JvdW5kXzpmdW5jdGlvbih0KXt2YXIgZT1tbih0LFwieFwiLFwicm91bmRcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJvdW5kKGUpfSkseyR4OmV9LChmdW5jdGlvbih0KXtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gWG4odCl9fX0pKX19KSxSdT1Bbih7cnNxcnRfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJyc3FydFwiKSxuPVtlXTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxuKXt2YXIgcj10LnJzcXJ0KGUpO3JldHVybiBuKFtlXSkscn0pLHt4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJue3g6ZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXYobi5wb3coMS41KS5tdWwoMikpLm5lZygpfX19KSxcIlJzcXJ0XCIse30sbil9fSksSXU9QW4oe3NpZ21vaWRfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJzaWdtb2lkXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQuc2lnbW9pZChlKTtyZXR1cm4gbihbcl0pLHJ9KSx7eDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQubXVsKG4ubXVsKE9uKDEpLnN1YihuKSkpfX19KSxcIlNpZ21vaWRcIil9fSksa3U9QW4oe3NpZ25fOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJzaWduXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaWduKGUpfSkseyR4OmV9LChmdW5jdGlvbih0KXtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gWG4odCl9fX0pKX19KSxTdT1Bbih7aXNOYU5fOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJpc05hTlwiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNOYU4oZSl9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQpe3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiBYbih0KX19fSkpfX0pLEF1PUFuKHtpc0luZl86ZnVuY3Rpb24odCl7dmFyIGU9bW4odCxcInhcIixcImlzSW5mXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0luZihlKX0pLHskeDplfSwoZnVuY3Rpb24odCl7cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIFhuKHQpfX19KSl9fSksRHU9QW4oe2lzRmluaXRlXzpmdW5jdGlvbih0KXt2YXIgZT1tbih0LFwieFwiLFwiaXNGaW5pdGVcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzRmluaXRlKGUpfSkseyR4OmV9LChmdW5jdGlvbih0KXtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gWG4odCl9fX0pKX19KSxUdT1Bbih7c2luXzpmdW5jdGlvbih0KXt2YXIgZT1tbih0LFwieFwiLFwic2luXCIpLG49W2VdO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQuc2luKGUpO3JldHVybiBuKFtlXSkscn0pLHt4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJue3g6ZnVuY3Rpb24oKXtyZXR1cm4gbi50b0Zsb2F0KCkuY29zKCkubXVsKHQpfX19KSxcIlNpblwiLHt9LG4pfX0pLE51PUFuKHtzaW5oXzpmdW5jdGlvbih0KXt2YXIgZT1tbih0LFwieFwiLFwic2luaFwiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxuKXt2YXIgcj10LnNpbmgoZSk7cmV0dXJuIG4oW2VdKSxyfSkseyR4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIG4udG9GbG9hdCgpLmNvc2goKS5tdWxTdHJpY3QodCl9fX0pKX19KSxGdT1Bbih7c29mdHBsdXNfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJzb2Z0cGx1c1wiKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxuKXt2YXIgcj10LnNvZnRwbHVzKGUpO3JldHVybiBuKFtlXSkscn0pLHskeDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiB0Lm11bChuLnNpZ21vaWQoKSl9fX0pKX19KSxfdT1Bbih7c3FydF86ZnVuY3Rpb24odCl7dmFyIGU9bW4odCxcInhcIixcInNxcnRcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5zcXJ0KGUpO3JldHVybiBuKFtlXSkscn0pLHskeDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiB0LmRpdihuLnRvRmxvYXQoKS5zcXJ0KCkubXVsKDIpKX19fSkpfX0pLE91PUFuKHtzdGVwXzpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTApO3ZhciBuPW1uKHQsXCJ4XCIsXCJzdGVwXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGVwKG4sZSl9KSx7JHg6bn0sKGZ1bmN0aW9uKHQpe3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiBYbih0KX19fSkpfX0pLE11PUFuKHt0YW5fOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJ0YW5cIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC50YW4oZSk7cmV0dXJuIG4oW2VdKSxyfSkseyR4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZGl2KG4uY29zKCkuc3F1YXJlKCkpfX19KSl9fSksQnU9QW4oe3RhbmhfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJ0YW5oXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQudGFuaChlKTtyZXR1cm4gbihbcl0pLHJ9KSx7eDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIE9uKDEpLnN1YihuLnNxdWFyZSgpKS5tdWxTdHJpY3QodCl9fX0pLFwiVGFuaFwiLHt9LG51bGwsWyEwXSl9fSk7ZnVuY3Rpb24gUHUodCxlLG4scixvLGEpe3ZhciBpLHMsdT1tbih0LFwieFwiLFwiYmF0Y2hOb3JtXCIpLGM9bW4oZSxcIm1lYW5cIixcImJhdGNoTm9ybVwiKSxsPW1uKG4sXCJ2YXJpYW5jZVwiLFwiYmF0Y2hOb3JtXCIpO3JldHVybiBudWxsIT1vJiYoaT1tbihvLFwic2NhbGVcIixcImJhdGNoTm9ybVwiKSksbnVsbCE9ciYmKHM9bW4ocixcIm9mZnNldFwiLFwiYmF0Y2hOb3JtXCIpKSxDKDI9PT11LnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBiYXRjaE5vcm0zRDogeCBtdXN0IGJlIHJhbmsgMyBidXQgZ290IHJhbmsgXCIrdS5yYW5rK1wiLlwifSkpLEMoMj09PWMucmFua3x8MT09PWMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGJhdGNoTm9ybTJEOiBtZWFuIG11c3QgYmUgcmFuayAyIG9yIHJhbmsgMSBidXQgZ290IHJhbmsgXCIrYy5yYW5rK1wiLlwifSkpLEMoMj09PWwucmFua3x8MT09PWwucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGJhdGNoTm9ybTJEOiB2YXJpYW5jZSBtdXN0IGJlIHJhbmsgMiBvciByYW5rIDEgYnV0IGdvdCByYW5rIFwiK2wucmFuaytcIi5cIn0pKSxudWxsIT1pJiZDKDI9PT1pLnJhbmt8fDE9PT1pLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBiYXRjaE5vcm0yRDogc2NhbGUgbXVzdCBiZSByYW5rIDIgb3IgcmFuayAxIGJ1dCBnb3QgcmFuayBcIitpLnJhbmsrXCIuXCJ9KSksbnVsbCE9cyYmQygyPT09cy5yYW5rfHwxPT09cy5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gYmF0Y2hOb3JtMkQ6IG9mZnNldCBtdXN0IGJlIHJhbmsgMiBvciByYW5rIDEgYnV0IGdvdCByYW5rIFwiK3MucmFuaytcIi5cIn0pKSxVdSh1LGMsbCxzLGksYSl9ZnVuY3Rpb24gTHUodCxlLG4scixvLGEpe3ZhciBpLHMsdT1tbih0LFwieFwiLFwiYmF0Y2hOb3JtXCIpLGM9bW4oZSxcIm1lYW5cIixcImJhdGNoTm9ybVwiKSxsPW1uKG4sXCJ2YXJpYW5jZVwiLFwiYmF0Y2hOb3JtXCIpO3JldHVybiBudWxsIT1vJiYoaT1tbihvLFwic2NhbGVcIixcImJhdGNoTm9ybVwiKSksbnVsbCE9ciYmKHM9bW4ocixcIm9mZnNldFwiLFwiYmF0Y2hOb3JtXCIpKSxDKDM9PT11LnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBiYXRjaE5vcm0zRDogeCBtdXN0IGJlIHJhbmsgMyBidXQgZ290IHJhbmsgXCIrdS5yYW5rK1wiLlwifSkpLEMoMz09PWMucmFua3x8MT09PWMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGJhdGNoTm9ybTNEOiBtZWFuIG11c3QgYmUgcmFuayAzIG9yIHJhbmsgMSBidXQgZ290IHJhbmsgXCIrYy5yYW5rK1wiLlwifSkpLEMoMz09PWwucmFua3x8MT09PWwucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGJhdGNoTm9ybTNEOiB2YXJpYW5jZSBtdXN0IGJlIHJhbmsgMyBvciByYW5rIDEgYnV0IGdvdCByYW5rIFwiK2wucmFuaytcIi5cIn0pKSxudWxsIT1pJiZDKDM9PT1pLnJhbmt8fDE9PT1pLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBiYXRjaE5vcm0zRDogc2NhbGUgbXVzdCBiZSByYW5rIDMgb3IgcmFuayAxIGJ1dCBnb3QgcmFuayBcIitpLnJhbmsrXCIuXCJ9KSksbnVsbCE9cyYmQygzPT09cy5yYW5rfHwxPT09cy5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gYmF0Y2hOb3JtM0Q6IG9mZnNldCBtdXN0IGJlIHJhbmsgMyBvciByYW5rIDEgYnV0IGdvdCByYW5rIFwiK3MucmFuaytcIi5cIn0pKSxVdSh1LGMsbCxzLGksYSl9ZnVuY3Rpb24gV3UodCxlLG4scixvLGEpe3ZhciBpLHMsdT1tbih0LFwieFwiLFwiYmF0Y2hOb3JtXCIpLGM9bW4oZSxcIm1lYW5cIixcImJhdGNoTm9ybVwiKSxsPW1uKG4sXCJ2YXJpYW5jZVwiLFwiYmF0Y2hOb3JtXCIpO3JldHVybiBudWxsIT1vJiYoaT1tbihvLFwic2NhbGVcIixcImJhdGNoTm9ybVwiKSksbnVsbCE9ciYmKHM9bW4ocixcIm9mZnNldFwiLFwiYmF0Y2hOb3JtXCIpKSxDKDQ9PT11LnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBiYXRjaE5vcm00RDogeCBtdXN0IGJlIHJhbmsgNCBidXQgZ290IHJhbmsgXCIrdS5yYW5rK1wiLlwifSkpLEMoND09PWMucmFua3x8MT09PWMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGJhdGNoTm9ybTREOiBtZWFuIG11c3QgYmUgcmFuayA0IG9yIHJhbmsgMSBidXQgZ290IHJhbmsgXCIrYy5yYW5rK1wiLlwifSkpLEMoND09PWwucmFua3x8MT09PWwucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGJhdGNoTm9ybTREOiB2YXJpYW5jZSBtdXN0IGJlIHJhbmsgNCBvciByYW5rIDEgYnV0IGdvdCByYW5rIFwiK2wucmFuaytcIi5cIn0pKSxudWxsIT1pJiZDKDQ9PT1pLnJhbmt8fDE9PT1pLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBiYXRjaE5vcm00RDogc2NhbGUgbXVzdCBiZSByYW5rIDQgb3IgcmFuayAxIGJ1dCBnb3QgcmFuayBcIitpLnJhbmsrXCIuXCJ9KSksbnVsbCE9cyYmQyg0PT09cy5yYW5rfHwxPT09cy5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gYmF0Y2hOb3JtNEQ6IG9mZnNldCBtdXN0IGJlIHJhbmsgNCBvciByYW5rIDEgYnV0IGdvdCByYW5rIFwiK3MucmFuaytcIi5cIn0pKSxVdSh1LGMsbCxzLGksYSl9ZnVuY3Rpb24gVXUodCxlLG4scixvLGEpe251bGw9PWEmJihhPS4wMDEpO3ZhciBpLHMsdSxjPW1uKHQsXCJ4XCIsXCJiYXRjaE5vcm1cIiksbD1tbihlLFwibWVhblwiLFwiYmF0Y2hOb3JtXCIpLGg9bW4obixcInZhcmlhbmNlXCIsXCJiYXRjaE5vcm1cIik7bnVsbCE9byYmKGk9bW4obyxcInNjYWxlXCIsXCJiYXRjaE5vcm1cIikpLG51bGwhPXImJihzPW1uKHIsXCJvZmZzZXRcIixcImJhdGNoTm9ybVwiKSksQyhsLnJhbms9PT1oLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJCYXRjaCBub3JtYWxpemF0aW9uIGdyYWRpZW50IHJlcXVpcmVzIG1lYW4gYW5kIHZhcmlhbmNlIHRvIGhhdmUgZXF1YWwgcmFua3MuXCJ9KSksQyhudWxsPT1zfHxsLnJhbms9PT1zLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJCYXRjaCBub3JtYWxpemF0aW9uIGdyYWRpZW50IHJlcXVpcmVzIG1lYW4gYW5kIG9mZnNldCB0byBoYXZlIGVxdWFsIHJhbmtzLlwifSkpLEMobnVsbD09aXx8bC5yYW5rPT09aS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiQmF0Y2ggbm9ybWFsaXphdGlvbiBncmFkaWVudCByZXF1aXJlcyBtZWFuIGFuZCBzY2FsZSB0byBoYXZlIGVxdWFsIHJhbmtzLlwifSkpLHU9MD09PWMucmFua3x8MT09PWMucmFuaz9jLmFzNEQoMSwxLDEsYy5zaXplKToyPT09Yy5yYW5rP2MuYXM0RCgxLDEsYy5zaGFwZVswXSxjLnNoYXBlWzFdKTozPT09Yy5yYW5rP2MuYXM0RCgxLGMuc2hhcGVbMF0sYy5zaGFwZVsxXSxjLnNoYXBlWzJdKTpjO3ZhciBmPVtjLGwsaCxpXTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgbj10LmJhdGNoTm9ybWFsaXphdGlvbih1LFZ1KGwpLFZ1KGgpLGEsVnUoaSksVnUocykpO3JldHVybiBlKFtjLGwsaCxpXSksbn0pLHt4OmMsbWVhbjpsLHZhcmlhbmNlOmgsc2NhbGU6aSxvZmZzZXQ6c30sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZSxyPW5bMF0sbz1uWzFdLGk9blsyXSxzPW5bM10sYz1udWxsPT1zP09uKDEpOnMsbD1FbyhvLnNoYXBlLHUuc2hhcGUpLGg9W107aWYoMT09PW8ucmFuayl7Zm9yKHZhciBmPTA7Zjx1LnNoYXBlLmxlbmd0aC0xOysrZiloLnB1c2godS5zaGFwZVtmXSk7aC5wdXNoKDEpfXZhciBkPXIuc3ViKG8pLHA9dC5tdWwoYyksdj1SdShpLmFkZChPbihhKSkpLG09di5tdWwodikubXVsKHYpLm11bChPbigtLjUpKTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiAxPT09by5yYW5rP3QubXVsKExyKHYuYXM0RCgxLDEsMSxvLnNoYXBlWzBdKSxoKSkubXVsKGMpLnJlc2hhcGUoci5zaGFwZSk6dC5tdWwodikubXVsKGMpLnJlc2hhcGUoci5zaGFwZSl9LG1lYW46ZnVuY3Rpb24oKXt2YXIgdD12Lm11bChPbigtMSkpLm11bChwKTtyZXR1cm4gMT09PW8ucmFuayYmKHQ9dC5zdW0obCkpLHQucmVzaGFwZShvLnNoYXBlKX0sdmFyaWFuY2U6ZnVuY3Rpb24oKXt2YXIgdD1tLm11bChkKS5tdWwocCk7cmV0dXJuIDE9PT1vLnJhbmsmJih0PXQuc3VtKGwpKSx0LnJlc2hhcGUoby5zaGFwZSl9LHNjYWxlOmZ1bmN0aW9uKCl7dmFyIGU9ZC5tdWwodiksbj10Lm11bChlKTtyZXR1cm4gMT09PW8ucmFuayYmKG49bi5zdW0obCkpLG4ucmVzaGFwZShvLnNoYXBlKX0sb2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGU9dDtyZXR1cm4gMT09PW8ucmFuayYmKGU9ZS5zdW0obCkpLGUucmVzaGFwZShvLnNoYXBlKX19fSksXCJCYXRjaE5vcm1hbGl6YXRpb25cIix7dmFyaWFuY2VFcHNpbG9uOmF9LGYpLnJlc2hhcGUoYy5zaGFwZSl9ZnVuY3Rpb24gVnUodCl7cmV0dXJuIG51bGw9PXQ/bnVsbDowPT09dC5yYW5rP3QuYXMxRCgpOjE9PT10LnJhbms/dDoyPT09dC5yYW5rP3QuYXM0RCgxLDEsdC5zaGFwZVswXSx0LnNoYXBlWzFdKTozPT09dC5yYW5rP3QuYXM0RCgxLHQuc2hhcGVbMF0sdC5zaGFwZVsxXSx0LnNoYXBlWzJdKTp0fWZ1bmN0aW9uIHp1KCl7WGUoXCJ0Zi5iYXRjaE5vcm1hbGl6YXRpb24oKSBpcyBnb2luZyBhd2F5LiBVc2UgdGYuYmF0Y2hOb3JtKCkgaW5zdGVhZCwgYW5kIG5vdGUgdGhlIHBvc2l0aW9uYWwgYXJndW1lbnQgY2hhbmdlIG9mIHNjYWxlLCBvZmZzZXQsIGFuZCB2YXJpYW5jZUVwc2lsb25cIil9dmFyIEd1PUFuKHtiYXRjaE5vcm1hbGl6YXRpb24yZF86ZnVuY3Rpb24odCxlLG4scixvLGEpe3JldHVybiB2b2lkIDA9PT1yJiYocj0uMDAxKSx6dSgpLFB1KHQsZSxuLGEsbyxyKX19KSxIdT1Bbih7YmF0Y2hOb3JtYWxpemF0aW9uM2RfOmZ1bmN0aW9uKHQsZSxuLHIsbyxhKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9LjAwMSksenUoKSxMdSh0LGUsbixhLG8scil9fSkscXU9QW4oe2JhdGNoTm9ybWFsaXphdGlvbjRkXzpmdW5jdGlvbih0LGUsbixyLG8sYSl7cmV0dXJuIHZvaWQgMD09PXImJihyPS4wMDEpLHp1KCksV3UodCxlLG4sYSxvLHIpfX0pLEt1PUFuKHtiYXRjaE5vcm1hbGl6YXRpb25fOmZ1bmN0aW9uKHQsZSxuLHIsbyxhKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9LjAwMSksenUoKSxVdSh0LGUsbixhLG8scil9fSksanU9QW4oe2JhdGNoTm9ybV86VXV9KSxYdT1Bbih7YmF0Y2hOb3JtMmRfOlB1fSksWXU9QW4oe2JhdGNoTm9ybTNkXzpMdX0pLCR1PUFuKHtiYXRjaE5vcm00ZF86V3V9KTt2YXIgUXU9QW4oe2xvZ2ljYWxBbmRfOmZ1bmN0aW9uKHQsZSl7dmFyIG49bW4odCxcImFcIixcImxvZ2ljYWxBbmRcIixcImJvb2xcIikscj1tbihlLFwiYlwiLFwibG9naWNhbEFuZFwiLFwiYm9vbFwiKTtyZXR1cm4gUm8obi5zaGFwZSxyLnNoYXBlKSxMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5sb2dpY2FsQW5kKG4scil9KSx7YTpuLGI6cn0sbnVsbCxcIkxvZ2ljYWxBbmRcIil9fSksSnU9QW4oe2xvZ2ljYWxOb3RfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJsb2dpY2FsTm90XCIsXCJib29sXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5sb2dpY2FsTm90KGUpfSkseyR4OmV9KX19KSxadT1Bbih7bG9naWNhbE9yXzpmdW5jdGlvbih0LGUpe3ZhciBuPW1uKHQsXCJhXCIsXCJsb2dpY2FsT3JcIixcImJvb2xcIikscj1tbihlLFwiYlwiLFwibG9naWNhbE9yXCIsXCJib29sXCIpO3JldHVybiBSbyhuLnNoYXBlLHIuc2hhcGUpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmxvZ2ljYWxPcihuLHIpfSkseyRhOm4sJGI6cn0pfX0pLHRjPUFuKHtsb2dpY2FsWG9yXzpmdW5jdGlvbih0LGUpe3ZhciBuPW1uKHQsXCJhXCIsXCJsb2dpY2FsWG9yXCIsXCJib29sXCIpLHI9bW4oZSxcImJcIixcImxvZ2ljYWxYb3JcIixcImJvb2xcIik7cmV0dXJuIFJvKG4uc2hhcGUsci5zaGFwZSksWnUodCxlKS5sb2dpY2FsQW5kKFF1KHQsZSkubG9naWNhbE5vdCgpKX19KSxlYz1Bbih7d2hlcmVfOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1tbihlLFwiYVwiLFwid2hlcmVcIiksbz1tbihuLFwiYlwiLFwid2hlcmVcIiksYT1tbih0LFwiY29uZGl0aW9uXCIsXCJ3aGVyZVwiLFwiYm9vbFwiKTtyZXR1cm4gRShyLnNoYXBlLG8uc2hhcGUsXCJFcnJvciBpbiB3aGVyZTogXCIpLDE9PT1hLnJhbms/QyhhLnNoYXBlWzBdPT09ci5zaGFwZVswXSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBmaXJzdCBkaW1lbnNpb24gb2YgYGFgIG11c3QgbWF0Y2ggdGhlIHNpemUgb2YgYGNvbmRpdGlvbmAuXCJ9KSk6RShhLnNoYXBlLG8uc2hhcGUsXCJFcnJvciBpbiB3aGVyZTogXCIpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5zZWxlY3QoYSxyLG8pO3JldHVybiBlKFthXSksbn0pLHskY29uZGl0aW9uOmEsJGE6ciwkYjpvfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnskY29uZGl0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIFhuKG4pLnRvRmxvYXQoKX0sJGE6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tdWwobi5jYXN0KHQuZHR5cGUpKX0sJGI6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tdWwobi5sb2dpY2FsTm90KCkuY2FzdCh0LmR0eXBlKSl9fX0pKX19KSxuYz1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbixvO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsKGU9bW4odCxcImNvbmRpdGlvblwiLFwid2hlcmVBc3luY1wiLFwiYm9vbFwiKSkuZGF0YSgpXTtjYXNlIDE6cmV0dXJuIG49ci5zZW50KCksbz1uYShlLnNoYXBlLG4pLHQhPT1lJiZlLmRpc3Bvc2UoKSxbMixvXX19KSl9KSl9O3ZhciByYz1Bbih7YWRkXzpmdW5jdGlvbih0LGUpe3ZhciBuLHI9bW4odCxcImFcIixcImFkZFwiKSxvPW1uKGUsXCJiXCIsXCJhZGRcIik7bj1OdChyLG8pLHI9blswXSxvPW5bMV07dmFyIGE9Um8oci5zaGFwZSxvLnNoYXBlKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRkKHIsbyl9KSx7YTpyLGI6b30sKGZ1bmN0aW9uKHQpe3JldHVybnthOmZ1bmN0aW9uKCl7dmFyIGU9dCxuPUVvKHIuc2hhcGUsYSk7cmV0dXJuIG4ubGVuZ3RoPjAmJihlPWUuc3VtKG4pKSxlLnJlc2hhcGUoci5zaGFwZSl9LGI6ZnVuY3Rpb24oKXt2YXIgZT10LG49RW8oby5zaGFwZSxhKTtyZXR1cm4gbi5sZW5ndGg+MCYmKGU9ZS5zdW0obikpLGUucmVzaGFwZShvLnNoYXBlKX19fSksXCJBZGRcIil9fSksb2M9QW4oe2FkZE5fOmZ1bmN0aW9uKHQpe0MoQXJyYXkuaXNBcnJheSh0KSwoZnVuY3Rpb24oKXtyZXR1cm5cIlRoZSBhcmd1bWVudCBwYXNzZWQgdG8gdGYuYWRkTigpIG11c3QgYmUgYSBsaXN0IG9mIHRlbnNvcnNcIn0pKSxDKHQubGVuZ3RoPj0xLChmdW5jdGlvbigpe3JldHVyblwiTXVzdCBwYXNzIGF0IGxlYXN0IG9uZSB0ZW5zb3IgdG8gdGYuYWRkTigpLCBidXQgZ290IFwiK3QubGVuZ3RofSkpO3ZhciBlPXQubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiBtbih0LFwidGVuc29yc1wiK2UsXCJhZGROXCIpfSkpLG49ZVswXTtlLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKHQuZHR5cGUhPT1uLmR0eXBlKXRocm93IG5ldyBFcnJvcihcIkFsbCB0ZW5zb3JzIHBhc3NlZCB0byB0Zi5hZGROKCkgbXVzdCBoYXZlIHRoZSBzYW1lIGR0eXBlXCIpfSkpLGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoIVModC5zaGFwZSxuLnNoYXBlKSl0aHJvdyBuZXcgRXJyb3IoXCJBbGwgdGVuc29ycyBwYXNzZWQgdG8gdGYuYWRkTigpIG11c3QgaGF2ZSB0aGUgc2FtZSBzaGFwZVwiKX0pKTt2YXIgcj1lO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGROKGUpfSksciwoZnVuY3Rpb24odCl7dmFyIG49e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXtuW3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY2xvbmUoKX19KSksbn0pLFwiQWRkTlwiKX19KSxhYz1Bbih7YWRkU3RyaWN0XzpmdW5jdGlvbih0LGUpe3ZhciBuPW1uKHQsXCJhXCIsXCJhZGRTdHJpY3RcIikscj1tbihlLFwiYlwiLFwiYWRkU3RyaWN0XCIpO3JldHVybiBFKG4uc2hhcGUsci5zaGFwZSxcIkVycm9yIGluIGFkZFN0cmljdDogXCIpLG4uYWRkKHIpfX0pLGljPUFuKHthdGFuMl86ZnVuY3Rpb24odCxlKXt2YXIgbixyPW1uKHQsXCJhXCIsXCJhdGFuMlwiKSxvPW1uKGUsXCJiXCIsXCJhdGFuMlwiKTtuPU50KHIsbykscj1uWzBdLG89blsxXTt2YXIgYT1SbyhyLnNoYXBlLG8uc2hhcGUpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBuPXQuYXRhbjIocixvKTtyZXR1cm4gZShbcixvXSksbn0pLHskYTpyLCRiOm99LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF0scj1lWzFdO3JldHVybnskYTpmdW5jdGlvbigpe3ZhciBlPXJjKG4uc3F1YXJlKCksci5zcXVhcmUoKSksbz10Lm11bChyLmRpdihlKSksaT1FbyhuLnNoYXBlLGEpO3JldHVybiBpLmxlbmd0aD4wJiYobz1vLnN1bShpKSksby5yZXNoYXBlKG4uc2hhcGUpfSwkYjpmdW5jdGlvbigpe3ZhciBlPXJjKG4uc3F1YXJlKCksci5zcXVhcmUoKSksbz13dSh0Lm11bChuLmRpdihlKSkpLGk9RW8oci5zaGFwZSxhKTtyZXR1cm4gaS5sZW5ndGg+MCYmKG89by5zdW0oaSkpLG8ucmVzaGFwZShyLnNoYXBlKX19fSkpfX0pLHNjPUFuKHtkaXZfOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1tbih0LFwiYVwiLFwiZGl2XCIpLG89bW4oZSxcImJcIixcImRpdlwiKTtpZihuPU50KHIsbykscj1uWzBdLG89blsxXSxcImludDMyXCI9PT1yLmR0eXBlJiZcImludDMyXCI9PT1vLmR0eXBlKXJldHVybiBsYyhyLG8pO3ZhciBhPVJvKHIuc2hhcGUsby5zaGFwZSk7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5yZWFsRGl2aWRlKHIsbyk7cmV0dXJuIGUoW3Isb10pLG59KSx7YTpyLGI6b30sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXSxyPWVbMV07cmV0dXJue2E6ZnVuY3Rpb24oKXt2YXIgZT10LmRpdihyLnRvRmxvYXQoKSksbz1FbyhuLnNoYXBlLGEpO3JldHVybiBvLmxlbmd0aD4wP2Uuc3VtKG8pLnJlc2hhcGUobi5zaGFwZSk6ZX0sYjpmdW5jdGlvbigpe3ZhciBlPXQubXVsKG4udG9GbG9hdCgpKSxvPUVvKHIuc2hhcGUsYSk7by5sZW5ndGg+MCYmKGU9ZS5zdW0obykucmVzaGFwZShyLnNoYXBlKSk7dmFyIGk9ci5zcXVhcmUoKTtyZXR1cm4gZS5kaXYoaS50b0Zsb2F0KCkpLm5lZygpfX19KSxcIkRpdlwiKX19KSx1Yz1Bbih7ZGl2Tm9OYW5fOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1tbih0LFwiYVwiLFwiZGl2XCIpLG89bW4oZSxcImJcIixcImRpdlwiKTtyPShuPU50KHIsbykpWzBdLG89blsxXTt2YXIgYT1zYyhyLG8pLGk9WG4oYSkscz1vLmVxdWFsKGkpO3JldHVybiBlYyhzLGksYSl9fSksY2M9QW4oe2RpdlN0cmljdF86ZnVuY3Rpb24odCxlKXt2YXIgbj1tbih0LFwiYVwiLFwiZGl2XCIpLHI9bW4oZSxcImJcIixcImRpdlwiKTtyZXR1cm4gRShuLnNoYXBlLHIuc2hhcGUsXCJFcnJvciBpbiBkaXZpZGVTdHJpY3Q6IFwiKSxuLmRpdihyKX19KSxsYz1Bbih7Zmxvb3JEaXZfOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1tbih0LFwiYVwiLFwiZmxvb3JEaXZcIiksbz1tbihlLFwiYlwiLFwiZmxvb3JEaXZcIik7bj1OdChyLG8pLHI9blswXSxvPW5bMV07dmFyIGE9Um8oci5zaGFwZSxvLnNoYXBlKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgbj10LmZsb29yRGl2KHIsbyk7cmV0dXJuIGUoW3Isb10pLG59KSx7YTpyLGI6b30sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXSxyPWVbMV07cmV0dXJue2E6ZnVuY3Rpb24oKXt2YXIgZT10LmRpdihyLnRvRmxvYXQoKSksbz1FbyhuLnNoYXBlLGEpO3JldHVybiBvLmxlbmd0aD4wP2Uuc3VtKG8pLnJlc2hhcGUobi5zaGFwZSk6ZX0sYjpmdW5jdGlvbigpe3ZhciBlPXQubXVsKG4udG9GbG9hdCgpKSxvPUVvKHIuc2hhcGUsYSk7by5sZW5ndGg+MCYmKGU9ZS5zdW0obykucmVzaGFwZShyLnNoYXBlKSk7dmFyIGk9ci5zcXVhcmUoKTtyZXR1cm4gZS5kaXYoaS50b0Zsb2F0KCkpLm5lZygpfX19KSxcIkZsb29yRGl2XCIpfX0pLGhjPUFuKHttYXhpbXVtXzpmdW5jdGlvbih0LGUpe3ZhciBuLHI9bW4odCxcImFcIixcIm1heGltdW1cIiksbz1tbihlLFwiYlwiLFwibWF4aW11bVwiKTtyZXR1cm4gbj1OdChyLG8pLHI9blswXSxvPW5bMV0sXCJib29sXCI9PT1yLmR0eXBlJiYocj1yLnRvSW50KCksbz1vLnRvSW50KCkpLFJvKHIuc2hhcGUsby5zaGFwZSksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgbj10Lm1heGltdW0ocixvKTtyZXR1cm4gZShbcixvXSksbn0pLHthOnIsYjpvfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdLHI9ZVsxXTtyZXR1cm57YTpmdW5jdGlvbigpe3JldHVybiB0Lm11bChuLmdyZWF0ZXJFcXVhbChyKS50b0Zsb2F0KCkpfSxiOmZ1bmN0aW9uKCl7cmV0dXJuIHQubXVsKG4ubGVzcyhyKS50b0Zsb2F0KCkpfX19KSxcIk1heGltdW1cIil9fSksZmM9QW4oe21heGltdW1TdHJpY3RfOmZ1bmN0aW9uKHQsZSl7dmFyIG49bW4odCxcImFcIixcIm1heGltdW1TdHJpY3RcIikscj1tbihlLFwiYlwiLFwibWF4aW11bVN0cmljdFwiKTtyZXR1cm4gRShuLnNoYXBlLHIuc2hhcGUsXCJFcnJvciBpbiBtYXhpbXVtU3RyaWN0OiBcIiksbi5tYXhpbXVtKHIpfX0pLGRjPUFuKHttaW5pbXVtXzpmdW5jdGlvbih0LGUpe3ZhciBuLHI9bW4odCxcImFcIixcIm1pbmltdW1cIiksbz1tbihlLFwiYlwiLFwibWluaW11bVwiKTtyZXR1cm4gbj1OdChyLG8pLHI9blswXSxvPW5bMV0sXCJib29sXCI9PT1yLmR0eXBlJiYocj1yLnRvSW50KCksbz1vLnRvSW50KCkpLFJvKHIuc2hhcGUsby5zaGFwZSksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgbj10Lm1pbmltdW0ocixvKTtyZXR1cm4gZShbcixvXSksbn0pLHthOnIsYjpvfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdLHI9ZVsxXTtyZXR1cm57YTpmdW5jdGlvbigpe3JldHVybiB0Lm11bChuLmxlc3NFcXVhbChyKS50b0Zsb2F0KCkpfSxiOmZ1bmN0aW9uKCl7cmV0dXJuIHQubXVsKG4uZ3JlYXRlcihyKS50b0Zsb2F0KCkpfX19KSxcIk1pbmltdW1cIil9fSkscGM9QW4oe21pbmltdW1TdHJpY3RfOmZ1bmN0aW9uKHQsZSl7dmFyIG49bW4odCxcImFcIixcIm1pbmltdW1TdHJpY3RcIikscj1tbihlLFwiYlwiLFwibWluaW11bVN0cmljdFwiKTtyZXR1cm4gRShuLnNoYXBlLHIuc2hhcGUsXCJFcnJvciBpbiBtaW5pbXVtU3RyaWN0OiBcIiksbi5taW5pbXVtKHIpfX0pLHZjPUFuKHttb2RfOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1tbih0LFwiYVwiLFwibW9kXCIpLG89bW4oZSxcImJcIixcIm1vZFwiKTtuPU50KHIsbykscj1uWzBdLG89blsxXTt2YXIgYT1SbyhyLnNoYXBlLG8uc2hhcGUpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBuPXQubW9kKHIsbyk7cmV0dXJuIGUoW3Isb10pLG59KSx7JGE6ciwkYjpvfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdLHI9ZVsxXTtyZXR1cm57JGE6ZnVuY3Rpb24oKXt2YXIgZT1FbyhuLnNoYXBlLGEpO3JldHVybiBlLmxlbmd0aD4wP3Quc3VtKGUpLnJlc2hhcGUobi5zaGFwZSk6dH0sJGI6ZnVuY3Rpb24oKXt2YXIgZT10Lm11bChuLmRpdihyKS5mbG9vcigpLm5lZygpKSxvPUVvKHIuc2hhcGUsYSk7cmV0dXJuIG8ubGVuZ3RoPjA/ZS5zdW0obykucmVzaGFwZShyLnNoYXBlKTplfX19KSl9fSksbWM9QW4oe21vZFN0cmljdF86ZnVuY3Rpb24odCxlKXt2YXIgbj1tbih0LFwiYVwiLFwibW9kU3RyaWN0XCIpLHI9bW4oZSxcImJcIixcIm1vZFN0cmljdFwiKTtyZXR1cm4gRShuLnNoYXBlLHIuc2hhcGUsXCJFcnJvciBpbiBtb2RTdHJpY3Q6IFwiKSxuLm1vZChyKX19KSxnYz1Bbih7bXVsXzpmdW5jdGlvbih0LGUpe3ZhciBuLHI9bW4odCxcImFcIixcIm11bFwiKSxvPW1uKGUsXCJiXCIsXCJtdWxcIik7bj1OdChyLG8pLHI9blswXSxvPW5bMV07dmFyIGE9Um8oci5zaGFwZSxvLnNoYXBlKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgbj10Lm11bHRpcGx5KHIsbyk7cmV0dXJuIGUoW3Isb10pLG59KSx7YTpyLGI6b30sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXSxyPWVbMV07cmV0dXJue2E6ZnVuY3Rpb24oKXt2YXIgZT10Lm11bChyLnRvRmxvYXQoKSksbz1FbyhuLnNoYXBlLGEpO3JldHVybiBvLmxlbmd0aD4wP2Uuc3VtKG8pLnJlc2hhcGUobi5zaGFwZSk6ZX0sYjpmdW5jdGlvbigpe3ZhciBlPXQubXVsKG4udG9GbG9hdCgpKSxvPUVvKHIuc2hhcGUsYSk7cmV0dXJuIG8ubGVuZ3RoPjA/ZS5zdW0obykucmVzaGFwZShyLnNoYXBlKTplfX19KSxcIk11bFwiKX19KSx5Yz1Bbih7bXVsU3RyaWN0XzpmdW5jdGlvbih0LGUpe3ZhciBuPW1uKHQsXCJhXCIsXCJtdWxcIikscj1tbihlLFwiYlwiLFwibXVsXCIpO3JldHVybiBFKG4uc2hhcGUsci5zaGFwZSxcIkVycm9yIGluIG11bHRpcGx5U3RyaWN0OiBcIiksbi5tdWwocil9fSkseGM9QW4oe3Bvd186ZnVuY3Rpb24odCxlKXt2YXIgbixyPW1uKHQsXCJiYXNlXCIsXCJwb3dcIiksbz1tbihlLFwiZXhwXCIsXCJwb3dcIik7bj1OdChyLG8pLHI9blswXSxvPW5bMV07dmFyIGE9Um8oci5zaGFwZSxvLnNoYXBlKSxpPVtyLG9dO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBuPXQucG93KHIsbyk7cmV0dXJuIGUoW3IsbyxuXSksbn0pLHthOnIsYjpvfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdLHI9ZVsxXSxvPWVbMl07cmV0dXJue2E6ZnVuY3Rpb24oKXt2YXIgZT1yLnRvRmxvYXQoKSxvPXQubXVsKGUubXVsKG4ucG93KGUuc3ViKE9uKDEpKSkpKSxpPUVvKG4uc2hhcGUsYSk7cmV0dXJuIGkubGVuZ3RoPjAmJihvPW8uc3VtKGkpKSxvLnJlc2hhcGUobi5zaGFwZSl9LGI6ZnVuY3Rpb24oKXt2YXIgZT1uLmdyZWF0ZXIoMCksaT1uLmxvZygpLndoZXJlKGUsWG4obikpLHM9dC5tdWwoby5tdWwoaSkpLHU9RW8oci5zaGFwZSxhKTtyZXR1cm4gdS5sZW5ndGg+MCYmKHM9cy5zdW0odSkpLHMucmVzaGFwZShyLnNoYXBlKX19fSksXCJQb3dcIix7fSxpLFshMF0pfX0pLGJjPUFuKHtwb3dTdHJpY3RfOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEUodC5zaGFwZSxlLnNoYXBlLFwiRXJyb3IgaW4gcG93U3RyaWN0OiBcIiksdC5wb3coZSl9fSksd2M9QW4oe3NxdWFyZWREaWZmZXJlbmNlU3RyaWN0XzpmdW5jdGlvbih0LGUpe3ZhciBuPW1uKHQsXCJhXCIsXCJzcXVhcmVkRGlmZmVyZW5jZVN0cmljdFwiKSxyPW1uKGUsXCJiXCIsXCJzcXVhcmVkRGlmZmVyZW5jZVN0cmljdFwiKTtyZXR1cm4gRShuLnNoYXBlLHIuc2hhcGUsXCJFcnJvciBpbiBzcXVhcmVkRGlmZmVyZW5jZVN0cmljdDogXCIpLG4uc3F1YXJlZERpZmZlcmVuY2Uocil9fSksQ2M9QW4oe3N1Yl86ZnVuY3Rpb24odCxlKXt2YXIgbixyPW1uKHQsXCJhXCIsXCJzdWJcIiksbz1tbihlLFwiYlwiLFwic3ViXCIpO249TnQocixvKSxyPW5bMF0sbz1uWzFdO3ZhciBhPVJvKHIuc2hhcGUsby5zaGFwZSk7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN1YnRyYWN0KHIsbyl9KSx7YTpyLGI6b30sKGZ1bmN0aW9uKHQpe3JldHVybnthOmZ1bmN0aW9uKCl7dmFyIGU9dCxuPUVvKHIuc2hhcGUsYSk7cmV0dXJuIG4ubGVuZ3RoPjAmJihlPWUuc3VtKG4pKSxlLnJlc2hhcGUoci5zaGFwZSl9LGI6ZnVuY3Rpb24oKXt2YXIgZT10LG49RW8oby5zaGFwZSxhKTtyZXR1cm4gbi5sZW5ndGg+MCYmKGU9ZS5zdW0obikpLGUubmVnKCkucmVzaGFwZShvLnNoYXBlKX19fSksXCJTdWJcIil9fSksRWM9QW4oe3N1YlN0cmljdF86ZnVuY3Rpb24odCxlKXt2YXIgbj1tbih0LFwiYVwiLFwic3ViU3RyaWN0XCIpLHI9bW4oZSxcImJcIixcInN1YlN0cmljdFwiKTtyZXR1cm4gRShuLnNoYXBlLHIuc2hhcGUsXCJFcnJvciBpbiBzdWJTdHJpY3Q6IFwiKSxuLnN1YihyKX19KTt2YXIgUmM9QW4oe2VxdWFsXzpmdW5jdGlvbih0LGUpe3ZhciBuLHI9bW4odCxcImFcIixcImVxdWFsXCIpLG89bW4oZSxcImJcIixcImVxdWFsXCIpO3JldHVybiBuPU50KHIsbykscj1uWzBdLG89blsxXSxSbyhyLnNoYXBlLG8uc2hhcGUpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVxdWFsKHIsbyl9KSx7JGE6ciwkYjpvfSl9fSksSWM9QW4oe2VxdWFsU3RyaWN0XzpmdW5jdGlvbih0LGUpe3ZhciBuPW1uKHQsXCJhXCIsXCJlcXVhbFN0cmljdFwiKSxyPW1uKGUsXCJiXCIsXCJlcXVhbFN0cmljdFwiKTtyZXR1cm4gRShuLnNoYXBlLHIuc2hhcGUsXCJFcnJvciBpbiBlcXVhbFN0cmljdDogXCIpLG4uZXF1YWwocil9fSksa2M9QW4oe2dyZWF0ZXJfOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1tbih0LFwiYVwiLFwiZ3JlYXRlclwiKSxvPW1uKGUsXCJiXCIsXCJncmVhdGVyXCIpO3JldHVybiBuPU50KHIsbykscj1uWzBdLG89blsxXSxSbyhyLnNoYXBlLG8uc2hhcGUpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdyZWF0ZXIocixvKX0pLHthOnIsYjpvfSxudWxsLFwiR3JlYXRlclwiKX19KSxTYz1Bbih7Z3JlYXRlckVxdWFsXzpmdW5jdGlvbih0LGUpe3ZhciBuLHI9bW4odCxcImFcIixcImdyZWF0ZXJFcXVhbFwiKSxvPW1uKGUsXCJiXCIsXCJncmVhdGVyRXF1YWxcIik7cmV0dXJuIG49TnQocixvKSxyPW5bMF0sbz1uWzFdLFJvKHIuc2hhcGUsby5zaGFwZSksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgbj10LmdyZWF0ZXJFcXVhbChyLG8pO3JldHVybiBlKFtyLG9dKSxufSkse2E6cixiOm99LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF0scj1lWzFdO3JldHVybnthOmZ1bmN0aW9uKCl7cmV0dXJuIFhuKG4pfSxiOmZ1bmN0aW9uKCl7cmV0dXJuIFhuKHIpfX19KSxcIkdyZWF0ZXJFcXVhbFwiKX19KSxBYz1Bbih7Z3JlYXRlckVxdWFsU3RyaWN0XzpmdW5jdGlvbih0LGUpe3ZhciBuPW1uKHQsXCJhXCIsXCJncmVhdGVyRXF1YWxTdHJpY3RcIikscj1tbihlLFwiYlwiLFwiZ3JlYXRlckVxdWFsU3RyaWN0XCIpO3JldHVybiBFKG4uc2hhcGUsci5zaGFwZSxcIkVycm9yIGluIGdyZWF0ZXJFcXVhbFN0cmljdDogXCIpLG4uZ3JlYXRlckVxdWFsKHIpfX0pLERjPUFuKHtncmVhdGVyU3RyaWN0XzpmdW5jdGlvbih0LGUpe3ZhciBuPW1uKHQsXCJhXCIsXCJncmVhdGVyU3RyaWN0XCIpLHI9bW4oZSxcImJcIixcImdyZWF0ZXJTdHJpY3RcIik7cmV0dXJuIEUobi5zaGFwZSxyLnNoYXBlLFwiRXJyb3IgaW4gZ3JlYXRlclN0cmljdDogXCIpLG4uZ3JlYXRlcihyKX19KSxUYz1Bbih7bGVzc186ZnVuY3Rpb24odCxlKXt2YXIgbixyPW1uKHQsXCJhXCIsXCJsZXNzXCIpLG89bW4oZSxcImJcIixcImxlc3NcIik7cmV0dXJuIG49TnQocixvKSxyPW5bMF0sbz1uWzFdLFJvKHIuc2hhcGUsby5zaGFwZSksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQubGVzcyhyLG8pfSkse2E6cixiOm99LG51bGwsXCJMZXNzXCIpfX0pLE5jPUFuKHtsZXNzRXF1YWxfOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1tbih0LFwiYVwiLFwibGVzc0VxdWFsXCIpLG89bW4oZSxcImJcIixcImxlc3NFcXVhbFwiKTtyZXR1cm4gbj1OdChyLG8pLHI9blswXSxvPW5bMV0sUm8oci5zaGFwZSxvLnNoYXBlKSxMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBuPXQubGVzc0VxdWFsKHIsbyk7cmV0dXJuIGUoW3Isb10pLG59KSx7YTpyLGI6b30sbnVsbCxcIkxlc3NFcXVhbFwiKX19KSxGYz1Bbih7bGVzc0VxdWFsU3RyaWN0XzpmdW5jdGlvbih0LGUpe3ZhciBuPW1uKHQsXCJhXCIsXCJsZXNzRXF1YWxTdHJpY3RcIikscj1tbihlLFwiYlwiLFwibGVzc0VxdWFsU3RyaWN0XCIpO3JldHVybiBFKG4uc2hhcGUsci5zaGFwZSxcIkVycm9yIGluIGxlc3NFcXVhbFN0cmljdDogXCIpLG4ubGVzc0VxdWFsKHIpfX0pLF9jPUFuKHtsZXNzU3RyaWN0XzpmdW5jdGlvbih0LGUpe3ZhciBuPW1uKHQsXCJhXCIsXCJsZXNzU3RyaWN0XCIpLHI9bW4oZSxcImJcIixcImxlc3NTdHJpY3RcIik7cmV0dXJuIEUobi5zaGFwZSxyLnNoYXBlLFwiRXJyb3IgaW4gbGVzc1N0cmljdDogXCIpLG4ubGVzcyhyKX19KSxPYz1Bbih7bm90RXF1YWxfOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj1tbih0LFwiYVwiLFwibm90RXF1YWxcIiksbz1tbihlLFwiYlwiLFwibm90RXF1YWxcIik7cmV0dXJuIG49TnQocixvKSxyPW5bMF0sbz1uWzFdLFJvKHIuc2hhcGUsby5zaGFwZSksTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQubm90RXF1YWwocixvKX0pLHthOnIsYjpvfSxudWxsLFwiTm90RXF1YWxcIil9fSksTWM9QW4oe25vdEVxdWFsU3RyaWN0XzpmdW5jdGlvbih0LGUpe3ZhciBuPW1uKHQsXCJhXCIsXCJub3RFcXVhbFN0cmljdFwiKSxyPW1uKGUsXCJiXCIsXCJub3RFcXVhbFN0cmljdFwiKTtyZXR1cm4gRShuLnNoYXBlLHIuc2hhcGUsXCJFcnJvciBpbiBub3RFcXVhbFN0cmljdDogXCIpLG4ubm90RXF1YWwocil9fSk7ZnVuY3Rpb24gQmModCxlKXtmb3IodmFyIG49W10scj10O3I8ZTsrK3Ipbi5wdXNoKHIpO3JldHVybiBufWZ1bmN0aW9uIFBjKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDsrK24pZm9yKHZhciByPTA7cjx0W25dLmxlbmd0aDsrK3IpZS5wdXNoKHRbbl1bcl0pO3JldHVybiBlfXZhciBMYz1Bbih7Z2F0aGVyXzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49MCk7dmFyIHI9bW4odCxcInhcIixcImdhdGhlclwiKSxvPW1uKGUsXCJpbmRpY2VzXCIsXCJnYXRoZXJcIixcImludDMyXCIpO249TyhuLHIuc2hhcGUpWzBdO3ZhciBhPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9dC5zaGFwZVtuXSxvPVtdLGE9MSxpPTEscz0wO3M8bjtzKyspby5wdXNoKHQuc2hhcGVbc10pLGEqPXQuc2hhcGVbc107Zm9yKHM9MDtzPGUucmFuaztzKyspby5wdXNoKGUuc2hhcGVbc10pO2ZvcihzPW4rMTtzPHQucmFuaztzKyspby5wdXNoKHQuc2hhcGVbc10pLGkqPXQuc2hhcGVbc107cmV0dXJue2JhdGNoU2l6ZTphLHNsaWNlU2l6ZTppLGRpbVNpemU6cixvdXRwdXRTaGFwZTpvfX0ocixvLG4pO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBhPXQuZ2F0aGVyKHIsby5mbGF0dGVuKCksbik7cmV0dXJuIGUoW29dKSxhfSkse3g6cixpbmRpY2VzOm99LChmdW5jdGlvbih0LGUpe3ZhciBvPWVbMF07cmV0dXJue3g6ZnVuY3Rpb24oKXt2YXIgZT1yLnNoYXBlLGE9by5zaXplLGk9ZS5zbGljZSgwLG4pLHM9aS5sZW5ndGgsdT1lLnNsaWNlKG4sZS5sZW5ndGgpLnNsaWNlKDEpLGM9dS5sZW5ndGgsbD1CYygwLHMpLGg9QmMocysxLHMrMStjKSxmPVBjKFtpLFthXSx1XSksZD10LnJlc2hhcGUoZikscD1vLnJlc2hhcGUoW2FdKSx2PVBjKFtbc10sbCxoXSksbT1kLnRyYW5zcG9zZSh2KSxnPVdjKG0scCxyLnNoYXBlW25dKSx5PVJuKHYpO3JldHVybiBnPWcudHJhbnNwb3NlKHkpfSxpbmRpY2VzOmZ1bmN0aW9uKCl7cmV0dXJuIG99fX0pLFwiR2F0aGVyXCIse2F4aXM6bn0pLnJlc2hhcGUoYS5vdXRwdXRTaGFwZSl9fSksV2M9QW4oe3Vuc29ydGVkU2VnbWVudFN1bV86ZnVuY3Rpb24odCxlLG4pe3ZhciByPW1uKHQsXCJ4XCIsXCJ1bnNvcnRlZFNlZ21lbnRTdW1cIiksbz1tbihlLFwic2VnbWVudElkc1wiLFwidW5zb3J0ZWRTZWdtZW50U3VtXCIsXCJpbnQzMlwiKTtyZXR1cm4gQyhBKG4pLChmdW5jdGlvbigpe3JldHVyblwibnVtU2VnbWVudHMgbXVzdCBiZSBvZiBkdHlwZSBpbnRcIn0pKSxMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBhPXQudW5zb3J0ZWRTZWdtZW50U3VtKHIsbyxuKTtyZXR1cm4gZShbb10pLGF9KSx7JHg6cn0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57JHg6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIG49aGMoZSxYbihlKSkscj1MYyh0LG4pLG89U2MoZSxPbigwLFwiaW50MzJcIikpLGE9ci5yYW5rLW8ucmFuayxpPTA7aTxhOysraSlvPXdyKG8saSsxKTtvPVF1KG8sem4oci5zaGFwZSxcImJvb2xcIikpO3ZhciBzPVhuKHIpO3JldHVybiBlYyhvLHIscyl9KHQsbil9fX0pKX19KTt2YXIgVWM9ZnVuY3Rpb24odCxlLG8pe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixhLGkscyx1LGMsbCxoLGYsZCxwLHYsbTtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmZvcihuPW1uKHQsXCJ0ZW5zb3JcIixcImJvb2xNYXNrXCIpLGE9bW4oZSxcIm1hc2tcIixcImJvb2xNYXNrXCIsXCJib29sXCIpLGk9bnVsbD09bz8wOm8scz1hLnJhbmssdT1uLnNoYXBlLEMocz4wLChmdW5jdGlvbigpe3JldHVyblwibWFzayBjYW5ub3QgYmUgc2NhbGFyXCJ9KSksRSh1LnNsaWNlKGksaStzKSxhLnNoYXBlLFwibWFzaydzIHNoYXBlIG11c3QgbWF0Y2ggdGhlIGZpcnN0IEsgZGltZW5zaW9ucyBvZiB0ZW5zb3IncyBzaGFwZSxcIiksYz0xLGw9aTtsPGkrcztsKyspYyo9dVtsXTtyZXR1cm4gaD11LnNsaWNlKDAsaSkuY29uY2F0KFtjXSx1LnNsaWNlKGkrcykpLGY9bi5yZXNoYXBlKGgpLGQ9YS5yZXNoYXBlKFstMV0pLFs0LG5jKGQpXTtjYXNlIDE6cmV0dXJuIHA9ci5zZW50KCksdj1wLnNxdWVlemUoWzFdKSxtPUxjKGYsdixpKSx0IT09biYmbi5kaXNwb3NlKCksZSE9PWEmJmEuZGlzcG9zZSgpLHYuZGlzcG9zZSgpLGYuZGlzcG9zZSgpLGQuZGlzcG9zZSgpLHAuZGlzcG9zZSgpLFsyLG1dfX0pKX0pKX07ZnVuY3Rpb24gVmModCxlLG4scixvLGEsaSl7dm9pZCAwPT09YSYmKGE9XCJOSFdDXCIpLEModC5sZW5ndGg9PT1lLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJMZW5ndGggb2YgaW5TaGFwZSAoXCIrdC5sZW5ndGgrXCIpIGFuZCByYW5rIG9mIGR5IChcIitlLnJhbmsrXCIpIG11c3QgbWF0Y2hcIn0pKTt2YXIgcz10LHU9ZSxjPSExOzM9PT1lLnJhbmsmJihjPSEwLHU9ZS5hczREKDEsZS5zaGFwZVswXSxlLnNoYXBlWzFdLGUuc2hhcGVbMl0pLHM9WzEsdFswXSx0WzFdLHRbMl1dKSxDKDQ9PT1zLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYyZERlcklucHV0OiBpblNoYXBlIG11c3QgYmUgbGVuZ3RoIDQsIGJ1dCBnb3QgbGVuZ3RoIFwiK3MubGVuZ3RoK1wiLlwifSkpLEMoND09PXUucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYyZERlcklucHV0OiBkeSBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIFwiK3UucmFua30pKSxDKDQ9PT1uLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MmREZXJJbnB1dDogZmlsdGVyIG11c3QgYmUgcmFuayA0LCBidXQgZ290IHJhbmsgXCIrbi5yYW5rfSkpO3ZhciBsPVwiTkhXQ1wiPT09YT9zWzNdOnNbMV0saD1cIk5IV0NcIj09PWE/dS5zaGFwZVszXTp1LnNoYXBlWzFdO0MobD09PW4uc2hhcGVbMl0sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MmREZXJJbnB1dDogZGVwdGggb2YgaW5wdXQgKFwiK2wrXCIpIG11c3QgbWF0Y2ggaW5wdXQgZGVwdGggZm9yIGZpbHRlciBcIituLnNoYXBlWzJdK1wiLlwifSkpLEMoaD09PW4uc2hhcGVbM10sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MmREZXJJbnB1dDogZGVwdGggb2Ygb3V0cHV0IChcIitoK1wiKSBtdXN0IG1hdGNoIG91dHB1dCBkZXB0aCBmb3IgZmlsdGVyIFwiK24uc2hhcGVbM10rXCIuXCJ9KSksbnVsbCE9aSYmQyhBKG8pLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjJkRGVySW5wdXQ6IHBhZCBtdXN0IGJlIGFuIGludGVnZXIgd2hlbiB1c2luZywgZGltUm91bmRpbmdNb2RlIFwiK2krXCIgYnV0IGdvdCBwYWQgXCIrbytcIi5cIn0pKTt2YXIgZj1CbyhhKSxkPVNvKHMsbi5zaGFwZSxyLDEsbyxpLCExLGYpLHA9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgcj10LmNvbnYyZERlcklucHV0KHUsbixkKTtyZXR1cm4gZShbbix1XSkscn0pLHtkeTREOnUsZmlsdGVyOm59LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF0scz1lWzFdO3JldHVybntkeTREOmZ1bmN0aW9uKCl7cmV0dXJuIHFjKHQsbixyLG8sYSwxLGkpfSxmaWx0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gamModCxzLG4uc2hhcGUscixvLGEsaSl9fX0pKTtyZXR1cm4gYz9wLmFzM0QocC5zaGFwZVsxXSxwLnNoYXBlWzJdLHAuc2hhcGVbM10pOnB9ZnVuY3Rpb24gemModCl7dmFyIGU9ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/W3QsdCx0XToyPT09dC5sZW5ndGg/W3RbMF0sdFsxXSwxXTp0fSh0KSxuPWVbMF0scj1lWzFdLG89ZVsyXTtyZXR1cm4gMT09PW4mJjE9PT1yJiYxPT09b31mdW5jdGlvbiBHYyh0LGUsbixyLG8pe0ModC5sZW5ndGg9PT1lLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJMZW5ndGggb2YgaW5TaGFwZSAoXCIrdC5sZW5ndGgrXCIpIGFuZCByYW5rIG9mIGR5IChcIitlLnJhbmsrXCIpIG11c3QgbWF0Y2hcIn0pKTt2YXIgYT10LGk9ZSxzPSExOzQ9PT1lLnJhbmsmJihzPSEwLGk9ZS5hczVEKDEsZS5zaGFwZVswXSxlLnNoYXBlWzFdLGUuc2hhcGVbMl0sZS5zaGFwZVszXSksYT1bMSx0WzBdLHRbMV0sdFsyXSx0WzNdXSk7dmFyIHU9YVs0XSxjPWkuc2hhcGVbNF07Qyg1PT09YS5sZW5ndGgsKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252M2REZXJJbnB1dDogaW5TaGFwZSBtdXN0IGJlIGxlbmd0aCA1LCBidXQgZ290IGxlbmd0aCBcIithLmxlbmd0aCtcIi5cIn0pKSxDKDU9PT1pLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252M2REZXJJbnB1dDogZHkgbXVzdCBiZSByYW5rIDUsIGJ1dCBnb3QgcmFuayBcIitpLnJhbmt9KSksQyg1PT09bi5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjNkRGVySW5wdXQ6IGZpbHRlciBtdXN0IGJlIHJhbmsgNSwgYnV0IGdvdCByYW5rIFwiK24ucmFua30pKSxDKHU9PT1uLnNoYXBlWzNdLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjNkRGVySW5wdXQ6IGRlcHRoIG9mIGlucHV0IChcIit1K1wiKSBtdXN0IG1hdGNoIGlucHV0IGRlcHRoIGZvciBmaWx0ZXIgXCIrbi5zaGFwZVszXStcIi5cIn0pKSxDKGM9PT1uLnNoYXBlWzRdLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjNkRGVySW5wdXQ6IGRlcHRoIG9mIG91dHB1dCAoXCIrYytcIikgbXVzdCBtYXRjaCBvdXRwdXQgZGVwdGggZm9yIGZpbHRlciBcIituLnNoYXBlWzRdK1wiLlwifSkpO3ZhciBsPUFvKGEsbi5zaGFwZSxyLDEsbyksaD1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb252M2REZXJJbnB1dChpLG4sbCl9KSx7ZHk1RDppfSk7cmV0dXJuIHM/aC5hczREKGguc2hhcGVbMV0saC5zaGFwZVsyXSxoLnNoYXBlWzNdLGguc2hhcGVbNF0pOmh9dmFyIEhjPUFuKHtjb252MWRfOmZ1bmN0aW9uKHQsZSxuLHIsbyxhLGkpe3ZvaWQgMD09PW8mJihvPVwiTldDXCIpLHZvaWQgMD09PWEmJihhPTEpO3ZhciBzPW1uKHQsXCJ4XCIsXCJjb252MWRcIiksdT1tbihlLFwiZmlsdGVyXCIsXCJjb252MWRcIiksYz1zLGw9ITE7Mj09PXMucmFuayYmKGw9ITAsYz1zLmFzM0QoMSxzLnNoYXBlWzBdLHMuc2hhcGVbMV0pKSxDKDM9PT1jLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MWQ6IGlucHV0IG11c3QgYmUgcmFuayAzLCBidXQgZ290IHJhbmsgXCIrYy5yYW5rK1wiLlwifSkpLEMoMz09PXUucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYxZDogZmlsdGVyIG11c3QgYmUgcmFuayAzLCBidXQgZ290IHJhbmsgXCIrdS5yYW5rK1wiLlwifSkpLG51bGwhPWkmJkMoQShyKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYxZDogcGFkIG11c3QgYmUgYW4gaW50ZWdlciB3aGVuIHVzaW5nLCBkaW1Sb3VuZGluZ01vZGUgXCIraStcIiBidXQgZ290IHBhZCBcIityK1wiLlwifSkpLEMoYy5zaGFwZVsyXT09PXUuc2hhcGVbMV0sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MWQ6IGRlcHRoIG9mIGlucHV0IChcIitjLnNoYXBlWzJdK1wiKSBtdXN0IG1hdGNoIGlucHV0IGRlcHRoIGZvciBmaWx0ZXIgXCIrdS5zaGFwZVsxXStcIi5cIn0pKSxDKE1vKG4sYSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MUQ6IEVpdGhlciBzdHJpZGUgb3IgZGlsYXRpb24gbXVzdCBiZSAxLiBHb3Qgc3RyaWRlIFwiK24rXCIgYW5kIGRpbGF0aW9uICdcIithK1wiJ1wifSkpLEMoXCJOV0NcIj09PW8sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MWQ6IGdvdCBkYXRhRm9ybWF0IG9mIFwiK28rXCIgYnV0IG9ubHkgTldDIGlzIGN1cnJlbnRseSBzdXBwb3J0ZWQuXCJ9KSk7dmFyIGg9dS5hczREKDEsdS5zaGFwZVswXSx1LnNoYXBlWzFdLHUuc2hhcGVbMl0pLGY9Yy5hczREKGMuc2hhcGVbMF0sMSxjLnNoYXBlWzFdLGMuc2hhcGVbMl0pLGQ9cWMoZixoLFsxLG5dLHIsXCJOSFdDXCIsWzEsYV0saSk7cmV0dXJuIGw/ZC5hczJEKGQuc2hhcGVbMl0sZC5zaGFwZVszXSk6ZC5hczNEKGQuc2hhcGVbMF0sZC5zaGFwZVsyXSxkLnNoYXBlWzNdKX19KSxxYz1Bbih7Y29udjJkXzpmdW5jdGlvbih0LGUsbixyLG8sYSxpKXt2b2lkIDA9PT1vJiYobz1cIk5IV0NcIiksdm9pZCAwPT09YSYmKGE9WzEsMV0pO3ZhciBzPW1uKHQsXCJ4XCIsXCJjb252MmRcIiksdT1tbihlLFwiZmlsdGVyXCIsXCJjb252MmRcIiksYz1zLGw9ITE7Mz09PXMucmFuayYmKGw9ITAsYz1zLmFzNEQoMSxzLnNoYXBlWzBdLHMuc2hhcGVbMV0scy5zaGFwZVsyXSkpLEMoND09PWMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYyZDogaW5wdXQgbXVzdCBiZSByYW5rIDQsIGJ1dCBnb3QgcmFuayBcIitjLnJhbmsrXCIuXCJ9KSksQyg0PT09dS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjJkOiBmaWx0ZXIgbXVzdCBiZSByYW5rIDQsIGJ1dCBnb3QgcmFuayBcIit1LnJhbmsrXCIuXCJ9KSksbnVsbCE9aSYmQyhBKHIpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjJkOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gdXNpbmcsIGRpbVJvdW5kaW5nTW9kZSBcIitpK1wiIGJ1dCBnb3QgcGFkIFwiK3IrXCIuXCJ9KSk7dmFyIGg9XCJOSFdDXCI9PT1vP2Muc2hhcGVbM106Yy5zaGFwZVsxXTtDKGg9PT11LnNoYXBlWzJdLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjJkOiBkZXB0aCBvZiBpbnB1dCAoXCIraCtcIikgbXVzdCBtYXRjaCBpbnB1dCBkZXB0aCBmb3IgZmlsdGVyIFwiK3Uuc2hhcGVbMl0rXCIuXCJ9KSksQyhNbyhuLGEpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjJEOiBFaXRoZXIgc3RyaWRlcyBvciBkaWxhdGlvbnMgbXVzdCBiZSAxLiBHb3Qgc3RyaWRlcyBcIituK1wiIGFuZCBkaWxhdGlvbnMgJ1wiK2ErXCInXCJ9KSk7dmFyIGY9Qm8obyksZD1TbyhjLnNoYXBlLHUuc2hhcGUsbixhLHIsaSwhMSxmKSxwPVt1LGNdLHY9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgbj10LmNvbnYyZChjLHUsZCk7cmV0dXJuIGUoW3UsY10pLG59KSx7eDpjLGZpbHRlcjp1fSwoZnVuY3Rpb24odCxlKXt2YXIgaT1lLHM9aVswXSx1PWlbMV07cmV0dXJuIEMoT28oYSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBncmFkaWVudCBvZiBjb252MkQ6IGRpbGF0aW9uIHJhdGVzIGdyZWF0ZXIgdGhhbiAxIGFyZSBub3QgeWV0IHN1cHBvcnRlZCBpbiBncmFkaWVudHMuIEdvdCBkaWxhdGlvbnMgJ1wiK2ErXCInXCJ9KSkse3g6ZnVuY3Rpb24oKXtyZXR1cm4gWGModS5zaGFwZSx0LHMsbixyLG8pfSxmaWx0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gamModSx0LHMuc2hhcGUsbixyLG8pfX19KSxcIkNvbnYyRFwiLGQscCk7cmV0dXJuIGw/di5hczNEKHYuc2hhcGVbMV0sdi5zaGFwZVsyXSx2LnNoYXBlWzNdKTp2fX0pLEtjPUFuKHtjb252M2RfOmZ1bmN0aW9uKHQsZSxuLHIsbyxhKXt2b2lkIDA9PT1vJiYobz1cIk5ESFdDXCIpLHZvaWQgMD09PWEmJihhPVsxLDEsMV0pO3ZhciBpPW1uKHQsXCJ4XCIsXCJjb252M2RcIikscz1tbihlLFwiZmlsdGVyXCIsXCJjb252M2RcIiksdT1pLGM9ITE7ND09PWkucmFuayYmKGM9ITAsdT1pLmFzNUQoMSxpLnNoYXBlWzBdLGkuc2hhcGVbMV0saS5zaGFwZVsyXSxpLnNoYXBlWzNdKSksQyg1PT09dS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjNkOiBpbnB1dCBtdXN0IGJlIHJhbmsgNSwgYnV0IGdvdCByYW5rIFwiK3UucmFuaytcIi5cIn0pKSxDKDU9PT1zLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252M2Q6IGZpbHRlciBtdXN0IGJlIHJhbmsgNSwgYnV0IGdvdCByYW5rIFwiK3MucmFuaytcIi5cIn0pKSxDKHUuc2hhcGVbNF09PT1zLnNoYXBlWzNdLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjNkOiBkZXB0aCBvZiBpbnB1dCAoXCIrdS5zaGFwZVs0XStcIikgbXVzdCBtYXRjaCBpbnB1dCBkZXB0aCBmb3IgZmlsdGVyIFwiK3Muc2hhcGVbM10rXCIuXCJ9KSksQyhmdW5jdGlvbih0LGUpe3JldHVybiB6Yyh0KXx8emMoZSl9KG4sYSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252M0Q6IEVpdGhlciBzdHJpZGVzIG9yIGRpbGF0aW9ucyBtdXN0IGJlIDEuIEdvdCBzdHJpZGVzIFwiK24rXCIgYW5kIGRpbGF0aW9ucyAnXCIrYStcIidcIn0pKSxDKFwiTkRIV0NcIj09PW8sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252M2Q6IGdvdCBkYXRhRm9ybWF0IG9mIFwiK28rXCIgYnV0IG9ubHkgTkRIV0MgaXMgY3VycmVudGx5IHN1cHBvcnRlZC5cIn0pKTt2YXIgbD1Bbyh1LnNoYXBlLHMuc2hhcGUsbixhLHIpLGg9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgbj10LmNvbnYzZCh1LHMsbCk7cmV0dXJuIGUoW3Usc10pLG59KSx7eDp1LCRmaWx0ZXI6c30sKGZ1bmN0aW9uKHQsZSl7Qyh6YyhhKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGdyYWRpZW50IG9mIGNvbnYzRDogZGlsYXRpb24gcmF0ZXMgZ3JlYXRlciB0aGFuIDEgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkIGluIGdyYWRpZW50cy4gR290IGRpbGF0aW9ucyAnXCIrYStcIidcIn0pKTt2YXIgbz1lWzBdLGk9ZVsxXTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiBHYyhvLnNoYXBlLHQsaSxuLHIpfSwkZmlsdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIsbyl7dmFyIGE9dDs0PT09dC5yYW5rJiYoYT10LmFzNUQoMSx0LnNoYXBlWzBdLHQuc2hhcGVbMV0sdC5zaGFwZVsyXSx0LnNoYXBlWzNdKSk7dmFyIGk9ZTs0PT09aS5yYW5rJiYoaT1lLmFzNUQoMSxlLnNoYXBlWzBdLGUuc2hhcGVbMV0sZS5zaGFwZVsyXSxlLnNoYXBlWzNdKSk7Qyg1PT09YS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjNkRGVyRmlsdGVyOiBpbnB1dCBtdXN0IGJlIHJhbmsgNSwgYnV0IGdvdCBzaGFwZSBcIithLnNoYXBlK1wiLlwifSkpLEMoNT09PWkucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYzZERlckZpbHRlcjogZHkgbXVzdCBiZSByYW5rIDUsIGJ1dCBnb3Qgc2hhcGUgXCIraS5zaGFwZStcIi5cIn0pKSxDKDU9PT1uLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYzZERlckZpbHRlcjogZmlsdGVyU2hhcGUgbXVzdCBiZSBsZW5ndGggNSwgYnV0IGdvdCBcIituK1wiLlwifSkpLEMoYS5zaGFwZVs0XT09PW5bM10sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252M2REZXJGaWx0ZXI6IGRlcHRoIG9mIGlucHV0IFwiK2Euc2hhcGVbNF0rXCIpIG11c3QgbWF0Y2ggaW5wdXQgZGVwdGggaW4gZmlsdGVyIChcIituWzNdK1wiLlwifSkpLEMoaS5zaGFwZVs0XT09PW5bNF0sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252M2REZXJGaWx0ZXI6IGRlcHRoIG9mIGR5IChcIitpLnNoYXBlWzRdK1wiKSBtdXN0IG1hdGNoIG91dHB1dCBkZXB0aCBmb3IgZmlsdGVyIChcIituWzRdK1wiKS5cIn0pKTt2YXIgcz1BbyhhLnNoYXBlLG4sciwxLG8pO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb252M2REZXJGaWx0ZXIoYSxpLHMpfSkse3g1RDphLGR5NUQ6aX0pfShvLHQsaS5zaGFwZSxuLHIpfX19KSk7cmV0dXJuIGM/aC5hczREKGguc2hhcGVbMV0saC5zaGFwZVsyXSxoLnNoYXBlWzNdLGguc2hhcGVbNF0pOmh9fSksamM9QW4oe2NvbnYyZERlckZpbHRlcl86ZnVuY3Rpb24odCxlLG4scixvLGEsaSl7dm9pZCAwPT09YSYmKGE9XCJOSFdDXCIpO3ZhciBzPXQ7Mz09PXQucmFuayYmKHM9dC5hczREKDEsdC5zaGFwZVswXSx0LnNoYXBlWzFdLHQuc2hhcGVbMl0pKTt2YXIgdT1lOzM9PT11LnJhbmsmJih1PWUuYXM0RCgxLGUuc2hhcGVbMF0sZS5zaGFwZVsxXSxlLnNoYXBlWzJdKSksQyg0PT09cy5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjJkRGVyRmlsdGVyOiBpbnB1dCBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCBzaGFwZSBcIitzLnNoYXBlK1wiLlwifSkpLEMoND09PXUucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYyZERlckZpbHRlcjogZHkgbXVzdCBiZSByYW5rIDQsIGJ1dCBnb3Qgc2hhcGUgXCIrdS5zaGFwZStcIi5cIn0pKSxDKDQ9PT1uLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNvbnYyZERlckZpbHRlcjogZmlsdGVyU2hhcGUgbXVzdCBiZSBsZW5ndGggNCwgYnV0IGdvdCBcIituK1wiLlwifSkpO3ZhciBjPVwiTkhXQ1wiPT09YT9zLnNoYXBlWzNdOnMuc2hhcGVbMV0sbD1cIk5IV0NcIj09PWE/dS5zaGFwZVszXTp1LnNoYXBlWzFdO0MoYz09PW5bMl0sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MmREZXJGaWx0ZXI6IGRlcHRoIG9mIGlucHV0IFwiK2MrXCIpIG11c3QgbWF0Y2ggaW5wdXQgZGVwdGggaW4gZmlsdGVyIChcIituWzJdK1wiLlwifSkpLEMobD09PW5bM10sKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MmREZXJGaWx0ZXI6IGRlcHRoIG9mIGR5IChcIitsK1wiKSBtdXN0IG1hdGNoIG91dHB1dCBkZXB0aCBmb3IgZmlsdGVyIChcIituWzNdK1wiKS5cIn0pKSxudWxsIT1pJiZDKEEobyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MmREZXJGaWx0ZXI6IHBhZCBtdXN0IGJlIGFuIGludGVnZXIgd2hlbiB1c2luZywgZGltUm91bmRpbmdNb2RlIFwiK2krXCIgYnV0IGdvdCBwYWQgXCIrbytcIi5cIn0pKTt2YXIgaD1CbyhhKSxmPVNvKHMuc2hhcGUsbixyLDEsbyxpLCExLGgpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb252MmREZXJGaWx0ZXIocyx1LGYpfSkse3g0RDpzLGR5NEQ6dX0pfX0pLFhjPUFuKHtjb252MmREZXJJbnB1dF86VmN9KSxZYz1Bbih7ZGVwdGh3aXNlQ29udjJkXzpmdW5jdGlvbih0LGUsbixyLG8sYSxpKXt2b2lkIDA9PT1vJiYobz1cIk5IV0NcIiksdm9pZCAwPT09YSYmKGE9WzEsMV0pO3ZhciBzPW1uKHQsXCJ4XCIsXCJkZXB0aHdpc2VDb252MmRcIiksdT1tbihlLFwiZmlsdGVyXCIsXCJkZXB0aHdpc2VDb252MmRcIiksYz1zLGw9ITE7Mz09PXMucmFuayYmKGw9ITAsYz1zLmFzNEQoMSxzLnNoYXBlWzBdLHMuc2hhcGVbMV0scy5zaGFwZVsyXSkpLEMoND09PWMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGRlcHRod2lzZUNvbnYyZDogaW5wdXQgbXVzdCBiZSByYW5rIDQsIGJ1dCBnb3QgcmFuayBcIitjLnJhbmsrXCIuXCJ9KSksQyg0PT09dS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gZGVwdGh3aXNlQ29udjJkOiBmaWx0ZXIgbXVzdCBiZSByYW5rIDQsIGJ1dCBnb3QgcmFuayBcIit1LnJhbmsrXCIuXCJ9KSksQyhjLnNoYXBlWzNdPT09dS5zaGFwZVsyXSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGRlcHRod2lzZUNvbnYyZDogbnVtYmVyIG9mIGlucHV0IGNoYW5uZWxzIChcIitjLnNoYXBlWzNdK1wiKSBtdXN0IG1hdGNoIHRoZSBpbkNoYW5uZWxzIGRpbWVuc2lvbiBpbiBmaWx0ZXIgXCIrdS5zaGFwZVsyXStcIi5cIn0pKSxudWxsPT1hJiYoYT1bMSwxXSksQyhNbyhuLGEpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gZGVwdGh3aXNlQ29udjJkOiBFaXRoZXIgc3RyaWRlcyBvciBkaWxhdGlvbnMgbXVzdCBiZSAxLiBHb3Qgc3RyaWRlcyBcIituK1wiIGFuZCBkaWxhdGlvbnMgJ1wiK2ErXCInXCJ9KSksbnVsbCE9aSYmQyhBKHIpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gZGVwdGh3aXNlQ29udjJkOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gdXNpbmcsIGRpbVJvdW5kaW5nTW9kZSBcIitpK1wiIGJ1dCBnb3QgcGFkIFwiK3IrXCIuXCJ9KSk7dmFyIGg9U28oYy5zaGFwZSx1LnNoYXBlLG4sYSxyLGksITApLGY9W2MsdV0sZD1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBuPXQuZGVwdGh3aXNlQ29udjJEKGMsdSxoKTtyZXR1cm4gZShbYyx1XSksbn0pLHt4OmMsZmlsdGVyOnV9LChmdW5jdGlvbih0LGUpe0MoT28oYSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBncmFkaWVudCBvZiBkZXB0aHdpc2VDb252MmQ6IGRpbGF0aW9uIHJhdGVzIGdyZWF0ZXIgdGhhbiAxIGFyZSBub3QgeWV0IHN1cHBvcnRlZC4gR290IGRpbGF0aW9ucyAnXCIrYStcIidcIn0pKTt2YXIgbj1lWzBdLHI9ZVsxXTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiAkYyhuLnNoYXBlLHQscixoKX0sZmlsdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIFFjKG4sdCxyLnNoYXBlLGgpfX19KSxcIkRlcHRod2lzZUNvbnYyZE5hdGl2ZVwiLGgsZik7cmV0dXJuIGw/ZC5hczNEKGQuc2hhcGVbMV0sZC5zaGFwZVsyXSxkLnNoYXBlWzNdKTpkfX0pLCRjPUFuKHtkZXB0aHdpc2VDb252MmREZXJJbnB1dF86ZnVuY3Rpb24odCxlLG4scil7dmFyIG89ZSxhPSExOzM9PT1lLnJhbmsmJihhPSEwLG89ZS5hczREKDEsZS5zaGFwZVswXSxlLnNoYXBlWzFdLGUuc2hhcGVbMl0pKTt2YXIgaT1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kZXB0aHdpc2VDb252MkREZXJJbnB1dChvLG4scil9KSx7ZHk0RDpvfSk7cmV0dXJuIGE/aS5hczNEKGkuc2hhcGVbMV0saS5zaGFwZVsyXSxpLnNoYXBlWzNdKTppfX0pLFFjPUFuKHtkZXB0aHdpc2VDb252MmREZXJGaWx0ZXJfOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQ7Mz09PXQucmFuayYmKG89dC5hczREKDEsdC5zaGFwZVswXSx0LnNoYXBlWzFdLHQuc2hhcGVbMl0pKTt2YXIgYT1lO3JldHVybiAzPT09YS5yYW5rJiYoYT1lLmFzNEQoMSxlLnNoYXBlWzBdLGUuc2hhcGVbMV0sZS5zaGFwZVsyXSkpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRlcHRod2lzZUNvbnYyRERlckZpbHRlcihvLGEscil9KSx7eDREOm8sZHk0RDphfSl9fSksSmM9QW4oe3NlcGFyYWJsZUNvbnYyZF86ZnVuY3Rpb24odCxlLG4scixvLGEsaSl7dm9pZCAwPT09YSYmKGE9WzEsMV0pLHZvaWQgMD09PWkmJihpPVwiTkhXQ1wiKTt2YXIgcz1tbih0LFwieFwiLFwic2VwYXJhYmxlQ29udjJkXCIpLHU9bW4oZSxcImRlcHRod2lzZUZpbHRlclwiLFwic2VwYXJhYmxlQ29udjJkXCIpLGM9bW4obixcInBvaW50d2lzZUZpbHRlclwiLFwic2VwYXJhYmxlQ29udjJkXCIpLGw9cyxoPSExO2lmKDM9PT1zLnJhbmsmJihoPSEwLGw9cy5hczREKDEscy5zaGFwZVswXSxzLnNoYXBlWzFdLHMuc2hhcGVbMl0pKSxcIk5DSFdcIj09PWkpdGhyb3cgbmV3IEVycm9yKFwic2VwYXJhYmxlQ29udjJkIGN1cnJlbnRseSBkb2VzIG5vdCBzdXBwb3J0IGRhdGFGb3JtYXQgTkNIVzsgb25seSBOSFdDIGlzIHN1cHBvcnRlZFwiKTtDKDQ9PT1sLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBzZXBhcmFibGVDb252MmQ6IGlucHV0IG11c3QgYmUgcmFuayA0LCBidXQgZ290IHJhbmsgXCIrbC5yYW5rK1wiLlwifSkpLEMoND09PXUucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHNlcGFyYWJsZUNvbnYyZDogZGVwdGh3aXNlIGZpbHRlciBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIFwiK3UucmFuaytcIi5cIn0pKSxDKDQ9PT1jLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBzZXBhcmFibGVDb252MmQ6IHBvaW50d2lzZSBmaWx0ZXIgbXVzdCBiZSByYW5rIDQsIGJ1dCBnb3QgcmFuayBcIit1LnJhbmsrXCIuXCJ9KSksQygxPT09Yy5zaGFwZVswXSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHNlcGFyYWJsZUNvbnYyZDogdGhlIGZpcnN0IGRpbWVuc2lvbiBvZiBwb2ludHdpc2UgZmlsdGVyICBtdXN0IGJlIDEsIGJ1dCBnb3QgXCIrYy5zaGFwZVswXStcIi5cIn0pKSxDKDE9PT1jLnNoYXBlWzFdLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gc2VwYXJhYmxlQ29udjJkOiB0aGUgc2Vjb25kIGRpbWVuc2lvbiBvZiBwb2ludHdpc2UgZmlsdGVyIG11c3QgYmUgMSwgYnV0IGdvdCBcIitjLnNoYXBlWzFdK1wiLlwifSkpO3ZhciBmPXUuc2hhcGVbMl0sZD11LnNoYXBlWzNdO0MoYy5zaGFwZVsyXT09PWYqZCwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHNlcGFyYWJsZUNvbnYyZDogdGhlIHRoaXJkIGRpbWVuc2lvbiBvZiBwb2ludHdpc2UgZmlsdGVyIG11c3QgYmUgXCIrZipkK1wiLCBidXQgZ290IFwiK2Muc2hhcGVbMl0rXCIuXCJ9KSk7dmFyIHA9WWMobCx1LHIsbyxpLGEpLHY9cWMocCxjLDEsXCJ2YWxpZFwiLGkpO3JldHVybiBoP3YuYXMzRCh2LnNoYXBlWzFdLHYuc2hhcGVbMl0sdi5zaGFwZVszXSk6dn19KSxaYz1Bbih7Y29udjJkVHJhbnNwb3NlXzpmdW5jdGlvbih0LGUsbixyLG8sYSl7cmV0dXJuIFZjKG4sbW4odCxcInhcIixcImNvbnYyZFRyYW5zcG9zZVwiKSxtbihlLFwiZmlsdGVyXCIsXCJjb252MmRUcmFuc3Bvc2VcIikscixvLFwiTkhXQ1wiLGEpfX0pLHRsPUFuKHtjb252M2RUcmFuc3Bvc2VfOmZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIEdjKG4sbW4odCxcInhcIixcImNvbnYzZFRyYW5zcG9zZVwiKSxtbihlLFwiZmlsdGVyXCIsXCJjb252M2RUcmFuc3Bvc2VcIikscixvKX19KTt2YXIgZWw9QW4oe21hdE11bF86ZnVuY3Rpb24odCxlLG4scil7dmFyIG87dm9pZCAwPT09biYmKG49ITEpLHZvaWQgMD09PXImJihyPSExKTt2YXIgYT1tbih0LFwiYVwiLFwibWF0TXVsXCIpLGk9bW4oZSxcImJcIixcIm1hdE11bFwiKTtvPU50KGEsaSksYT1vWzBdLGk9b1sxXTt2YXIgcz1uP2Euc2hhcGVbYS5yYW5rLTJdOmEuc2hhcGVbYS5yYW5rLTFdLHU9cj9pLnNoYXBlW2kucmFuay0xXTppLnNoYXBlW2kucmFuay0yXSxjPW4/YS5zaGFwZVthLnJhbmstMV06YS5zaGFwZVthLnJhbmstMl0sbD1yP2kuc2hhcGVbaS5yYW5rLTJdOmkuc2hhcGVbaS5yYW5rLTFdLGg9YS5zaGFwZS5zbGljZSgwLC0yKSxmPWkuc2hhcGUuc2xpY2UoMCwtMiksZD1rKGgpLHA9ayhmKTtDKGEucmFuaz49MiYmaS5yYW5rPj0yJiZhLnJhbms9PT1pLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBtYXRNdWw6IGlucHV0cyBtdXN0IGhhdmUgdGhlIHNhbWUgcmFuayBvZiBhdCBsZWFzdCAyLCBnb3QgcmFua3MgXCIrYS5yYW5rK1wiIGFuZCBcIitpLnJhbmsrXCIuXCJ9KSksQyhTKGgsZiksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBtYXRNdWw6IG91dGVyIGRpbWVuc2lvbnMgKFwiK2grXCIpIGFuZCAoXCIrZitcIikgb2YgVGVuc29ycyB3aXRoIHNoYXBlcyBcIithLnNoYXBlK1wiIGFuZCBcIitpLnNoYXBlK1wiIG11c3QgbWF0Y2guXCJ9KSksQyhzPT09dSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIG1hdE11bDogaW5uZXIgc2hhcGVzIChcIitzK1wiKSBhbmQgKFwiK3UrXCIpIG9mIFRlbnNvcnMgd2l0aCBzaGFwZXMgXCIrYS5zaGFwZStcIiBhbmQgXCIraS5zaGFwZStcIiBhbmQgdHJhbnNwb3NlQT1cIituK1wiIGFuZCB0cmFuc3Bvc2VCPVwiK3IrXCIgbXVzdCBtYXRjaC5cIn0pKTt2YXIgdj1hLnNoYXBlLnNsaWNlKDAsLTIpLmNvbmNhdChbYyxsXSksbT1uP2EuYXMzRChkLHMsYyk6YS5hczNEKGQsYyxzKSxnPXI/aS5hczNEKHAsbCx1KTppLmFzM0QocCx1LGwpLHk9e3RyYW5zcG9zZUE6bix0cmFuc3Bvc2VCOnJ9O3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBvPXQuYmF0Y2hNYXRNdWwobSxnLG4scik7cmV0dXJuIGUoW20sZ10pLG99KSx7YTptLGI6Z30sKGZ1bmN0aW9uKHQsZSl7dmFyIG89ZSxhPW9bMF0saT1vWzFdO3JldHVybiBufHxyPyFuJiZyP3thOmZ1bmN0aW9uKCl7cmV0dXJuIHQubWF0TXVsKGksITEsITEpfSxiOmZ1bmN0aW9uKCl7cmV0dXJuIHQubWF0TXVsKGEsITAsITEpfX06biYmIXI/e2E6ZnVuY3Rpb24oKXtyZXR1cm4gaS5tYXRNdWwodCwhMSwhMCl9LGI6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tYXRNdWwodCwhMSwhMSl9fTp7YTpmdW5jdGlvbigpe3JldHVybiBpLm1hdE11bCh0LCEwLCEwKX0sYjpmdW5jdGlvbigpe3JldHVybiB0Lm1hdE11bChhLCEwLCEwKX19OnthOmZ1bmN0aW9uKCl7cmV0dXJuIHQubWF0TXVsKGksITEsITApfSxiOmZ1bmN0aW9uKCl7cmV0dXJuIGEubWF0TXVsKHQsITAsITEpfX19KSxcIkJhdGNoTWF0TXVsXCIseSkucmVzaGFwZSh2KX19KSxubD1Bbih7ZG90XzpmdW5jdGlvbih0LGUpe3ZhciBuPW1uKHQsXCJ0MVwiLFwiZG90XCIpLHI9bW4oZSxcInQyXCIsXCJkb3RcIik7QyghKDEhPT1uLnJhbmsmJjIhPT1uLnJhbmt8fDEhPT1yLnJhbmsmJjIhPT1yLnJhbmspLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gZG90OiBpbnB1dHMgbXVzdCBhbGwgYmUgcmFuayAxIG9yIDIsIGJ1dCBnb3QgcmFua3MgXCIrbi5yYW5rK1wiIGFuZCBcIityLnJhbmsrXCIuXCJ9KSk7dmFyIG89MT09PW4ucmFuaz9uLnNpemU6bi5zaGFwZVsxXSxhPTE9PT1yLnJhbms/ci5zaXplOnIuc2hhcGVbMF07cmV0dXJuIEMobz09PWEsKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBkb3Q6IGlubmVyIGRpbWVuc2lvbnMgb2YgaW5wdXRzIG11c3QgbWF0Y2gsIGJ1dCBnb3QgXCIrbytcIiBhbmQgXCIrYStcIi5cIn0pKSwxPT09bi5yYW5rJiYxPT09ci5yYW5rP24uYXMyRCgxLC0xKS5tYXRNdWwoci5hczJEKC0xLDEpKS5hc1NjYWxhcigpOjE9PT1uLnJhbmsmJjI9PT1yLnJhbms/bi5hczJEKDEsLTEpLm1hdE11bChyLmFzMkQoci5zaGFwZVswXSxyLnNoYXBlWzFdKSkuYXMxRCgpOjI9PT1uLnJhbmsmJjE9PT1yLnJhbms/bi5tYXRNdWwoci5hczJEKC0xLDEpKS5hczFEKCk6bi5tYXRNdWwoci5hczJEKHIuc2hhcGVbMF0sci5zaGFwZVsxXSkpfX0pLHJsPUFuKHtvdXRlclByb2R1Y3RfOmZ1bmN0aW9uKHQsZSl7dmFyIG49bW4odCxcInYxXCIsXCJvdXRlclByb2R1Y3RcIikscj1tbihlLFwidjJcIixcIm91dGVyUHJvZHVjdFwiKTtyZXR1cm4gQygxPT09bi5yYW5rJiYxPT09ci5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gb3V0ZXJQcm9kdWN0OiBpbnB1dHMgbXVzdCBiZSByYW5rIDEsIGJ1dCBnb3QgcmFua3MgXCIrbi5yYW5rK1wiIGFuZCBcIityLnJhbmsrXCIuXCJ9KSksbi5hczJEKC0xLDEpLm1hdE11bChyLmFzMkQoMSwtMSkpfX0pO3ZhciBvbD1Bbih7cmV2ZXJzZV86ZnVuY3Rpb24odCxlKXt2YXIgbj1tbih0LFwieFwiLFwicmV2ZXJzZVwiKTtpZigwPT09bi5yYW5rKXJldHVybiBuLmNsb25lKCk7dmFyIHI9TyhlLG4uc2hhcGUpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXZlcnNlKG4scil9KSx7JHg6bn0sKGZ1bmN0aW9uKHQpe3JldHVybnskeDpmdW5jdGlvbigpe3JldHVybiB0LnJldmVyc2Uocil9fX0pKS5yZXNoYXBlQXMobil9fSksYWw9QW4oe3JldmVyc2UxZF86ZnVuY3Rpb24odCl7dmFyIGU9bW4odCxcInhcIixcInJldmVyc2VcIik7cmV0dXJuIEMoMT09PWUucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHJldmVyc2UxRDogeCBtdXN0IGJlIHJhbmsgMSBidXQgZ290IHJhbmsgXCIrZS5yYW5rK1wiLlwifSkpLG9sKGUsMCl9fSksaWw9QW4oe3JldmVyc2UyZF86ZnVuY3Rpb24odCxlKXt2YXIgbj1tbih0LFwieFwiLFwicmV2ZXJzZVwiKTtyZXR1cm4gQygyPT09bi5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gcmV2ZXJzZTJEOiB4IG11c3QgYmUgcmFuayAyIGJ1dCBnb3QgcmFuayBcIituLnJhbmsrXCIuXCJ9KSksb2wobixlKX19KSxzbD1Bbih7cmV2ZXJzZTNkXzpmdW5jdGlvbih0LGUpe3ZhciBuPW1uKHQsXCJ4XCIsXCJyZXZlcnNlXCIpO3JldHVybiBDKDM9PT1uLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiByZXZlcnNlM0Q6IHggbXVzdCBiZSByYW5rIDMgYnV0IGdvdCByYW5rIFwiK24ucmFuaytcIi5cIn0pKSxvbChuLGUpfX0pLHVsPUFuKHtyZXZlcnNlNGRfOmZ1bmN0aW9uKHQsZSl7dmFyIG49bW4odCxcInhcIixcInJldmVyc2VcIik7cmV0dXJuIEMoND09PW4ucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHJldmVyc2U0RDogeCBtdXN0IGJlIHJhbmsgNCBidXQgZ290IHJhbmsgXCIrbi5yYW5rK1wiLlwifSkpLG9sKG4sZSl9fSk7ZnVuY3Rpb24gY2wodCxlLG4scixvLGEpe3ZhciBpPW1uKHQsXCJ4XCIsXCJtYXhQb29sXCIpLHM9aSx1PSExOzM9PT1pLnJhbmsmJih1PSEwLHM9aS5hczREKDEsaS5zaGFwZVswXSxpLnNoYXBlWzFdLGkuc2hhcGVbMl0pKSxudWxsPT1yJiYocj1bMSwxXSksQyg0PT09cy5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbWF4UG9vbDogaW5wdXQgbXVzdCBiZSByYW5rIDQgYnV0IGdvdCByYW5rIFwiK3MucmFuaytcIi5cIn0pKSxDKE1vKG4sciksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBtYXhQb29sOiBFaXRoZXIgc3RyaWRlcyBvciBkaWxhdGlvbnMgbXVzdCBiZSAxLiBHb3Qgc3RyaWRlcyBcIituK1wiIGFuZCBkaWxhdGlvbnMgJ1wiK3IrXCInXCJ9KSksbnVsbCE9YSYmQyhBKG8pLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbWF4UG9vbDogcGFkIG11c3QgYmUgYW4gaW50ZWdlciB3aGVuIHVzaW5nLCBkaW1Sb3VuZGluZ01vZGUgXCIrYStcIiBidXQgZ290IHBhZCBcIitvK1wiLlwifSkpO3ZhciBjPUlvKHMuc2hhcGUsZSxuLHIsbyxhKTtpZigxPT09Yy5maWx0ZXJXaWR0aCYmMT09PWMuZmlsdGVySGVpZ2h0JiZTKGMuaW5TaGFwZSxjLm91dFNoYXBlKSlyZXR1cm4gaS5jbG9uZSgpO3ZhciBsPVtzXSxoPUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5tYXhQb29sKHMsYyk7cmV0dXJuIGUoW3Msbl0pLG59KSx7eDpzfSwoZnVuY3Rpb24odCxhKXt2YXIgaT1hWzBdLHM9YVsxXTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUsbixyLG8sYSxpLHMpe3ZhciB1PW1uKHQsXCJkeVwiLFwibWF4UG9vbEJhY2twcm9wXCIpLGM9bW4oZSxcImlucHV0XCIsXCJtYXhQb29sQmFja3Byb3BcIiksbD1tbihuLFwib3V0cHV0XCIsXCJtYXhQb29sQmFja3Byb3BcIik7QyhjLnJhbms9PT11LnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJSYW5rIG9mIGlucHV0IChcIitjLnJhbmsrXCIpIGRvZXMgbm90IG1hdGNoIHJhbmsgb2YgZHkgKFwiK3UucmFuaytcIilcIn0pKSxudWxsPT1hJiYoYT1bMSwxXSk7QyhNbyhvLGEpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbWF4UG9vbEJhY2tQcm9wOiBFaXRoZXIgc3RyaWRlcyBvciBkaWxhdGlvbnMgbXVzdCBiZSAxLiBHb3Qgc3RyaWRlcyBcIitvK1wiIGFuZCBkaWxhdGlvbnMgJ1wiK2ErXCInXCJ9KSksQyg0PT09dS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbWF4UG9vbEJhY2twcm9wOiBkeSBtdXN0IGJlIHJhbmsgNCBidXQgZ290IHJhbmsgXCIrdS5yYW5rK1wiLlwifSkpLEMoND09PWMucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIG1heFBvb2xCYWNrcHJvcDogaW5wdXQgbXVzdCBiZSByYW5rIDQgYnV0IGdvdCByYW5rIFwiK2MucmFuaytcIi5cIn0pKSxudWxsIT1zJiZDKEEoaSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBtYXhQb29sQmFja3Byb3A6IHBhZCBtdXN0IGJlIGFuIGludGVnZXIgd2hlbiB1c2luZywgZGltUm91bmRpbmdNb2RlIFwiK3MrXCIgYnV0IGdvdCBwYWQgXCIraStcIi5cIn0pKTt2YXIgaD1JbyhjLnNoYXBlLHIsbyxhLGkscyk7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1heFBvb2xCYWNrcHJvcCh1LGMsbCxoKX0pLHskZHk6dSwkaW5wdXQ6Y30pfSh0LGkscyxlLG4scixvKX19fSksXCJNYXhQb29sXCIsYyxsKTtyZXR1cm4gdT9oLmFzM0QoaC5zaGFwZVsxXSxoLnNoYXBlWzJdLGguc2hhcGVbM10pOmh9ZnVuY3Rpb24gbGwodCxlLG4scixvLGEpe3ZhciBpPW1uKHQsXCJ4XCIsXCJhdmdQb29sXCIsXCJmbG9hdDMyXCIpO251bGw9PXImJihyPVsxLDFdKSxDKE1vKG4sciksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBhdmdQb29sOiBFaXRoZXIgc3RyaWRlcyBvciBkaWxhdGlvbnMgbXVzdCBiZSAxLiBHb3Qgc3RyaWRlcyBcIituK1wiIGFuZCBkaWxhdGlvbnMgJ1wiK3IrXCInXCJ9KSk7dmFyIHM9aSx1PSExOzM9PT1pLnJhbmsmJih1PSEwLHM9aS5hczREKDEsaS5zaGFwZVswXSxpLnNoYXBlWzFdLGkuc2hhcGVbMl0pKSxDKDQ9PT1zLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBhdmdQb29sOiB4IG11c3QgYmUgcmFuayA0IGJ1dCBnb3QgcmFuayBcIitzLnJhbmsrXCIuXCJ9KSksbnVsbCE9YSYmQyhBKG8pLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gYXZnUG9vbDogcGFkIG11c3QgYmUgYW4gaW50ZWdlciB3aGVuIHVzaW5nLCBkaW1Sb3VuZGluZ01vZGUgXCIrYStcIiBidXQgZ290IHBhZCBcIitvK1wiLlwifSkpO3ZhciBjPUlvKHMuc2hhcGUsZSxuLHIsbyxhKTtpZigxPT09Yy5maWx0ZXJXaWR0aCYmMT09PWMuZmlsdGVySGVpZ2h0JiZTKGMuaW5TaGFwZSxjLm91dFNoYXBlKSlyZXR1cm4gaS5jbG9uZSgpO3ZhciBsPUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmF2Z1Bvb2wocyxjKX0pLHt4OnN9LChmdW5jdGlvbih0KXtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUsbixyLG8sYSl7dmFyIGk9bW4odCxcImR5XCIsXCJhdmdQb29sQmFja3Byb3BcIikscz1tbihlLFwiaW5wdXRcIixcImF2Z1Bvb2xCYWNrcHJvcFwiKTtDKHMucmFuaz09PWkucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIlJhbmsgb2YgaW5wdXQgKFwiK3MucmFuaytcIikgZG9lcyBub3QgbWF0Y2ggcmFuayBvZiBkeSAoXCIraS5yYW5rK1wiKVwifSkpLG51bGw9PW8mJihvPVsxLDFdKTtDKE1vKHIsbyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBhdmdQb29sQmFja3Byb3A6IEVpdGhlciBzdHJpZGVzIG9yIGRpbGF0aW9ucyBtdXN0IGJlIDEuIEdvdCBzdHJpZGVzIFwiK3IrXCIgYW5kIGRpbGF0aW9ucyAnXCIrbytcIidcIn0pKTt2YXIgdT1zLGM9aSxsPSExOzM9PT1zLnJhbmsmJihsPSEwLHU9cy5hczREKDEscy5zaGFwZVswXSxzLnNoYXBlWzFdLHMuc2hhcGVbMl0pLGM9aS5hczREKDEsaS5zaGFwZVswXSxpLnNoYXBlWzFdLGkuc2hhcGVbMl0pKTtDKDQ9PT1jLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBhdmdQb29sQmFja3Byb3A6IGR5IG11c3QgYmUgcmFuayA0IGJ1dCBnb3QgcmFuayBcIitjLnJhbmsrXCIuXCJ9KSksQyg0PT09dS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gYXZnUG9vbEJhY2twcm9wOiBpbnB1dCBtdXN0IGJlIHJhbmsgNCBidXQgZ290IHJhbmsgXCIrdS5yYW5rK1wiLlwifSkpO3ZhciBoPUlvKHUuc2hhcGUsbixyLG8sYSksZj1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hdmdQb29sQmFja3Byb3AoYyx1LGgpfSkse2R5NEQ6YyxpbnB1dDREOnV9KTtpZihsKXJldHVybiBmLmFzM0QoZi5zaGFwZVsxXSxmLnNoYXBlWzJdLGYuc2hhcGVbM10pO3JldHVybiBmfSh0LHMsZSxuLHIsbyl9fX0pLFwiQXZnUG9vbFwiLGMpO3JldHVybiBsPWwuY2FzdChpLmR0eXBlKSx1P2wuYXMzRChsLnNoYXBlWzFdLGwuc2hhcGVbMl0sbC5zaGFwZVszXSk6bH12YXIgaGw9QW4oe21heFBvb2xfOmZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIGNsKHQsZSxuLDEscixvKX19KSxmbD1Bbih7YXZnUG9vbF86ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gbGwodCxlLG4sMSxyLG8pfX0pLGRsPUFuKHtwb29sXzpmdW5jdGlvbih0LGUsbixyLG8sYSl7bnVsbD09byYmKG89WzEsMV0pLG51bGw9PWEmJihhPTEpLDA9PT1yJiYocj1cInZhbGlkXCIpO3ZhciBpPW1uKHQsXCJ4XCIsXCJtYXhQb29sXCIpLHM9aSx1PSExOzM9PT1pLnJhbmsmJih1PSEwLHM9aS5hczREKDEsaS5zaGFwZVswXSxpLnNoYXBlWzFdLGkuc2hhcGVbMl0pKSxDKE1vKGEsbyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBwb29sOiBFaXRoZXIgc3RyaWRlcyBvciBkaWxhdGlvbnMgbXVzdCBiZSAxLiBHb3Qgc3RyaWRlcyBcIithK1wiIGFuZCBkaWxhdGlvbnMgJ1wiK28rXCInXCJ9KSk7dmFyIGMsbD1JbyhzLnNoYXBlLGUsYSxvLHIpLGg9W2wuZGlsYXRpb25IZWlnaHQsbC5kaWxhdGlvbldpZHRoXTtjPVwic2FtZVwiPT09cj9mdW5jdGlvbih0LGUpe3ZhciBuPXQubWFwKChmdW5jdGlvbih0LG4pe3JldHVybiB0Kyh0LTEpKihlW25dLTEpfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQtMX0pKSxyPW4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5mbG9vcih0LzIpfSkpLG89bi5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtcltlXX0pKTtyZXR1cm4gbi5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuW3JbZV0sb1tlXV19KSl9KFtsLmZpbHRlckhlaWdodCxsLmZpbHRlcldpZHRoXSxoKTpbWzAsMF0sWzAsMF1dO3ZhciBmPTE9PT1oWzBdJiYxPT09aFsxXSxkPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSksbz1uLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMV19KSksYT10LmNvbmNhdChyLG8pLGk9ZS5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuKHQtYVtlXSV0KSV0fSkpLHM9by5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQraVtlXX0pKSx1PWUubWFwKChmdW5jdGlvbih0LGUpe3JldHVybltyW2VdLHNbZV1dfSkpLGM9ZS5tYXAoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuWzAsaVtlXV19KSk7cmV0dXJuW3UsY119KFtsLmluSGVpZ2h0LGwuaW5XaWR0aF0saCxjKSxwPWRbMF0sdj1kWzFdLG09Zj9yOlwidmFsaWRcIixnPWY/czpNcihzLGgscCkseT0oXCJhdmdcIj09PW4/ZnVuY3Rpb24oKXtyZXR1cm4gbGwoZyxlLGEsMSxtKX06ZnVuY3Rpb24oKXtyZXR1cm4gY2woZyxlLGEsMSxtKX0pKCkseD1mP3k6dnIoeSxoLHYpO3JldHVybiB1P3guYXMzRCh4LnNoYXBlWzFdLHguc2hhcGVbMl0seC5zaGFwZVszXSk6eH19KSxwbD1Bbih7bWF4UG9vbDNkXzpmdW5jdGlvbih0LGUsbixyLG8sYSxpKXt2b2lkIDA9PT1hJiYoYT1cIk5ESFdDXCIpO3ZhciBzPW1uKHQsXCJ4XCIsXCJtYXhQb29sM2RcIiksdT1zLGM9ITE7ND09PXMucmFuayYmKGM9ITAsdT1zLmFzNUQoMSxzLnNoYXBlWzBdLHMuc2hhcGVbMV0scy5zaGFwZVsyXSxzLnNoYXBlWzNdKSksbnVsbD09aSYmKGk9WzEsMSwxXSksQyg1PT09dS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbWF4UG9vbDNkOiB4IG11c3QgYmUgcmFuayA1IGJ1dCBnb3QgcmFuayBcIit1LnJhbmsrXCIuXCJ9KSksQyhcIk5ESFdDXCI9PT1hLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gbWF4UG9vbDNkOiBPbmx5IE5ESFdDIGlzIGN1cnJlbnRseSBzdXBwb3J0ZWQsIGJ1dCBnb3QgZGF0YUZvcm1hdCBvZiBcIithfSkpLEMoTW8obixpKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIG1heFBvb2wzZDogRWl0aGVyIHN0cmlkZXMgb3IgZGlsYXRpb25zIG11c3QgYmUgMS4gR290IHN0cmlkZXMgXCIrbitcIiBhbmQgZGlsYXRpb25zICdcIitpK1wiJ1wifSkpLG51bGwhPW8mJkMoQShyKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIG1heFBvb2wzZDogcGFkIG11c3QgYmUgYW4gaW50ZWdlciB3aGVuIHVzaW5nLCBkaW1Sb3VuZGluZ01vZGUgXCIrbytcIiBidXQgZ290IHBhZCBcIityK1wiLlwifSkpO3ZhciBsPWtvKHUuc2hhcGUsZSxuLGkscixvLGEpLGg9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXt2YXIgbj10Lm1heFBvb2wzZCh1LGwpO3JldHVybiBlKFt1LG5dKSxufSkse3g6dX0sKGZ1bmN0aW9uKHQsYSl7dmFyIHM9YVswXSx1PWFbMV07cmV0dXJue3g6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4scixvLGEsaSxzKXt2YXIgdT1tbih0LFwiZHlcIixcIm1heFBvb2wzZEJhY2twcm9wXCIpLGM9bW4oZSxcImlucHV0XCIsXCJtYXhQb29sM2RCYWNrcHJvcFwiKSxsPW1uKG4sXCJvdXRwdXRcIixcIm1heFBvb2wzZEJhY2twcm9wXCIpLGg9dSxmPWMsZD1sLHA9ITE7ND09PWMucmFuayYmKHA9ITAsaD11LmFzNUQoMSx1LnNoYXBlWzBdLHUuc2hhcGVbMV0sdS5zaGFwZVsyXSx1LnNoYXBlWzNdKSxmPWMuYXM1RCgxLGMuc2hhcGVbMF0sYy5zaGFwZVsxXSxjLnNoYXBlWzJdLGMuc2hhcGVbM10pLGQ9bC5hczVEKDEsbC5zaGFwZVswXSxsLnNoYXBlWzFdLGwuc2hhcGVbMl0sbC5zaGFwZVszXSkpO0MoNT09PWgucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIG1heFBvb2wzZEJhY2twcm9wOiBkeSBtdXN0IGJlIHJhbmsgNSBidXQgZ290IHJhbmsgXCIraC5yYW5rK1wiLlwifSkpLEMoNT09PWYucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIG1heFBvb2wzZEJhY2twcm9wOiBpbnB1dCBtdXN0IGJlIHJhbmsgNSBidXQgZ290IHJhbmsgXCIrZi5yYW5rK1wiLlwifSkpLEMoNT09PWQucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIG1heFBvb2wzZEJhY2twcm9wOiBvdXRwdXQgbXVzdCBiZSByYW5rIDUgYnV0IGdvdCByYW5rIFwiK2QucmFuaytcIi5cIn0pKSxudWxsPT1hJiYoYT1bMSwxLDFdKTtDKE1vKG8sYSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBtYXhQb29sM2RCYWNrcHJvcDogRWl0aGVyIHN0cmlkZXMgb3IgZGlsYXRpb25zIG11c3QgYmUgMS4gR290IHN0cmlkZXMgXCIrbytcIiBhbmQgZGlsYXRpb25zICdcIithK1wiJ1wifSkpLG51bGwhPXMmJkMoQShpKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIG1heFBvb2wzZEJhY2twcm9wOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gdXNpbmcsIGRpbVJvdW5kaW5nTW9kZSBcIitzK1wiIGJ1dCBnb3QgcGFkIFwiK2krXCIuXCJ9KSk7dmFyIHY9a28oZi5zaGFwZSxyLG8sYSxpLHMpLG09THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQubWF4UG9vbDNkQmFja3Byb3AoaCxmLGQsdil9KSx7ZHk1RDpoLGlucHV0NUQ6Zn0pO2lmKHApcmV0dXJuIG0uYXM0RChtLnNoYXBlWzFdLG0uc2hhcGVbMl0sbS5zaGFwZVszXSxtLnNoYXBlWzRdKTtyZXR1cm4gbX0odCxzLHUsZSxuLGkscixvKX19fSkpO3JldHVybiBjP2guYXM0RChoLnNoYXBlWzFdLGguc2hhcGVbMl0saC5zaGFwZVszXSxoLnNoYXBlWzRdKTpofX0pLHZsPUFuKHthdmdQb29sM2RfOmZ1bmN0aW9uKHQsZSxuLHIsbyxhLGkpe3ZvaWQgMD09PWEmJihhPVwiTkRIV0NcIik7dmFyIHM9bW4odCxcInhcIixcImF2Z1Bvb2wzZFwiLFwiZmxvYXQzMlwiKSx1PXMsYz0hMTs0PT09cy5yYW5rJiYoYz0hMCx1PXMuYXM1RCgxLHMuc2hhcGVbMF0scy5zaGFwZVsxXSxzLnNoYXBlWzJdLHMuc2hhcGVbM10pKSxudWxsPT1pJiYoaT1bMSwxLDFdKSxDKDU9PT11LnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBhdmdQb29sM2Q6IHggbXVzdCBiZSByYW5rIDUgYnV0IGdvdCByYW5rIFwiK3UucmFuaytcIi5cIn0pKSxDKFwiTkRIV0NcIj09PWEsKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBhdmdQb29sM2Q6IE9ubHkgTkRIV0MgaXMgY3VycmVudGx5IHN1cHBvcnRlZCwgYnV0IGdvdCBkYXRhRm9ybWF0IG9mIFwiK2F9KSksQyhNbyhuLGkpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gYXZnUG9vbDNkOiBFaXRoZXIgc3RyaWRlcyBvciBkaWxhdGlvbnMgbXVzdCBiZSAxLiBHb3Qgc3RyaWRlcyBcIituK1wiIGFuZCBkaWxhdGlvbnMgJ1wiK2krXCInXCJ9KSksbnVsbCE9byYmQyhBKHIpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gYXZnUG9vbDNkOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gdXNpbmcsIGRpbVJvdW5kaW5nTW9kZSBcIitvK1wiIGJ1dCBnb3QgcGFkIFwiK3IrXCIuXCJ9KSk7dmFyIGw9a28odS5zaGFwZSxlLG4saSxyLG8sYSksaD1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hdmdQb29sM2QodSxsKX0pLHt4OnV9LChmdW5jdGlvbih0KXtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUsbixyLG8sYSxpKXt2YXIgcz1tbih0LFwiZHlcIixcImF2Z1Bvb2wzZEJhY2twcm9wXCIpLHU9bW4oZSxcImlucHV0XCIsXCJhdmdQb29sM2RCYWNrcHJvcFwiKSxjPXMsbD11LGg9ITE7ND09PXUucmFuayYmKGg9ITAsYz1zLmFzNUQoMSxzLnNoYXBlWzBdLHMuc2hhcGVbMV0scy5zaGFwZVsyXSxzLnNoYXBlWzNdKSxsPXUuYXM1RCgxLHUuc2hhcGVbMF0sdS5zaGFwZVsxXSx1LnNoYXBlWzJdLHUuc2hhcGVbM10pKTtDKDU9PT1jLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBhdmdQb29sM2RCYWNrcHJvcDogZHkgbXVzdCBiZSByYW5rIDUgYnV0IGdvdCByYW5rIFwiK2MucmFuaytcIi5cIn0pKSxDKDU9PT1sLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBhdmdQb29sM2RCYWNrcHJvcDogaW5wdXQgbXVzdCBiZSByYW5rIDUgYnV0IGdvdCByYW5rIFwiK2wucmFuaytcIi5cIn0pKSxudWxsPT1vJiYobz1bMSwxLDFdKTtDKE1vKHIsbyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBhdmdQb29sM2RCYWNrcHJvcDogRWl0aGVyIHN0cmlkZXMgb3IgZGlsYXRpb25zIG11c3QgYmUgMS4gR290IHN0cmlkZXMgXCIrcitcIiBhbmQgZGlsYXRpb25zICdcIitvK1wiJ1wifSkpLG51bGwhPWkmJkMoQShhKSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIG1heFBvb2wzZEJhY2twcm9wOiBwYWQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdoZW4gdXNpbmcsIGRpbVJvdW5kaW5nTW9kZSBcIitpK1wiIGJ1dCBnb3QgcGFkIFwiK2ErXCIuXCJ9KSk7dmFyIGY9a28obC5zaGFwZSxuLHIsbyxhLGkpLGQ9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuYXZnUG9vbDNkQmFja3Byb3AoYyxsLGYpfSkse2R5NUQ6YyxpbnB1dDVEOmx9KTtpZihoKXJldHVybiBkLmFzNEQoZC5zaGFwZVsxXSxkLnNoYXBlWzJdLGQuc2hhcGVbM10sZC5zaGFwZVs0XSk7cmV0dXJuIGR9KHQsdSxlLG4saSxyLG8pfX19KSk7cmV0dXJuIGg9aC5jYXN0KHUuZHR5cGUpLGM/aC5hczREKGguc2hhcGVbMV0saC5zaGFwZVsyXSxoLnNoYXBlWzNdLGguc2hhcGVbNF0pOmh9fSk7dmFyIG1sPUFuKHtzbGljZV86ZnVuY3Rpb24odCxlLG4pe3ZhciByLG8sYT1tbih0LFwieFwiLFwic2xpY2VcIik7aWYoMD09PWEucmFuayl0aHJvdyBuZXcgRXJyb3IoXCJTbGljaW5nIHNjYWxhciBpcyBub3QgcG9zc2libGVcIik7KHI9XCJudW1iZXJcIj09dHlwZW9mIGU/W2VdLmNvbmNhdChuZXcgQXJyYXkoYS5yYW5rLTEpLmZpbGwoMCkpOmUubGVuZ3RoPGEucmFuaz9lLmNvbmNhdChuZXcgQXJyYXkoYS5yYW5rLWUubGVuZ3RoKS5maWxsKDApKTplLnNsaWNlKCkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe0MoLTEhPT10LChmdW5jdGlvbigpe3JldHVyblwic2xpY2UoKSBkb2VzIG5vdCBzdXBwb3J0IG5lZ2F0aXZlIGJlZ2luIGluZGV4aW5nLlwifSkpfSkpLG89KG89bnVsbD09bj9uZXcgQXJyYXkoYS5yYW5rKS5maWxsKC0xKTpcIm51bWJlclwiPT10eXBlb2Ygbj9bbl0uY29uY2F0KG5ldyBBcnJheShhLnJhbmstMSkuZmlsbCgtMSkpOm4ubGVuZ3RoPGEucmFuaz9uLmNvbmNhdChuZXcgQXJyYXkoYS5yYW5rLW4ubGVuZ3RoKS5maWxsKC0xKSk6bikubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiB0Pj0wP3Q6KEMoLTE9PT10LChmdW5jdGlvbigpe3JldHVyblwiTmVnYXRpdmUgc2l6ZSB2YWx1ZXMgc2hvdWxkIGJlIGV4YWN0bHkgLTEgYnV0IGdvdCBcIit0K1wiIGZvciB0aGUgc2xpY2UoKSBzaXplIGF0IGluZGV4IFwiK2UrXCIuXCJ9KSksYS5zaGFwZVtlXS1yW2VdKX0pKSxlbyhhLHIsbyk7dmFyIGk9YS5zaGFwZSxzPXtiZWdpbjpyLHNpemU6b307cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNsaWNlKGEscixvKX0pLHt4OmF9LChmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248dC5yYW5rO24rKyllLnB1c2goW3Jbbl0saVtuXS1yW25dLW9bbl1dKTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiB0LnBhZChlKX19fSksXCJTbGljZVwiLHMpfX0pLGdsPUFuKHtzbGljZTFkXzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bW4odCxcInhcIixcInNsaWNlMWRcIik7cmV0dXJuIEMoMT09PXIucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cInNsaWNlMWQgZXhwZWN0cyBhIHJhbmstMSB0ZW5zb3IsIGJ1dCBnb3QgYSByYW5rLVwiK3IucmFuaytcIiB0ZW5zb3JcIn0pKSxtbChyLFtlXSxbbl0pfX0pLHlsPUFuKHtzbGljZTJkXzpmdW5jdGlvbih0LGUsbil7dmFyIHI9bW4odCxcInhcIixcInNsaWNlMmRcIik7cmV0dXJuIEMoMj09PXIucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cInNsaWNlMmQgZXhwZWN0cyBhIHJhbmstMiB0ZW5zb3IsIGJ1dCBnb3QgYSByYW5rLVwiK3IucmFuaytcIiB0ZW5zb3JcIn0pKSxtbChyLGUsbil9fSkseGw9QW4oe3NsaWNlM2RfOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1tbih0LFwieFwiLFwic2xpY2UzZFwiKTtyZXR1cm4gQygzPT09ci5yYW5rLChmdW5jdGlvbigpe3JldHVyblwic2xpY2UzZCBleHBlY3RzIGEgcmFuay0zIHRlbnNvciwgYnV0IGdvdCBhIHJhbmstXCIrci5yYW5rK1wiIHRlbnNvclwifSkpLG1sKHIsZSxuKX19KSxibD1Bbih7c2xpY2U0ZF86ZnVuY3Rpb24odCxlLG4pe3ZhciByPW1uKHQsXCJ4XCIsXCJzbGljZTRkXCIpO3JldHVybiBDKDQ9PT1yLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJzbGljZTRkIGV4cGVjdHMgYSByYW5rLTQgdGVuc29yLCBidXQgZ290IGEgcmFuay1cIityLnJhbmsrXCIgdGVuc29yXCJ9KSksbWwocixlLG4pfX0pO2Z1bmN0aW9uIHdsKHQsZSxuLHIsbyl7cmV0dXJuIGUucmFuazxuLnJhbmsmJihlPWUucmVzaGFwZSh3bihlLnNoYXBlLHIpKSksdC5yYW5rPG4ucmFuayYmKHQ9dC5yZXNoYXBlKHduKHQuc2hhcGUscikpKSx7eDpmdW5jdGlvbigpe3ZhciByPXQubXVsKG4uZXF1YWwoZSkuY2FzdCh0LmR0eXBlKSk7cmV0dXJuIG51bGw9PW8/cjpyLnRyYW5zcG9zZShvKX19fXZhciBDbD1Bbih7YWxsXzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49ITEpO3ZhciByPW1uKHQsXCJ4XCIsXCJhbGxcIixcImJvb2xcIiksbz1PKGUsci5zaGFwZSksYT1vLGk9RW4oYSxyLnJhbmspO251bGwhPWkmJihyPXIudHJhbnNwb3NlKGkpLGE9SW4oYS5sZW5ndGgsci5yYW5rKSk7dmFyIHM9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWxsKHIsYSl9KSx7JHg6cn0pO2lmKG4pe3ZhciB1PXduKHMuc2hhcGUsbyk7cmV0dXJuIHMucmVzaGFwZSh1KX1yZXR1cm4gc319KSxFbD1Bbih7YW55XzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49ITEpO3ZhciByPW1uKHQsXCJ4XCIsXCJhbnlcIixcImJvb2xcIiksbz1PKGUsci5zaGFwZSksYT1vLGk9RW4oYSxyLnJhbmspO251bGwhPWkmJihyPXIudHJhbnNwb3NlKGkpLGE9SW4oYS5sZW5ndGgsci5yYW5rKSk7dmFyIHM9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuYW55KHIsYSl9KSx7JHg6cn0pO2lmKG4pe3ZhciB1PXduKHMuc2hhcGUsbyk7cmV0dXJuIHMucmVzaGFwZSh1KX1yZXR1cm4gc319KSxSbD1Bbih7YXJnTWF4XzpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTApO3ZhciBuPW1uKHQsXCJ4XCIsXCJhcmdNYXhcIik7bnVsbD09ZSYmKGU9MCk7dmFyIHI9TyhlLG4uc2hhcGUpLG89RW4ocixuLnJhbmspO251bGwhPW8mJihuPW4udHJhbnNwb3NlKG8pLHI9SW4oci5sZW5ndGgsbi5yYW5rKSk7dmFyIGE9e2F4aXM6clswXX0saT1bbl07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG89dC5hcmdNYXgobixyWzBdKTtyZXR1cm4gZShbbl0pLG99KSx7eDpufSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIFhuKG4pfX19KSxcIkFyZ01heFwiLGEsaSl9fSksSWw9QW4oe2FyZ01pbl86ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKTt2YXIgbj1tbih0LFwieFwiLFwiYXJnTWluXCIpO251bGw9PWUmJihlPTApO3ZhciByPU8oZSxuLnNoYXBlKSxvPUVuKHIsbi5yYW5rKTtyZXR1cm4gbnVsbCE9byYmKG49bi50cmFuc3Bvc2Uobykscj1JbihyLmxlbmd0aCxuLnJhbmspKSxMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBvPXQuYXJnTWluKG4sclswXSk7cmV0dXJuIGUoW25dKSxvfSkseyR4Om59LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIFhuKG4pfX19KSl9fSksa2w9QW4oe2xvZ1N1bUV4cF86ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PW4mJihuPSExKTt2YXIgcj1tbih0LFwieFwiLFwibG9nU3VtRXhwXCIpLG89TyhlLHIuc2hhcGUpLGE9ci5tYXgobywhMCksaT1yLnN1YihhKS5leHAoKS5zdW0obykubG9nKCkscz1hLnJlc2hhcGUoaS5zaGFwZSkuYWRkKGkpO2lmKG4pe3ZhciB1PXduKHMuc2hhcGUsbyk7cmV0dXJuIHMucmVzaGFwZSh1KX1yZXR1cm4gc319KSxTbD1Bbih7bWF4XzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49ITEpO3ZhciByPW1uKHQsXCJ4XCIsXCJtYXhcIiksbz1yLGE9TyhlLHIuc2hhcGUpLGk9YSxzPUVuKGksci5yYW5rKTtudWxsIT1zJiYocj1yLnRyYW5zcG9zZShzKSxpPUluKGkubGVuZ3RoLHIucmFuaykpO3ZhciB1PVtyXSxjPUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5tYXgocixpKTtyZXR1cm4gZShbbyxuXSksbn0pLHt4OnJ9LChmdW5jdGlvbih0LGUpe3JldHVybiB3bCh0LGVbMV0sZVswXSxhLHMpfSksXCJNYXhcIix7YXhlczppfSx1LFshMF0pO2lmKG4pe3ZhciBsPXduKGMuc2hhcGUsYSk7Yz1jLnJlc2hhcGUobCl9cmV0dXJuIGN9fSksQWw9QW4oe21lYW5fOmZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT1udWxsKSx2b2lkIDA9PT1uJiYobj0hMSk7dmFyIHI9bW4odCxcInhcIixcIm1lYW5cIiksbz1PKGUsci5zaGFwZSksYT1rKGJuKHIuc2hhcGUsbylbMV0pO3JldHVybiB2bygoZnVuY3Rpb24odCl7dmFyIHI9T24oYSk7cmV0dXJue3ZhbHVlOihyLmR0eXBlPT09dC5kdHlwZT90OnQuY2FzdChyLmR0eXBlKSkuZGl2KHIpLnN1bShlLG4pLGdyYWRGdW5jOmZ1bmN0aW9uKGUpe3ZhciBuPXQuc2hhcGUuc2xpY2UoKTtyZXR1cm4gby5mb3JFYWNoKChmdW5jdGlvbih0KXtuW3RdPTF9KSksZS5yZXNoYXBlKG4pLm11bCh6bih0LnNoYXBlLFwiZmxvYXQzMlwiKSkuZGl2KGEpfX19KSkocil9fSksRGw9QW4oe21pbl86ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PW4mJihuPSExKTt2YXIgcj1tbih0LFwieFwiLFwibWluXCIpLG89cixhPU8oZSxyLnNoYXBlKSxpPWEscz1FbihpLHIucmFuayk7bnVsbCE9cyYmKHI9ci50cmFuc3Bvc2UocyksaT1JbihpLmxlbmd0aCxyLnJhbmspKTt2YXIgdT1bcl0sYz1MdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LGUpe3ZhciBuPXQubWluKHIsaSk7cmV0dXJuIGUoW28sbl0pLG59KSx7eDpyfSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gd2wodCxlWzFdLGVbMF0sYSxzKX0pLFwiTWluXCIse2F4ZXM6aX0sdSxbITBdKTtpZihuKXt2YXIgbD13bihjLnNoYXBlLGEpO2M9Yy5yZXNoYXBlKGwpfXJldHVybiBjfX0pLFRsPUFuKHttb21lbnRzXzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49ITEpO3ZhciByPU8oZSwodD1tbih0LFwieFwiLFwibW9tZW50c1wiKSkuc2hhcGUpLG89dC5tZWFuKHIsbiksYT1vLnNoYXBlO258fChhPXduKG8uc2hhcGUscikpO3ZhciBpPXQudG9GbG9hdCgpLnN1YihvLnJlc2hhcGUoYSkpLnNxdWFyZSgpO3JldHVybnttZWFuOm8sdmFyaWFuY2U6aS5tZWFuKHIsbil9fX0pLE5sPUFuKHtzdW1fOmZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT1udWxsKSx2b2lkIDA9PT1uJiYobj0hMSk7dmFyIHI9bW4odCxcInhcIixcInN1bVwiKTtcImJvb2xcIj09PXIuZHR5cGUmJihyPXIudG9JbnQoKSk7dmFyIG89TyhlLHIuc2hhcGUpO3JldHVybiB2bygoZnVuY3Rpb24odCl7dmFyIGU9RW4obyx0LnJhbmspLHI9byxhPXQ7bnVsbCE9ZSYmKGE9dC50cmFuc3Bvc2UoZSkscj1JbihyLmxlbmd0aCx0LnJhbmspKTt2YXIgaT1mdW5jdGlvbihlKXt2YXIgbj10LnNoYXBlLnNsaWNlKCk7cmV0dXJuIG8uZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0XT0xfSkpLGUucmVzaGFwZShuKS5tdWwoem4odC5zaGFwZSxcImZsb2F0MzJcIikpfSxzPXtheGVzOnJ9LHU9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3VtKGEscil9KSx7eDphfSwoZnVuY3Rpb24odCl7cmV0dXJue3g6ZnVuY3Rpb24oKXtyZXR1cm4gaSh0KX19fSksXCJTdW1cIixzKTtpZihuKXt2YXIgYz13bih1LnNoYXBlLG8pO3U9dS5yZXNoYXBlKGMpfXJldHVybnt2YWx1ZTp1LGdyYWRGdW5jOml9fSkpKHIpfX0pLEZsPUFuKHtwcm9kXzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49ITEpO3ZhciByPW1uKHQsXCJ4XCIsXCJwcm9kXCIpO1wiYm9vbFwiPT09ci5kdHlwZSYmKHI9ci50b0ludCgpKTt2YXIgbz1PKGUsci5zaGFwZSksYT1FbihvLHIucmFuayksaT1vLHM9cjtudWxsIT1hJiYocz1yLnRyYW5zcG9zZShhKSxpPUluKGkubGVuZ3RoLHIucmFuaykpO3ZhciB1PUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnByb2QocyxpKX0pLHtwZXJtdXRlZFg6c30pO2lmKG4pe3ZhciBjPXduKHUuc2hhcGUsbyk7dT11LnJlc2hhcGUoYyl9cmV0dXJuIHV9fSk7dmFyIF9sPUFuKHtlbHVfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJlbHVcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5lbHUoZSk7cmV0dXJuIG4oW3JdKSxyfSkseyR4OmV9LChmdW5jdGlvbih0LGUpe3ZhciBuPWVbMF07cmV0dXJueyR4OmZ1bmN0aW9uKCl7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVsdURlcih0LG4pfSkse2R5OnQseTpufSl9fX0pKX19KSxPbD1Bbih7bGVha3lSZWx1XzpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPS4yKTt2YXIgbj1tbih0LFwieFwiLFwibGVha3lSZWx1XCIpO3JldHVybiBoYyhPbihlKS5tdWwobiksbil9fSksTWw9QW4oe3ByZWx1XzpmdW5jdGlvbih0LGUpe3ZhciBuPW1uKHQsXCJ4XCIsXCJwcmVsdVwiKSxyPW1uKGUsXCJhbHBoYVwiLFwicHJlbHVcIik7cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG89dC5wcmVsdShuLHIpO3JldHVybiBlKFtuLHJdKSxvfSkse3g6bixhbHBoYTpyfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdLHI9ZVsxXSxvPW4uZ3JlYXRlcigwKTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiBlYyhvLHQsdC5tdWwocikpfSxhbHBoYTpmdW5jdGlvbigpe3ZhciBlPWVjKG8sWG4odCksdC5tdWwobikpLGE9RW8oci5zaGFwZSx0LnNoYXBlKTtyZXR1cm4gYS5sZW5ndGg+MCYmKGU9ZS5zdW0oYSkpLGUucmVzaGFwZShyLnNoYXBlKX19fSksXCJQcmVsdVwiKX19KSxCbD1Bbih7cmVsdV86ZnVuY3Rpb24odCl7dmFyIGU9bW4odCxcInhcIixcInJlbHVcIik7cmV0dXJuXCJib29sXCI9PT1lLmR0eXBlP2UudG9JbnQoKTpMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQucmVsdShlKTtyZXR1cm4gbihbZV0pLHJ9KSx7eDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQubXVsU3RyaWN0KG4uc3RlcCgpLnRvRmxvYXQoKSl9fX0pLFwiUmVsdVwiKX19KSxQbD1Bbih7cmVsdTZfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJyZWx1NlwiKTtyZXR1cm5cImJvb2xcIj09PWUuZHR5cGU/ZS50b0ludCgpOkx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5yZWx1NihlKTtyZXR1cm4gbihbZV0pLHJ9KSx7eDplfSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdLHI9bi5sZXNzRXF1YWwoNikubXVsKG4uc3RlcCgpKTtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiB0Lm11bFN0cmljdChyLnRvRmxvYXQoKSl9fX0pLFwiUmVsdTZcIil9fSksTGw9QW4oe3NlbHVfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJzZWx1XCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0LG4pe3ZhciByPXQuc2VsdShlKTtyZXR1cm4gbihbZV0pLHJ9KSx7JHg6ZX0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXTtyZXR1cm57JHg6ZnVuY3Rpb24oKXt2YXIgZT1uLmdyZWF0ZXIoT24oMCkpLHI9T24oYnMpLG89T24od3MpLGE9dC5tdWwobyksaT10Lm11bChyKS5tdWwobi50b0Zsb2F0KCkuZXhwKCkpO3JldHVybiBlYyhlLGEsaSl9fX0pKX19KTt2YXIgV2w9QW4oe3RyYW5zcG9zZV86ZnVuY3Rpb24odCxlKXt2YXIgbj1tbih0LFwieFwiLFwidHJhbnNwb3NlXCIpO2lmKG51bGw9PWUmJihlPW4uc2hhcGUubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiBlfSkpLnJldmVyc2UoKSksQyhuLnJhbms9PT1lLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHRyYW5zcG9zZTogcmFuayBvZiBpbnB1dCBcIituLnJhbmsrXCIgbXVzdCBtYXRjaCBsZW5ndGggb2YgcGVybSBcIitlK1wiLlwifSkpLGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7Qyh0Pj0wJiZ0PG4ucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkFsbCBlbnRyaWVzIGluICdwZXJtJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgXCIrKG4ucmFuay0xKStcIiBidXQgZ290IFwiK2V9KSl9KSksbi5yYW5rPD0xKXJldHVybiBuLmNsb25lKCk7dmFyIHI9e3Blcm06ZX07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYW5zcG9zZShuLGUpfSkse3g6bn0sKGZ1bmN0aW9uKHQpe3ZhciBuPVJuKGUpO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQudHJhbnNwb3NlKG4pfX19KSxcIlRyYW5zcG9zZVwiLHIpfX0pO3ZhciBVbD1Bbih7bG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb25fOmZ1bmN0aW9uKHQsZSxuLHIsbyl7dm9pZCAwPT09ZSYmKGU9NSksdm9pZCAwPT09biYmKG49MSksdm9pZCAwPT09ciYmKHI9MSksdm9pZCAwPT09byYmKG89LjUpO3ZhciBhPW1uKHQsXCJ4XCIsXCJsb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvblwiKTtDKDQ9PT1hLnJhbmt8fDM9PT1hLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBsb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbjogeCBtdXN0IGJlIHJhbmsgMyBvciA0IGJ1dCBnb3RcXG4gICAgICAgICAgICAgICByYW5rIFwiK2EucmFuaytcIi5cIn0pKSxDKEEoZSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBsb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbjogZGVwdGhSYWRpdXMgbXVzdCBiZSBhbiBpbnRlZ2VyIGJ1dCBnb3QgZGVwdGhSYWRpdXMgXCIrZStcIi5cIn0pKTt2YXIgaT1hLHM9ITE7Mz09PWEucmFuayYmKHM9ITAsaT1hLmFzNEQoMSxhLnNoYXBlWzBdLGEuc2hhcGVbMV0sYS5zaGFwZVsyXSkpO3ZhciB1PUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsYSl7dmFyIHM9dC5sb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbjREKGksZSxuLHIsbyk7cmV0dXJuIGEoW2ksc10pLHN9KSx7eDREOml9LChmdW5jdGlvbih0LGEpe3ZhciBpPWFbMF0scz1hWzFdO3JldHVybnt4NEQ6ZnVuY3Rpb24oKXtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTFJOR3JhZCh0LGkscyxlLG4scixvKX0pLHt9KX19fSkpO3JldHVybiBzP3UuYXMzRCh1LnNoYXBlWzFdLHUuc2hhcGVbMl0sdS5zaGFwZVszXSk6dX19KTt2YXIgVmw9QW4oe25vcm1fOmZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PWUmJihlPVwiZXVjbGlkZWFuXCIpLHZvaWQgMD09PW4mJihuPW51bGwpLHZvaWQgMD09PXImJihyPSExKTt2YXIgbz1mdW5jdGlvbiB0KGUsbixyKXt2b2lkIDA9PT1yJiYocj1udWxsKTtpZigwPT09ZS5yYW5rKXJldHVybiBlLmFicygpO2lmKDEhPT1lLnJhbmsmJm51bGw9PT1yKXJldHVybiB0KGUucmVzaGFwZShbLTFdKSxuLHIpO2lmKDE9PT1lLnJhbmt8fFwibnVtYmVyXCI9PXR5cGVvZiByfHxBcnJheS5pc0FycmF5KHIpJiYxPT09ci5sZW5ndGgpe2lmKDE9PT1uKXJldHVybiBlLmFicygpLnN1bShyKTtpZihuPT09MS8wKXJldHVybiBlLmFicygpLm1heChyKTtpZihuPT09LTEvMClyZXR1cm4gZS5hYnMoKS5taW4ocik7aWYoXCJldWNsaWRlYW5cIj09PW58fDI9PT1uKXJldHVybiBlLmFicygpLnBvdyhPbigyLFwiaW50MzJcIikpLnN1bShyKS5zcXJ0KCk7dGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgaW4gbm9ybTogaW52YWxpZCBvcmQgdmFsdWU6IFwiK24pfWlmKEFycmF5LmlzQXJyYXkocikmJjI9PT1yLmxlbmd0aCl7aWYoMT09PW4pcmV0dXJuIGUuYWJzKCkuc3VtKHJbMF0pLm1heChyWzFdLTEpO2lmKG49PT0xLzApcmV0dXJuIGUuYWJzKCkuc3VtKHJbMV0pLm1heChyWzBdKTtpZihuPT09LTEvMClyZXR1cm4gZS5hYnMoKS5zdW0oclsxXSkubWluKHJbMF0pO2lmKFwiZnJvXCI9PT1ufHxcImV1Y2xpZGVhblwiPT09bilyZXR1cm4gZS5zcXVhcmUoKS5zdW0ocikuc3FydCgpO3Rocm93IG5ldyBFcnJvcihcIkVycm9yIGluIG5vcm06IGludmFsaWQgb3JkIHZhbHVlOiBcIituKX10aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBpbiBub3JtOiBpbnZhbGlkIGF4aXM6IFwiK3IpfSh0PW1uKHQsXCJ4XCIsXCJub3JtXCIpLGUsbiksYT1vLnNoYXBlO2lmKHIpe3ZhciBpPU8obix0LnNoYXBlKTthPXduKG8uc2hhcGUsaSl9cmV0dXJuIG8ucmVzaGFwZShhKX19KTt2YXIgemw9QW4oe2Jhc2ljTFNUTUNlbGxfOmZ1bmN0aW9uKHQsZSxuLHIsbyxhKXt2YXIgaT1tbih0LFwiZm9yZ2V0Qmlhc1wiLFwiYmFzaWNMU1RNQ2VsbFwiKSxzPW1uKGUsXCJsc3RtS2VybmVsXCIsXCJiYXNpY0xTVE1DZWxsXCIpLHU9bW4obixcImxzdG1CaWFzXCIsXCJiYXNpY0xTVE1DZWxsXCIpLGM9bW4ocixcImRhdGFcIixcImJhc2ljTFNUTUNlbGxcIiksbD1tbihvLFwiY1wiLFwiYmFzaWNMU1RNQ2VsbFwiKSxoPW1uKGEsXCJoXCIsXCJiYXNpY0xTVE1DZWxsXCIpLGY9Yy5jb25jYXQoaCwxKS5tYXRNdWwocykuYWRkKHUpLGQ9Zi5zaGFwZVswXSxwPWYuc2hhcGVbMV0vNCx2PVtkLHBdLG09Zi5zbGljZShbMCwwXSx2KSxnPWYuc2xpY2UoWzAscF0sdikseT1mLnNsaWNlKFswLDIqcF0sdikseD1mLnNsaWNlKFswLDMqcF0sdiksYj1tLnNpZ21vaWQoKS5tdWxTdHJpY3QoZy50YW5oKCkpLmFkZFN0cmljdChsLm11bFN0cmljdChpLmFkZCh5KS5zaWdtb2lkKCkpKSx3PWIudGFuaCgpLm11bFN0cmljdCh4LnNpZ21vaWQoKSk7cmV0dXJuW2Isd119fSksR2w9QW4oe211bHRpUk5OQ2VsbF86ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBvPW1uKGUsXCJkYXRhXCIsXCJtdWx0aVJOTkNlbGxcIiksYT1nbihuLFwiY1wiLFwibXVsdGlSTk5DZWxsXCIpLGk9Z24ocixcImhcIixcIm11bHRpUk5OQ2VsbFwiKSxzPW8sdT1bXSxjPTA7Yzx0Lmxlbmd0aDtjKyspe3ZhciBsPXRbY10ocyxhW2NdLGlbY10pO3UucHVzaChsWzBdKSx1LnB1c2gobFsxXSkscz1sWzFdfXZhciBoPVtdLGY9W107Zm9yKGM9MDtjPHUubGVuZ3RoO2MrPTIpaC5wdXNoKHVbY10pLGYucHVzaCh1W2MrMV0pO3JldHVybltoLGZdfX0pO3ZhciBIbD1Bbih7bW92aW5nQXZlcmFnZV86ZnVuY3Rpb24odCxlLG4scixvKXt2b2lkIDA9PT1vJiYobz0hMCk7dmFyIGE9bW4odCxcInZcIixcIm1vdmluZ0F2ZXJhZ2VcIiksaT1tbihlLFwieFwiLFwibW92aW5nQXZlcmFnZVwiKSxzPW1uKG4sXCJkZWNheVwiLFwibW92aW5nQXZlcmFnZVwiKTtGdChhLGkpLEMoUyhhLnNoYXBlLGkuc2hhcGUpLChmdW5jdGlvbigpe3JldHVyblwiU2hhcGUgbWlzbWF0Y2ggaW4gdiBhbmQgeFwifSkpO3ZhciB1PU9uKDEpLGM9dS5zdWIocyksbD1pLnN1YihhKS5tdWwoYyk7aWYobyl7QyhudWxsIT1yLChmdW5jdGlvbigpe3JldHVyblwiV2hlbiB1c2luZyB6ZXJvRGViaWFzOiB0cnVlLCBzdGVwIGlzIHJlcXVpcmVkLlwifSkpO3ZhciBoPW1uKHIsXCJzdGVwXCIsXCJtb3ZpbmdBdmVyYWdlXCIpO2w9bC5kaXYodS5zdWIoeGMocyxoKSkpfXJldHVybiBhLmFkZChsKX19KTt2YXIgcWw9QW4oe3N0cmlkZWRTbGljZV86ZnVuY3Rpb24odCxlLG4scixvLGEsaSxzLHUpe2lmKHZvaWQgMD09PW8mJihvPTApLHZvaWQgMD09PWEmJihhPTApLHZvaWQgMD09PWkmJihpPTApLHZvaWQgMD09PXMmJihzPTApLHZvaWQgMD09PXUmJih1PTApLG51bGw9PXImJihyPW5ldyBBcnJheShlLmxlbmd0aCkpLDAhPT1pKXRocm93IG5ldyBFcnJvcihcImVsbGlwc2lzIG1hc2sgaXMgbm90IHlldCBzdXBwb3J0ZWRcIik7dmFyIGM9bW4odCxcInhcIixcInN0cmlkZWRTbGljZVwiKSxsPW5vKHMpLGg9Yy5zaGFwZS5zbGljZSgpO2wuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZVt0XT0wLG5bdF09MSxoLnNwbGljZSh0LDAsMSl9KSksYz1jLnJlc2hhcGUoaCk7Zm9yKHZhciBmPTA7ZjxjLnJhbms7ZisrKWVbZl09b28obyxlLHIsYy5zaGFwZSxmKSxuW2ZdPWFvKGEsbixyLGMuc2hhcGUsZikscltmXT1yW2ZdfHwxO3ZhciBkPW5vKHUpO2QuZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0XT1lW3RdKzEsclt0XT0xfSkpO3ZhciBwPXJvKGUsbixyKSx2PXAuZmlsdGVyKChmdW5jdGlvbih0LGUpe3JldHVybi0xPT09ZC5pbmRleE9mKGUpfSkpO3JldHVybiByLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gMT09PXR9KSk/bWwoYyxlLHApLnJlc2hhcGUodik6THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RyaWRlZFNsaWNlKGMsZSxuLHIpfSkseyR4OmN9KS5yZXNoYXBlKHYpfX0pO3ZhciBLbD1Bbih7dG9wa186ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPTEpLHZvaWQgMD09PW4mJihuPSEwKTt2YXIgcj1tbih0LFwieFwiLFwidG9wa1wiKTtpZigwPT09ci5yYW5rKXRocm93IG5ldyBFcnJvcihcInRvcGsoKSBleHBlY3RzIHRoZSBpbnB1dCB0byBiZSBvZiByYW5rIDEgb3IgaGlnaGVyXCIpO3ZhciBvPXIuc2hhcGVbci5zaGFwZS5sZW5ndGgtMV07aWYoZT5vKXRocm93IG5ldyBFcnJvcihcIidrJyBwYXNzZWQgdG8gdG9waygpIG11c3QgYmUgPD0gdGhlIGxhc3QgZGltZW5zaW9uIChcIitvK1wiKSBidXQgZ290IFwiK2UpO3ZhciBhPUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvcGsocixlLG4pfSkseyR4OnJ9KTtyZXR1cm57dmFsdWVzOmFbMF0saW5kaWNlczphWzFdfX19KTt2YXIgamw9QW4oe3NjYXR0ZXJORF86ZnVuY3Rpb24odCxlLG4pe3ZhciByPW1uKHQsXCJpbmRpY2VzXCIsXCJzY2F0dGVyTkRcIixcImludDMyXCIpLG89bW4oZSxcInVwZGF0ZXNcIixcInNjYXR0ZXJORFwiKTtyZXR1cm4gSnIobyxyLG4pLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNjYXR0ZXJORChyLG8sbil9KSx7aW5kaWNlczpyLHVwZGF0ZXM6b30sbnVsbCxcIlNjYXR0ZXJOZFwiLHtzaGFwZTpufSl9fSk7dmFyIFhsPUFuKHtmZnRfOmZ1bmN0aW9uKHQpe0MoXCJjb21wbGV4NjRcIj09PXQuZHR5cGUsKGZ1bmN0aW9uKCl7cmV0dXJuXCJUaGUgZHR5cGUgZm9yIHRmLnNwZWN0cmFsLmZmdCgpIG11c3QgYmUgY29tcGxleDY0IGJ1dCBnb3QgXCIrdC5kdHlwZStcIi5cIn0pKTt2YXIgZT10LnNoYXBlW3Quc2hhcGUubGVuZ3RoLTFdLG49dC5zaXplL2Uscj10LmFzMkQobixlKTtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCl7cmV0dXJuIHQuZmZ0KHIpfSkse2lucHV0OnR9KS5yZXNoYXBlKHQuc2hhcGUpfX0pLFlsPUFuKHtpZmZ0XzpmdW5jdGlvbih0KXtDKFwiY29tcGxleDY0XCI9PT10LmR0eXBlLChmdW5jdGlvbigpe3JldHVyblwiVGhlIGR0eXBlIGZvciB0Zi5zcGVjdHJhbC5pZmZ0KCkgbXVzdCBiZSBjb21wbGV4NjQgYnV0IGdvdCBcIit0LmR0eXBlK1wiLlwifSkpO3ZhciBlPXQuc2hhcGVbdC5zaGFwZS5sZW5ndGgtMV0sbj10LnNpemUvZSxyPXQuYXMyRChuLGUpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZmZ0KHIpfSkse2lucHV0OnR9KS5yZXNoYXBlKHQuc2hhcGUpfX0pLCRsPUFuKHtyZmZ0XzpmdW5jdGlvbih0LGUpe0MoXCJmbG9hdDMyXCI9PT10LmR0eXBlLChmdW5jdGlvbigpe3JldHVyblwiVGhlIGR0eXBlIGZvciByZmZ0KCkgbXVzdCBiZSByZWFsIHZhbHVlIGJ1dCBnb3QgXCIrdC5kdHlwZX0pKTt2YXIgbixyPXQuc2hhcGVbdC5zaGFwZS5sZW5ndGgtMV0sbz10LnNpemUvcjtpZihudWxsIT1lJiZlPHIpe3ZhciBhPXQuc2hhcGUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gMH0pKSxpPXQuc2hhcGUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKTtpW3Quc2hhcGUubGVuZ3RoLTFdPWUsbj10LnNsaWNlKGEsaSkscj1lfWVsc2UgaWYobnVsbCE9ZSYmZT5yKXt2YXIgcz10LnNoYXBlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSk7c1t0LnNoYXBlLmxlbmd0aC0xXT1lLXIsbj10LmNvbmNhdChHbihzKSx0LnNoYXBlLmxlbmd0aC0xKSxyPWV9ZWxzZSBuPXQ7dmFyIHU9bi56ZXJvc0xpa2UoKSxjPURuKG4sdSkuYXMyRChvLHIpLGw9WGwoYyksaD1NYXRoLmZsb29yKHIvMikrMSxmPVRuKGwpLGQ9Tm4obCkscD1mLnNwbGl0KFtoLHItaF0sZi5zaGFwZS5sZW5ndGgtMSksdj1kLnNwbGl0KFtoLHItaF0sZC5zaGFwZS5sZW5ndGgtMSksbT1uLnNoYXBlLnNsaWNlKCk7cmV0dXJuIG1bbi5zaGFwZS5sZW5ndGgtMV09aCxEbihwWzBdLHZbMF0pLnJlc2hhcGUobSl9fSksUWw9QW4oe2lyZmZ0XzpmdW5jdGlvbih0KXt2YXIgZT10LnNoYXBlW3Quc2hhcGUubGVuZ3RoLTFdLG49dC5zaXplL2U7aWYoZTw9Mil7dmFyIHI9dC5hczJEKG4sZSksbz1ZbChyKTtyZXR1cm4gVG4obyl9dmFyIGE9W24sMiooZS0xKV0saT1Ubih0KS5hczJEKG4sZSkscz1Obih0KS5hczJEKG4sZSksdT1pLnNsaWNlKFswLDFdLFtuLGUtMl0pLnJldmVyc2UoMSksYz1zLnNsaWNlKFswLDFdLFtuLGUtMl0pLnJldmVyc2UoMSkubXVsKE9uKC0xKSksbD1pLmNvbmNhdCh1LDEpLGg9cy5jb25jYXQoYywxKTtyZXR1cm4gcj1EbihsLGgpLmFzMkQoYVswXSxhWzFdKSxvPVlsKHIpLFRuKG8pfX0pLEpsPU9iamVjdC5mcmVlemUoe2ZmdDpYbCxpZmZ0OllsLHJmZnQ6JGwsaXJmZnQ6UWx9KTt2YXIgWmw9QW4oe3NwYXJzZVRvRGVuc2VfOmZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPTApO3ZhciBvPW1uKHQsXCJzcGFyc2VJbmRpY2VzXCIsXCJzcGFyc2VUb0RlbnNlXCIsXCJpbnQzMlwiKSxhPW1uKGUsXCJzcGFyc2VWYWx1ZXNcIixcInNwYXJzZVRvRGVuc2VcIiksaT1tbihyLFwiZGVmYXVsdFZhbHVlXCIsXCJzcGFyc2VUb0RlbnNlXCIsYS5kdHlwZSk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIpe2lmKFwiaW50MzJcIiE9PXQuZHR5cGUpdGhyb3cgbmV3IEVycm9yKFwidGYuc3BhcnNlVG9EZW5zZSgpIGV4cGVjdHMgdGhlIGluZGljZXMgdG8gYmUgaW50MzIgdHlwZSwgYnV0IHRoZSBkdHlwZSB3YXMgXCIrdC5kdHlwZStcIi5cIik7aWYodC5yYW5rPjIpdGhyb3cgbmV3IEVycm9yKFwic3BhcnNlSW5kaWNlcyBzaG91bGQgYmUgYSBzY2FsYXIsIHZlY3Rvciwgb3IgbWF0cml4LCBidXQgZ290IHNoYXBlIFwiK3Quc2hhcGUrXCIuXCIpO3ZhciBvPXQucmFuaz4wP3Quc2hhcGVbMF06MSxhPXQucmFuaz4xP3Quc2hhcGVbMV06MTtpZihuLmxlbmd0aCE9PWEpdGhyb3cgbmV3IEVycm9yKFwib3V0cHV0U2hhcGUgaGFzIGluY29ycmVjdCBudW1iZXIgb2YgZWxlbWVudHM6LCBcIituLmxlbmd0aCtcIiwgc2hvdWxkIGJlOiBcIithK1wiLlwiKTt2YXIgaT1lLnNpemU7aWYoMCE9PWUucmFuayYmKDEhPT1lLnJhbmt8fGkhPT1vKSl0aHJvdyBuZXcgRXJyb3IoXCJzcGFyc2VWYWx1ZXMgaGFzIGluY29ycmVjdCBzaGFwZSBcIitlLnNoYXBlK1wiLCBzaG91bGQgYmUgW10gb3IgW1wiK28rXCJdXCIpO2lmKGUuZHR5cGUhPT1yLmR0eXBlKXRocm93IG5ldyBFcnJvcihcInNwYXJzZVZhbHVlcy5kdHlwZSBtdXN0IG1hdGNoIGRlZmF1bHRWYWx1ZXMuZHR5cGVcIil9KG8sYSxuLGkpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNwYXJzZVRvRGVuc2UobyxhLG4saSl9KSx7JHNwYXJzZUluZGljZXM6bywkc3BhcnNlVmFsdWVzOmEsJGRlZmF1bHRWYWx1ZTppfSl9fSk7dmFyIHRoPUFuKHtnYXRoZXJORF86ZnVuY3Rpb24odCxlKXt2YXIgbj1tbihlLFwiaW5kaWNlc1wiLFwiZ2F0aGVyTkRcIixcImludDMyXCIpLHI9bW4odCxcInhcIixcImdhdGhlck5EXCIpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5nYXRoZXJORChyLG4pfSkse3g6cixpbmRpY2VzOm59LG51bGwsXCJHYXRoZXJOZFwiKX19KTt2YXIgZWg9QW4oe2RpYWdfOmZ1bmN0aW9uKHQpe3ZhciBlPW1uKHQsXCJ4XCIsXCJkaWFnXCIpLmZsYXR0ZW4oKSxuPXQuc2hhcGUuY29uY2F0KHQuc2hhcGUpO3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kaWFnKGUpfSkseyR4OmV9KS5yZXNoYXBlKG4pfX0pO3ZhciBuaD1Bbih7ZHJvcG91dF86ZnVuY3Rpb24odCxlLG4scil7dmFyIG89bW4odCxcInhcIixcImRyb3BvdXRcIik7aWYoQyhcImZsb2F0MzJcIj09PW8uZHR5cGUsKGZ1bmN0aW9uKCl7cmV0dXJuXCJ4IGhhcyB0byBiZSBhIGZsb2F0aW5nIHBvaW50IHRlbnNvciBzaW5jZSBpdCdzIGdvaW5nIHRvIGJlIHNjYWxlZCwgYnV0IGdvdCBhIFwiK28uZHR5cGUrXCIgdGVuc29yIGluc3RlYWQuXCJ9KSksQyhlPj0wJiZlPDEsKGZ1bmN0aW9uKCl7cmV0dXJuXCJyYXRlIG11c3QgYmUgYSBmbG9hdCBpbiB0aGUgcmFuZ2UgWzAsIDEpLCBidXQgZ290IFwiK2UrXCIuXCJ9KSksMD09PWUpcmV0dXJuIHQgaW5zdGFuY2VvZiB3dD9vLmNsb25lKCk6bzt2YXIgYT1mdW5jdGlvbih0LGUpe2lmKG51bGw9PWUpcmV0dXJuIHQuc2hhcGUuc2xpY2UoKTtpZihTKHQuc2hhcGUsZSkpcmV0dXJuIGU7aWYodC5zaGFwZS5sZW5ndGg9PT1lLmxlbmd0aCl7Zm9yKHZhciBuPVtdLHI9MDtyPHQuc2hhcGUubGVuZ3RoO3IrKyludWxsPT1lW3JdJiZudWxsIT10LnNoYXBlW3JdP24ucHVzaCh0LnNoYXBlW3JdKTpuLnB1c2goZVtyXSk7cmV0dXJuIG59cmV0dXJuIGV9KG8sbiksaT0xLWUscz1fcihhLDAsMSxcImZsb2F0MzJcIixyKS5hZGQoaSkuZmxvb3IoKS5kaXYoaSk7cmV0dXJuIG8ubXVsKHMpfX0pO2Z1bmN0aW9uIHJoKHQsZSxuKXtmb3IodmFyIHI9MS10JTIsbz1uZXcgRmxvYXQzMkFycmF5KHQpLGE9MDthPHQ7KythKXt2YXIgaT0yKk1hdGguUEkqYS8odCtyLTEpO29bYV09ZS1uKk1hdGguY29zKGkpfXJldHVybiBNbihvLFwiZmxvYXQzMlwiKX12YXIgb2g9QW4oe2hhbm5XaW5kb3dfOmZ1bmN0aW9uKHQpe3JldHVybiByaCh0LC41LC41KX19KSxhaD1Bbih7aGFtbWluZ1dpbmRvd186ZnVuY3Rpb24odCl7cmV0dXJuIHJoKHQsLjU0LC40Nil9fSksaWg9QW4oe2ZyYW1lXzpmdW5jdGlvbih0LGUsbixyLG8pe3ZvaWQgMD09PXImJihyPSExKSx2b2lkIDA9PT1vJiYobz0wKTtmb3IodmFyIGE9MCxpPVtdO2ErZTw9dC5zaXplOylpLnB1c2gobWwodCxhLGUpKSxhKz1uO2lmKHIpZm9yKDthPHQuc2l6ZTspe3ZhciBzPWErZS10LnNpemUsdT1ZbihbbWwodCxhLGUtcyksSG4oW3NdLG8pXSk7aS5wdXNoKHUpLGErPW59cmV0dXJuIDA9PT1pLmxlbmd0aD9CbihbXSxbMCxlXSk6WW4oaSkuYXMyRChpLmxlbmd0aCxlKX19KSxzaD1Bbih7c3RmdF86ZnVuY3Rpb24odCxlLG4scixvKXt2YXIgYTt2b2lkIDA9PT1vJiYobz1vaCksbnVsbD09ciYmKGE9ZSxyPU1hdGguZmxvb3IoTWF0aC5wb3coMixNYXRoLmNlaWwoTWF0aC5sb2coYSkvTWF0aC5sb2coMikpKSkpO2Zvcih2YXIgaT1paCh0LGUsbikscz1nYyhpLG8oZSkpLHU9W10sYz0wO2M8aS5zaGFwZVswXTtjKyspdS5wdXNoKCRsKHMuc2xpY2UoW2MsMF0sWzEsZV0pLHIpKTtyZXR1cm4gWW4odSl9fSksdWg9T2JqZWN0LmZyZWV6ZSh7aGFubldpbmRvdzpvaCxoYW1taW5nV2luZG93OmFoLGZyYW1lOmloLHN0ZnQ6c2h9KTt2YXIgY2gsbGg9ZnVuY3Rpb24odCxlLG8pe3JldHVybiB2b2lkIDA9PT1vJiYobz0xKSxuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixhLGkscyx1LGMsbCxoLGYsZCxwLHYsbSxnO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIG49bW4odCxcInByZWRpY3Rpb25zXCIsXCJpblRvcEtcIiksYT1tbihlLFwidGFyZ2V0c1wiLFwiaW5Ub3BLXCIpLEMobi5yYW5rPjEsKGZ1bmN0aW9uKCl7cmV0dXJuXCJpblRvcEsoKSBleHBlY3RzIHRoZSBwcmVkaWN0aW9ucyB0byBiZSBvZiByYW5rIDIgb3IgaGlnaGVyLCBidXQgZ290IFwiK24ucmFua30pKSxDKG4ucmFuay0xPT09YS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwicHJlZGljdGlvbnMgcmFuayBzaG91bGQgYmUgMSBsYXJnZXIgdGhhbiB0YXJnZXRzIHJhbmssIGJ1dCBnb3QgcHJlZGljdGlvbnMgcmFuayBcIituLnJhbmsrXCIgYW5kIHRhcmdldHMgcmFuayBcIithLnJhbmt9KSksRShuLnNoYXBlLnNsaWNlKDAsbi5zaGFwZS5sZW5ndGgtMSksYS5zaGFwZSxcInByZWRpY3Rpb25zJ3Mgc2hhcGUgc2hvdWxkIGJlIGFsaWduIHdpdGggdGhlIHRhcmdldHMnIHNoYXBlLCBleGNlcHQgdGhlIGxhc3QgZGltZW5zaW9uLlwiKSxpPW4uc2hhcGVbbi5zaGFwZS5sZW5ndGgtMV0sQyhvPjAmJm88PWksKGZ1bmN0aW9uKCl7cmV0dXJuXCInaycgcGFzc2VkIHRvIGluVG9wSygpIG11c3QgYmUgPiAwICYmIDw9IHRoZSBwcmVkaWN0aW9ucyBsYXN0IGRpbWVuc2lvbiAoXCIraStcIiksIGJ1dCBnb3QgXCIrb30pKSxbNCxuLmRhdGEoKV07Y2FzZSAxOnJldHVybiBzPXIuc2VudCgpLFs0LGEuZGF0YSgpXTtjYXNlIDI6Zm9yKHU9ci5zZW50KCksYz1bcy5sZW5ndGgvaSxpXSxoPWNbMV0sZj1CKFwiYm9vbFwiLGw9Y1swXSksZD0wO2Q8bDtkKyspe2ZvcihwPWQqaCx2PXMuc3ViYXJyYXkocCxwK2gpLG09W10sZz0wO2c8di5sZW5ndGg7ZysrKW0ucHVzaCh7dmFsdWU6dltnXSxpbmRleDpnfSk7Zm9yKG0uc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS52YWx1ZS10LnZhbHVlfSkpLGZbZF09MCxnPTA7ZzxvO2crKylpZihtW2ddLmluZGV4PT09dVtkXSl7ZltkXT0xO2JyZWFrfX1yZXR1cm4gdCE9PW4mJm4uZGlzcG9zZSgpLGUhPT1hJiZhLmRpc3Bvc2UoKSxbMixGbihmLGEuc2hhcGUsXCJib29sXCIpXX19KSl9KSl9OyFmdW5jdGlvbih0KXt0W3QuTk9ORT0wXT1cIk5PTkVcIix0W3QuTUVBTj0xXT1cIk1FQU5cIix0W3QuU1VNPTJdPVwiU1VNXCIsdFt0LlNVTV9CWV9OT05aRVJPX1dFSUdIVFM9M109XCJTVU1fQllfTk9OWkVST19XRUlHSFRTXCJ9KGNofHwoY2g9e30pKTt2YXIgaGg9QW4oe2Fic29sdXRlRGlmZmVyZW5jZV86ZnVuY3Rpb24odCxlLG4scil7dm9pZCAwPT09ciYmKHI9Y2guU1VNX0JZX05PTlpFUk9fV0VJR0hUUyk7dmFyIG89bW4odCxcImxhYmVsc1wiLFwiYWJzb2x1dGVEaWZmZXJlbmNlXCIpLGE9bW4oZSxcInByZWRpY3Rpb25zXCIsXCJhYnNvbHV0ZURpZmZlcmVuY2VcIiksaT1udWxsO251bGwhPW4mJihpPW1uKG4sXCJ3ZWlnaHRzXCIsXCJhYnNvbHV0ZURpZmZlcmVuY2VcIikpLEUoby5zaGFwZSxhLnNoYXBlLFwiRXJyb3IgaW4gYWJzb2x1dGVEaWZmZXJlbmNlOiBcIik7dmFyIHM9by5zdWIoYSkuYWJzKCk7cmV0dXJuIGZoKHMsaSxyKX19KSxmaD1Bbih7Y29tcHV0ZVdlaWdodGVkTG9zc186ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPWNoLlNVTV9CWV9OT05aRVJPX1dFSUdIVFMpO3ZhciByPW1uKHQsXCJsb3NzZXNcIixcImNvbXB1dGVXZWlnaHRlZExvc3NcIiksbz1udWxsO251bGwhPWUmJihvPW1uKGUsXCJ3ZWlnaHRzXCIsXCJjb21wdXRlV2VpZ2h0ZWRMb3NzXCIpKTt2YXIgYT1udWxsPT1vP3I6ci5tdWwobyk7aWYobj09PWNoLk5PTkUpcmV0dXJuIGE7aWYobj09PWNoLlNVTSlyZXR1cm4gYS5zdW0oKTtpZihuPT09Y2guTUVBTil7aWYobnVsbD09bylyZXR1cm4gYS5tZWFuKCk7dmFyIGk9ci5zaXplL28uc2l6ZSxzPWEuc3VtKCkuZGl2KG8uc3VtKCkpO3JldHVybiBpPjE/cy5kaXYoT24oaSkpOnN9aWYobj09PWNoLlNVTV9CWV9OT05aRVJPX1dFSUdIVFMpe2lmKG51bGw9PW8pcmV0dXJuIGEuc3VtKCkuZGl2KE9uKHIuc2l6ZSkpO3ZhciB1PW8ubXVsKHpuKHIuc2hhcGUpKS5ub3RFcXVhbChPbigwKSkuc3VtKCkudG9GbG9hdCgpO3JldHVybiBhLnN1bSgpLmRpdih1KX10aHJvdyBFcnJvcihcIlVua25vd24gcmVkdWN0aW9uOiBcIituKX19KSxkaD1Bbih7Y29zaW5lRGlzdGFuY2VfOmZ1bmN0aW9uKHQsZSxuLHIsbyl7dm9pZCAwPT09byYmKG89Y2guU1VNX0JZX05PTlpFUk9fV0VJR0hUUyk7dmFyIGE9bW4odCxcImxhYmVsc1wiLFwiY29zaW5lRGlzdGFuY2VcIiksaT1tbihlLFwicHJlZGljdGlvbnNcIixcImNvc2luZURpc3RhbmNlXCIpLHM9bnVsbDtudWxsIT1yJiYocz1tbihyLFwid2VpZ2h0c1wiLFwiY29zaW5lRGlzdGFuY2VcIikpLEUoYS5zaGFwZSxpLnNoYXBlLFwiRXJyb3IgaW4gY29zaW5lRGlzdGFuY2U6IFwiKTt2YXIgdT1PbigxKS5zdWIoYS5tdWwoaSkuc3VtKG4sITApKTtyZXR1cm4gZmgodSxzLG8pfX0pLHBoPUFuKHtoaW5nZUxvc3NfOmZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPWNoLlNVTV9CWV9OT05aRVJPX1dFSUdIVFMpO3ZhciBvPW1uKHQsXCJsYWJlbHNcIixcImhpbmdlTG9zc1wiKSxhPW1uKGUsXCJwcmVkaWN0aW9uc1wiLFwiaGluZ2VMb3NzXCIpLGk9bnVsbDtudWxsIT1uJiYoaT1tbihuLFwid2VpZ2h0c1wiLFwiaGluZ2VMb3NzXCIpKSxFKG8uc2hhcGUsYS5zaGFwZSxcIkVycm9yIGluIGhpbmdlTG9zczogXCIpO3ZhciBzPU9uKDEpO289T24oMikubXVsKG8pLnN1YihzKTt2YXIgdT1zLnN1YihvLm11bChhKSkucmVsdSgpO3JldHVybiBmaCh1LGkscil9fSksdmg9QW4oe2h1YmVyTG9zc186ZnVuY3Rpb24odCxlLG4scixvKXt2b2lkIDA9PT1yJiYocj0xKSx2b2lkIDA9PT1vJiYobz1jaC5TVU1fQllfTk9OWkVST19XRUlHSFRTKTt2YXIgYT1tbih0LFwibGFiZWxzXCIsXCJodWJlckxvc3NcIiksaT1tbihlLFwicHJlZGljdGlvbnNcIixcImh1YmVyTG9zc1wiKSxzPW51bGw7bnVsbCE9biYmKHM9bW4obixcIndlaWdodHNcIixcImh1YmVyTG9zc1wiKSksRShhLnNoYXBlLGkuc2hhcGUsXCJFcnJvciBpbiBodWJlckxvc3M6IFwiKTt2YXIgdT1PbihyKSxjPWkuc3ViKGEpLmFicygpLGw9ZGMoYyx1KSxoPWMuc3ViKGwpLGY9T24oLjUpLm11bChsLnNxdWFyZSgpKS5hZGQodS5tdWwoaCkpO3JldHVybiBmaChmLHMsbyl9fSksbWg9QW4oe2xvZ0xvc3NfOmZ1bmN0aW9uKHQsZSxuLHIsbyl7dm9pZCAwPT09ciYmKHI9MWUtNyksdm9pZCAwPT09byYmKG89Y2guU1VNX0JZX05PTlpFUk9fV0VJR0hUUyk7dmFyIGE9bW4odCxcImxhYmVsc1wiLFwibG9nTG9zc1wiKSxpPW1uKGUsXCJwcmVkaWN0aW9uc1wiLFwibG9nTG9zc1wiKSxzPW51bGw7bnVsbCE9biYmKHM9bW4obixcIndlaWdodHNcIixcImxvZ0xvc3NcIikpLEUoYS5zaGFwZSxpLnNoYXBlLFwiRXJyb3IgaW4gbG9nTG9zczogXCIpO3ZhciB1PU9uKDEpLGM9T24ociksbD1hLm11bChpLmFkZChjKS5sb2coKSkubmVnKCkuc3ViKHUuc3ViKGEpLm11bCh1LnN1YihpKS5hZGQoYykubG9nKCkpKTtyZXR1cm4gZmgobCxzLG8pfX0pLGdoPUFuKHttZWFuU3F1YXJlZEVycm9yXzpmdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1yJiYocj1jaC5TVU1fQllfTk9OWkVST19XRUlHSFRTKTt2YXIgbz1tbih0LFwibGFiZWxzXCIsXCJtZWFuU3F1YXJlZEVycm9yXCIpLGE9bW4oZSxcInByZWRpY3Rpb25zXCIsXCJtZWFuU3F1YXJlZEVycm9yXCIpLGk9bnVsbDtudWxsIT1uJiYoaT1tbihuLFwid2VpZ2h0c1wiLFwibWVhblNxdWFyZWRFcnJvclwiKSksRShvLnNoYXBlLGEuc2hhcGUsXCJFcnJvciBpbiBtZWFuU3F1YXJlZEVycm9yOiBcIik7dmFyIHM9by5zcXVhcmVkRGlmZmVyZW5jZShhKTtyZXR1cm4gZmgocyxpLHIpfX0pLHloPUFuKHtzaWdtb2lkQ3Jvc3NFbnRyb3B5XzpmdW5jdGlvbih0LGUsbixyLG8pe3ZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PW8mJihvPWNoLlNVTV9CWV9OT05aRVJPX1dFSUdIVFMpO3ZhciBhPW1uKHQsXCJtdWx0aUNsYXNzTGFiZWxzXCIsXCJzaWdtb2lkQ3Jvc3NFbnRyb3B5XCIpLGk9bW4oZSxcImxvZ2l0c1wiLFwic2lnbW9pZENyb3NzRW50cm9weVwiKSxzPW51bGw7aWYobnVsbCE9biYmKHM9bW4obixcIndlaWdodHNcIixcInNpZ21vaWRDcm9zc0VudHJvcHlcIikpLEUoYS5zaGFwZSxpLnNoYXBlLFwiRXJyb3IgaW4gc2lnbW9pZENyb3NzRW50cm9weTogXCIpLHI+MCl7dmFyIHU9T24ociksYz1PbigxKSxsPU9uKC41KTthPWEubXVsKGMuc3ViKHUpKS5hZGQobC5tdWwodSkpfXZhciBoPWZ1bmN0aW9uKHQsZSl7dmFyIG49bW4odCxcImxhYmVsc1wiLFwic2lnbW9pZENyb3NzRW50cm9weVdpdGhMb2dpdHNcIikscj1tbihlLFwibG9naXRzXCIsXCJzaWdtb2lkQ3Jvc3NFbnRyb3B5V2l0aExvZ2l0c1wiKTtFKG4uc2hhcGUsci5zaGFwZSxcIkVycm9yIGluIHNpZ21vaWRDcm9zc0VudHJvcHlXaXRoTG9naXRzOiBcIik7dmFyIG89ci5yZWx1KCksYT1yLm11bChuKSxpPXIuYWJzKCkubmVnKCkuZXhwKCkubG9nMXAoKTtyZXR1cm4gby5zdWIoYSkuYWRkKGkpfShhLGkpO3JldHVybiBmaChoLHMsbyl9fSkseGg9QW4oe3NvZnRtYXhDcm9zc0VudHJvcHlfOmZ1bmN0aW9uKHQsZSxuLHIsbyl7dm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09byYmKG89Y2guU1VNX0JZX05PTlpFUk9fV0VJR0hUUyk7dmFyIGE9bW4odCxcIm9uZWhvdExhYmVsc1wiLFwic29mdG1heENyb3NzRW50cm9weVwiKSxpPW1uKGUsXCJsb2dpdHNcIixcInNvZnRtYXhDcm9zc0VudHJvcHlcIikscz1udWxsO2lmKG51bGwhPW4mJihzPW1uKG4sXCJ3ZWlnaHRzXCIsXCJzb2Z0bWF4Q3Jvc3NFbnRyb3B5XCIpKSxFKGEuc2hhcGUsaS5zaGFwZSxcIkVycm9yIGluIHNvZnRtYXhDcm9zc0VudHJvcHk6IFwiKSxyPjApe3ZhciB1PU9uKHIpLGM9T24oMSksbD1PbihhLnNoYXBlWzFdKTthPWEubXVsKGMuc3ViKHUpKS5hZGQodS5kaXYobCkpfXZhciBoPWZ1bmN0aW9uKHQsZSxuKXtpZih2b2lkIDA9PT1uJiYobj0tMSksLTE9PT1uJiYobj1lLnJhbmstMSksbiE9PWUucmFuay0xKXRocm93IEVycm9yKFwiU29mdG1heCBjcm9zcyBlbnRyb3B5IGFsb25nIGEgbm9uLWxhc3QgZGltZW5zaW9uIGlzIG5vdCB5ZXQgc3VwcG9ydGVkLiBMYWJlbHMgLyBsb2dpdHMgd2FzIHJhbmsgXCIrZS5yYW5rK1wiIGFuZCBkaW0gd2FzIFwiK24pO3JldHVybiB2bygoZnVuY3Rpb24odCxlLHIpe3ZhciBvPWUubG9nU3VtRXhwKFtuXSwhMCksYT1lLnRvRmxvYXQoKS5zdWIobyk7cihbdCxhXSk7cmV0dXJue3ZhbHVlOmEubXVsKHQpLm5lZygpLnN1bShbbl0pLGdyYWRGdW5jOmZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxvPWVbMV0sYT13bih0LnNoYXBlLFtuXSk7cmV0dXJuW3QucmVzaGFwZShhKS5tdWwoci50b0Zsb2F0KCkuc3ViKG8uZXhwKCkpKSx0LnJlc2hhcGUoYSkubXVsKG8uZXhwKCkuc3ViKHIudG9GbG9hdCgpKSldfX19KSkodCxlKX0oYSxpKTtyZXR1cm4gZmgoaCxzLG8pfX0pLGJoPU9iamVjdC5mcmVlemUoe2dldCBSZWR1Y3Rpb24oKXtyZXR1cm4gY2h9LGFic29sdXRlRGlmZmVyZW5jZTpoaCxjb21wdXRlV2VpZ2h0ZWRMb3NzOmZoLGNvc2luZURpc3RhbmNlOmRoLGhpbmdlTG9zczpwaCxodWJlckxvc3M6dmgsbG9nTG9zczptaCxtZWFuU3F1YXJlZEVycm9yOmdoLHNpZ21vaWRDcm9zc0VudHJvcHk6eWgsc29mdG1heENyb3NzRW50cm9weTp4aH0pO2Z1bmN0aW9uIHdoKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSxMdC50aWR5KChmdW5jdGlvbigpe2lmKDIhPT10LnNoYXBlLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJxcjJkKCkgcmVxdWlyZXMgYSAyRCBUZW5zb3IsIGJ1dCBnb3QgYSBcIit0LnNoYXBlLmxlbmd0aCtcIkQgVGVuc29yLlwiKTtmb3IodmFyIG49dC5zaGFwZVswXSxyPXQuc2hhcGVbMV0sbz1DcihuKSxhPXQuY2xvbmUoKSxpPUJuKFtbMV1dLFsxLDFdKSxzPWkuY2xvbmUoKSx1PW4+PXI/cjpuLGM9ZnVuY3Rpb24odCl7dmFyIGUsdT1hLGM9cyxsPW87ZT1MdC50aWR5KChmdW5jdGlvbigpe3ZhciBlPWEuc2xpY2UoW3QsdF0sW24tdCwxXSksdT1lLm5vcm0oKSxjPWEuc2xpY2UoW3QsdF0sWzEsMV0pLGw9Qm4oW1stMV1dKS53aGVyZShjLmdyZWF0ZXIoMCksQm4oW1sxXV0pKSxoPWMuc3ViKGwubXVsKHUpKSxmPWUuZGl2KGgpO3M9MT09PWYuc2hhcGVbMF0/aS5jbG9uZSgpOmkuY29uY2F0KGYuc2xpY2UoWzEsMF0sW2Yuc2hhcGVbMF0tMSxmLnNoYXBlWzFdXSksMCk7dmFyIGQ9bC5tYXRNdWwoaCkuZGl2KHUpLm5lZygpLHA9YS5zbGljZShbdCwwXSxbbi10LHJdKSx2PWQubXVsKHMpO2lmKDA9PT10KWE9cC5zdWIodi5tYXRNdWwocy50cmFuc3Bvc2UoKS5tYXRNdWwocCkpKTtlbHNle3ZhciBtPXAuc3ViKHYubWF0TXVsKHMudHJhbnNwb3NlKCkubWF0TXVsKHApKSk7YT1hLnNsaWNlKFswLDBdLFt0LHJdKS5jb25jYXQobSwwKX12YXIgZz1vLnNsaWNlKFswLHRdLFtuLG8uc2hhcGVbMV0tdF0pO2lmKDA9PT10KW89Zy5zdWIoZy5tYXRNdWwocykubWF0TXVsKHYudHJhbnNwb3NlKCkpKTtlbHNle3ZhciB5PWcuc3ViKGcubWF0TXVsKHMpLm1hdE11bCh2LnRyYW5zcG9zZSgpKSk7bz1vLnNsaWNlKFswLDBdLFtuLHRdKS5jb25jYXQoeSwxKX1yZXR1cm5bcyxhLG9dfSkpLHM9ZVswXSxhPWVbMV0sbz1lWzJdLHRuKFt1LGMsbF0pfSxsPTA7bDx1OysrbCljKGwpO3JldHVybiFlJiZuPnImJihvPW8uc2xpY2UoWzAsMF0sW24scl0pLGE9YS5zbGljZShbMCwwXSxbcixyXSkpLFtvLGFdfSkpfXZhciBDaD1Bbih7YmFuZFBhcnRfOmZ1bmN0aW9uKHQsZSxuKXtpZihlJTEhPTApdGhyb3cgbmV3IEVycm9yKFwiYmFuZFBhcnQoKTogbnVtTG93ZXIgbXVzdCBiZSBhbiBpbnRlZ2VyLCBnb3QgXCIrZStcIi5cIik7aWYobiUxIT0wKXRocm93IG5ldyBFcnJvcihcImJhbmRQYXJ0KCk6IG51bVVwcGVyIG11c3QgYmUgYW4gaW50ZWdlciwgZ290IFwiK24rXCIuXCIpO3ZhciByPW1uKHQsXCJhXCIsXCJiYW5kUGFydFwiKTtpZihyLnJhbms8Mil0aHJvdyBuZXcgRXJyb3IoXCJiYW5kUGFydCgpOiBSYW5rIG11c3QgYmUgYXQgbGVhc3QgMiwgZ290IFwiK3IucmFuaytcIi5cIik7dmFyIG89ci5zaGFwZSxhPXIuc2hhcGUuc2xpY2UoLTIpLGk9YVswXSxzPWFbMV07aWYoIShlPD1pKSl0aHJvdyBuZXcgRXJyb3IoXCJiYW5kUGFydCgpOiBudW1Mb3dlciAoXCIrZStcIikgbXVzdCBub3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBudW1iZXIgb2Ygcm93cyAoXCIraStcIikuXCIpO2lmKCEobjw9cykpdGhyb3cgbmV3IEVycm9yKFwiYmFuZFBhcnQoKTogbnVtVXBwZXIgKFwiK24rXCIpIG11c3Qgbm90IGJlIGdyZWF0ZXIgdGhhbiB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgKFwiK3MrXCIpLlwiKTtlPDAmJihlPWkpLG48MCYmKG49cyk7dmFyIHU9S24oMCxpLDEsXCJpbnQzMlwiKS5yZXNoYXBlKFstMSwxXSksYz1LbigwLHMsMSxcImludDMyXCIpLGw9Q2ModSxjKSxoPVF1KGwubGVzc0VxdWFsKE9uKCtlLFwiaW50MzJcIikpLGwuZ3JlYXRlckVxdWFsKE9uKC1uLFwiaW50MzJcIikpKSxmPUduKFtpLHNdLHIuZHR5cGUpO3JldHVybiBQcihVcihyLnJlc2hhcGUoWy0xLGksc10pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlYyhoLHQsZil9KSkpLnJlc2hhcGUobyl9fSksRWg9QW4oe2dyYW1TY2htaWR0XzpmdW5jdGlvbih0KXt2YXIgZTtpZihBcnJheS5pc0FycmF5KHQpKXtlPSExLEMobnVsbCE9dCYmdC5sZW5ndGg+MCwoZnVuY3Rpb24oKXtyZXR1cm5cIkdyYW0tU2NobWlkdCBwcm9jZXNzOiBpbnB1dCBtdXN0IG5vdCBiZSBudWxsLCB1bmRlZmluZWQsIG9yIGVtcHR5XCJ9KSk7Zm9yKHZhciBuPXRbMF0uc2hhcGVbMF0scj1mdW5jdGlvbihlKXtDKHRbZV0uc2hhcGVbMF09PT1uLChmdW5jdGlvbigpe3JldHVyblwiR3JhbS1TY2htaWR0OiBOb24tdW5pcXVlIGxlbmd0aHMgZm91bmQgaW4gdGhlIGlucHV0IHZlY3RvcnM6IChcIit0W2VdLnNoYXBlWzBdK1wiIHZzLiBcIituK1wiKVwifSkpfSxvPTE7bzx0Lmxlbmd0aDsrK28pcihvKX1lbHNlIGU9ITAsdD10cih0LHQuc2hhcGVbMF0sMCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gQnIodCxbMF0pfSkpO0ModC5sZW5ndGg8PXRbMF0uc2hhcGVbMF0sKGZ1bmN0aW9uKCl7cmV0dXJuXCJHcmFtLVNjaG1pZHQ6IE51bWJlciBvZiB2ZWN0b3JzIChcIit0Lmxlbmd0aCtcIikgZXhjZWVkcyBudW1iZXIgb2YgZGltZW5zaW9ucyAoXCIrdFswXS5zaGFwZVswXStcIikuXCJ9KSk7dmFyIGE9W10saT10LHM9ZnVuY3Rpb24odCl7YS5wdXNoKEx0LnRpZHkoKGZ1bmN0aW9uKCl7dmFyIGU9aVt0XTtpZih0PjApZm9yKHZhciBuPTA7bjx0Oysrbil7dmFyIHI9TmwoYVtuXS5tdWxTdHJpY3QoZSkpLm11bChhW25dKTtlPWUuc3ViKHIpfXJldHVybiBlLmRpdihWbChlLFwiZXVjbGlkZWFuXCIpKX0pKSl9O2ZvcihvPTA7bzx0Lmxlbmd0aDsrK28pcyhvKTtyZXR1cm4gZT9QcihhLDApOmF9fSksUmg9QW4oe3FyXzpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPSExKSx0LnJhbms8Mil0aHJvdyBuZXcgRXJyb3IoXCJxcigpIHJlcXVpcmVzIGlucHV0IHRlbnNvciB0byBoYXZlIGEgcmFuayA+PSAyLCBidXQgZ290IHJhbmsgXCIrdC5yYW5rKTtpZigyPT09dC5yYW5rKXJldHVybiB3aCh0LGUpO3ZhciBuPXQuc2hhcGUuc2xpY2UoMCx0LnNoYXBlLmxlbmd0aC0yKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQqZX0pKSxyPVVyKHQucmVzaGFwZShbbix0LnNoYXBlW3Quc2hhcGUubGVuZ3RoLTJdLHQuc2hhcGVbdC5zaGFwZS5sZW5ndGgtMV1dKSwwKSxvPVtdLGE9W107cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49d2godCxlKSxyPW5bMF0saT1uWzFdO28ucHVzaChyKSxhLnB1c2goaSl9KSksW1ByKG8sMCkucmVzaGFwZSh0LnNoYXBlKSxQcihhLDApLnJlc2hhcGUodC5zaGFwZSldfX0pLEloPU9iamVjdC5mcmVlemUoe2JhbmRQYXJ0OkNoLGdyYW1TY2htaWR0OkVoLHFyOlJofSk7ZnVuY3Rpb24ga2godCxlLG4scixvLGEpe251bGw9PXImJihyPS41KSxudWxsPT1vJiYobz1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpLG51bGw9PWEmJihhPTApO3ZhciBpPXQuc2hhcGVbMF07cmV0dXJuIG49TWF0aC5taW4obixpKSxDKDA8PXImJnI8PTEsKGZ1bmN0aW9uKCl7cmV0dXJuXCJpb3VUaHJlc2hvbGQgbXVzdCBiZSBpbiBbMCwgMV0sIGJ1dCB3YXMgJ1wiK3IrXCInXCJ9KSksQygyPT09dC5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiYm94ZXMgbXVzdCBiZSBhIDJEIHRlbnNvciwgYnV0IHdhcyBvZiByYW5rICdcIit0LnJhbmsrXCInXCJ9KSksQyg0PT09dC5zaGFwZVsxXSwoZnVuY3Rpb24oKXtyZXR1cm5cImJveGVzIG11c3QgaGF2ZSA0IGNvbHVtbnMsIGJ1dCAybmQgZGltZW5zaW9uIHdhcyBcIit0LnNoYXBlWzFdfSkpLEMoMT09PWUucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cInNjb3JlcyBtdXN0IGJlIGEgMUQgdGVuc29yXCJ9KSksQyhlLnNoYXBlWzBdPT09aSwoZnVuY3Rpb24oKXtyZXR1cm5cInNjb3JlcyBoYXMgaW5jb21wYXRpYmxlIHNoYXBlIHdpdGggYm94ZXMuIEV4cGVjdGVkIFwiK2krXCIsIGJ1dCB3YXMgXCIrZS5zaGFwZVswXX0pKSxDKDA8PWEmJmE8PTEsKGZ1bmN0aW9uKCl7cmV0dXJuXCJzb2Z0Tm1zU2lnbWEgbXVzdCBiZSBpbiBbMCwgMV0sIGJ1dCB3YXMgJ1wiK2ErXCInXCJ9KSkse21heE91dHB1dFNpemU6bixpb3VUaHJlc2hvbGQ6cixzY29yZVRocmVzaG9sZDpvLHNvZnRObXNTaWdtYTphfX12YXIgU2g9QW4oe3Jlc2l6ZUJpbGluZWFyXzpmdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49ITEpO3ZhciByPW1uKHQsXCJpbWFnZXNcIixcInJlc2l6ZUJpbGluZWFyXCIpO0MoMz09PXIucmFua3x8ND09PXIucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHJlc2l6ZUJpbGluZWFyOiB4IG11c3QgYmUgcmFuayAzIG9yIDQsIGJ1dCBnb3QgcmFuayBcIityLnJhbmsrXCIuXCJ9KSksQygyPT09ZS5sZW5ndGgsKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiByZXNpemVCaWxpbmVhcjogbmV3IHNoYXBlIG11c3QgMkQsIGJ1dCBnb3Qgc2hhcGUgXCIrZStcIi5cIn0pKTt2YXIgbz1yLGE9ITE7Mz09PXIucmFuayYmKGE9ITAsbz1yLmFzNEQoMSxyLnNoYXBlWzBdLHIuc2hhcGVbMV0sci5zaGFwZVsyXSkpO3ZhciBpPWVbMF0scz1lWzFdLHU9THQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24odCxlKXtyZXR1cm4gZShbb10pLHQucmVzaXplQmlsaW5lYXIobyxpLHMsbil9KSx7eDpvfSwoZnVuY3Rpb24odCxlKXtyZXR1cm57eDpmdW5jdGlvbigpe3JldHVybiBMdC5ydW5LZXJuZWxGdW5jKChmdW5jdGlvbihyKXtyZXR1cm4gci5yZXNpemVCaWxpbmVhckJhY2twcm9wKHQsZVswXSxuKX0pLHt9KX19fSksXCJSZXNpemVCaWxpbmVhclwiLHthbGlnbkNvcm5lcnM6bixuZXdIZWlnaHQ6aSxuZXdXaWR0aDpzfSk7cmV0dXJuIGE/dS5hczNEKHUuc2hhcGVbMV0sdS5zaGFwZVsyXSx1LnNoYXBlWzNdKTp1fX0pLEFoPUFuKHtyZXNpemVOZWFyZXN0TmVpZ2hib3JfOmZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0hMSk7dmFyIHI9bW4odCxcImltYWdlc1wiLFwicmVzaXplTmVhcmVzdE5laWdoYm9yXCIpO0MoMz09PXIucmFua3x8ND09PXIucmFuaywoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIHJlc2l6ZU5lYXJlc3ROZWlnaGJvcjogeCBtdXN0IGJlIHJhbmsgMyBvciA0LCBidXQgZ290IHJhbmsgXCIrci5yYW5rK1wiLlwifSkpLEMoMj09PWUubGVuZ3RoLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gcmVzaXplTmVhcmVzdE5laWdoYm9yOiBuZXcgc2hhcGUgbXVzdCAyRCwgYnV0IGdvdCBzaGFwZSBcIitlK1wiLlwifSkpLEMoXCJmbG9hdDMyXCI9PT1yLmR0eXBlfHxcImludDMyXCI9PT1yLmR0eXBlLChmdW5jdGlvbigpe3JldHVyblwiYGltYWdlc2AgbXVzdCBoYXZlIGBpbnQzMmAgb3IgYGZsb2F0MzJgIGFzIGR0eXBlXCJ9KSk7dmFyIG89cixhPSExOzM9PT1yLnJhbmsmJihhPSEwLG89ci5hczREKDEsci5zaGFwZVswXSxyLnNoYXBlWzFdLHIuc2hhcGVbMl0pKTt2YXIgaT1lWzBdLHM9ZVsxXSx1PUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUoW29dKSx0LnJlc2l6ZU5lYXJlc3ROZWlnaGJvcihvLGkscyxuKX0pLHtiYXRjaEltYWdlczpvfSwoZnVuY3Rpb24odCxlKXtyZXR1cm57YmF0Y2hJbWFnZXM6ZnVuY3Rpb24oKXtyZXR1cm4gTHQucnVuS2VybmVsRnVuYygoZnVuY3Rpb24ocil7cmV0dXJuIHIucmVzaXplTmVhcmVzdE5laWdoYm9yQmFja3Byb3AodCxlWzBdLG4pfSkse30pfX19KSk7cmV0dXJuIGE/dS5hczNEKHUuc2hhcGVbMV0sdS5zaGFwZVsyXSx1LnNoYXBlWzNdKTp1fX0pLERoPUFuKHtub25NYXhTdXBwcmVzc2lvbl86ZnVuY3Rpb24odCxlLG4scixvKXt2b2lkIDA9PT1yJiYocj0uNSksdm9pZCAwPT09byYmKG89TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKTt2YXIgYT1tbih0LFwiYm94ZXNcIixcIm5vbk1heFN1cHByZXNzaW9uXCIpLGk9bW4oZSxcInNjb3Jlc1wiLFwibm9uTWF4U3VwcHJlc3Npb25cIikscz1raChhLGksbixyLG8pO249cy5tYXhPdXRwdXRTaXplLHI9cy5pb3VUaHJlc2hvbGQsbz1zLnNjb3JlVGhyZXNob2xkO3ZhciB1PXttYXhPdXRwdXRTaXplOm4saW91VGhyZXNob2xkOnIsc2NvcmVUaHJlc2hvbGQ6b307cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5vbk1heFN1cHByZXNzaW9uKGEsaSxuLHIsbyl9KSx7Ym94ZXM6YSxzY29yZXM6aX0sbnVsbCxcIk5vbk1heFN1cHByZXNzaW9uVjNcIix1KX19KSxUaD1mdW5jdGlvbih0LGUsbyxhLGkpe3JldHVybiB2b2lkIDA9PT1hJiYoYT0uNSksdm9pZCAwPT09aSYmKGk9TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKSxuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixzLHUsYyxsLGgsZjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBuPW1uKHQsXCJib3hlc1wiLFwibm9uTWF4U3VwcHJlc3Npb25Bc3luY1wiKSxzPW1uKGUsXCJzY29yZXNcIixcIm5vbk1heFN1cHByZXNzaW9uQXN5bmNcIiksdT1raChuLHMsbyxhLGkpLG89dS5tYXhPdXRwdXRTaXplLGE9dS5pb3VUaHJlc2hvbGQsaT11LnNjb3JlVGhyZXNob2xkLFs0LFByb21pc2UuYWxsKFtuLmRhdGEoKSxzLmRhdGEoKV0pXTtjYXNlIDE6cmV0dXJuIGM9ci5zZW50KCksbD1jWzBdLGg9Y1sxXSxmPWpvKGwsaCxvLGEsaSksbiE9PXQmJm4uZGlzcG9zZSgpLHMhPT1lJiZzLmRpc3Bvc2UoKSxbMixmXX19KSl9KSl9LE5oPUFuKHtub25NYXhTdXBwcmVzc2lvbldpdGhTY29yZV86ZnVuY3Rpb24odCxlLG4scixvLGEpe3ZvaWQgMD09PXImJihyPS41KSx2b2lkIDA9PT1vJiYobz1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpLHZvaWQgMD09PWEmJihhPTApO3ZhciBpPW1uKHQsXCJib3hlc1wiLFwibm9uTWF4U3VwcHJlc3Npb25cIikscz1tbihlLFwic2NvcmVzXCIsXCJub25NYXhTdXBwcmVzc2lvblwiKSx1PWtoKGkscyxuLHIsbyxhKSxjPXttYXhPdXRwdXRTaXplOm49dS5tYXhPdXRwdXRTaXplLGlvdVRocmVzaG9sZDpyPXUuaW91VGhyZXNob2xkLHNjb3JlVGhyZXNob2xkOm89dS5zY29yZVRocmVzaG9sZCxzb2Z0Tm1zU2lnbWE6YT11LnNvZnRObXNTaWdtYX0sbD1MdC5ydW5LZXJuZWwoXCJOb25NYXhTdXBwcmVzc2lvblY1XCIse2JveGVzOmksc2NvcmVzOnN9LGMpO3JldHVybntzZWxlY3RlZEluZGljZXM6bFswXSxzZWxlY3RlZFNjb3JlczpsWzFdfX19KSxGaD1mdW5jdGlvbih0LGUsbyxhLGkscyl7cmV0dXJuIHZvaWQgMD09PWEmJihhPS41KSx2b2lkIDA9PT1pJiYoaT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpLHZvaWQgMD09PXMmJihzPTApLG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHUsYyxsLGgsZixkO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIG49bW4odCxcImJveGVzXCIsXCJub25NYXhTdXBwcmVzc2lvbkFzeW5jXCIpLHU9bW4oZSxcInNjb3Jlc1wiLFwibm9uTWF4U3VwcHJlc3Npb25Bc3luY1wiKSxjPWtoKG4sdSxvLGEsaSxzKSxvPWMubWF4T3V0cHV0U2l6ZSxhPWMuaW91VGhyZXNob2xkLGk9Yy5zY29yZVRocmVzaG9sZCxzPWMuc29mdE5tc1NpZ21hLFs0LFByb21pc2UuYWxsKFtuLmRhdGEoKSx1LmRhdGEoKV0pXTtjYXNlIDE6cmV0dXJuIGw9ci5zZW50KCksaD1sWzBdLGY9bFsxXSxkPVhvKGgsZixvLGEsaSxzKSxuIT09dCYmbi5kaXNwb3NlKCksdSE9PWUmJnUuZGlzcG9zZSgpLFsyLGRdfX0pKX0pKX0sX2g9QW4oe2Nyb3BBbmRSZXNpemVfOmZ1bmN0aW9uKHQsZSxuLHIsbyxhKXt2YXIgaT1tbih0LFwiaW1hZ2VcIixcImNyb3BBbmRSZXNpemVcIikscz1tbihlLFwiYm94ZXNcIixcImNyb3BBbmRSZXNpemVcIixcImZsb2F0MzJcIiksdT1tbihuLFwiYm94SW5kXCIsXCJjcm9wQW5kUmVzaXplXCIsXCJpbnQzMlwiKTtvPW98fFwiYmlsaW5lYXJcIixhPWF8fDA7dmFyIGM9cy5zaGFwZVswXTtyZXR1cm4gQyg0PT09aS5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY3JvcEFuZFJlc2l6ZTogaW1hZ2UgbXVzdCBiZSByYW5rIDQsYnV0IGdvdCByYW5rIFwiK2kucmFuaytcIi5cIn0pKSxDKDI9PT1zLnJhbmsmJjQ9PT1zLnNoYXBlWzFdLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY3JvcEFuZFJlc2l6ZTogYm94ZXMgbXVzdCBiZSBoYXZlIHNpemUgW1wiK2MrXCIsNF0gYnV0IGhhZCBzaGFwZSBcIitzLnNoYXBlK1wiLlwifSkpLEMoMT09PXUucmFuayYmdS5zaGFwZVswXT09PWMsKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjcm9wQW5kUmVzaXplOiBib3hJbmQgbXVzdCBiZSBoYXZlIHNpemUgW1wiK2MrXCJdIGJ1dCBoYWQgc2hhcGUgXCIrcy5zaGFwZStcIi5cIn0pKSxDKDI9PT1yLmxlbmd0aCwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGNyb3BBbmRSZXNpemU6IGNyb3BTaXplIG11c3QgYmUgb2YgbGVuZ3RoIDIsIGJ1dCBnb3QgbGVuZ3RoIFwiK3IubGVuZ3RoK1wiLlwifSkpLEMoclswXT49MSYmclsxXT49MSwoZnVuY3Rpb24oKXtyZXR1cm5cImNyb3BTaXplIG11c3QgYmUgYXRsZWFzdCBbMSwxXSwgYnV0IHdhcyBcIityfSkpLEMoXCJiaWxpbmVhclwiPT09b3x8XCJuZWFyZXN0XCI9PT1vLChmdW5jdGlvbigpe3JldHVyblwibWV0aG9kIG11c3QgYmUgYmlsaW5lYXIgb3IgbmVhcmVzdCwgYnV0IHdhcyBcIitvfSkpLEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY3JvcEFuZFJlc2l6ZShpLHMsdSxyLG8sYSl9KSx7aW1hZ2VzOmksYm94ZXM6cyxib3hJbmQ6dX0sbnVsbCxcIkNyb3BBbmRSZXNpemVcIix7bWV0aG9kOm8sZXh0cmFwb2xhdGlvblZhbHVlOmEsY3JvcFNpemU6cn0pfX0pLE9oPU9iamVjdC5mcmVlemUoe3Jlc2l6ZUJpbGluZWFyOlNoLHJlc2l6ZU5lYXJlc3ROZWlnaGJvcjpBaCxub25NYXhTdXBwcmVzc2lvbjpEaCxub25NYXhTdXBwcmVzc2lvbkFzeW5jOlRoLG5vbk1heFN1cHByZXNzaW9uV2l0aFNjb3JlOk5oLG5vbk1heFN1cHByZXNzaW9uV2l0aFNjb3JlQXN5bmM6RmgsY3JvcEFuZFJlc2l6ZTpfaH0pLE1oPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISh0PjApfHxcImxpbmVhclwiPT09ZX0sQmg9ZnVuY3Rpb24odCxlLG4pe2lmKG51bGw9PW58fFwibGluZWFyXCI9PT1uKXJldHVybiB0O2lmKFwicmVsdVwiPT09bilyZXR1cm4gdC5tdWwoZS5zdGVwKCkpO3Rocm93IG5ldyBFcnJvcihcIkdyYWRpZW50IGZvciBhY3RpdmF0aW9uIFwiK24rXCIgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkIHlldC5cIil9LFBoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZSxyPUVvKHQuc2hhcGUsZS5zaGFwZSk7cmV0dXJuIHIubGVuZ3RoPjAmJihuPW4uc3VtKHIpKSxuLnJlc2hhcGUodC5zaGFwZSl9LExoPWZ1bmN0aW9uKHQsZSxuKXtpZihcImxpbmVhclwiPT09ZSlyZXR1cm4gdDtpZihcInJlbHVcIj09PWUpcmV0dXJuIEJsKHQpO2lmKFwiZWx1XCI9PT1lKXJldHVybiBfbCh0KTtpZihcInJlbHU2XCI9PT1lKXJldHVybiBQbCh0KTtpZihcInByZWx1XCI9PT1lKXJldHVybiBNbCh0LG4pO3Rocm93IG5ldyBFcnJvcihcIlVua25vd24gZnVzZWQgYWN0aXZhdGlvbiBcIitlK1wiLlwiKX07dmFyIFdoPUFuKHtmdXNlZE1hdE11bF86ZnVuY3Rpb24odCl7dmFyIGUsbj10LmEscj10LmIsbz10LnRyYW5zcG9zZUEsYT12b2lkIDAhPT1vJiZvLGk9dC50cmFuc3Bvc2VCLHM9dm9pZCAwIT09aSYmaSx1PXQuYmlhcyxjPXQuYWN0aXZhdGlvbixsPXZvaWQgMD09PWM/XCJsaW5lYXJcIjpjLGg9dC5wcmVsdUFjdGl2YXRpb25XZWlnaHRzO2lmKCExPT09TWgoTHQuc3RhdGUuZ3JhZGllbnREZXB0aCxsKSl7dmFyIGY9ZWwobixyLGEscyk7cmV0dXJuIG51bGwhPXUmJihmPXJjKGYsdSkpLExoKGYsbCxoKX12YXIgZD1tbihuLFwiYVwiLFwiZnVzZWQgbWF0TXVsXCIpLHA9bW4ocixcImJcIixcImZ1c2VkIG1hdE11bFwiKTtlPU50KGQscCksZD1lWzBdLHA9ZVsxXTt2YXIgdj1hP2Quc2hhcGVbZC5yYW5rLTJdOmQuc2hhcGVbZC5yYW5rLTFdLG09cz9wLnNoYXBlW3AucmFuay0xXTpwLnNoYXBlW3AucmFuay0yXSxnPWE/ZC5zaGFwZVtkLnJhbmstMV06ZC5zaGFwZVtkLnJhbmstMl0seT1zP3Auc2hhcGVbcC5yYW5rLTJdOnAuc2hhcGVbcC5yYW5rLTFdLHg9ZC5zaGFwZS5zbGljZSgwLC0yKSxiPXAuc2hhcGUuc2xpY2UoMCwtMiksdz1rKHgpLEU9ayhiKTtDKGQucmFuaz49MiYmcC5yYW5rPj0yJiZkLnJhbms9PT1wLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBmdXNlZCBtYXRNdWw6IGlucHV0cyBtdXN0IGhhdmUgdGhlIHNhbWUgcmFuayBvZiBhdCBsZWFzdCAyLCBnb3QgcmFua3MgXCIrZC5yYW5rK1wiIGFuZCBcIitwLnJhbmsrXCIuXCJ9KSksQyhTKHgsYiksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBmdXNlZCBtYXRNdWw6IG91dGVyIGRpbWVuc2lvbnMgKFwiK3grXCIpIGFuZCAoXCIrYitcIikgb2YgVGVuc29ycyB3aXRoIHNoYXBlcyBcIitkLnNoYXBlK1wiIGFuZCBcIitwLnNoYXBlK1wiIG11c3QgbWF0Y2guXCJ9KSksQyh2PT09bSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGZ1c2VkIG1hdE11bDogaW5uZXIgc2hhcGVzIChcIit2K1wiKSBhbmQgKFwiK20rXCIpIG9mIFRlbnNvcnMgd2l0aCBzaGFwZXMgXCIrZC5zaGFwZStcIiBhbmQgXCIrcC5zaGFwZStcIiBhbmQgdHJhbnNwb3NlQT1cIithK1wiIGFuZCB0cmFuc3Bvc2VCPVwiK3MrXCIgbXVzdCBtYXRjaC5cIn0pKTt2YXIgUixJLEE9ZC5zaGFwZS5zbGljZSgwLC0yKS5jb25jYXQoW2cseV0pLEQ9YT9kLmFzM0Qodyx2LGcpOmQuYXMzRCh3LGcsdiksVD1zP3AuYXMzRChFLHksbSk6cC5hczNEKEUsbSx5KTtudWxsIT11JiZSbyhBLChSPU50KFI9bW4odSxcImJpYXNcIixcImZ1c2VkIG1hdE11bFwiKSxkKVswXSkuc2hhcGUpLG51bGwhPWgmJihJPW1uKGgsXCJwcmVsdSB3ZWlnaHRzXCIsXCJmdXNlZCBtYXRNdWxcIikpO3ZhciBOPXthOkQsYjpUfTtudWxsIT11JiYoTi5iaWFzPVIpLG51bGwhPWgmJihOLnByZWx1QWN0aXZhdGlvbldlaWdodHM9SSk7dmFyIEY9W0QsVF07cmV0dXJuIEx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5mdXNlZEJhdGNoTWF0TXVsKHthOkQsYjpULHRyYW5zcG9zZUE6YSx0cmFuc3Bvc2VCOnMsYmlhczpSLGFjdGl2YXRpb246bCxwcmVsdUFjdGl2YXRpb25XZWlnaHRzOkl9KTtyZXR1cm4gZShbRCxULG5dKSxufSksTiwoZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdLHI9ZVsxXSxvPWVbMl0saT1CaCh0LG8sbCksYz17fTtyZXR1cm4gbnVsbCE9dSYmKGM9e2JpYXM6ZnVuY3Rpb24oKXtyZXR1cm4gUGgoUixpKX19KSxhfHxzPyFhJiZzP09iamVjdC5hc3NpZ24oe2E6ZnVuY3Rpb24oKXtyZXR1cm4gaS5tYXRNdWwociwhMSwhMSl9LGI6ZnVuY3Rpb24oKXtyZXR1cm4gaS5tYXRNdWwobiwhMCwhMSl9fSxjKTphJiYhcz9PYmplY3QuYXNzaWduKHthOmZ1bmN0aW9uKCl7cmV0dXJuIHIubWF0TXVsKGksITEsITApfSxiOmZ1bmN0aW9uKCl7cmV0dXJuIG4ubWF0TXVsKGksITEsITEpfX0sYyk6T2JqZWN0LmFzc2lnbih7YTpmdW5jdGlvbigpe3JldHVybiByLm1hdE11bChpLCEwLCEwKX0sYjpmdW5jdGlvbigpe3JldHVybiBpLm1hdE11bChuLCEwLCEwKX19LGMpOk9iamVjdC5hc3NpZ24oe2E6ZnVuY3Rpb24oKXtyZXR1cm4gaS5tYXRNdWwociwhMSwhMCl9LGI6ZnVuY3Rpb24oKXtyZXR1cm4gbi5tYXRNdWwoaSwhMCwhMSl9fSxjKX0pLFwiX0Z1c2VkTWF0TXVsXCIse3RyYW5zcG9zZUE6YSx0cmFuc3Bvc2VCOnMsYWN0aXZhdGlvbjpsfSxGLFshMF0pLnJlc2hhcGUoQSl9fSksVWg9QW4oe2Z1c2VkQ29udjJkXzpmdW5jdGlvbih0KXt2YXIgZT10Lngsbj10LmZpbHRlcixyPXQuc3RyaWRlcyxvPXQucGFkLGE9dC5kYXRhRm9ybWF0LGk9dm9pZCAwPT09YT9cIk5IV0NcIjphLHM9dC5kaWxhdGlvbnMsdT12b2lkIDA9PT1zP1sxLDFdOnMsYz10LmRpbVJvdW5kaW5nTW9kZSxsPXQuYmlhcyxoPXQuYWN0aXZhdGlvbixmPXZvaWQgMD09PWg/XCJsaW5lYXJcIjpoLGQ9dC5wcmVsdUFjdGl2YXRpb25XZWlnaHRzO2lmKGY9Znx8XCJsaW5lYXJcIiwhMT09PU1oKEx0LnN0YXRlLmdyYWRpZW50RGVwdGgsZikpe3ZhciBwPXFjKGUsbixyLG8saSx1LGMpO3JldHVybiBudWxsIT1sJiYocD1yYyhwLGwpKSxMaChwLGYsZCl9dmFyIHY9bW4oZSxcInhcIixcImNvbnYyZFwiKSxtPW1uKG4sXCJmaWx0ZXJcIixcImNvbnYyZFwiKSxnPXYseT0hMTszPT09di5yYW5rJiYoeT0hMCxnPXYuYXM0RCgxLHYuc2hhcGVbMF0sdi5zaGFwZVsxXSx2LnNoYXBlWzJdKSksQyg0PT09Zy5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gZnVzZWQgY29udjJkOiBpbnB1dCBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIFwiK2cucmFuaytcIi5cIn0pKSxDKDQ9PT1tLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBmdXNlZCBjb252MmQ6IGZpbHRlciBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIFwiK20ucmFuaytcIi5cIn0pKSxudWxsIT1jJiZDKEEobyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBmdXNlZCBjb252MmQ6IHBhZCBtdXN0IGJlIGFuIGludGVnZXIgd2hlbiB1c2luZywgZGltUm91bmRpbmdNb2RlIFwiK2MrXCIgYnV0IGdvdCBwYWQgXCIrbytcIi5cIn0pKSxDKGcuc2hhcGVbM109PT1tLnNoYXBlWzJdLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjJkOiBkZXB0aCBvZiBpbnB1dCAoXCIrZy5zaGFwZVszXStcIikgbXVzdCBtYXRjaCBpbnB1dCBkZXB0aCBmb3IgZmlsdGVyIFwiK20uc2hhcGVbMl0rXCIuXCJ9KSksQyhNbyhyLHUpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gY29udjJEOiBFaXRoZXIgc3RyaWRlcyBvciBkaWxhdGlvbnMgbXVzdCBiZSAxLiBHb3Qgc3RyaWRlcyBcIityK1wiIGFuZCBkaWxhdGlvbnMgJ1wiK3UrXCInXCJ9KSksQyhcIk5IV0NcIj09PWksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBjb252MmQ6IGdvdCBkYXRhRm9ybWF0IG9mIFwiK2krXCIgYnV0IG9ubHkgTkhXQyBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLlwifSkpO3ZhciB4LGIsdz1TbyhnLnNoYXBlLG0uc2hhcGUscix1LG8sYyk7bnVsbCE9bCYmKHg9TnQoeD1tbihsLFwiYmlhc1wiLFwiZnVzZWQgY29udjJkXCIpLHYpWzBdLFJvKHcub3V0U2hhcGUseC5zaGFwZSkpLG51bGwhPWQmJihiPW1uKGQsXCJwcmVsdSB3ZWlnaHRzXCIsXCJmdXNlZCBjb252MmRcIikpO3ZhciBFPXt4OmcsZmlsdGVyOm19O251bGwhPWwmJihFLmJpYXM9eCksbnVsbCE9ZCYmKEUucHJlbHVBY3RpdmF0aW9uV2VpZ2h0cz1iKTt2YXIgUj1bbSxnXSxJPUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5mdXNlZENvbnYyZCh7aW5wdXQ6ZyxmaWx0ZXI6bSxjb252SW5mbzp3LGJpYXM6eCxhY3RpdmF0aW9uOmYscHJlbHVBY3RpdmF0aW9uV2VpZ2h0czpifSk7cmV0dXJuIGUoW20sZyxuXSksbn0pLEUsKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZSxhPW5bMF0saT1uWzFdLHM9blsyXSxjPUJoKHQscyxmKTtDKE9vKHUpLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gZ3JhZGllbnQgb2YgZnVzZWQgY29udjJEOiBkaWxhdGlvbiByYXRlcyBncmVhdGVyIHRoYW4gMSBhcmUgbm90IHlldCBzdXBwb3J0ZWQgaW4gZ3JhZGllbnRzLiBHb3QgZGlsYXRpb25zICdcIit1K1wiJ1wifSkpO3ZhciBoPXt9O3JldHVybiBudWxsIT1sJiYoaD17YmlhczpmdW5jdGlvbigpe3JldHVybiBQaCh4LGMpfX0pLE9iamVjdC5hc3NpZ24oe3g6ZnVuY3Rpb24oKXtyZXR1cm4gWGMoaS5zaGFwZSxjLGEscixvKX0sZmlsdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGpjKGksYyxhLnNoYXBlLHIsbyl9fSxoKX0pLFwiRnVzZWRDb252MkRcIix7Y29udkluZm86dyxhY3RpdmF0aW9uOmZ9LFIsWyEwXSk7cmV0dXJuIHk/SS5hczNEKEkuc2hhcGVbMV0sSS5zaGFwZVsyXSxJLnNoYXBlWzNdKTpJfX0pLFZoPUFuKHtmdXNlZERlcHRod2lzZUNvbnYyZF86ZnVuY3Rpb24odCl7dmFyIGU9dC54LG49dC5maWx0ZXIscj10LnN0cmlkZXMsbz10LnBhZCxhPXQuZGF0YUZvcm1hdCxpPXZvaWQgMD09PWE/XCJOSFdDXCI6YSxzPXQuZGlsYXRpb25zLHU9dm9pZCAwPT09cz9bMSwxXTpzLGM9dC5kaW1Sb3VuZGluZ01vZGUsbD10LmJpYXMsaD10LmFjdGl2YXRpb24sZj12b2lkIDA9PT1oP1wibGluZWFyXCI6aCxkPXQucHJlbHVBY3RpdmF0aW9uV2VpZ2h0cztpZighMT09PU1oKEx0LnN0YXRlLmdyYWRpZW50RGVwdGgsZikpe3ZhciBwPVljKGUsbixyLG8saSx1LGMpO3JldHVybiBudWxsIT1sJiYocD1yYyhwLGwpKSxMaChwLGYsZCl9dmFyIHY9bW4oZSxcInhcIixcImRlcHRod2lzZUNvbnYyZFwiKSxtPW1uKG4sXCJmaWx0ZXJcIixcImRlcHRod2lzZUNvbnYyZFwiKSxnPXYseT0hMTszPT09di5yYW5rJiYoeT0hMCxnPXYuYXM0RCgxLHYuc2hhcGVbMF0sdi5zaGFwZVsxXSx2LnNoYXBlWzJdKSksQyg0PT09Zy5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gZnVzZWQgZGVwdGh3aXNlQ29udjJkOiBpbnB1dCBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIFwiK2cucmFuaytcIi5cIn0pKSxDKDQ9PT1tLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBmdXNlZCBkZXB0aHdpc2VDb252MmQ6IGZpbHRlciBtdXN0IGJlIHJhbmsgNCwgYnV0IGdvdCByYW5rIFwiK20ucmFuaytcIi5cIn0pKSxDKGcuc2hhcGVbM109PT1tLnNoYXBlWzJdLChmdW5jdGlvbigpe3JldHVyblwiRXJyb3IgaW4gZnVzZWQgZGVwdGh3aXNlQ29udjJkOiBudW1iZXIgb2YgaW5wdXQgY2hhbm5lbHMgKFwiK2cuc2hhcGVbM10rXCIpIG11c3QgbWF0Y2ggdGhlIGluQ2hhbm5lbHMgZGltZW5zaW9uIGluIGZpbHRlciBcIittLnNoYXBlWzJdK1wiLlwifSkpLG51bGw9PXUmJih1PVsxLDFdKSxDKE1vKHIsdSksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBmdXNlZCBkZXB0aHdpc2VDb252MmQ6IEVpdGhlciBzdHJpZGVzIG9yIGRpbGF0aW9ucyBtdXN0IGJlIDEuIEdvdCBzdHJpZGVzIFwiK3IrXCIgYW5kIGRpbGF0aW9ucyAnXCIrdStcIidcIn0pKSxudWxsIT1jJiZDKEEobyksKGZ1bmN0aW9uKCl7cmV0dXJuXCJFcnJvciBpbiBmdXNlZCBkZXB0aHdpc2VDb252MmQ6IHBhZCBtdXN0IGJlIGFuIGludGVnZXIgd2hlbiB1c2luZyBkaW1Sb3VuZGluZ01vZGUgXCIrYytcIiBidXQgZ290IHBhZCBcIitvK1wiLlwifSkpO3ZhciB4LGIsdz1TbyhnLnNoYXBlLG0uc2hhcGUscix1LG8sYywhMCk7bnVsbCE9bCYmKHg9TnQoeD1tbihsLFwiYmlhc1wiLFwiZnVzZWQgY29udjJkXCIpLHYpWzBdLFJvKHcub3V0U2hhcGUseC5zaGFwZSkpLG51bGwhPWQmJihiPW1uKGQsXCJwcmVsdSB3ZWlnaHRzXCIsXCJmdXNlZCBkZXB0aHdpc2VDb252MmRcIikpO3ZhciBFPXt4OmcsZmlsdGVyOm19O251bGwhPWwmJihFLmJpYXM9eCksbnVsbCE9ZCYmKEUucHJlbHVBY3RpdmF0aW9uV2VpZ2h0cz1iKTt2YXIgUj1bbSxnXSxJPUx0LnJ1bktlcm5lbEZ1bmMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5mdXNlZERlcHRod2lzZUNvbnYyRCh7aW5wdXQ6ZyxmaWx0ZXI6bSxjb252SW5mbzp3LGJpYXM6eCxhY3RpdmF0aW9uOmYscHJlbHVBY3RpdmF0aW9uV2VpZ2h0czpifSk7cmV0dXJuIGUoW20sZyxuXSksbn0pLEUsKGZ1bmN0aW9uKHQsZSl7QyhPbyh1KSwoZnVuY3Rpb24oKXtyZXR1cm5cIkVycm9yIGluIGdyYWRpZW50IG9mIGZ1c2VkIGRlcHRod2lzZUNvbnYyZDogZGlsYXRpb24gcmF0ZXMgZ3JlYXRlciB0aGFuIDEgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkLiBHb3QgZGlsYXRpb25zICdcIit1K1wiJ1wifSkpO3ZhciBuPWVbMF0scj1lWzFdLG89ZVsyXSxhPUJoKHQsbyxmKSxpPXt9O3JldHVybiBudWxsIT1sJiYoaT17YmlhczpmdW5jdGlvbigpe3JldHVybiBQaCh4LGEpfX0pLE9iamVjdC5hc3NpZ24oe3g6ZnVuY3Rpb24oKXtyZXR1cm4gJGMoci5zaGFwZSxhLG4sdyl9LGZpbHRlcjpmdW5jdGlvbigpe3JldHVybiBRYyhyLGEsbi5zaGFwZSx3KX19LGkpfSksXCJGdXNlZERlcHRod2lzZUNvbnYyRFwiLHtjb252SW5mbzp3LGFjdGl2YXRpb246Zn0sUixbITBdKTtyZXR1cm4geT9JLmFzM0QoSS5zaGFwZVsxXSxJLnNoYXBlWzJdLEkuc2hhcGVbM10pOkl9fSksemg9T2JqZWN0LmZyZWV6ZSh7bWF0TXVsOldoLGNvbnYyZDpVaCxkZXB0aHdpc2VDb252MmQ6Vmh9KSxHaD1PYmplY3QuZnJlZXplKHtpbWFnZTpPaCxsaW5hbGc6SWgsbG9zc2VzOmJoLHNwZWN0cmFsOkpsLGZ1c2VkOnpoLHNpZ25hbDp1aCxzcXVhcmU6dHUsc3F1YXJlZERpZmZlcmVuY2U6bnUsY29udjFkOkhjLGNvbnYyZDpxYyxjb252M2Q6S2MsZGVwdGh3aXNlQ29udjJkOlljLHNlcGFyYWJsZUNvbnYyZDpKYyxjb252MmRUcmFuc3Bvc2U6WmMsY29udjNkVHJhbnNwb3NlOnRsLG9wOkFuLGJhdGNoTm9ybWFsaXphdGlvbjJkOkd1LGJhdGNoTm9ybWFsaXphdGlvbjNkOkh1LGJhdGNoTm9ybWFsaXphdGlvbjRkOnF1LGJhdGNoTm9ybWFsaXphdGlvbjpLdSxiYXRjaE5vcm06anUsYmF0Y2hOb3JtMmQ6WHUsYmF0Y2hOb3JtM2Q6WXUsYmF0Y2hOb3JtNGQ6JHUsYm9vbGVhbk1hc2tBc3luYzpVYyxjb21wbGV4OkRuLHJlYWw6VG4saW1hZzpObixjb25jYXQ6WW4sY29uY2F0MWQ6JG4sY29uY2F0MmQ6UW4sY29uY2F0M2Q6Sm4sY29uY2F0NGQ6Wm4sc3BsaXQ6dHIsbWF0TXVsOmVsLGRvdDpubCxvdXRlclByb2R1Y3Q6cmwscmV2ZXJzZTpvbCxyZXZlcnNlMWQ6YWwscmV2ZXJzZTJkOmlsLHJldmVyc2UzZDpzbCxyZXZlcnNlNGQ6dWwsbWF4UG9vbDpobCxhdmdQb29sOmZsLHBvb2w6ZGwsbWF4UG9vbDNkOnBsLGF2Z1Bvb2wzZDp2bCxzbGljZTptbCxzbGljZTFkOmdsLHNsaWNlMmQ6eWwsc2xpY2UzZDp4bCxzbGljZTRkOmJsLGFiczpydSxhY29zOm91LGFjb3NoOmF1LGFzaW46aXUsYXNpbmg6c3UsYXRhbjp1dSxhdGFuaDpjdSxjZWlsOmx1LGNsaXBCeVZhbHVlOmh1LGNvczpmdSxjb3NoOmR1LGVyZjpwdSxleHA6dnUsZXhwbTE6bXUsZmxvb3I6Z3UsbG9nOnl1LGxvZzFwOnh1LGxvZ1NpZ21vaWQ6YnUsbmVnOnd1LHJlY2lwcm9jYWw6Q3Uscm91bmQ6RXUscnNxcnQ6UnUsc2lnbW9pZDpJdSxzaWduOmt1LGlzTmFOOlN1LGlzSW5mOkF1LGlzRmluaXRlOkR1LHNpbjpUdSxzaW5oOk51LHNvZnRwbHVzOkZ1LHNxcnQ6X3Usc3RlcDpPdSx0YW46TXUsdGFuaDpCdSxhbGw6Q2wsYW55OkVsLGFyZ01heDpSbCxhcmdNaW46SWwsbG9nU3VtRXhwOmtsLG1heDpTbCxtZWFuOkFsLG1pbjpEbCxtb21lbnRzOlRsLHN1bTpObCxwcm9kOkZsLGVxdWFsOlJjLGVxdWFsU3RyaWN0OkljLGdyZWF0ZXI6a2MsZ3JlYXRlckVxdWFsOlNjLGdyZWF0ZXJFcXVhbFN0cmljdDpBYyxncmVhdGVyU3RyaWN0OkRjLGxlc3M6VGMsbGVzc0VxdWFsOk5jLGxlc3NFcXVhbFN0cmljdDpGYyxsZXNzU3RyaWN0Ol9jLG5vdEVxdWFsOk9jLG5vdEVxdWFsU3RyaWN0Ok1jLGFkZDpyYyxhZGROOm9jLGFkZFN0cmljdDphYyxhdGFuMjppYyxkaXY6c2MsZGl2Tm9OYW46dWMsZGl2U3RyaWN0OmNjLGZsb29yRGl2OmxjLG1heGltdW06aGMsbWF4aW11bVN0cmljdDpmYyxtaW5pbXVtOmRjLG1pbmltdW1TdHJpY3Q6cGMsbW9kOnZjLG1vZFN0cmljdDptYyxtdWw6Z2MsbXVsU3RyaWN0OnljLHBvdzp4Yyxwb3dTdHJpY3Q6YmMsc3F1YXJlZERpZmZlcmVuY2VTdHJpY3Q6d2Msc3ViOkNjLHN1YlN0cmljdDpFYyxlbHU6X2wsbGVha3lSZWx1Ok9sLHByZWx1Ok1sLHJlbHU6QmwscmVsdTY6UGwsc2VsdTpMbCxsb2dpY2FsQW5kOlF1LGxvZ2ljYWxOb3Q6SnUsbG9naWNhbE9yOlp1LGxvZ2ljYWxYb3I6dGMsd2hlcmU6ZWMsd2hlcmVBc3luYzpuYyxidWZmZXI6ZHIscHJpbnQ6cHIsYmF0Y2hUb1NwYWNlTkQ6dnIsYnJvYWRjYXN0VG86bXIsY2FzdDpncixjbG9uZTp5cixjdW1zdW06eHIsZGVwdGhUb1NwYWNlOmJyLGV4cGFuZERpbXM6d3IsZXllOkNyLG11bHRpbm9taWFsOkVyLG9uZUhvdDpScixwYWQ6SXIscGFkMWQ6a3IscGFkMmQ6U3IscGFkM2Q6QXIscGFkNGQ6RHIscmFuZDpUcixyYW5kb21Ob3JtYWw6TnIscmFuZG9tR2FtbWE6RnIscmFuZG9tVW5pZm9ybTpfcixyZXNoYXBlOk9yLHNwYWNlVG9CYXRjaE5EOk1yLHNxdWVlemU6QnIsc3RhY2s6UHIsdGlsZTpMcix0cnVuY2F0ZWROb3JtYWw6V3IsdW5zdGFjazpVcixzZXRkaWZmMWRBc3luYzpWcixmaWxsOkhuLGxpbnNwYWNlOnFuLG9uZXM6em4scmFuZ2U6S24sc2NhbGFyOk9uLHRlbnNvcjpGbix0ZW5zb3IxZDpNbix0ZW5zb3IyZDpCbix0ZW5zb3IzZDpQbix0ZW5zb3I0ZDpMbix0ZW5zb3I1ZDpXbix0ZW5zb3I2ZDpVbix2YXJpYWJsZTpWbix6ZXJvczpHbixvbmVzTGlrZTpqbix6ZXJvc0xpa2U6WG4sdHJhbnNwb3NlOldsLHNvZnRtYXg6Z28sbG9nU29mdG1heDp5byxsb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbjpVbCxub3JtOlZsLGdhdGhlcjpMYyx1bnNvcnRlZFNlZ21lbnRTdW06V2MsYmFzaWNMU1RNQ2VsbDp6bCxtdWx0aVJOTkNlbGw6R2wsbW92aW5nQXZlcmFnZTpIbCxzdHJpZGVkU2xpY2U6cWwsdG9wazpLbCxzY2F0dGVyTkQ6amwsZmZ0OlhsLGlmZnQ6WWwscmZmdDokbCxpcmZmdDpRbCxzcGFyc2VUb0RlbnNlOlpsLGdhdGhlck5EOnRoLGRpYWc6ZWgsZHJvcG91dDpuaCxoYW5uV2luZG93Om9oLGhhbW1pbmdXaW5kb3c6YWgsZnJhbWU6aWgsc3RmdDpzaCxpblRvcEtBc3luYzpsaH0pO2Z1bmN0aW9uIEhoKHQsZSl7QXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe251bGwhPXQmJkMoXCJjb21wbGV4NjRcIiE9PXQuZHR5cGUsKGZ1bmN0aW9uKCl7cmV0dXJuIGUrXCIgZG9lcyBub3Qgc3VwcG9ydCBjb21wbGV4NjQgdGVuc29ycy5cIn0pKX0pKX1mdW5jdGlvbiBxaCh0LGUsbixyKXtpZihcImxpbmVhclwiPT09bilyZXR1cm4gdC5saW5lYXIoZSk7aWYoXCJyZWx1XCI9PT1uKXJldHVybiB0LnJlbHUoZSk7aWYoXCJlbHVcIj09PW4pcmV0dXJuIHQuZWx1KGUpO2lmKFwicmVsdTZcIj09PW4pcmV0dXJuIHQucmVsdTYoZSk7aWYoXCJwcmVsdVwiPT09bilyZXR1cm4gdC5wcmVsdShlLHIpO3Rocm93IG5ldyBFcnJvcihcIkFjdGl2YXRpb24gXCIrbitcIiBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWQgZm9yIHRoZSBDUFUgYmFja2VuZC5cIil9dmFyIEtoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG8oKXt2YXIgZT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGUuYmxvY2tTaXplPTQ4LGUuZmlyc3RVc2U9ITAsZS5kYXRhPW5ldyB4byhlLEx0KSxlfXJldHVybiBlKG8sdCksby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCxlLG4pe3RoaXMuZmlyc3RVc2UmJih0aGlzLmZpcnN0VXNlPSExLGkoKS5nZXQoXCJJU19OT0RFXCIpJiZkbihcIlxcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXG5IaSB0aGVyZSDwn5GLLiBMb29rcyBsaWtlIHlvdSBhcmUgcnVubmluZyBUZW5zb3JGbG93LmpzIGluIE5vZGUuanMuIFRvIHNwZWVkIHRoaW5ncyB1cCBkcmFtYXRpY2FsbHksIGluc3RhbGwgb3VyIG5vZGUgYmFja2VuZCwgd2hpY2ggYmluZHMgdG8gVGVuc29yRmxvdyBDKyssIGJ5IHJ1bm5pbmcgbnBtIGkgQHRlbnNvcmZsb3cvdGZqcy1ub2RlLCBvciBucG0gaSBAdGVuc29yZmxvdy90ZmpzLW5vZGUtZ3B1IGlmIHlvdSBoYXZlIENVREEuIFRoZW4gY2FsbCByZXF1aXJlKCdAdGVuc29yZmxvdy90ZmpzLW5vZGUnKTsgKC1ncHUgc3VmZml4IGZvciBDVURBKSBhdCB0aGUgc3RhcnQgb2YgeW91ciBwcm9ncmFtLiBWaXNpdCBodHRwczovL2dpdGh1Yi5jb20vdGVuc29yZmxvdy90ZmpzLW5vZGUgZm9yIG1vcmUgZGV0YWlscy5cXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09XCIpKTt2YXIgcj17fTtyZXR1cm4gdGhpcy5kYXRhLnNldChyLHt2YWx1ZXM6dCxkdHlwZTpufSkscn0sby5wcm90b3R5cGUubW92ZT1mdW5jdGlvbih0LGUsbixyKXt0aGlzLmRhdGEuc2V0KHQse3ZhbHVlczplLGR0eXBlOnJ9KX0sby5wcm90b3R5cGUubnVtRGF0YUlkcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEubnVtRGF0YUlkcygpfSxvLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMix0aGlzLnJlYWRTeW5jKHQpXX0pKX0pKX0sby5wcm90b3R5cGUucmVhZFN5bmM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhLmdldCh0KSxuPWUuZHR5cGUscj1lLmNvbXBsZXhUZW5zb3JzO3JldHVyblwiY29tcGxleDY0XCI9PT1uP1ZvKHRoaXMucmVhZFN5bmMoci5yZWFsLmRhdGFJZCksdGhpcy5yZWFkU3luYyhyLmltYWcuZGF0YUlkKSk6dGhpcy5kYXRhLmdldCh0KS52YWx1ZXN9LG8ucHJvdG90eXBlLmJ1ZmZlclN5bmM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbj1lO2lmKFwic3RyaW5nXCI9PT10LmR0eXBlKXRyeXtuPWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gb3QodCl9KSl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGRlY29kZSBlbmNvZGVkIHN0cmluZyBieXRlcyBpbnRvIHV0Zi04XCIpfXJldHVybiBkcih0LnNoYXBlLHQuZHR5cGUsbil9LG8ucHJvdG90eXBlLm1ha2VPdXRwdXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMud3JpdGUodCxlLG4pO3JldHVybiBMdC5tYWtlVGVuc29yRnJvbURhdGFJZChyLGUsbix0aGlzKX0sby5wcm90b3R5cGUuZGlzcG9zZURhdGE9ZnVuY3Rpb24odCl7aWYodGhpcy5kYXRhLmhhcyh0KSl7dmFyIGU9dGhpcy5kYXRhLmdldCh0KS5jb21wbGV4VGVuc29ycztudWxsIT1lJiYoZS5yZWFsLmRpc3Bvc2UoKSxlLmltYWcuZGlzcG9zZSgpKSx0aGlzLmRhdGEuZGVsZXRlKHQpfX0sby5wcm90b3R5cGUudGltZT1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24obil7cmV0dXJuIGU9ZXQoKSx0KCksWzIse2tlcm5lbE1zOmV0KCktZX1dfSkpfSkpfSxvLnByb3RvdHlwZS5tZW1vcnk9ZnVuY3Rpb24oKXtyZXR1cm57dW5yZWxpYWJsZTohMCxyZWFzb25zOltcIlRoZSByZXBvcnRlZCBtZW1vcnkgaXMgYW4gdXBwZXIgYm91bmQuIER1ZSB0byBhdXRvbWF0aWMgZ2FyYmFnZSBjb2xsZWN0aW9uLCB0aGUgdHJ1ZSBhbGxvY2F0ZWQgbWVtb3J5IG1heSBiZSBsZXNzLlwiXX19LG8ucHJvdG90eXBlLmNvbXBsZXg9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm1ha2VPdXRwdXQobnVsbCx0LnNoYXBlLFwiY29tcGxleDY0XCIpO3JldHVybiB0aGlzLmRhdGEuZ2V0KG4uZGF0YUlkKS5jb21wbGV4VGVuc29ycz17cmVhbDpMdC5rZWVwKHQuY2xvbmUoKSksaW1hZzpMdC5rZWVwKGUuY2xvbmUoKSl9LG59LG8ucHJvdG90eXBlLnJlYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YS5nZXQodC5kYXRhSWQpLmNvbXBsZXhUZW5zb3JzLnJlYWwuY2xvbmUoKX0sby5wcm90b3R5cGUuaW1hZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhLmdldCh0LmRhdGFJZCkuY29tcGxleFRlbnNvcnMuaW1hZy5jbG9uZSgpfSxvLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUsbil7aWYoSGgodCxcInNsaWNlXCIpLGlvKHQuc2hhcGUsZSxuKSl7dmFyIHI9c28oZSx0LnN0cmlkZXMpLG89ayhuKTtyZXR1cm4gRm4odGhpcy5yZWFkU3luYyh0LmRhdGFJZCkuc3ViYXJyYXkocixyK28pLG4sdC5kdHlwZSl9Zm9yKHZhciBhPWRyKG4sdC5kdHlwZSksaT10aGlzLmJ1ZmZlclN5bmModCkscz0wO3M8YS5zaXplOysrcyl7dmFyIHU9YS5pbmRleFRvTG9jKHMpLm1hcCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdCtlW25dfSkpO2EudmFsdWVzW3NdPWkuZ2V0LmFwcGx5KGksdSl9cmV0dXJuIGEudG9UZW5zb3IoKX0sby5wcm90b3R5cGUuc3RyaWRlZFNsaWNlPWZ1bmN0aW9uKHQsZSxuLHIpe0hoKHQsXCJzdHJpZGVkU2xpY2VcIik7dmFyIG89cm8oZSxuLHIpO2lmKG8uc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10fSkpKXJldHVybiBGbihbXSxvKTtmb3IodmFyIGE9ZHIobyx0LmR0eXBlKSxpPXRoaXMuYnVmZmVyU3luYyh0KSxzPTA7czxhLnNpemU7cysrKXtmb3IodmFyIHU9YS5pbmRleFRvTG9jKHMpLGM9bmV3IEFycmF5KHUubGVuZ3RoKSxsPTA7bDxjLmxlbmd0aDtsKyspY1tsXT11W2xdKnJbbF0rZVtsXTthLnNldC5hcHBseShhLFtpLmdldC5hcHBseShpLGMpXS5jb25jYXQodSkpfXJldHVybiBhLnRvVGVuc29yKCl9LG8ucHJvdG90eXBlLmRpYWc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG49ZHIoW3Quc2l6ZSx0LnNpemVdLHQuZHR5cGUpLHI9bi52YWx1ZXMsbz0wO288ZS5sZW5ndGg7bysrKXJbbyp0LnNpemUrb109ZVtvXTtyZXR1cm4gbi50b1RlbnNvcigpfSxvLnByb3RvdHlwZS51bnN0YWNrPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuc2hhcGVbZV0scj1uZXcgQXJyYXkodC5yYW5rLTEpLG89MCxhPTA7YTx0LnJhbms7YSsrKWEhPT1lJiYocltvKytdPXQuc2hhcGVbYV0pO3ZhciBpPW5ldyBBcnJheSh0LnJhbmspLmZpbGwoMCkscz10LnNoYXBlLnNsaWNlKCk7c1tlXT0xO3ZhciB1PW5ldyBBcnJheShuKTtmb3IoYT0wO2E8dS5sZW5ndGg7YSsrKWlbZV09YSx1W2FdPXRoaXMuc2xpY2UodCxpLHMpLnJlc2hhcGUocik7cmV0dXJuIHV9LG8ucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24odCxlKXtIaCh0LFwicmV2ZXJzZVwiKTtmb3IodmFyIG49ZHIodC5zaGFwZSx0LmR0eXBlKSxyPXRoaXMuYnVmZmVyU3luYyh0KSxvPWZ1bmN0aW9uKG8pe3ZhciBhPW4uaW5kZXhUb0xvYyhvKSxpPWEuc2xpY2UoKTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBpW2VdPXQuc2hhcGVbZV0tMS1pW2VdfSkpLG4uc2V0LmFwcGx5KG4sW3IuZ2V0LmFwcGx5KHIsaSldLmNvbmNhdChhKSl9LGE9MDthPG4uc2l6ZTthKyspbyhhKTtyZXR1cm4gbi50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKFwiY29tcGxleDY0XCI9PT10WzBdLmR0eXBlKXt2YXIgcj10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIFRuKHQpfSkpLG89dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBObih0KX0pKTtyZXR1cm4gRG4odGhpcy5jb25jYXQocixlKSx0aGlzLmNvbmNhdChvLGUpKX12YXIgYT10Lm1hcCgoZnVuY3Rpb24odCl7dmFyIG49ayh0LnNoYXBlLnNsaWNlKGUpKTtyZXR1cm4gdC5hczJEKC0xLG4pfSkpLGk9U24oYS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNoYXBlfSkpLDEpLHM9ZHIoaSx0WzBdLmR0eXBlKS52YWx1ZXM7aWYoMT09PWFbMF0uc2hhcGVbMF0pe3ZhciB1PTA7YS5mb3JFYWNoKChmdW5jdGlvbih0KXtzLnNldChuLnJlYWRTeW5jKHQuZGF0YUlkKSx1KSx1Kz10LnNpemV9KSl9ZWxzZXt2YXIgYz0wO2EuZm9yRWFjaCgoZnVuY3Rpb24odCl7Zm9yKHZhciBlPW4ucmVhZFN5bmModC5kYXRhSWQpLHI9MCxvPTA7bzx0LnNoYXBlWzBdOysrbylmb3IodmFyIGE9byppWzFdK2MsdT0wO3U8dC5zaGFwZVsxXTsrK3Upc1thK3VdPWVbcisrXTtjKz10LnNoYXBlWzFdfSkpfXZhciBsPVNuKHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaGFwZX0pKSxlKTtyZXR1cm4gRm4ocyxsLHRbMF0uZHR5cGUpfSxvLnByb3RvdHlwZS5uZWc9ZnVuY3Rpb24odCl7cmV0dXJuIEhoKHQsXCJuZWdcIiksdGhpcy5tdWx0aXBseShPbigtMSksdCl9LG8ucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUpe3JldHVyblwiY29tcGxleDY0XCI9PT10LmR0eXBlfHxcImNvbXBsZXg2NFwiPT09ZS5kdHlwZT90aGlzLmJyb2FkY2FzdGVkQmluYXJ5Q29tcGxleE9wKHQuY2FzdChcImNvbXBsZXg2NFwiKSxlLmNhc3QoXCJjb21wbGV4NjRcIiksKGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybntyZWFsOnQrbixpbWFnOmUrcn19KSk6dGhpcy5icm9hZGNhc3RlZEJpbmFyeU9wKHQsZSxEdCh0LmR0eXBlLGUuZHR5cGUpLChmdW5jdGlvbih0LGUpe3JldHVybiB0K2V9KSl9LG8ucHJvdG90eXBlLmFkZE49ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztIaCh0LFwiYWRkTlwiKTtmb3IodmFyIG49dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLnJlYWRTeW5jKHQuZGF0YUlkKX0pKSxyPWRyKHRbMF0uc2hhcGUsdFswXS5kdHlwZSksbz1yLnZhbHVlcyxhPTA7YTx0Lmxlbmd0aDthKyspZm9yKHZhciBpPW5bYV0scz0wO3M8by5sZW5ndGg7cysrKW9bc10rPWlbc107cmV0dXJuIHIudG9UZW5zb3IoKX0sby5wcm90b3R5cGUuc29mdG1heD1mdW5jdGlvbih0LGUpe3ZhciBuPU8oW2VdLHQuc2hhcGUpLHI9dGhpcy5tYXgodCxuKSxvPXduKHIuc2hhcGUsbiksYT10aGlzLnN1YnRyYWN0KHQsci5yZXNoYXBlKG8pKSxpPXRoaXMuZXhwKGEpLHM9dGhpcy5zdW0oaSxuKS5yZXNoYXBlKG8pO3JldHVybiB0aGlzLnJlYWxEaXZpZGUoaSxzKX0sby5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm5cImNvbXBsZXg2NFwiPT09dC5kdHlwZXx8XCJjb21wbGV4NjRcIj09PWUuZHR5cGU/dGhpcy5icm9hZGNhc3RlZEJpbmFyeUNvbXBsZXhPcCh0LmNhc3QoXCJjb21wbGV4NjRcIiksZS5jYXN0KFwiY29tcGxleDY0XCIpLChmdW5jdGlvbih0LGUsbixyKXtyZXR1cm57cmVhbDp0LW4saW1hZzplLXJ9fSkpOnRoaXMuYnJvYWRjYXN0ZWRCaW5hcnlPcCh0LGUsRHQodC5kdHlwZSxlLmR0eXBlKSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSkpfSxvLnByb3RvdHlwZS5wb3c9ZnVuY3Rpb24odCxlKXtyZXR1cm4gSGgoW3QsZV0sXCJwb3dcIiksdGhpcy5icm9hZGNhc3RlZEJpbmFyeU9wKHQsZSx0LmR0eXBlLChmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLnBvdyh0LGUpfSkpfSxvLnByb3RvdHlwZS5iYXRjaE1hdE11bD1mdW5jdGlvbih0LGUsbixyKXtIaChbdCxlXSxcIm1hdE11bFwiKTtmb3IodmFyIG89bj90LnNoYXBlWzFdOnQuc2hhcGVbMl0sYT1uP3Quc2hhcGVbMl06dC5zaGFwZVsxXSxpPXI/ZS5zaGFwZVsxXTplLnNoYXBlWzJdLHM9dC5zaGFwZVswXSx1PXRoaXMucmVhZFN5bmModC5kYXRhSWQpLGM9dGhpcy5yZWFkU3luYyhlLmRhdGFJZCksbD1uP1t0LnN0cmlkZXNbMF0sMSx0LnN0cmlkZXNbMV1dOlt0LnN0cmlkZXNbMF0sdC5zdHJpZGVzWzFdLDFdLGg9bFswXSxmPWxbMV0sZD1sWzJdLHA9cj9bMSxlLnN0cmlkZXNbMV0sZS5zdHJpZGVzWzBdXTpbZS5zdHJpZGVzWzFdLDEsZS5zdHJpZGVzWzBdXSx2PXBbMF0sbT1wWzFdLGc9cFsyXSx5PWEqaSx4PWRyKFtzLGEsaV0sdC5kdHlwZSksYj14LnZhbHVlcyx3PXRoaXMuYmxvY2tTaXplLEM9MDtDPHM7QysrKWZvcih2YXIgRT0wO0U8YTtFKz13KWZvcih2YXIgUj0wO1I8aTtSKz13KWZvcih2YXIgST0wO0k8bztJKz13KWZvcih2YXIgaz1NYXRoLm1pbihFK3csYSksUz1NYXRoLm1pbihSK3csaSksQT1NYXRoLm1pbihJK3csbyksRD1FO0Q8aztEKyspZm9yKHZhciBUPVI7VDxTO1QrKyl7Zm9yKHZhciBOPTAsRj1JO0Y8QTtGKyspTis9dVtDKmgrRCpmK0YqZF0qY1tGKnYrVCptK0MqZ107YltDKnkrKEQqaStUKV0rPU59cmV0dXJuIHgudG9UZW5zb3IoKX0sby5wcm90b3R5cGUuZnVzZWRCYXRjaE1hdE11bD1mdW5jdGlvbih0KXt2YXIgZT10LmEsbj10LmIscj10LnRyYW5zcG9zZUEsbz10LnRyYW5zcG9zZUIsYT10LmJpYXMsaT10LmFjdGl2YXRpb24scz10LnByZWx1QWN0aXZhdGlvbldlaWdodHMsdT10aGlzLmJhdGNoTWF0TXVsKGUsbixyLG8pO3JldHVybiBhJiYodT10aGlzLmFkZCh1LGEpKSxpJiYodT1xaCh0aGlzLHUsaSxzKSksdX0sby5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24odCxlKXtyZXR1cm5cImNvbXBsZXg2NFwiPT09dC5kdHlwZXx8XCJjb21wbGV4NjRcIj09PWUuZHR5cGU/dGhpcy5icm9hZGNhc3RlZEJpbmFyeUNvbXBsZXhPcCh0LmNhc3QoXCJjb21wbGV4NjRcIiksZS5jYXN0KFwiY29tcGxleDY0XCIpLChmdW5jdGlvbih0LGUsbixyKXtyZXR1cm57cmVhbDp0Km4tZSpyLGltYWc6dCpyK2Uqbn19KSk6dGhpcy5icm9hZGNhc3RlZEJpbmFyeU9wKHQsZSxEdCh0LmR0eXBlLGUuZHR5cGUpLChmdW5jdGlvbih0LGUpe3JldHVybiB0KmV9KSl9LG8ucHJvdG90eXBlLnJlYWxEaXZpZGU9ZnVuY3Rpb24odCxlKXtIaChbdCxlXSxcInJlYWxEaXZpZGVcIik7cmV0dXJuIHRoaXMuYnJvYWRjYXN0ZWRCaW5hcnlPcCh0LGUsXCJmbG9hdDMyXCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQvZX0pKX0sby5wcm90b3R5cGUuZmxvb3JEaXY9ZnVuY3Rpb24odCxlKXtIaChbdCxlXSxcImZsb29yRGl2XCIpO3JldHVybiB0aGlzLmJyb2FkY2FzdGVkQmluYXJ5T3AodCxlLFwiaW50MzJcIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5mbG9vcih0L2UpfSkpfSxvLnByb3RvdHlwZS5zdW09ZnVuY3Rpb24odCxlKXtIaCh0LFwic3VtXCIpLENuKFwic3VtXCIsZSx0LnJhbmspO2Zvcih2YXIgbj1ibih0LnNoYXBlLGUpLHI9blswXSxvPW5bMV0sYT1HbihyLER0KHQuZHR5cGUsXCJpbnQzMlwiKSksaT1rKG8pLHM9dGhpcy5yZWFkU3luYyhhLmRhdGFJZCksdT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxjPTA7YzxzLmxlbmd0aDsrK2Mpe2Zvcih2YXIgbD1jKmksaD0wLGY9MDtmPGk7KytmKWgrPXVbbCtmXTtzW2NdPWh9cmV0dXJuIGF9LG8ucHJvdG90eXBlLnByb2Q9ZnVuY3Rpb24odCxlKXtIaCh0LFwic3VtXCIpO2Zvcih2YXIgbj1ibih0LnNoYXBlLGUpLHI9blswXSxvPW5bMV0sYT1HbihyLER0KHQuZHR5cGUsXCJpbnQzMlwiKSksaT1rKG8pLHM9dGhpcy5yZWFkU3luYyhhLmRhdGFJZCksdT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxjPTA7YzxzLmxlbmd0aDsrK2Mpe2Zvcih2YXIgbD1jKmksaD0xLGY9MDtmPGk7KytmKWgqPXVbbCtmXTtzW2NdPWh9cmV0dXJuIGF9LG8ucHJvdG90eXBlLnVuc29ydGVkU2VnbWVudFN1bT1mdW5jdGlvbih0LGUsbil7SGgodCxcInVuc29ydGVkU2VnbWVudFN1bVwiKTtmb3IodmFyIHI9W10sbz10LnJhbmstZS5yYW5rLGE9MDthPG87KythKWU9ZS5leHBhbmREaW1zKGErMSk7Zm9yKGE9MDthPG47KythKXt2YXIgaT1PbihhLFwiaW50MzJcIikscz1SYyhpLGUpLmFzVHlwZShcImZsb2F0MzJcIikubXVsKHQpLnN1bSgwKTtyLnB1c2gocyl9cmV0dXJuIFByKHIpfSxvLnByb3RvdHlwZS5hcmdNaW49ZnVuY3Rpb24odCxlKXtIaCh0LFwiYXJnTWluXCIpO3ZhciBuPVtlXTtDbihcImFyZ01pblwiLG4sdC5yYW5rKTtmb3IodmFyIHI9Ym4odC5zaGFwZSxuKSxvPXJbMF0sYT1yWzFdLGk9R24obyxcImludDMyXCIpLHM9ayhhKSx1PXRoaXMucmVhZFN5bmMoaS5kYXRhSWQpLGM9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbD0wO2w8dS5sZW5ndGg7KytsKXtmb3IodmFyIGg9bCpzLGY9Y1toXSxkPTAscD0wO3A8czsrK3Ape3ZhciB2PWNbaCtwXTt2PGYmJihmPXYsZD1wKX11W2xdPWR9cmV0dXJuIGl9LG8ucHJvdG90eXBlLmFyZ01heD1mdW5jdGlvbih0LGUpe0hoKHQsXCJhcmdNYXhcIik7dmFyIG49W2VdO0NuKFwiYXJnTWF4XCIsbix0LnJhbmspO2Zvcih2YXIgcj1ibih0LnNoYXBlLG4pLG89clswXSxhPXJbMV0saT1HbihvLFwiaW50MzJcIikscz1rKGEpLHU9dGhpcy5yZWFkU3luYyhpLmRhdGFJZCksYz10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxsPTA7bDx1Lmxlbmd0aDsrK2wpe2Zvcih2YXIgaD1sKnMsZj1jW2hdLGQ9MCxwPTA7cDxzOysrcCl7dmFyIHY9Y1toK3BdO3Y+ZiYmKGY9dixkPXApfXVbbF09ZH1yZXR1cm4gaX0sby5wcm90b3R5cGUuY3Vtc3VtPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKEhoKHQsXCJjdW1zdW1cIiksZSE9PXQucmFuay0xKXRocm93IG5ldyBFcnJvcihcImJhY2tlbmQuY3Vtc3VtIGluIENQVSBleHBlY3RzIGFuIGlubmVyLW1vc3QgYXhpcz1cIisodC5yYW5rLTEpK1wiIGJ1dCBnb3QgYXhpcz1cIitlKTtmb3IodmFyIG89RHQodC5kdHlwZSxcImludDMyXCIpLGE9R24odC5zaGFwZSxvKSxpPXRoaXMucmVhZFN5bmMoYS5kYXRhSWQpLHM9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksdT10LnNoYXBlW3QucmFuay0xXSxjPXI/ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCt1LWUtMX06ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSxsPTA7bDxzLmxlbmd0aDtsKz11KWZvcih2YXIgaD0wO2g8dTtoKyspe3ZhciBmPWMobCxoKTtpZigwPT09aClpW2ZdPW4/MDpzW2ZdO2Vsc2V7dmFyIGQ9YyhsLGgtMSk7aVtmXT1uP3NbZF0raVtkXTpzW2ZdK2lbZF19fXJldHVybiBhfSxvLnByb3RvdHlwZS5lcXVhbD1mdW5jdGlvbih0LGUpe3JldHVybiBIaChbdCxlXSxcImVxdWFsXCIpLHRoaXMuYnJvYWRjYXN0ZWRCaW5hcnlPcCh0LGUsXCJib29sXCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PT1lPzE6MH0pKX0sby5wcm90b3R5cGUubm90RXF1YWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gSGgoW3QsZV0sXCJub3RFcXVhbFwiKSx0aGlzLmJyb2FkY2FzdGVkQmluYXJ5T3AodCxlLFwiYm9vbFwiLChmdW5jdGlvbih0LGUpe3JldHVybiB0IT09ZT8xOjB9KSl9LG8ucHJvdG90eXBlLmxlc3M9ZnVuY3Rpb24odCxlKXtyZXR1cm4gSGgoW3QsZV0sXCJsZXNzXCIpLHRoaXMuYnJvYWRjYXN0ZWRCaW5hcnlPcCh0LGUsXCJib29sXCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ8ZT8xOjB9KSl9LG8ucHJvdG90eXBlLmxlc3NFcXVhbD1mdW5jdGlvbih0LGUpe3JldHVybiBIaChbdCxlXSxcImxlc3NFcXVhbFwiKSx0aGlzLmJyb2FkY2FzdGVkQmluYXJ5T3AodCxlLFwiYm9vbFwiLChmdW5jdGlvbih0LGUpe3JldHVybiB0PD1lPzE6MH0pKX0sby5wcm90b3R5cGUuZ3JlYXRlcj1mdW5jdGlvbih0LGUpe3JldHVybiBIaChbdCxlXSxcImdyZWF0ZXJcIiksdGhpcy5icm9hZGNhc3RlZEJpbmFyeU9wKHQsZSxcImJvb2xcIiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdD5lPzE6MH0pKX0sby5wcm90b3R5cGUuZ3JlYXRlckVxdWFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhoKFt0LGVdLFwiZ3JlYXRlckVxdWFsXCIpLHRoaXMuYnJvYWRjYXN0ZWRCaW5hcnlPcCh0LGUsXCJib29sXCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+PWU/MTowfSkpfSxvLnByb3RvdHlwZS5sb2dpY2FsTm90PWZ1bmN0aW9uKHQpe0hoKHQsXCJsb2dpY2FsTm90XCIpO2Zvcih2YXIgZT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxuPW5ldyBVaW50OEFycmF5KGUubGVuZ3RoKSxyPTA7cjxlLmxlbmd0aDsrK3IpbltyXT1lW3JdPzA6MTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KG4sdC5zaGFwZSxcImJvb2xcIil9LG8ucHJvdG90eXBlLmxvZ2ljYWxBbmQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gSGgoW3QsZV0sXCJsb2dpY2FsQW5kXCIpLHRoaXMuYnJvYWRjYXN0ZWRCaW5hcnlPcCh0LGUsXCJib29sXCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJmV9KSl9LG8ucHJvdG90eXBlLmxvZ2ljYWxPcj1mdW5jdGlvbih0LGUpe3JldHVybiBIaChbdCxlXSxcImxvZ2ljYWxPclwiKSx0aGlzLmJyb2FkY2FzdGVkQmluYXJ5T3AodCxlLFwiYm9vbFwiLChmdW5jdGlvbih0LGUpe3JldHVybiB0fHxlfSkpfSxvLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24odCxlLG4pe0hoKFt0LGUsbl0sXCJzZWxlY3RcIik7Zm9yKHZhciByPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG89dGhpcy5yZWFkU3luYyhlLmRhdGFJZCksYT10aGlzLnJlYWRTeW5jKG4uZGF0YUlkKSxpPUduKGUuc2hhcGUsRHQoZS5kdHlwZSxuLmR0eXBlKSkscz10aGlzLnJlYWRTeW5jKGkuZGF0YUlkKSx1PTAsYz0wPT09dC5yYW5rfHx0LnJhbms+MXx8MT09PWUucmFuaz8xOmsoZS5zaGFwZS5zbGljZSgxKSksbD0wO2w8ci5sZW5ndGg7bCsrKWZvcih2YXIgaD0wO2g8YztoKyspMT09PXJbbF0/c1t1KytdPW9bbF06c1t1KytdPWFbbF07cmV0dXJuIGl9LG8ucHJvdG90eXBlLndoZXJlPWZ1bmN0aW9uKHQpe0hoKFt0XSxcIndoZXJlXCIpO3ZhciBlPXRoaXMucmVhZFN5bmModC5kYXRhSWQpO3JldHVybiBuYSh0LnNoYXBlLGUpfSxvLnByb3RvdHlwZS50b3BrPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gSGgodCxcInRvcGtcIiksZWEodGhpcy5yZWFkU3luYyh0LmRhdGFJZCksdC5zaGFwZSx0LmR0eXBlLGUpfSxvLnByb3RvdHlwZS5taW49ZnVuY3Rpb24odCxlKXtIaCh0LFwibWluXCIpLENuKFwibWluXCIsZSx0LnJhbmspO2Zvcih2YXIgbj1ibih0LnNoYXBlLGUpLHI9blswXSxvPW5bMV0sYT1HbihyLHQuZHR5cGUpLGk9ayhvKSxzPXRoaXMucmVhZFN5bmMoYS5kYXRhSWQpLHU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksYz0wO2M8cy5sZW5ndGg7KytjKXtmb3IodmFyIGw9YyppLGg9dVtsXSxmPTA7ZjxpOysrZil7dmFyIGQ9dVtsK2ZdO2Q8aCYmKGg9ZCl9c1tjXT1ofXJldHVybiBhfSxvLnByb3RvdHlwZS5taW5pbXVtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhoKFt0LGVdLFwibWluaW11bVwiKSx0aGlzLmJyb2FkY2FzdGVkQmluYXJ5T3AodCxlLHQuZHR5cGUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWluKHQsZSl9KSl9LG8ucHJvdG90eXBlLm1vZD1mdW5jdGlvbih0LGUpe3JldHVybiBIaChbdCxlXSxcIm1vZFwiKSx0aGlzLmJyb2FkY2FzdGVkQmluYXJ5T3AodCxlLHQuZHR5cGUsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dCVlO3JldHVybiB0PDAmJmU8MHx8dD49MCYmZT49MD9uOihuK2UpJWV9KSl9LG8ucHJvdG90eXBlLm1heD1mdW5jdGlvbih0LGUpe0hoKHQsXCJtYXhcIiksQ24oXCJtYXhcIixlLHQucmFuayk7Zm9yKHZhciBuPWJuKHQuc2hhcGUsZSkscj1uWzBdLG89blsxXSxhPUduKHIsdC5kdHlwZSksaT1rKG8pLHM9dGhpcy5yZWFkU3luYyhhLmRhdGFJZCksdT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxjPTA7YzxzLmxlbmd0aDsrK2Mpe2Zvcih2YXIgbD1jKmksaD11W2xdLGY9MDtmPGk7KytmKXt2YXIgZD11W2wrZl07ZD5oJiYoaD1kKX1zW2NdPWh9cmV0dXJuIGF9LG8ucHJvdG90eXBlLm1heGltdW09ZnVuY3Rpb24odCxlKXtyZXR1cm4gSGgoW3QsZV0sXCJtYXhpbXVtXCIpLHRoaXMuYnJvYWRjYXN0ZWRCaW5hcnlPcCh0LGUsdC5kdHlwZSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5tYXgodCxlKX0pKX0sby5wcm90b3R5cGUuYWxsPWZ1bmN0aW9uKHQsZSl7SGgodCxcImFsbFwiKSxDbihcImFsbFwiLGUsdC5yYW5rKTtmb3IodmFyIG49Ym4odC5zaGFwZSxlKSxyPW5bMF0sbz1uWzFdLGE9R24ocix0LmR0eXBlKSxpPWsobykscz10aGlzLnJlYWRTeW5jKGEuZGF0YUlkKSx1PXRoaXMucmVhZFN5bmModC5kYXRhSWQpLGM9MDtjPHMubGVuZ3RoOysrYyl7Zm9yKHZhciBsPWMqaSxoPXVbbF0sZj0wO2Y8aTsrK2Ype3ZhciBkPXVbbCtmXTtoPWgmJmR9c1tjXT1ofXJldHVybiBhfSxvLnByb3RvdHlwZS5hbnk9ZnVuY3Rpb24odCxlKXtIaCh0LFwiYW55XCIpLENuKFwiYW55XCIsZSx0LnJhbmspO2Zvcih2YXIgbj1ibih0LnNoYXBlLGUpLHI9blswXSxvPW5bMV0sYT1HbihyLHQuZHR5cGUpLGk9ayhvKSxzPXRoaXMucmVhZFN5bmMoYS5kYXRhSWQpLHU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksYz0wO2M8cy5sZW5ndGg7KytjKXtmb3IodmFyIGw9YyppLGg9dVtsXSxmPTA7ZjxpOysrZil7dmFyIGQ9dVtsK2ZdO2g9aHx8ZH1zW2NdPWh9cmV0dXJuIGF9LG8ucHJvdG90eXBlLnNxdWFyZWREaWZmZXJlbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhoKFt0LGVdLFwic3F1YXJlZERpZmZlcmVuY2VcIiksdGhpcy5icm9hZGNhc3RlZEJpbmFyeU9wKHQsZSx0LmR0eXBlLChmdW5jdGlvbih0LGUpe3ZhciBuPXQtZTtyZXR1cm4gbipufSkpfSxvLnByb3RvdHlwZS5jZWlsPWZ1bmN0aW9uKHQpe0hoKHQsXCJjZWlsXCIpO2Zvcih2YXIgZT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxuPW5ldyBGbG9hdDMyQXJyYXkoZS5sZW5ndGgpLHI9MDtyPGUubGVuZ3RoOysrciluW3JdPU1hdGguY2VpbChlW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KG4sdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmZsb29yPWZ1bmN0aW9uKHQpe0hoKHQsXCJmbG9vclwiKTtmb3IodmFyIGU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbj1uZXcgRmxvYXQzMkFycmF5KGUubGVuZ3RoKSxyPTA7cjxlLmxlbmd0aDsrK3IpbltyXT1NYXRoLmZsb29yKGVbcl0pO3JldHVybiB0aGlzLm1ha2VPdXRwdXQobix0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuc2lnbj1mdW5jdGlvbih0KXtIaCh0LFwieFwiKTtmb3IodmFyIGU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbj1uZXcgRmxvYXQzMkFycmF5KGUubGVuZ3RoKSxyPTA7cjxlLmxlbmd0aDsrK3IpZVtyXTwwP25bcl09LTE6ZVtyXT4wP25bcl09MTpuW3JdPTA7cmV0dXJuIHRoaXMubWFrZU91dHB1dChuLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5pc05hTj1mdW5jdGlvbih0KXtIaCh0LFwieFwiKTtmb3IodmFyIGU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbj1uZXcgVWludDhBcnJheShlLmxlbmd0aCkscj0wO3I8ZS5sZW5ndGg7KytyKU51bWJlci5pc05hTihlW3JdKSYmKG5bcl09MSk7cmV0dXJuIHRoaXMubWFrZU91dHB1dChuLHQuc2hhcGUsXCJib29sXCIpfSxvLnByb3RvdHlwZS5pc0luZj1mdW5jdGlvbih0KXtIaCh0LFwieFwiKTtmb3IodmFyIGU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbj1uZXcgVWludDhBcnJheShlLmxlbmd0aCkscj0wO3I8ZS5sZW5ndGg7KytyKU1hdGguYWJzKGVbcl0pPT09MS8wJiYobltyXT0xKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KG4sdC5zaGFwZSxcImJvb2xcIil9LG8ucHJvdG90eXBlLmlzRmluaXRlPWZ1bmN0aW9uKHQpe0hoKHQsXCJ4XCIpO2Zvcih2YXIgZT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxuPW5ldyBVaW50OEFycmF5KGUubGVuZ3RoKSxyPTA7cjxlLmxlbmd0aDsrK3IpTnVtYmVyLmlzRmluaXRlKGVbcl0pJiYobltyXT0xKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KG4sdC5zaGFwZSxcImJvb2xcIil9LG8ucHJvdG90eXBlLnJvdW5kPWZ1bmN0aW9uKHQpe0hoKHQsXCJyb3VuZFwiKTtmb3IodmFyIGU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbj1uZXcgRmxvYXQzMkFycmF5KGUubGVuZ3RoKSxyPTA7cjxlLmxlbmd0aDsrK3Ipe3ZhciBvPU1hdGguZmxvb3IoZVtyXSk7ZVtyXS1vPC41P25bcl09TWF0aC5mbG9vcihlW3JdKTplW3JdLW8+LjU/bltyXT1NYXRoLmNlaWwoZVtyXSk6bltyXT1vJTI9PTA/bzpvKzF9cmV0dXJuIHRoaXMubWFrZU91dHB1dChuLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5leHA9ZnVuY3Rpb24odCl7SGgodCxcImV4cFwiKTtmb3IodmFyIGU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbj1uZXcgRmxvYXQzMkFycmF5KGUubGVuZ3RoKSxyPTA7cjxlLmxlbmd0aDsrK3IpbltyXT1NYXRoLmV4cChlW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KG4sdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmV4cG0xPWZ1bmN0aW9uKHQpe0hoKHQsXCJleHBtMVwiKTtmb3IodmFyIGU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbj1uZXcgRmxvYXQzMkFycmF5KGUubGVuZ3RoKSxyPTA7cjxlLmxlbmd0aDsrK3IpbltyXT1NYXRoLmV4cG0xKGVbcl0pO3JldHVybiB0aGlzLm1ha2VPdXRwdXQobix0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKHQpe0hoKHQsXCJsb2dcIik7Zm9yKHZhciBlPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG49bmV3IEZsb2F0MzJBcnJheShlLmxlbmd0aCkscj0wO3I8ZS5sZW5ndGg7KytyKXt2YXIgbz1lW3JdO25bcl09TWF0aC5sb2cobyl9cmV0dXJuIHRoaXMubWFrZU91dHB1dChuLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5sb2cxcD1mdW5jdGlvbih0KXtIaCh0LFwibG9nMXBcIik7Zm9yKHZhciBlPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG49bmV3IEZsb2F0MzJBcnJheShlLmxlbmd0aCkscj0wO3I8ZS5sZW5ndGg7KytyKXt2YXIgbz1lW3JdO25bcl09TWF0aC5sb2cxcChvKX1yZXR1cm4gdGhpcy5tYWtlT3V0cHV0KG4sdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLnNxcnQ9ZnVuY3Rpb24odCl7SGgodCxcInNxcnRcIik7Zm9yKHZhciBlPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG49bmV3IEZsb2F0MzJBcnJheShlLmxlbmd0aCkscj0wO3I8ZS5sZW5ndGg7KytyKXt2YXIgbz1lW3JdO25bcl09TWF0aC5zcXJ0KG8pfXJldHVybiB0aGlzLm1ha2VPdXRwdXQobix0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUucnNxcnQ9ZnVuY3Rpb24odCl7SGgodCxcInJzcXJ0XCIpO2Zvcih2YXIgZT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxuPW5ldyBGbG9hdDMyQXJyYXkoZS5sZW5ndGgpLHI9MDtyPGUubGVuZ3RoOysrcil7dmFyIG89ZVtyXTtuW3JdPTEvTWF0aC5zcXJ0KG8pfXJldHVybiB0aGlzLm1ha2VPdXRwdXQobix0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUucmVjaXByb2NhbD1mdW5jdGlvbih0KXtIaCh0LFwicmVjaXByb2NhbFwiKTtmb3IodmFyIGU9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbj1uZXcgRmxvYXQzMkFycmF5KGUubGVuZ3RoKSxyPTA7cjxlLmxlbmd0aDsrK3IpbltyXT0xL2Vbcl07cmV0dXJuIHRoaXMubWFrZU91dHB1dChuLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5saW5lYXI9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LG8ucHJvdG90eXBlLnJlbHU9ZnVuY3Rpb24odCl7SGgodCxcInJlbHVcIik7Zm9yKHZhciBlPUduKHQuc2hhcGUsdC5kdHlwZSksbj10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSxyPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLG89MDtvPHIubGVuZ3RoOysrbyluW29dPU1hdGgubWF4KDAscltvXSk7cmV0dXJuIGV9LG8ucHJvdG90eXBlLnJlbHU2PWZ1bmN0aW9uKHQpe0hoKHQsXCJyZWx1XCIpO2Zvcih2YXIgZT1Hbih0LnNoYXBlLHQuZHR5cGUpLG49dGhpcy5yZWFkU3luYyhlLmRhdGFJZCkscj10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxvPTA7bzxyLmxlbmd0aDsrK28pbltvXT1NYXRoLm1pbihNYXRoLm1heCgwLHJbb10pLDYpO3JldHVybiBlfSxvLnByb3RvdHlwZS5wcmVsdT1mdW5jdGlvbih0LGUpe3JldHVybiBIaChbdCxlXSxcInByZWx1XCIpLHRoaXMuYnJvYWRjYXN0ZWRCaW5hcnlPcCh0LGUsdC5kdHlwZSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdDwwP2UqdDp0fSkpfSxvLnByb3RvdHlwZS5lbHU9ZnVuY3Rpb24odCl7SGgodCxcImVsdVwiKTtmb3IodmFyIGU9bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLG49dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscj0wO3I8bi5sZW5ndGg7KytyKXt2YXIgbz1uW3JdO2Vbcl09bz49MD9vOk1hdGguZXhwKG8pLTF9cmV0dXJuIHRoaXMubWFrZU91dHB1dChlLHQuc2hhcGUsXCJmbG9hdDMyXCIpfSxvLnByb3RvdHlwZS5lbHVEZXI9ZnVuY3Rpb24odCxlKXtIaChbdCxlXSxcImVsdURlclwiKTtmb3IodmFyIG49bmV3IEZsb2F0MzJBcnJheShlLnNpemUpLHI9dGhpcy5yZWFkU3luYyhlLmRhdGFJZCksbz10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxhPTA7YTxyLmxlbmd0aDsrK2Epe3ZhciBpPXJbYV07blthXT1pPj0xP29bYV06b1thXSooaSsxKX1yZXR1cm4gdGhpcy5tYWtlT3V0cHV0KG4sZS5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLnNlbHU9ZnVuY3Rpb24odCl7SGgodCxcInNlbHVcIik7Zm9yKHZhciBlPWJzLG49d3Mscj1uZXcgRmxvYXQzMkFycmF5KHQuc2l6ZSksbz10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxhPTA7YTxvLmxlbmd0aDsrK2Epe3ZhciBpPW9bYV07clthXT1pPj0wP24qaTplKihNYXRoLmV4cChpKS0xKX1yZXR1cm4gdGhpcy5tYWtlT3V0cHV0KHIsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmNsaXA9ZnVuY3Rpb24odCxlLG4pe0hoKHQsXCJjbGlwXCIpO2Zvcih2YXIgcj1uZXcgRmxvYXQzMkFycmF5KHQuc2l6ZSksbz10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxhPTA7YTxvLmxlbmd0aDsrK2Epe3ZhciBpPW9bYV07clthXT1pPm4/bjppPGU/ZTppfXJldHVybiB0aGlzLm1ha2VPdXRwdXQocix0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuYWJzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgRmxvYXQzMkFycmF5KHQuc2l6ZSksbj10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxyPTA7cjxuLmxlbmd0aDsrK3IpZVtyXT1NYXRoLmFicyhuW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmNvbXBsZXhBYnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxuPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHI9MDtyPHQuc2l6ZTsrK3Ipe3ZhciBvPW5bMipyXSxhPW5bMipyKzFdO2Vbcl09TWF0aC5oeXBvdChvLGEpfXJldHVybiB0aGlzLm1ha2VPdXRwdXQoZSx0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuaW50PWZ1bmN0aW9uKHQpe0hoKHQsXCJpbnRcIik7Zm9yKHZhciBlPW5ldyBJbnQzMkFycmF5KHQuc2l6ZSksbj10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxyPTA7cjxuLmxlbmd0aDsrK3IpZVtyXT1uW3JdO3JldHVybiB0aGlzLm1ha2VPdXRwdXQoZSx0LnNoYXBlLFwiaW50MzJcIil9LG8ucHJvdG90eXBlLnNpZ21vaWQ9ZnVuY3Rpb24odCl7SGgodCxcInNpZ21vaWRcIik7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxuPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHI9MDtyPG4ubGVuZ3RoOysrcillW3JdPTEvKDErTWF0aC5leHAoLW5bcl0pKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLnNvZnRwbHVzPWZ1bmN0aW9uKHQpe0hoKHQsXCJzb2Z0cGx1c1wiKTtmb3IodmFyIGU9TWF0aC5sb2coMS4xOTIwOTI4OTU1MDc4MTI1ZS03KSsyLG49bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLHI9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbz0wO288ci5sZW5ndGg7KytvKXt2YXIgYT1yW29dPi1lLGk9cltvXTxlLHM9TWF0aC5leHAocltvXSksdT12b2lkIDA7dT1pP3M6YT9yW29dOk1hdGgubG9nKDErcyksbltvXT11fXJldHVybiB0aGlzLm1ha2VPdXRwdXQobix0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuc2luPWZ1bmN0aW9uKHQpe0hoKHQsXCJzaW5cIik7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxuPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHI9MDtyPG4ubGVuZ3RoOysrcillW3JdPU1hdGguc2luKG5bcl0pO3JldHVybiB0aGlzLm1ha2VPdXRwdXQoZSx0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuY29zPWZ1bmN0aW9uKHQpe0hoKHQsXCJjb3NcIik7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxuPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHI9MDtyPG4ubGVuZ3RoOysrcillW3JdPU1hdGguY29zKG5bcl0pO3JldHVybiB0aGlzLm1ha2VPdXRwdXQoZSx0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUudGFuPWZ1bmN0aW9uKHQpe0hoKHQsXCJ0YW5cIik7Zm9yKHZhciBlPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKSxuPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHI9MDtyPG4ubGVuZ3RoOysrcillW3JdPU1hdGgudGFuKG5bcl0pO3JldHVybiB0aGlzLm1ha2VPdXRwdXQoZSx0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuYXNpbj1mdW5jdGlvbih0KXtIaCh0LFwiYXNpblwiKTtmb3IodmFyIGU9bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLG49dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscj0wO3I8bi5sZW5ndGg7KytyKWVbcl09TWF0aC5hc2luKG5bcl0pO3JldHVybiB0aGlzLm1ha2VPdXRwdXQoZSx0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuYWNvcz1mdW5jdGlvbih0KXtIaCh0LFwiYWNvc1wiKTtmb3IodmFyIGU9bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLG49dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscj0wO3I8bi5sZW5ndGg7KytyKWVbcl09TWF0aC5hY29zKG5bcl0pO3JldHVybiB0aGlzLm1ha2VPdXRwdXQoZSx0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuYXRhbj1mdW5jdGlvbih0KXtIaCh0LFwiYXRhblwiKTtmb3IodmFyIGU9bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLG49dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscj0wO3I8bi5sZW5ndGg7KytyKWVbcl09TWF0aC5hdGFuKG5bcl0pO3JldHVybiB0aGlzLm1ha2VPdXRwdXQoZSx0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuYXRhbjI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gSGgoW3QsZV0sXCJhdGFuMlwiKSx0aGlzLmJyb2FkY2FzdGVkQmluYXJ5T3AodCxlLHQuZHR5cGUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYXRhbjIodCxlKX0pKX0sby5wcm90b3R5cGUuc2luaD1mdW5jdGlvbih0KXtIaCh0LFwic2luaFwiKTtmb3IodmFyIGU9bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLG49dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscj0wO3I8bi5sZW5ndGg7KytyKWVbcl09TWF0aC5zaW5oKG5bcl0pO3JldHVybiB0aGlzLm1ha2VPdXRwdXQoZSx0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUuY29zaD1mdW5jdGlvbih0KXtIaCh0LFwiY29zaFwiKTtmb3IodmFyIGU9bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLG49dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscj0wO3I8bi5sZW5ndGg7KytyKWVbcl09TWF0aC5jb3NoKG5bcl0pO3JldHVybiB0aGlzLm1ha2VPdXRwdXQoZSx0LnNoYXBlLFwiZmxvYXQzMlwiKX0sby5wcm90b3R5cGUudGFuaD1mdW5jdGlvbih0KXtIaCh0LFwidGFuaFwiKTtmb3IodmFyIGU9bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLG49dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscj0wO3I8bi5sZW5ndGg7KytyKWVbcl09RChuW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmFzaW5oPWZ1bmN0aW9uKHQpe0hoKHQsXCJhc2luaFwiKTtmb3IodmFyIGU9bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLG49dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscj0wO3I8bi5sZW5ndGg7KytyKWVbcl09TWF0aC5hc2luaChuW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmFjb3NoPWZ1bmN0aW9uKHQpe0hoKHQsXCJhY29zaFwiKTtmb3IodmFyIGU9bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLG49dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscj0wO3I8bi5sZW5ndGg7KytyKWVbcl09TWF0aC5hY29zaChuW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmF0YW5oPWZ1bmN0aW9uKHQpe0hoKHQsXCJhdGFuaFwiKTtmb3IodmFyIGU9bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLG49dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscj0wO3I8bi5sZW5ndGg7KytyKWVbcl09TWF0aC5hdGFuaChuW3JdKTtyZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmVyZj1mdW5jdGlvbih0KXtIaCh0LFwiZXJmXCIpO2Zvcih2YXIgZT1uZXcgRmxvYXQzMkFycmF5KHQuc2l6ZSksbj10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxyPTA7cjxuLmxlbmd0aDsrK3Ipe3ZhciBvPU1hdGguc2lnbihuW3JdKSxhPU1hdGguYWJzKG5bcl0pLGk9MS8oMSsuMzI3NTkxMSphKTtlW3JdPW8qKDEtKCgoKDEuMDYxNDA1NDI5KmktMS40NTMxNTIwMjcpKmkrMS40MjE0MTM3NDEpKmktLjI4NDQ5NjczNikqaSsuMjU0ODI5NTkyKSppKk1hdGguZXhwKC1hKmEpKX1yZXR1cm4gdGhpcy5tYWtlT3V0cHV0KGUsdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKSxIaCh0LFwic3RlcFwiKTtmb3IodmFyIG49bmV3IEZsb2F0MzJBcnJheSh0LnNpemUpLHI9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbz0wO288ci5sZW5ndGg7KytvKXt2YXIgYT1yW29dO2lzTmFOKGEpP25bb109TmFOOm5bb109YT4wPzE6ZX1yZXR1cm4gdGhpcy5tYWtlT3V0cHV0KG4sdC5zaGFwZSxcImZsb2F0MzJcIil9LG8ucHJvdG90eXBlLmZ1c2VkQ29udjJkPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5wdXQsbj10LmZpbHRlcixyPXQuY29udkluZm8sbz10LmJpYXMsYT10LmFjdGl2YXRpb24saT10LnByZWx1QWN0aXZhdGlvbldlaWdodHMscz10aGlzLmNvbnYyZChlLG4scik7cmV0dXJuIG8mJihzPXRoaXMuYWRkKHMsbykpLGEmJihzPXFoKHRoaXMscyxhLGkpKSxzfSxvLnByb3RvdHlwZS5jb252MmQ9ZnVuY3Rpb24odCxlLG4pe0hoKFt0LGVdLFwiY29udjJkXCIpO2Zvcih2YXIgcj1uLmZpbHRlckhlaWdodCxvPW4uZmlsdGVyV2lkdGgsYT1uLmRpbGF0aW9uSGVpZ2h0LGk9bi5kaWxhdGlvbldpZHRoLHM9bi5wYWRJbmZvLmxlZnQsdT1uLnBhZEluZm8udG9wLGM9XCJjaGFubmVsc0xhc3RcIj09PW4uZGF0YUZvcm1hdCxsPWRyKG4ub3V0U2hhcGUsdC5kdHlwZSksaD10LnN0cmlkZXNbMF0sZj1jP3Quc3RyaWRlc1sxXTp0LnN0cmlkZXNbMl0sZD1jP3Quc3RyaWRlc1syXToxLHA9Yz8xOnQuc3RyaWRlc1sxXSx2PWwuc3RyaWRlc1swXSxtPWM/bC5zdHJpZGVzWzFdOmwuc3RyaWRlc1syXSxnPWM/bC5zdHJpZGVzWzJdOjEseT1jPzE6bC5zdHJpZGVzWzFdLHg9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksYj10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSx3PWwudmFsdWVzLEM9MDtDPG4uYmF0Y2hTaXplOysrQylmb3IodmFyIEU9QypoLFI9Qyp2LEk9MDtJPG4ub3V0SGVpZ2h0OysrSSlmb3IodmFyIGs9UitJKm0sUz1JKm4uc3RyaWRlSGVpZ2h0LXUsQT0wO0E8cjtBKyspe3ZhciBEPVMrQSphO2lmKCEoRDwwfHxEPj1uLmluSGVpZ2h0KSlmb3IodmFyIFQ9QSplLnN0cmlkZXNbMF0sTj1FK0QqZixGPTA7RjxuLm91dFdpZHRoOysrRilmb3IodmFyIF89aytGKmcsTz1GKm4uc3RyaWRlV2lkdGgtcyxNPTA7TTxvO00rKyl7dmFyIEI9TytNKmk7aWYoIShCPDB8fEI+PW4uaW5XaWR0aCkpZm9yKHZhciBQPU4rQipkLEw9VCtNKmUuc3RyaWRlc1sxXSxXPTA7VzxuLmluQ2hhbm5lbHM7KytXKXtmb3IodmFyIFU9eFtQK1cqcF0sVj0wO1Y8bi5vdXRDaGFubmVsczsrK1Ypd1tfK1YqeV0rPVUqYltMK1ZdO0wrPW4ub3V0Q2hhbm5lbHN9fX1yZXR1cm4gbC50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5jb252M2Q9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1uLmZpbHRlckRlcHRoLG89bi5maWx0ZXJIZWlnaHQsYT1uLmZpbHRlcldpZHRoLGk9bi5kaWxhdGlvbkRlcHRoLHM9bi5kaWxhdGlvbkhlaWdodCx1PW4uZGlsYXRpb25XaWR0aCxjPW4ucGFkSW5mby5mcm9udCxsPW4ucGFkSW5mby5sZWZ0LGg9bi5wYWRJbmZvLnRvcCxmPWRyKG4ub3V0U2hhcGUsdC5kdHlwZSksZD10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxwPXRoaXMucmVhZFN5bmMoZS5kYXRhSWQpLHY9Zi52YWx1ZXMsbT0wO208bi5iYXRjaFNpemU7KyttKWZvcih2YXIgZz1tKnQuc3RyaWRlc1swXSx5PW0qZi5zdHJpZGVzWzBdLHg9MDt4PG4ub3V0RGVwdGg7Kyt4KWZvcih2YXIgYj15K3gqZi5zdHJpZGVzWzFdLHc9eCpuLnN0cmlkZURlcHRoLWMsQz0wO0M8cjtDKyspe3ZhciBFPXcrQyppO2lmKCEoRTwwfHxFPj1uLmluRGVwdGgpKWZvcih2YXIgUj1DKmUuc3RyaWRlc1swXSxJPWcrRSp0LnN0cmlkZXNbMV0saz0wO2s8bi5vdXRIZWlnaHQ7KytrKWZvcih2YXIgUz1iK2sqZi5zdHJpZGVzWzJdLEE9aypuLnN0cmlkZUhlaWdodC1oLEQ9MDtEPG87RCsrKXt2YXIgVD1BK0QqcztpZighKFQ8MHx8VD49bi5pbkhlaWdodCkpZm9yKHZhciBOPVIrRCplLnN0cmlkZXNbMV0sRj1JK1QqdC5zdHJpZGVzWzJdLF89MDtfPG4ub3V0V2lkdGg7KytfKWZvcih2YXIgTz1TK18qbi5vdXRDaGFubmVscyxNPV8qbi5zdHJpZGVXaWR0aC1sLEI9MDtCPGE7QisrKXt2YXIgUD1NK0IqdTtpZighKFA8MHx8UD49bi5pbldpZHRoKSlmb3IodmFyIEw9TitCKmUuc3RyaWRlc1syXSxXPUYrUCpuLmluQ2hhbm5lbHMsVT1MLFY9MDtWPG4uaW5DaGFubmVsczsrK1Ype2Zvcih2YXIgej1kW1crVl0sRz0wO0c8bi5vdXRDaGFubmVsczsrK0cpdltPK0ddKz16KnBbVStHXTtVKz1uLm91dENoYW5uZWxzfX19fXJldHVybiBmLnRvVGVuc29yKCl9LG8ucHJvdG90eXBlLmNvbnYyZERlcklucHV0PWZ1bmN0aW9uKHQsZSxuKXtIaChbdCxlXSxcImNvbnYyZERlcklucHV0XCIpO2Zvcih2YXIgcj1kcihuLmluU2hhcGUsXCJmbG9hdDMyXCIpLG89ci52YWx1ZXMsYT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxpPXRoaXMucmVhZFN5bmMoZS5kYXRhSWQpLHM9ZS5zdHJpZGVzLHU9c1swXSxjPXNbMV0sbD1zWzJdLGg9bi5iYXRjaFNpemUsZj1uLmZpbHRlckhlaWdodCxkPW4uZmlsdGVyV2lkdGgscD1uLmluQ2hhbm5lbHMsdj1uLmluSGVpZ2h0LG09bi5pbldpZHRoLGc9bi5vdXRDaGFubmVscyx5PW4ub3V0SGVpZ2h0LHg9bi5vdXRXaWR0aCxiPW4uc3RyaWRlSGVpZ2h0LHc9bi5zdHJpZGVXaWR0aCxDPW4uZGF0YUZvcm1hdCxFPWYtMS1uLnBhZEluZm8udG9wLFI9ZC0xLW4ucGFkSW5mby5sZWZ0LEk9XCJjaGFubmVsc0xhc3RcIj09PUMsaz1yLnN0cmlkZXNbMF0sUz1JP3Iuc3RyaWRlc1sxXTpyLnN0cmlkZXNbMl0sQT1JP3Iuc3RyaWRlc1syXToxLEQ9ST8xOnIuc3RyaWRlc1sxXSxUPXQuc3RyaWRlc1swXSxOPUk/dC5zdHJpZGVzWzFdOnQuc3RyaWRlc1syXSxGPUk/dC5zdHJpZGVzWzJdOjEsXz1JPzE6dC5zdHJpZGVzWzFdLE89MDtPPGg7KytPKWZvcih2YXIgTT0wO008cDsrK00pZm9yKHZhciBCPTA7Qjx2OysrQilmb3IodmFyIFA9Qi1FLEw9TWF0aC5tYXgoMCxNYXRoLmNlaWwoUC9iKSksVz1NYXRoLm1pbih5LChmK1ApL2IpLFU9MDtVPG07KytVKXtmb3IodmFyIFY9VS1SLHo9TWF0aC5tYXgoMCxNYXRoLmNlaWwoVi93KSksRz1NYXRoLm1pbih4LChkK1YpL3cpLEg9MCxxPUw7cTxXOysrcSlmb3IodmFyIEs9cSpiLVAsaj16O2o8RzsrK2opZm9yKHZhciBYPVQqTytOKnErRipqLFk9dSooZi0xLUspK2MqKGQtMS0oaip3LVYpKStsKk0sJD0wOyQ8ZzsrKyQpe0grPWFbWCtfKiRdKmlbWSskXX1vW2sqTytTKkIrQSpVK0QqTV09SH1yZXR1cm4gci50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5jb252M2REZXJJbnB1dD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPWRyKG4uaW5TaGFwZSxcImZsb2F0MzJcIiksbz1yLnZhbHVlcyxhPXIuc3RyaWRlcyxpPWFbMF0scz1hWzFdLHU9YVsyXSxjPWFbM10sbD10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxoPXQuc3RyaWRlcyxmPWhbMF0sZD1oWzFdLHA9aFsyXSx2PWhbM10sbT10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSxnPWUuc3RyaWRlcyx5PWdbMF0seD1nWzFdLGI9Z1syXSx3PWdbM10sQz1uLmJhdGNoU2l6ZSxFPW4uZmlsdGVyRGVwdGgsUj1uLmZpbHRlckhlaWdodCxJPW4uZmlsdGVyV2lkdGgsaz1uLmluQ2hhbm5lbHMsUz1uLmluRGVwdGgsQT1uLmluSGVpZ2h0LEQ9bi5pbldpZHRoLFQ9bi5vdXRDaGFubmVscyxOPW4ub3V0RGVwdGgsRj1uLm91dEhlaWdodCxfPW4ub3V0V2lkdGgsTz1uLnN0cmlkZURlcHRoLE09bi5zdHJpZGVIZWlnaHQsQj1uLnN0cmlkZVdpZHRoLFA9RS0xLW4ucGFkSW5mby5mcm9udCxMPVItMS1uLnBhZEluZm8udG9wLFc9SS0xLW4ucGFkSW5mby5sZWZ0LFU9MDtVPEM7KytVKWZvcih2YXIgVj0wO1Y8azsrK1YpZm9yKHZhciB6PTA7ejxTOysreilmb3IodmFyIEc9ei1QLEg9TWF0aC5tYXgoMCxNYXRoLmNlaWwoRy9PKSkscT1NYXRoLm1pbihOLChFK0cpL08pLEs9MDtLPEE7KytLKWZvcih2YXIgaj1LLUwsWD1NYXRoLm1heCgwLE1hdGguY2VpbChqL00pKSxZPU1hdGgubWluKEYsKFIraikvTSksJD0wOyQ8RDsrKyQpe2Zvcih2YXIgUT0kLVcsSj1NYXRoLm1heCgwLE1hdGguY2VpbChRL0IpKSxaPU1hdGgubWluKF8sKEkrUSkvQiksdHQ9MCxldD1IO2V0PHE7KytldClmb3IodmFyIG50PWV0Kk8tRyxydD1YO3J0PFk7KytydClmb3IodmFyIG90PXJ0Kk0taixhdD1KO2F0PFo7KythdClmb3IodmFyIGl0PWYqVStkKmV0K3AqcnQrdiphdCxzdD15KihFLTEtbnQpK3gqKFItMS1vdCkrYiooSS0xLShhdCpCLVEpKSt3KlYsdXQ9MDt1dDxUOysrdXQpe3R0Kz1sW2l0K3V0XSptW3N0K3V0XX1vW2kqVStzKnordSpLK2MqJCtWXT10dH1yZXR1cm4gci50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5jb252MmREZXJGaWx0ZXI9ZnVuY3Rpb24odCxlLG4pe0hoKFt0LGVdLFwiY29udjJkRGVyRmlsdGVyXCIpO2Zvcih2YXIgcj1uLnN0cmlkZUhlaWdodCxvPW4uc3RyaWRlV2lkdGgsYT1uLmZpbHRlckhlaWdodCxpPW4uZmlsdGVyV2lkdGgscz1cImNoYW5uZWxzTGFzdFwiPT09bi5kYXRhRm9ybWF0LHU9ZHIobi5maWx0ZXJTaGFwZSxcImZsb2F0MzJcIiksYz1uLnBhZEluZm8ubGVmdCxsPW4ucGFkSW5mby50b3AsaD10aGlzLmJ1ZmZlclN5bmModCksZj10aGlzLmJ1ZmZlclN5bmMoZSksZD0wO2Q8YTsrK2QpZm9yKHZhciBwPU1hdGgubWF4KDAsTWF0aC5jZWlsKChsLWQpL3IpKSx2PU1hdGgubWluKG4ub3V0SGVpZ2h0LChuLmluSGVpZ2h0K2wtZCkvciksbT0wO208aTsrK20pZm9yKHZhciBnPU1hdGgubWF4KDAsTWF0aC5jZWlsKChjLW0pL28pKSx5PU1hdGgubWluKG4ub3V0V2lkdGgsKG4uaW5XaWR0aCtjLW0pL28pLHg9MDt4PG4uaW5DaGFubmVsczsrK3gpZm9yKHZhciBiPTA7YjxuLm91dENoYW5uZWxzOysrYil7Zm9yKHZhciB3PTAsQz0wO0M8bi5iYXRjaFNpemU7KytDKWZvcih2YXIgRT1wO0U8djsrK0UpZm9yKHZhciBSPWQrRSpyLWwsST1nO0k8eTsrK0kpe3ZhciBrPW0rSSpvLWM7dys9cz9oLmdldChDLFIsayx4KSpmLmdldChDLEUsSSxiKTpoLmdldChDLHgsUixrKSpmLmdldChDLGIsRSxJKX11LnNldCh3LGQsbSx4LGIpfXJldHVybiB1LnRvVGVuc29yKCl9LG8ucHJvdG90eXBlLmNvbnYzZERlckZpbHRlcj1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPW4uc3RyaWRlRGVwdGgsbz1uLnN0cmlkZUhlaWdodCxhPW4uc3RyaWRlV2lkdGgsaT1uLmZpbHRlckRlcHRoLHM9bi5maWx0ZXJIZWlnaHQsdT1uLmZpbHRlcldpZHRoLGM9ZHIobi5maWx0ZXJTaGFwZSxcImZsb2F0MzJcIiksbD1jLnZhbHVlcyxoPWMuc3RyaWRlcyxmPWhbMF0sZD1oWzFdLHA9aFsyXSx2PWhbM10sbT10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSxnPWUuc3RyaWRlcyx5PWdbMF0seD1nWzFdLGI9Z1syXSx3PWdbM10sQz10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxFPXQuc3RyaWRlcyxSPUVbMF0sST1FWzFdLGs9RVsyXSxTPUVbM10sQT1uLnBhZEluZm8uZnJvbnQsRD1uLnBhZEluZm8ubGVmdCxUPW4ucGFkSW5mby50b3AsTj0wO048aTsrK04pZm9yKHZhciBGPU1hdGgubWF4KDAsTWF0aC5jZWlsKChBLU4pL3IpKSxfPU1hdGgubWluKG4ub3V0RGVwdGgsKG4uaW5EZXB0aCtBLU4pL3IpLE89TipmLE09MDtNPHM7KytNKWZvcih2YXIgQj1NYXRoLm1heCgwLE1hdGguY2VpbCgoVC1NKS9vKSksUD1NYXRoLm1pbihuLm91dEhlaWdodCwobi5pbkhlaWdodCtULU0pL28pLEw9TSpkK08sVz0wO1c8dTsrK1cpZm9yKHZhciBVPU1hdGgubWF4KDAsTWF0aC5jZWlsKChELVcpL2EpKSxWPU1hdGgubWluKG4ub3V0V2lkdGgsKG4uaW5XaWR0aCtELVcpL2EpLHo9VypwK0wsRz0wO0c8bi5pbkNoYW5uZWxzOysrRylmb3IodmFyIEg9Ryp2K3oscT0wO3E8bi5vdXRDaGFubmVsczsrK3Epe2Zvcih2YXIgSz0wLGo9MDtqPG4uYmF0Y2hTaXplOysrailmb3IodmFyIFg9aipSLFk9aip5LCQ9RjskPF87KyskKWZvcih2YXIgUT0oTiskKnItQSkqSStYLEo9JCp4K1ksWj1CO1o8UDsrK1opZm9yKHZhciB0dD0oTStaKm8tVCkqaytRLGV0PVoqYitKLG50PVU7bnQ8VjsrK250KXt2YXIgcnQ9bnQqdytldDtLKz1DWyhXK250KmEtRCkqUyt0dCtHXSptW3J0K3FdfWxbSCtxXT1LfXJldHVybiBjLnRvVGVuc29yKCl9LG8ucHJvdG90eXBlLmZ1c2VkRGVwdGh3aXNlQ29udjJEPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5wdXQsbj10LmZpbHRlcixyPXQuY29udkluZm8sbz10LmJpYXMsYT10LmFjdGl2YXRpb24saT10LnByZWx1QWN0aXZhdGlvbldlaWdodHMscz10aGlzLmRlcHRod2lzZUNvbnYyRChlLG4scik7cmV0dXJuIG8mJihzPXRoaXMuYWRkKHMsbykpLGEmJihzPXFoKHRoaXMscyxhLGkpKSxzfSxvLnByb3RvdHlwZS5kZXB0aHdpc2VDb252MkQ9ZnVuY3Rpb24odCxlLG4pe0hoKFt0LGVdLFwiZGVwdGh3aXNlQ29udjJEXCIpO2Zvcih2YXIgcj1uLmZpbHRlckhlaWdodCxvPW4uZmlsdGVyV2lkdGgsYT1uLmRpbGF0aW9uSGVpZ2h0LGk9bi5kaWxhdGlvbldpZHRoLHM9bi5wYWRJbmZvLmxlZnQsdT1uLnBhZEluZm8udG9wLGM9bi5vdXRDaGFubmVscy9uLmluQ2hhbm5lbHMsbD1kcihuLm91dFNoYXBlLHQuZHR5cGUpLGg9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksZj10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSxkPWwudmFsdWVzLHA9MDtwPG4uYmF0Y2hTaXplOysrcClmb3IodmFyIHY9cCp0LnN0cmlkZXNbMF0sbT1wKmwuc3RyaWRlc1swXSxnPTA7ZzxuLm91dEhlaWdodDsrK2cpZm9yKHZhciB5PW0rZypsLnN0cmlkZXNbMV0seD1nKm4uc3RyaWRlSGVpZ2h0LXMsYj0wO2I8cjsrK2Ipe3ZhciB3PXgrYiphO2lmKCEodzwwfHx3Pj1uLmluSGVpZ2h0KSlmb3IodmFyIEM9YiplLnN0cmlkZXNbMF0sRT12K3cqdC5zdHJpZGVzWzFdLFI9MDtSPG4ub3V0V2lkdGg7KytSKWZvcih2YXIgST15K1IqbC5zdHJpZGVzWzJdLGs9UipuLnN0cmlkZVdpZHRoLXUsUz0wO1M8bzsrK1Mpe3ZhciBBPWsrUyppO2lmKCEoQTwwfHxBPj1uLmluV2lkdGgpKWZvcih2YXIgRD1DK1MqZS5zdHJpZGVzWzFdLFQ9RStBKm4uaW5DaGFubmVscyxOPUksRj1ELF89MDtfPG4uaW5DaGFubmVsczsrK18pe2Zvcih2YXIgTz1oW1QrX10sTT0wO008YzsrK00pZFtOK01dKz1PKmZbRitNXTtOKz1jLEYrPWN9fX1yZXR1cm4gbC50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5kZXB0aHdpc2VDb252MkREZXJJbnB1dD1mdW5jdGlvbih0LGUsbil7SGgoW3QsZV0sXCJkZXB0aHdpc2VDb252MkREZXJJbnB1dFwiKTtmb3IodmFyIHI9ZHIobi5pblNoYXBlLFwiZmxvYXQzMlwiKSxvPXIudmFsdWVzLGE9ci5zdHJpZGVzLGk9YVswXSxzPWFbMV0sdT1hWzJdLGM9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbD10LnN0cmlkZXMsaD1sWzBdLGY9bFsxXSxkPWxbMl0scD10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSx2PWUuc3RyaWRlcyxtPXZbMF0sZz12WzFdLHk9dlsyXSx4PW4uYmF0Y2hTaXplLGI9bi5maWx0ZXJIZWlnaHQsdz1uLmZpbHRlcldpZHRoLEM9bi5pbkNoYW5uZWxzLEU9bi5pbkhlaWdodCxSPW4uaW5XaWR0aCxJPW4ub3V0Q2hhbm5lbHMsaz1uLm91dEhlaWdodCxTPW4ub3V0V2lkdGgsQT1uLnN0cmlkZUhlaWdodCxEPW4uc3RyaWRlV2lkdGgsVD1iLTEtbi5wYWRJbmZvLnRvcCxOPXctMS1uLnBhZEluZm8ubGVmdCxGPUkvQyxfPTA7Xzx4OysrXylmb3IodmFyIE89MDtPPEM7KytPKWZvcih2YXIgTT0wO008RTsrK00pZm9yKHZhciBCPU0tVCxQPU1hdGgubWF4KDAsTWF0aC5jZWlsKEIvQSkpLEw9TWF0aC5taW4oaywoYitCKS9BKSxXPTA7VzxSOysrVyl7Zm9yKHZhciBVPVctTixWPU1hdGgubWF4KDAsTWF0aC5jZWlsKFUvRCkpLHo9TWF0aC5taW4oUywodytVKS9EKSxHPTAsSD1QO0g8TDsrK0gpZm9yKHZhciBxPUgqQS1CLEs9VjtLPHo7KytLKWZvcih2YXIgaj1oKl8rZipIK2QqSyxYPW0qKGItMS1xKStnKih3LTEtKEsqRC1VKSkreSpPLFk9MDtZPEY7KytZKXtHKz1jW2orKE8qRitZKV0qcFtYK1ldfW9baSpfK3MqTSt1KlcrT109R31yZXR1cm4gci50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5kZXB0aHdpc2VDb252MkREZXJGaWx0ZXI9ZnVuY3Rpb24odCxlLG4pe0hoKFt0LGVdLFwiZGVwdGh3aXNlQ29udjJERGVyRmlsdGVyXCIpO2Zvcih2YXIgcj1uLnN0cmlkZUhlaWdodCxvPW4uc3RyaWRlV2lkdGgsYT1uLmZpbHRlckhlaWdodCxpPW4uZmlsdGVyV2lkdGgscz1kcihuLmZpbHRlclNoYXBlLFwiZmxvYXQzMlwiKSx1PW4ucGFkSW5mby5sZWZ0LGM9bi5wYWRJbmZvLnRvcCxsPW4ub3V0Q2hhbm5lbHMvbi5pbkNoYW5uZWxzLGg9dGhpcy5idWZmZXJTeW5jKHQpLGY9dGhpcy5idWZmZXJTeW5jKGUpLGQ9MDtkPGE7KytkKWZvcih2YXIgcD1NYXRoLm1heCgwLE1hdGguY2VpbCgoYy1kKS9yKSksdj1NYXRoLm1pbihuLm91dEhlaWdodCwobi5pbkhlaWdodCtjLWQpL3IpLG09MDttPGk7KyttKWZvcih2YXIgZz1NYXRoLm1heCgwLE1hdGguY2VpbCgodS1tKS9vKSkseT1NYXRoLm1pbihuLm91dFdpZHRoLChuLmluV2lkdGgrdS1tKS9vKSx4PTA7eDxuLm91dENoYW5uZWxzOysreCl7Zm9yKHZhciBiPU1hdGgudHJ1bmMoeC9sKSx3PXglbCxDPTAsRT0wO0U8bi5iYXRjaFNpemU7KytFKWZvcih2YXIgUj1wO1I8djsrK1IpZm9yKHZhciBJPWQrUipyLWMsaz1nO2s8eTsrK2spe3ZhciBTPW0raypvLXU7Qys9aC5nZXQoRSxJLFMsYikqZi5nZXQoRSxSLGsseCl9cy5zZXQoQyxkLG0sYix3KX1yZXR1cm4gcy50b1RlbnNvcigpfSxvLnByb3RvdHlwZS50aWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhoKHQsXCJ0aWxlXCIpLHRhKHRoaXMuYnVmZmVyU3luYyh0KSxlKX0sby5wcm90b3R5cGUucGFkPWZ1bmN0aW9uKHQsZSxuKXtIaCh0LFwicGFkXCIpO3ZhciByPWUubWFwKChmdW5jdGlvbihlLG4pe3JldHVybiBlWzBdK3Quc2hhcGVbbl0rZVsxXX0pKSxvPWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSxhPXRoaXMuYnVmZmVyU3luYyh0KSxpPWRyKHIsdC5kdHlwZSk7MCE9PW4mJmkudmFsdWVzLmZpbGwobik7Zm9yKHZhciBzPTA7czx0LnNpemU7cysrKXt2YXIgdT1hLmluZGV4VG9Mb2MocyksYz11Lm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtvW2VdfSkpO2kuc2V0LmFwcGx5KGksW2EuZ2V0LmFwcGx5KGEsdSldLmNvbmNhdChjKSl9cmV0dXJuIGkudG9UZW5zb3IoKX0sby5wcm90b3R5cGUudHJhbnNwb3NlPWZ1bmN0aW9uKHQsZSl7SGgodCxcInRyYW5zcG9zZVwiKTtmb3IodmFyIG49bmV3IEFycmF5KHQucmFuaykscj0wO3I8bi5sZW5ndGg7cisrKW5bcl09dC5zaGFwZVtlW3JdXTt2YXIgbz10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxhPWRyKG4sdC5kdHlwZSksaT10aGlzLmJ1ZmZlclN5bmModCk7Zm9yKHI9MDtyPHQuc2l6ZTsrK3Ipe2Zvcih2YXIgcz1pLmluZGV4VG9Mb2MociksdT1uZXcgQXJyYXkocy5sZW5ndGgpLGM9MDtjPHUubGVuZ3RoO2MrKyl1W2NdPXNbZVtjXV07dmFyIGw9YS5sb2NUb0luZGV4KHUpO2EudmFsdWVzW2xdPW9bcl19cmV0dXJuIGEudG9UZW5zb3IoKX0sby5wcm90b3R5cGUuZ2F0aGVyPWZ1bmN0aW9uKHQsZSxuKXtIaChbdCxlXSxcImdhdGhlclwiKTt2YXIgcj10LnNoYXBlLnNsaWNlKCksbz10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKTtyW25dPW8ubGVuZ3RoO2Zvcih2YXIgYT1kcihyLHQuZHR5cGUpLGk9dGhpcy5idWZmZXJTeW5jKHQpLHM9MDtzPGEuc2l6ZTsrK3Mpe3ZhciB1PWEuaW5kZXhUb0xvYyhzKSxjPXUuc2xpY2UoKTtjW25dPW9bdVtuXV07dmFyIGw9aS5sb2NUb0luZGV4KGMpO2EudmFsdWVzW3NdPWkudmFsdWVzW2xdfXJldHVybiBhLnRvVGVuc29yKCl9LG8ucHJvdG90eXBlLmJhdGNoVG9TcGFjZU5EPWZ1bmN0aW9uKHQsZSxuKXtIaChbdF0sXCJiYXRjaFRvU3BhY2VORFwiKTt2YXIgcj1lLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCplfSkpLG89enIodC5zaGFwZSxlLHIpLGE9R3Ioby5sZW5ndGgsZS5sZW5ndGgpLGk9SHIodC5zaGFwZSxlLHIpLHM9cXIobixlLmxlbmd0aCksdT1LcihpLG4sZS5sZW5ndGgpO3JldHVybiB0LnJlc2hhcGUobykudHJhbnNwb3NlKGEpLnJlc2hhcGUoaSkuc2xpY2Uocyx1KX0sby5wcm90b3R5cGUuc3BhY2VUb0JhdGNoTkQ9ZnVuY3Rpb24odCxlLG4pe0hoKFt0XSxcInNwYWNlVG9CYXRjaE5EXCIpO3ZhciByPWUucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0KmV9KSksbz1bWzAsMF1dO28ucHVzaC5hcHBseShvLG4pO2Zvcih2YXIgYT0xK2UubGVuZ3RoO2E8dC5zaGFwZS5sZW5ndGg7KythKW8ucHVzaChbMCwwXSk7dmFyIGk9dC5wYWQobykscz16cihpLnNoYXBlLGUsciwhMSksdT1HcihzLmxlbmd0aCxlLmxlbmd0aCwhMSksYz1IcihpLnNoYXBlLGUsciwhMSk7cmV0dXJuIGkucmVzaGFwZShzKS50cmFuc3Bvc2UodSkucmVzaGFwZShjKX0sby5wcm90b3R5cGUucG9vbD1mdW5jdGlvbih0LGUsbil7SGgodCxcInBvb2xcIik7Zm9yKHZhciByPWUuc3RyaWRlSGVpZ2h0LG89ZS5zdHJpZGVXaWR0aCxhPWUuZGlsYXRpb25IZWlnaHQsaT1lLmRpbGF0aW9uV2lkdGgscz1lLmVmZmVjdGl2ZUZpbHRlckhlaWdodCx1PWUuZWZmZWN0aXZlRmlsdGVyV2lkdGgsYz1lLnBhZEluZm8udG9wLGw9ZS5wYWRJbmZvLmxlZnQsaD1cIm1heFwiPT09bj9OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksZD1kcihlLm91dFNoYXBlLHQuZHR5cGUpLHA9ZC52YWx1ZXMsdj1lLm91dFNoYXBlWzFdKmUub3V0U2hhcGVbMl0qZS5vdXRTaGFwZVszXSxtPWUub3V0U2hhcGVbMl0qZS5vdXRTaGFwZVszXSxnPWUub3V0U2hhcGVbM10seT0wO3k8ZS5iYXRjaFNpemU7Kyt5KWZvcih2YXIgeD15KnYsYj15KnQuc3RyaWRlc1swXSx3PTA7dzxlLmluQ2hhbm5lbHM7Kyt3KWZvcih2YXIgQz0wO0M8ZS5vdXRIZWlnaHQ7KytDKWZvcih2YXIgRT1DKnItYyxSPU1hdGgubWF4KDAsRSksST1NYXRoLm1pbihlLmluSGVpZ2h0LHMrRSksaz14K0MqbSxTPTA7UzxlLm91dFdpZHRoOysrUyl7Zm9yKHZhciBBPVMqby1sLEQ9TWF0aC5tYXgoMCxBKSxUPU1hdGgubWluKGUuaW5XaWR0aCx1K0EpLE49aCxGPTAsXz0wLE89UjtPPEk7Tys9YSl7Zm9yKHZhciBNPWIrTyp0LnN0cmlkZXNbMV0sQj1EO0I8VDtCKz1pKXt2YXIgUD1mW00rQip0LnN0cmlkZXNbMl0rd107XCJtYXhcIj09PW4mJlA+Tj9OPVA6XCJhdmdcIj09PW4mJihGKz1QLF8rKyl9aWYoaXNOYU4oTikpYnJlYWt9cFtrK1MqZyt3XT1cImF2Z1wiPT09bj9GL186Tn1yZXR1cm4gZC50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5tYXhQb29sPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucG9vbCh0LGUsXCJtYXhcIil9LG8ucHJvdG90eXBlLm1heFBvb2xQb3NpdGlvbnM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZHIoZS5vdXRTaGFwZSxcImludDMyXCIpLHI9ZS5zdHJpZGVIZWlnaHQsbz1lLnN0cmlkZVdpZHRoLGE9ZS5kaWxhdGlvbkhlaWdodCxpPWUuZGlsYXRpb25XaWR0aCxzPWUuZWZmZWN0aXZlRmlsdGVySGVpZ2h0LHU9ZS5lZmZlY3RpdmVGaWx0ZXJXaWR0aCxjPWUucGFkSW5mby50b3AsbD1lLnBhZEluZm8ubGVmdCxoPXRoaXMuYnVmZmVyU3luYyh0KSxmPTA7ZjxlLmJhdGNoU2l6ZTsrK2YpZm9yKHZhciBkPTA7ZDxlLmluQ2hhbm5lbHM7KytkKWZvcih2YXIgcD0wO3A8ZS5vdXRIZWlnaHQ7KytwKXtmb3IodmFyIHY9cCpyLWMsbT12O208MDspbSs9YTtmb3IodmFyIGc9TWF0aC5taW4oZS5pbkhlaWdodCxzK3YpLHk9MDt5PGUub3V0V2lkdGg7Kyt5KXtmb3IodmFyIHg9eSpvLWwsYj14O2I8MDspYis9aTtmb3IodmFyIHc9TWF0aC5taW4oZS5pbldpZHRoLHUreCksQz1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksRT0tMSxSPW07UjxnO1IrPWEpZm9yKHZhciBJPVItdixrPWI7azx3O2srPWkpe3ZhciBTPWsteCxBPWguZ2V0KGYsUixrLGQpO0E+QyYmKEM9QSxFPUkqdStTKX1uLnNldChFLGYscCx5LGQpfX1yZXR1cm4gbi50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5tYXhQb29sQmFja3Byb3A9ZnVuY3Rpb24odCxlLG4scil7SGgoW2Usbl0sXCJtYXhQb29sQmFja3Byb3BcIik7Zm9yKHZhciBvPXRoaXMubWF4UG9vbFBvc2l0aW9ucyhlLHIpLGE9ci5zdHJpZGVIZWlnaHQsaT1yLnN0cmlkZVdpZHRoLHM9ci5kaWxhdGlvbkhlaWdodCx1PXIuZGlsYXRpb25XaWR0aCxjPXIuZWZmZWN0aXZlRmlsdGVySGVpZ2h0LGw9ci5lZmZlY3RpdmVGaWx0ZXJXaWR0aCxoPWwtMS1yLnBhZEluZm8ubGVmdCxmPWMtMS1yLnBhZEluZm8udG9wLGQ9ZHIoZS5zaGFwZSxcImZsb2F0MzJcIikscD10aGlzLmJ1ZmZlclN5bmMobyksdj10aGlzLmJ1ZmZlclN5bmModCksbT0wO208ci5iYXRjaFNpemU7KyttKWZvcih2YXIgZz0wO2c8ci5pbkNoYW5uZWxzOysrZylmb3IodmFyIHk9MDt5PHIuaW5IZWlnaHQ7Kyt5KWZvcih2YXIgeD0wO3g8ci5pbldpZHRoOysreCl7Zm9yKHZhciBiPXktZix3PXgtaCxDPTAsRT0wO0U8YztFKz1zKXt2YXIgUj0oYitFKS9hO2lmKCEoUjwwfHxSPj1yLm91dEhlaWdodHx8TWF0aC5mbG9vcihSKSE9PVIpKWZvcih2YXIgST0wO0k8bDtJKz11KXt2YXIgaz0odytJKS9pO2lmKCEoazwwfHxrPj1yLm91dFdpZHRofHxNYXRoLmZsb29yKGspIT09aykpe3ZhciBTPWMqbC0xLXAuZ2V0KG0sUixrLGcpPT09RSpsK0k/MTowO2lmKDAhPT1TKUMrPXYuZ2V0KG0sUixrLGcpKlN9fX1kLnNldChDLG0seSx4LGcpfXJldHVybiBkLnRvVGVuc29yKCl9LG8ucHJvdG90eXBlLmF2Z1Bvb2xCYWNrcHJvcD1mdW5jdGlvbih0LGUsbil7SGgoW3QsZV0sXCJhdmdQb29sQmFja3Byb3BcIik7Zm9yKHZhciByPW4uc3RyaWRlSGVpZ2h0LG89bi5zdHJpZGVXaWR0aCxhPW4uZmlsdGVySGVpZ2h0LGk9bi5maWx0ZXJXaWR0aCxzPW4uZGlsYXRpb25IZWlnaHQsdT1uLmRpbGF0aW9uV2lkdGgsYz1uLmVmZmVjdGl2ZUZpbHRlckhlaWdodCxsPW4uZWZmZWN0aXZlRmlsdGVyV2lkdGgsaD1sLTEtbi5wYWRJbmZvLmxlZnQsZj1jLTEtbi5wYWRJbmZvLnRvcCxkPWRyKGUuc2hhcGUsXCJmbG9hdDMyXCIpLHA9MS8oYSppKSx2PXRoaXMuYnVmZmVyU3luYyh0KSxtPTA7bTxuLmJhdGNoU2l6ZTsrK20pZm9yKHZhciBnPTA7ZzxuLmluQ2hhbm5lbHM7KytnKWZvcih2YXIgeT0wO3k8bi5pbkhlaWdodDsrK3kpZm9yKHZhciB4PTA7eDxuLmluV2lkdGg7Kyt4KXtmb3IodmFyIGI9eS1mLHc9eC1oLEM9MCxFPTA7RTxjO0UrPXMpe3ZhciBSPShiK0UpL3I7aWYoIShSPDB8fFI+PW4ub3V0SGVpZ2h0fHxNYXRoLmZsb29yKFIpIT09UikpZm9yKHZhciBJPTA7STxsO0krPXUpe3ZhciBrPSh3K0kpL287aWYoIShrPDB8fGs+PW4ub3V0V2lkdGh8fE1hdGguZmxvb3IoaykhPT1rKSlDKz12LmdldChtLFIsayxnKX19ZC5zZXQoQypwLG0seSx4LGcpfXJldHVybiBkLnRvVGVuc29yKCl9LG8ucHJvdG90eXBlLnBvb2wzZD1mdW5jdGlvbih0LGUsbil7SGgodCxcInBvb2wzZFwiKTtmb3IodmFyIHI9ZS5zdHJpZGVEZXB0aCxvPWUuc3RyaWRlSGVpZ2h0LGE9ZS5zdHJpZGVXaWR0aCxpPWUuZGlsYXRpb25EZXB0aCxzPWUuZGlsYXRpb25IZWlnaHQsdT1lLmRpbGF0aW9uV2lkdGgsYz1lLmVmZmVjdGl2ZUZpbHRlckRlcHRoLGw9ZS5lZmZlY3RpdmVGaWx0ZXJIZWlnaHQsaD1lLmVmZmVjdGl2ZUZpbHRlcldpZHRoLGY9ZS5wYWRJbmZvLmZyb250LGQ9ZS5wYWRJbmZvLnRvcCxwPWUucGFkSW5mby5sZWZ0LHY9XCJtYXhcIj09PW4/TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZOk51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLGc9ZHIoZS5vdXRTaGFwZSx0LmR0eXBlKSx5PWcudmFsdWVzLHg9ZS5vdXRTaGFwZVsxXSplLm91dFNoYXBlWzJdKmUub3V0U2hhcGVbM10qZS5vdXRTaGFwZVs0XSxiPWUub3V0U2hhcGVbMl0qZS5vdXRTaGFwZVszXSplLm91dFNoYXBlWzRdLHc9ZS5vdXRTaGFwZVszXSplLm91dFNoYXBlWzRdLEM9ZS5vdXRTaGFwZVs0XSxFPTA7RTxlLmJhdGNoU2l6ZTsrK0UpZm9yKHZhciBSPUUqeCxJPUUqdC5zdHJpZGVzWzBdLGs9MDtrPGUuaW5DaGFubmVsczsrK2spZm9yKHZhciBTPTA7UzxlLm91dERlcHRoOysrUyl7Zm9yKHZhciBBPVMqci1mLEQ9QTtEPDA7KUQrPWk7Zm9yKHZhciBUPU1hdGgubWluKGUuaW5EZXB0aCxjK0EpLE49UitTKmIsRj0wO0Y8ZS5vdXRIZWlnaHQ7KytGKXtmb3IodmFyIF89RipvLWQsTz1fO088MDspTys9cztmb3IodmFyIE09TWF0aC5taW4oZS5pbkhlaWdodCxsK18pLEI9TitGKncsUD0wO1A8ZS5vdXRXaWR0aDsrK1Ape2Zvcih2YXIgTD1QKmEtcCxXPUw7VzwwOylXKz11O2Zvcih2YXIgVT1NYXRoLm1pbihlLmluV2lkdGgsaCtMKSxWPUIrUCpDLHo9dixHPTAsSD0wLHE9RDtxPFQ7cSs9aSl7Zm9yKHZhciBLPUkrcSp0LnN0cmlkZXNbMV0saj1PO2o8TTtqKz1zKXtmb3IodmFyIFg9SytqKnQuc3RyaWRlc1syXSxZPVc7WTxVO1krPXUpe3ZhciAkPW1bWCtZKnQuc3RyaWRlc1szXStrXTtpZihcIm1heFwiPT09biYmJD56P3o9JDpcImF2Z1wiPT09biYmKEcrPSQsSCsrKSxpc05hTih6KSlicmVha31pZihpc05hTih6KSlicmVha31pZihpc05hTih6KSlicmVha315W1Yra109XCJhdmdcIj09PW4/Ry9IOnp9fX1yZXR1cm4gZy50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5hdmdQb29sM2Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gSGgodCxcImF2Z1Bvb2wzZFwiKSx0aGlzLnBvb2wzZCh0LGUsXCJhdmdcIikudG9GbG9hdCgpfSxvLnByb3RvdHlwZS5hdmdQb29sM2RCYWNrcHJvcD1mdW5jdGlvbih0LGUsbil7SGgoW3QsZV0sXCJhdmdQb29sM2RCYWNrcHJvcFwiKTtmb3IodmFyIHI9bi5zdHJpZGVEZXB0aCxvPW4uc3RyaWRlSGVpZ2h0LGE9bi5zdHJpZGVXaWR0aCxpPW4uZmlsdGVyRGVwdGgscz1uLmZpbHRlckhlaWdodCx1PW4uZmlsdGVyV2lkdGgsYz1uLmRpbGF0aW9uRGVwdGgsbD1uLmRpbGF0aW9uSGVpZ2h0LGg9bi5kaWxhdGlvbldpZHRoLGY9bi5lZmZlY3RpdmVGaWx0ZXJEZXB0aCxkPW4uZWZmZWN0aXZlRmlsdGVySGVpZ2h0LHA9bi5lZmZlY3RpdmVGaWx0ZXJXaWR0aCx2PWYtMS1uLnBhZEluZm8uZnJvbnQsbT1wLTEtbi5wYWRJbmZvLmxlZnQsZz1kLTEtbi5wYWRJbmZvLnRvcCx5PWRyKGUuc2hhcGUsXCJmbG9hdDMyXCIpLHg9MS8oaSpzKnUpLGI9dGhpcy5idWZmZXJTeW5jKHQpLHc9MDt3PG4uYmF0Y2hTaXplOysrdylmb3IodmFyIEM9MDtDPG4uaW5DaGFubmVsczsrK0MpZm9yKHZhciBFPTA7RTxuLmluRGVwdGg7KytFKWZvcih2YXIgUj0wO1I8bi5pbkhlaWdodDsrK1IpZm9yKHZhciBJPTA7STxuLmluV2lkdGg7KytJKXtmb3IodmFyIGs9RS12LFM9Ui1nLEE9SS1tLEQ9MCxUPTA7VDxmO1QrPWMpe3ZhciBOPShrK1QpL3I7aWYoIShOPDB8fE4+PW4ub3V0RGVwdGh8fE1hdGguZmxvb3IoTikhPT1OKSlmb3IodmFyIEY9MDtGPGQ7Ris9bCl7dmFyIF89KFMrRikvbztpZighKF88MHx8Xz49bi5vdXRIZWlnaHR8fE1hdGguZmxvb3IoXykhPT1fKSlmb3IodmFyIE89MDtPPHA7Tys9aCl7dmFyIE09KEErTykvYTtpZighKE08MHx8TT49bi5vdXRXaWR0aHx8TWF0aC5mbG9vcihNKSE9PU0pKUQrPWIuZ2V0KHcsTixfLE0sQyl9fX15LnNldChEKngsdyxFLFIsSSxDKX1yZXR1cm4geS50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5tYXhQb29sM2Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gSGgodCxcIm1heFBvb2wzZFwiKSx0aGlzLnBvb2wzZCh0LGUsXCJtYXhcIikudG9GbG9hdCgpfSxvLnByb3RvdHlwZS5tYXhQb29sM2RQb3NpdGlvbnM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZHIoZS5vdXRTaGFwZSxcImludDMyXCIpLHI9ZS5zdHJpZGVEZXB0aCxvPWUuc3RyaWRlSGVpZ2h0LGE9ZS5zdHJpZGVXaWR0aCxpPWUuZGlsYXRpb25EZXB0aCxzPWUuZGlsYXRpb25IZWlnaHQsdT1lLmRpbGF0aW9uV2lkdGgsYz1lLmVmZmVjdGl2ZUZpbHRlckRlcHRoLGw9ZS5lZmZlY3RpdmVGaWx0ZXJIZWlnaHQsaD1lLmVmZmVjdGl2ZUZpbHRlcldpZHRoLGY9ZS5wYWRJbmZvLmZyb250LGQ9ZS5wYWRJbmZvLnRvcCxwPWUucGFkSW5mby5sZWZ0LHY9dGhpcy5idWZmZXJTeW5jKHQpLG09MDttPGUuYmF0Y2hTaXplOysrbSlmb3IodmFyIGc9MDtnPGUuaW5DaGFubmVsczsrK2cpZm9yKHZhciB5PTA7eTxlLm91dERlcHRoOysreSl7Zm9yKHZhciB4PXkqci1mLGI9eDtiPDA7KWIrPWk7Zm9yKHZhciB3PU1hdGgubWluKGUuaW5EZXB0aCxjK3gpLEM9MDtDPGUub3V0SGVpZ2h0OysrQyl7Zm9yKHZhciBFPUMqby1kLFI9RTtSPDA7KVIrPXM7Zm9yKHZhciBJPU1hdGgubWluKGUuaW5IZWlnaHQsbCtFKSxrPTA7azxlLm91dFdpZHRoOysrayl7Zm9yKHZhciBTPWsqYS1wLEE9UztBPDA7KUErPXU7Zm9yKHZhciBEPU1hdGgubWluKGUuaW5XaWR0aCxoK1MpLFQ9TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLE49LTEsRj1iO0Y8dztGKz1pKWZvcih2YXIgXz1GLXgsTz1SO088STtPKz1zKWZvcih2YXIgTT1PLUUsQj1BO0I8RDtCKz11KXt2YXIgUD1CLVMsTD12LmdldChtLEYsTyxCLGcpO0w+PVQmJihUPUwsTj1fKmwqaCtNKmwrUCl9bi5zZXQoTixtLHksQyxrLGcpfX19cmV0dXJuIG4udG9UZW5zb3IoKX0sby5wcm90b3R5cGUubWF4UG9vbDNkQmFja3Byb3A9ZnVuY3Rpb24odCxlLG4scil7SGgoW2Usbl0sXCJtYXhQb29sM2RCYWNrcHJvcFwiKTtmb3IodmFyIG89dGhpcy5tYXhQb29sM2RQb3NpdGlvbnMoZSxyKSxhPXIuc3RyaWRlRGVwdGgsaT1yLnN0cmlkZUhlaWdodCxzPXIuc3RyaWRlV2lkdGgsdT1yLmRpbGF0aW9uRGVwdGgsYz1yLmRpbGF0aW9uSGVpZ2h0LGw9ci5kaWxhdGlvbldpZHRoLGg9ci5lZmZlY3RpdmVGaWx0ZXJEZXB0aCxmPXIuZWZmZWN0aXZlRmlsdGVySGVpZ2h0LGQ9ci5lZmZlY3RpdmVGaWx0ZXJXaWR0aCxwPWgtMS1yLnBhZEluZm8uZnJvbnQsdj1kLTEtci5wYWRJbmZvLmxlZnQsbT1mLTEtci5wYWRJbmZvLnRvcCxnPWRyKGUuc2hhcGUsXCJmbG9hdDMyXCIpLHk9dGhpcy5idWZmZXJTeW5jKG8pLHg9dGhpcy5idWZmZXJTeW5jKHQpLGI9MDtiPHIuYmF0Y2hTaXplOysrYilmb3IodmFyIHc9MDt3PHIuaW5DaGFubmVsczsrK3cpZm9yKHZhciBDPTA7QzxyLmluRGVwdGg7KytDKWZvcih2YXIgRT0wO0U8ci5pbkhlaWdodDsrK0UpZm9yKHZhciBSPTA7UjxyLmluV2lkdGg7KytSKXtmb3IodmFyIEk9Qy1wLGs9RS1tLFM9Ui12LEE9MCxEPTA7RDxoO0QrPXUpe3ZhciBUPShJK0QpL2E7aWYoIShUPDB8fFQ+PXIub3V0RGVwdGh8fE1hdGguZmxvb3IoVCkhPT1UKSlmb3IodmFyIE49MDtOPGY7Tis9Yyl7dmFyIEY9KGsrTikvaTtpZighKEY8MHx8Rj49ci5vdXRIZWlnaHR8fE1hdGguZmxvb3IoRikhPT1GKSlmb3IodmFyIF89MDtfPGQ7Xys9bCl7dmFyIE89KFMrXykvcztpZighKE88MHx8Tz49ci5vdXRXaWR0aHx8TWF0aC5mbG9vcihPKSE9PU8pKXt2YXIgTT1oKmYqZC0xLXkuZ2V0KGIsVCxGLE8sdyk9PT1EKmYqZCtOKmQrXz8xOjA7aWYoMCE9PU0pQSs9eC5nZXQoYixULEYsTyx3KSpNfX19fWcuc2V0KEEsYixDLEUsUix3KX1yZXR1cm4gZy50b1RlbnNvcigpfSxvLnByb3RvdHlwZS5jYXN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFBvKHQsZSx0aGlzKX0sby5wcm90b3R5cGUucmVzaGFwZT1mdW5jdGlvbih0LGUpe3JldHVybiBMbyh0LGUpfSxvLnByb3RvdHlwZS5hdmdQb29sPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEhoKHQsXCJhdmdQb29sXCIpLHRoaXMucG9vbCh0LGUsXCJhdmdcIikudG9GbG9hdCgpfSxvLnByb3RvdHlwZS5yZXNpemVCaWxpbmVhcj1mdW5jdGlvbih0LGUsbixyKXtIaCh0LFwicmVzaXplQmlsaW5lYXJcIik7Zm9yKHZhciBvPXQuc2hhcGUsYT1vWzBdLGk9b1sxXSxzPW9bMl0sdT1vWzNdLGM9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbD1uZXcgRmxvYXQzMkFycmF5KGsoW2EsZSxuLHVdKSksaD1bciYmZT4xP2ktMTppLHImJm4+MT9zLTE6c10sZj1bciYmZT4xP2UtMTplLHImJm4+MT9uLTE6bl0sZD0wLHA9aFswXS9mWzBdLHY9aFsxXS9mWzFdLG09MDttPGE7bSsrKWZvcih2YXIgZz0wO2c8ZTtnKyspZm9yKHZhciB5PXAqZyx4PU1hdGguZmxvb3IoeSksYj15LXgsdz1NYXRoLm1pbihpLTEsTWF0aC5jZWlsKHkpKSxDPW0qdC5zdHJpZGVzWzBdK3gqdC5zdHJpZGVzWzFdLEU9bSp0LnN0cmlkZXNbMF0rdyp0LnN0cmlkZXNbMV0sUj0wO1I8bjtSKyspZm9yKHZhciBJPXYqUixTPU1hdGguZmxvb3IoSSksQT1JLVMsRD1NYXRoLm1pbihzLTEsTWF0aC5jZWlsKEkpKSxUPUMrUyp0LnN0cmlkZXNbMl0sTj1FK1MqdC5zdHJpZGVzWzJdLEY9QytEKnQuc3RyaWRlc1syXSxfPUUrRCp0LnN0cmlkZXNbMl0sTz0wO088dTtPKyspe3ZhciBNPWNbVCtPXSxCPWNbTitPXSxQPU0rKGNbRitPXS1NKSpBLEw9UCsoQisoY1tfK09dLUIpKkEtUCkqYjtsW2QrK109TH1yZXR1cm4gRm4obCxbYSxlLG4sdV0pfSxvLnByb3RvdHlwZS5yZXNpemVCaWxpbmVhckJhY2twcm9wPWZ1bmN0aW9uKHQsZSxuKXtIaChbdCxlXSxcInJlc2l6ZUJpbGluZWFyQmFja3Byb3BcIik7Zm9yKHZhciByPWUuc2hhcGUsbz1yWzBdLGE9clsxXSxpPXJbMl0scz1yWzNdLHU9dC5zaGFwZSxjPXVbMV0sbD11WzJdLGg9bmV3IEZsb2F0MzJBcnJheShvKmEqaSpzKSxmPVtuJiZjPjE/YS0xOmEsbiYmbD4xP2ktMTppXSxkPVtuJiZjPjE/Yy0xOmMsbiYmbD4xP2wtMTpsXSxwPWZbMF0vZFswXSx2PWZbMV0vZFsxXSxtPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLGc9MCx5PTA7eTxvO3krKylmb3IodmFyIHg9eSplLnN0cmlkZXNbMF0sYj0wO2I8YztiKyspZm9yKHZhciB3PWIqcCxDPU1hdGguZmxvb3IodyksRT1NYXRoLm1pbihNYXRoLmNlaWwodyksYS0xKSxSPXgrQyplLnN0cmlkZXNbMV0sST14K0UqZS5zdHJpZGVzWzFdLGs9dy1DLFM9MS1rLEE9MDtBPGw7QSsrKWZvcih2YXIgRD1BKnYsVD1NYXRoLmZsb29yKEQpLE49TWF0aC5taW4oTWF0aC5jZWlsKEQpLGktMSksRj1ELVQsXz0xLUYsTz1SK1QqZS5zdHJpZGVzWzJdLE09UitOKmUuc3RyaWRlc1syXSxCPUkrVCplLnN0cmlkZXNbMl0sUD1JK04qZS5zdHJpZGVzWzJdLEw9UypfLFc9UypGLFU9aypfLFY9aypGLHo9MDt6PHM7eisrKXt2YXIgRz1tW2crK107aFtPK3pdKz1HKkwsaFtNK3pdKz1HKlcsaFtCK3pdKz1HKlUsaFtQK3pdKz1HKlZ9cmV0dXJuIExuKGgsW28saSxhLHNdLGUuZHR5cGUpfSxvLnByb3RvdHlwZS5yZXNpemVOZWFyZXN0TmVpZ2hib3I9ZnVuY3Rpb24odCxlLG4scil7SGgodCxcInJlc2l6ZU5lYXJlc3ROZWlnaGJvclwiKTtmb3IodmFyIG89dC5zaGFwZSxhPW9bMF0saT1vWzFdLHM9b1syXSx1PW9bM10sYz10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxsPW5ldyBGbG9hdDMyQXJyYXkoYSplKm4qdSksaD1bciYmZT4xP2ktMTppLHImJm4+MT9zLTE6c10sZj1bciYmZT4xP2UtMTplLHImJm4+MT9uLTE6bl0sZD1oWzBdL2ZbMF0scD1oWzFdL2ZbMV0sdj0wLG09MDttPGE7bSsrKWZvcih2YXIgZz1tKnQuc3RyaWRlc1swXSx5PTA7eTxlO3krKylmb3IodmFyIHg9ZCp5LGI9ZytNYXRoLm1pbihpLTEscj9NYXRoLnJvdW5kKHgpOk1hdGguZmxvb3IoeCkpKnQuc3RyaWRlc1sxXSx3PTA7dzxuO3crKylmb3IodmFyIEM9cCp3LEU9YitNYXRoLm1pbihzLTEscj9NYXRoLnJvdW5kKEMpOk1hdGguZmxvb3IoQykpKnQuc3RyaWRlc1syXSxSPTA7Ujx1O1IrKyl7dmFyIEk9Y1tFK1JdO2xbdisrXT1JfXJldHVybiBGbihsLFthLGUsbix1XSx0LmR0eXBlKX0sby5wcm90b3R5cGUucmVzaXplTmVhcmVzdE5laWdoYm9yQmFja3Byb3A9ZnVuY3Rpb24odCxlLG4pe0hoKFt0LGVdLFwicmVzaXplTmVhcmVzdE5laWdoYm9yQmFja3Byb3BcIik7Zm9yKHZhciByPWUuc2hhcGUsbz1yWzBdLGE9clsxXSxpPXJbMl0scz1yWzNdLHU9dC5zaGFwZSxjPXVbMV0sbD11WzJdLGg9bmV3IEZsb2F0MzJBcnJheShvKmEqaSpzKSxmPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLGQ9W24mJmM+MT9hLTE6YSxuJiZsPjE/aS0xOmldLHA9W24mJmM+MT9jLTE6YyxuJiZsPjE/bC0xOmxdLHY9ZFswXS9wWzBdLG09ZFsxXS9wWzFdLGc9MS92LHk9MS9tLHg9MipNYXRoLmNlaWwoZykrMixiPTIqTWF0aC5jZWlsKHkpKzIsdz0wO3c8bzt3KyspZm9yKHZhciBDPXcqZS5zdHJpZGVzWzBdLEU9MDtFPGE7RSsrKWZvcih2YXIgUj1DK0UqZS5zdHJpZGVzWzFdLEk9TWF0aC5mbG9vcihFKmcpLGs9TWF0aC5mbG9vcihJLXgvMiksUz0wO1M8aTtTKyspZm9yKHZhciBBPVIrUyplLnN0cmlkZXNbMl0sRD1NYXRoLmZsb29yKFMqeSksVD1NYXRoLmZsb29yKEQtYi8yKSxOPTA7TjxzO04rKyl7Zm9yKHZhciBGPTAsXz0wO188eDtfKyspe3ZhciBPPV8raztpZighKE88MHx8Tz49Yykpe3ZhciBNPUMrTyp0LnN0cmlkZXNbMV0sQj1PKnY7aWYoRT09PU1hdGgubWluKGEtMSxuP01hdGgucm91bmQoQik6TWF0aC5mbG9vcihCKSkpZm9yKHZhciBQPTA7UDxiO1ArKyl7dmFyIEw9UCtUO2lmKCEoTDwwfHxMPj1sKSl7dmFyIFc9TStMKnQuc3RyaWRlc1syXSxVPUwqbTtTPT09TWF0aC5taW4oaS0xLG4/TWF0aC5yb3VuZChVKTpNYXRoLmZsb29yKFUpKSYmKEYrPWZbVytOXSl9fX19aFtBK05dPUZ9cmV0dXJuIExuKGgsZS5zaGFwZSxlLmR0eXBlKX0sby5wcm90b3R5cGUuYmF0Y2hOb3JtYWxpemF0aW9uPWZ1bmN0aW9uKHQsZSxuLHIsbyxhKXtIaChbdCxlLG4sbyxhXSxcImJhdGNoTm9ybVwiKTtmb3IodmFyIGk9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscz10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSx1PXRoaXMucmVhZFN5bmMobi5kYXRhSWQpLGM9bz90aGlzLnJlYWRTeW5jKG8uZGF0YUlkKTpuZXcgRmxvYXQzMkFycmF5KFsxXSksbD1hP3RoaXMucmVhZFN5bmMoYS5kYXRhSWQpOm5ldyBGbG9hdDMyQXJyYXkoWzBdKSxoPW5ldyBGbG9hdDMyQXJyYXkoaS5sZW5ndGgpLGY9bC5sZW5ndGgsZD1jLmxlbmd0aCxwPXUubGVuZ3RoLHY9cy5sZW5ndGgsbT0wLGc9MCx5PTAseD0wLGI9MDtiPGkubGVuZ3RoOysrYiloW2JdPWxbbSsrXSsoaVtiXS1zW2crK10pKmNbeSsrXS9NYXRoLnNxcnQodVt4KytdK3IpLG0+PWYmJihtPTApLGc+PXYmJihnPTApLHk+PWQmJih5PTApLHg+PXAmJih4PTApO3JldHVybiBMbihoLHQuc2hhcGUpfSxvLnByb3RvdHlwZS5sb2NhbFJlc3BvbnNlTm9ybWFsaXphdGlvbjREPWZ1bmN0aW9uKHQsZSxuLHIsbyl7SGgodCxcImxvY2FsUmVzcG9uc2VOb3JtYWxpemF0aW9uNERcIik7dmFyIGE9dC5zaGFwZVszXSxpPWEtMSxzPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLHU9dC5zaXplLGM9bmV3IEZsb2F0MzJBcnJheSh1KTtmdW5jdGlvbiBsKHQpe2Zvcih2YXIgbj10JWEscj10LW4rTWF0aC5tYXgoMCxuLWUpLG89dC1uK01hdGgubWluKG4rZSxpKSx1PTA7cjw9bztyKyspe3ZhciBjPXNbcl07dSs9YypjfXJldHVybiB1fWZvcih2YXIgaD0wO2g8dTtoKyspe3ZhciBmPWwoaCksZD1zW2hdKk1hdGgucG93KG4rcipmLC1vKTtjW2hdPWR9cmV0dXJuIExuKGMsdC5zaGFwZSl9LG8ucHJvdG90eXBlLkxSTkdyYWQ9ZnVuY3Rpb24odCxlLG4scixvLGEsaSl7SGgodCxcIkxSTkdyYWRcIik7Zm9yKHZhciBzPXQuc2hhcGVbM10sdT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxjPXRoaXMucmVhZFN5bmMoZS5kYXRhSWQpLGw9dGhpcy5yZWFkU3luYyhuLmRhdGFJZCksaD1uZXcgRmxvYXQzMkFycmF5KHQuc2l6ZSksZj10LnNpemUsZD0wO2Q8ZjtkKyspe2Zvcih2YXIgcD1kJXMsdj1kLXArTWF0aC5tYXgoMCxwLXIpLG09ZC1wK01hdGgubWluKHMscCtyKzEpLGc9MCx5PXY7eTxtO3krKylnKz1NYXRoLnBvdyhjW3ldLDIpO2c9YSpnK287Zm9yKHk9djt5PG07eSsrKXt2YXIgeD0tMiphKmkqY1t5XSpsW2RdL2c7ZD09PXkmJih4Kz1NYXRoLnBvdyhnLC1pKSkseCo9dVtkXSxoW3ldKz14fX1yZXR1cm4gTG4oaCx0LnNoYXBlKX0sby5wcm90b3R5cGUubXVsdGlub21pYWw9ZnVuY3Rpb24odCxlLG4scil7SGgodCxcIm11bHRpbm9taWFsXCIpO2Zvcih2YXIgbz1lP3Q6Z28odCksYT1vLnNoYXBlWzBdLGk9by5zaGFwZVsxXSxzPUduKFthLG5dLFwiaW50MzJcIiksdT10aGlzLnJlYWRTeW5jKHMuZGF0YUlkKSxjPXRoaXMucmVhZFN5bmMoby5kYXRhSWQpLGw9MDtsPGE7KytsKXt2YXIgaD1sKmksZj1uZXcgRmxvYXQzMkFycmF5KGktMSk7ZlswXT1jW2hdO2Zvcih2YXIgZD0xO2Q8Zi5sZW5ndGg7KytkKWZbZF09ZltkLTFdK2NbaCtkXTtmb3IodmFyIHA9Y3Ioci50b1N0cmluZygpKSx2PWwqbixtPTA7bTxuOysrbSl7dmFyIGc9cCgpO3VbdittXT1mLmxlbmd0aDtmb3IodmFyIHk9MDt5PGYubGVuZ3RoO3krKylpZihnPGZbeV0pe3VbdittXT15O2JyZWFrfX19cmV0dXJuIHN9LG8ucHJvdG90eXBlLm9uZUhvdD1mdW5jdGlvbih0LGUsbixyKXtIaCh0LFwib25lSG90XCIpO3ZhciBvPW5ldyBGbG9hdDMyQXJyYXkodC5zaXplKmUpO28uZmlsbChyKTtmb3IodmFyIGE9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksaT0wO2k8dC5zaXplOysraSlhW2ldPj0wJiZhW2ldPGUmJihvW2kqZSthW2ldXT1uKTtyZXR1cm4gQm4obyxbdC5zaXplLGVdLFwiaW50MzJcIil9LG8ucHJvdG90eXBlLm5vbk1heFN1cHByZXNzaW9uPWZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIEhoKHQsXCJub25NYXhTdXBwcmVzc2lvblwiKSxqbyh0aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSx0aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSxuLHIsbyl9LG8ucHJvdG90eXBlLmZmdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mZnRCYXRjaCh0LCExKX0sby5wcm90b3R5cGUuaWZmdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mZnRCYXRjaCh0LCEwKX0sby5wcm90b3R5cGUuZmZ0QmF0Y2g9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5zaGFwZVswXSxyPXQuc2hhcGVbMV0sbz1kcih0LnNoYXBlLFwiZmxvYXQzMlwiKSxhPWRyKHQuc2hhcGUsXCJmbG9hdDMyXCIpLGk9VG4odCkuYXMyRChuLHIpLHM9Tm4odCkuYXMyRChuLHIpLHU9MDt1PG47dSsrKWZvcih2YXIgYz1pLnNsaWNlKFt1LDBdLFsxLHJdKSxsPXMuc2xpY2UoW3UsMF0sWzEscl0pLGg9RG4oYyxsKSxmPXRoaXMucmVhZFN5bmModGhpcy5mZnRJbXBsKGgsZSkuZGF0YUlkKSxkPTA7ZDxyO2QrKyl7dmFyIHA9em8oZixkKTtvLnZhbHVlc1t1KnIrZF09cC5yZWFsLGEudmFsdWVzW3UqcitkXT1wLmltYWd9cmV0dXJuIERuKG8udG9UZW5zb3IoKSxhLnRvVGVuc29yKCkpLmFzMkQobixyKX0sby5wcm90b3R5cGUuZmZ0SW1wbD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuYXMxRCgpLHI9bi5zaXplO2lmKHRoaXMuaXNFeHBvbmVudE9mMihyKSl7dmFyIG89dGhpcy5mZnRSYWRpeDIobixyLGUpLmFzMkQodC5zaGFwZVswXSx0LnNoYXBlWzFdKTtyZXR1cm4gZSYmKG89RG4oVG4obykuZGl2KE9uKHIpKSxObihvKS5kaXYoT24ocikpKSksb312YXIgYT10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSxpPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgRmxvYXQzMkFycmF5KHQubGVuZ3RoLzIpLG49bmV3IEZsb2F0MzJBcnJheSh0Lmxlbmd0aC8yKSxyPTA7cjx0Lmxlbmd0aDtyKz0yKWVbci8yXT10W3JdLG5bci8yXT10W3IrMV07cmV0dXJue3JlYWw6ZSxpbWFnOm59fSh0aGlzLmZvdXJpZXJUcmFuc2Zvcm1CeU1hdG11bChhLHIsZSkpO3JldHVybiBEbihpLnJlYWwsaS5pbWFnKS5hczJEKHQuc2hhcGVbMF0sdC5zaGFwZVsxXSl9LG8ucHJvdG90eXBlLmlzRXhwb25lbnRPZjI9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PSh0JnQtMSl9LG8ucHJvdG90eXBlLmZmdFJhZGl4Mj1mdW5jdGlvbih0LGUsbil7aWYoMT09PWUpcmV0dXJuIHQ7dmFyIHI9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksbz1lLzIsYT1mdW5jdGlvbih0KXtmb3IodmFyIGU9TWF0aC5jZWlsKHQubGVuZ3RoLzQpLG49bmV3IEZsb2F0MzJBcnJheShlKSxyPW5ldyBGbG9hdDMyQXJyYXkoZSksbz0wO288dC5sZW5ndGg7bys9NCluW01hdGguZmxvb3Ioby80KV09dFtvXSxyW01hdGguZmxvb3Ioby80KV09dFtvKzFdO3JldHVybntyZWFsOm4saW1hZzpyfX0ociksaT1EbihhLnJlYWwsYS5pbWFnKS5hczFEKCkscz1mdW5jdGlvbih0KXtmb3IodmFyIGU9TWF0aC5mbG9vcih0Lmxlbmd0aC80KSxuPW5ldyBGbG9hdDMyQXJyYXkoZSkscj1uZXcgRmxvYXQzMkFycmF5KGUpLG89MjtvPHQubGVuZ3RoO28rPTQpbltNYXRoLmZsb29yKG8vNCldPXRbb10scltNYXRoLmZsb29yKG8vNCldPXRbbysxXTtyZXR1cm57cmVhbDpuLGltYWc6cn19KHIpLHU9RG4ocy5yZWFsLHMuaW1hZykuYXMxRCgpO2k9dGhpcy5mZnRSYWRpeDIoaSxvLG4pLHU9dGhpcy5mZnRSYWRpeDIodSxvLG4pO3ZhciBjPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPW5ldyBGbG9hdDMyQXJyYXkodC8yKSxyPW5ldyBGbG9hdDMyQXJyYXkodC8yKSxvPTA7bzxNYXRoLmNlaWwodC8yKTtvKyspe3ZhciBhPShlPzI6LTIpKk1hdGguUEkqKG8vdCk7bltvXT1NYXRoLmNvcyhhKSxyW29dPU1hdGguc2luKGEpfXJldHVybntyZWFsOm4saW1hZzpyfX0oZSxuKSxsPURuKGMucmVhbCxjLmltYWcpLm11bCh1KSxoPWkuYWRkKGwpLGY9aS5zdWIobCksZD1UbihoKS5jb25jYXQoVG4oZikpLHA9Tm4oaCkuY29uY2F0KE5uKGYpKTtyZXR1cm4gRG4oZCxwKS5hczFEKCl9LG8ucHJvdG90eXBlLmZvdXJpZXJUcmFuc2Zvcm1CeU1hdG11bD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPW5ldyBGbG9hdDMyQXJyYXkoMiplKSxvPTA7bzxlO28rKyl7Zm9yKHZhciBhPTAsaT0wLHM9MDtzPGU7cysrKXt2YXIgdT1IbyhvKnMsZSxuKSxjPXpvKHQscyk7YSs9Yy5yZWFsKnUucmVhbC1jLmltYWcqdS5pbWFnLGkrPWMucmVhbCp1LmltYWcrYy5pbWFnKnUucmVhbH1uJiYoYS89ZSxpLz1lKSxHbyhyLGEsaSxvKX1yZXR1cm4gcn0sby5wcm90b3R5cGUuZGVwdGhUb1NwYWNlPWZ1bmN0aW9uKHQsZSxuKXtDKFwiTkhXQ1wiPT09biwoZnVuY3Rpb24oKXtyZXR1cm5cIk9ubHkgTkhXQyBkYXRhRm9ybWF0IHN1cHBvcnRlZCBvbiBDUFUgZm9yIGRlcHRoVG9TcGFjZS4gR290IFwiK259KSksQyhlPjEsKGZ1bmN0aW9uKCl7cmV0dXJuXCJibG9ja1NpemUgc2hvdWxkIGJlID4gMSBmb3IgZGVwdGhUb1NwYWNlLCBidXQgd2FzOiBcIitlfSkpO2Zvcih2YXIgcj10LnNoYXBlWzBdLG89dC5zaGFwZVsxXSxhPXQuc2hhcGVbMl0saT10LnNoYXBlWzNdLHM9byplLHU9YSplLGM9aS8oZSplKSxsPXRoaXMucmVhZFN5bmModC5kYXRhSWQpLGg9bmV3IEZsb2F0MzJBcnJheShyKnMqdSpjKSxmPTAsZD0wO2Q8cjsrK2QpZm9yKHZhciBwPTA7cDxzOysrcClmb3IodmFyIHY9TWF0aC5mbG9vcihwL2UpLG09cCVlLGc9MDtnPHU7KytnKWZvcih2YXIgeT1NYXRoLmZsb29yKGcvZSkseD0obSplK2clZSkqYyxiPTA7YjxjOysrYil7dmFyIHc9Yit4K2kqKHkrYSooditvKmQpKTtoW2YrK109bFt3XX1yZXR1cm4gTG4oaCxbcixzLHUsY10pfSxvLnByb3RvdHlwZS5icm9hZGNhc3RlZEJpbmFyeU9wPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPVJvKHQuc2hhcGUsZS5zaGFwZSksYT1kcihvLG4pLGk9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscz10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSx1PUNvKHQuc2hhcGUsbyksYz1DbyhlLnNoYXBlLG8pLGw9YS52YWx1ZXM7aWYodS5sZW5ndGgrYy5sZW5ndGg9PT0wKWZvcih2YXIgaD0wO2g8bC5sZW5ndGg7KytoKWxbaF09cihpW2glaS5sZW5ndGhdLHNbaCVzLmxlbmd0aF0pO2Vsc2V7dmFyIGY9dGhpcy5idWZmZXJTeW5jKHQpLGQ9dGhpcy5idWZmZXJTeW5jKGUpLHA9ZnVuY3Rpb24obil7dmFyIG89YS5pbmRleFRvTG9jKG4pLGg9by5zbGljZSgtdC5yYW5rKTt1LmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBoW3RdPTB9KSk7dmFyIHA9Zi5sb2NUb0luZGV4KGgpLHY9by5zbGljZSgtZS5yYW5rKTtjLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB2W3RdPTB9KSk7dmFyIG09ZC5sb2NUb0luZGV4KHYpO2xbbl09cihpW3BdLHNbbV0pfTtmb3IoaD0wO2g8bC5sZW5ndGg7KytoKXAoaCl9cmV0dXJuIGEudG9UZW5zb3IoKX0sby5wcm90b3R5cGUuYnJvYWRjYXN0ZWRCaW5hcnlDb21wbGV4T3A9ZnVuY3Rpb24odCxlLG4pe3ZhciByPVJvKHQuc2hhcGUsZS5zaGFwZSksbz1kcihyLFwiZmxvYXQzMlwiKSxhPWRyKHIsXCJmbG9hdDMyXCIpLGk9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCkscz10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKSx1PUNvKHQuc2hhcGUsciksYz1DbyhlLnNoYXBlLHIpLGw9by52YWx1ZXMsaD1hLnZhbHVlcztpZih1Lmxlbmd0aCtjLmxlbmd0aD09PTApZm9yKHZhciBmPTA7ZjxsLmxlbmd0aDtmKyspe3ZhciBkPWYlaS5sZW5ndGgscD1mJXMubGVuZ3RoLHY9bihpWzIqZF0saVsyKmQrMV0sc1syKnBdLHNbMipwKzFdKTtsW2ZdPXYucmVhbCxoW2ZdPXYuaW1hZ31lbHNle3ZhciBtPXRoaXMuYnVmZmVyU3luYyh0aGlzLmRhdGEuZ2V0KHQuZGF0YUlkKS5jb21wbGV4VGVuc29ycy5yZWFsKSxnPXRoaXMuYnVmZmVyU3luYyh0aGlzLmRhdGEuZ2V0KGUuZGF0YUlkKS5jb21wbGV4VGVuc29ycy5yZWFsKSx5PWZ1bmN0aW9uKHIpe3ZhciBhPW8uaW5kZXhUb0xvYyhyKSxmPWEuc2xpY2UoLXQucmFuayk7dS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZlt0XT0wfSkpO3ZhciBkPW0ubG9jVG9JbmRleChmKSxwPWEuc2xpY2UoLWUucmFuayk7Yy5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gcFt0XT0wfSkpO3ZhciB2PWcubG9jVG9JbmRleChwKSx5PW4oaVsyKmRdLGlbMipkKzFdLHNbMip2XSxzWzIqdisxXSk7bFtyXT15LnJlYWwsaFtyXT15LmltYWd9O2ZvcihmPTA7ZjxsLmxlbmd0aDtmKyspeShmKX1yZXR1cm4gdGhpcy5jb21wbGV4KG8udG9UZW5zb3IoKSxhLnRvVGVuc29yKCkpfSxvLnByb3RvdHlwZS5zcGxpdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFpvKHQsZSxuKX0sby5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe30sby5wcm90b3R5cGUuZmxvYXRQcmVjaXNpb249ZnVuY3Rpb24oKXtyZXR1cm4gMzJ9LG8ucHJvdG90eXBlLmVwc2lsb249ZnVuY3Rpb24oKXtyZXR1cm4gMWUtN30sby5wcm90b3R5cGUuY3JvcEFuZFJlc2l6ZT1mdW5jdGlvbih0LGUsbixyLG8sYSl7Zm9yKHZhciBpPXQuc2hhcGUscz1pWzBdLHU9aVsxXSxjPWlbMl0sbD1pWzNdLGg9ZS5zaGFwZVswXSxmPXJbMF0sZD1yWzFdLHA9ZHIoW2gsZixkLGxdLFwiZmxvYXQzMlwiKSx2PXRoaXMucmVhZFN5bmMoZS5kYXRhSWQpLG09dGhpcy5yZWFkU3luYyhuLmRhdGFJZCksZz10aGlzLnJlYWRTeW5jKHQuZGF0YUlkKSx5PXQuc3RyaWRlcyx4PXAuc3RyaWRlcyxiPTA7YjxoO2IrKyl7dmFyIHc9NCpiLEM9dlt3XSxFPXZbdysxXSxSPXZbdysyXSxJPXZbdyszXSxrPW1bYl07aWYoIShrPj1zKSlmb3IodmFyIFM9Zj4xPyhSLUMpKih1LTEpLyhmLTEpOjAsQT1kPjE/KEktRSkqKGMtMSkvKGQtMSk6MCxEPTA7RDxmO0QrKyl7dmFyIFQ9Zj4xP0MqKHUtMSkrRCpTOi41KihDK1IpKih1LTEpO2lmKFQ8MHx8VD51LTEpZm9yKHZhciBOPTA7TjxkO04rKylmb3IodmFyIEY9MDtGPGw7RisrKXt2YXIgXz1GK04qeFsyXStEKnhbMV0rYip4WzBdO3AudmFsdWVzW19dPWF9ZWxzZSBpZihcImJpbGluZWFyXCI9PT1vKXt2YXIgTz1NYXRoLmZsb29yKFQpLE09TWF0aC5jZWlsKFQpLEI9VC1PO2ZvcihOPTA7TjxkO04rKyl7aWYoKHE9ZD4xP0UqKGMtMSkrTipBOi41KihFK0kpKihjLTEpKTwwfHxxPmMtMSlmb3IoRj0wO0Y8bDtGKyspe189RitOKnhbMl0rRCp4WzFdK2IqeFswXTtwLnZhbHVlc1tfXT1hfWVsc2V7dmFyIFA9TWF0aC5mbG9vcihxKSxMPU1hdGguY2VpbChxKSxXPXEtUDtmb3IoRj0wO0Y8bDtGKyspe3ZhciBVPWdbXz1GK1AqeVsyXStPKnlbMV0rayp5WzBdXSxWPWdbXz1GK0wqeVsyXStPKnlbMV0rayp5WzBdXSx6PWdbXz1GK1AqeVsyXStNKnlbMV0rayp5WzBdXSxHPVUrKFYtVSkqVyxIPXorKGdbXz1GK0wqeVsyXStNKnlbMV0rayp5WzBdXS16KSpXO189RitOKnhbMl0rRCp4WzFdK2IqeFswXSxwLnZhbHVlc1tfXT1HKyhILUcpKkJ9fX19ZWxzZSBmb3IoTj0wO048ZDsrK04pe3ZhciBxO2lmKChxPWQ+MT9FKihjLTEpK04qQTouNSooRStJKSooYy0xKSk8MHx8cT5jLTEpZm9yKEY9MDtGPGw7RisrKXtfPUYrTip4WzJdK0QqeFsxXStiKnhbMF07cC52YWx1ZXNbX109YX1lbHNle3ZhciBLPU1hdGgucm91bmQocSksaj1NYXRoLnJvdW5kKFQpO2ZvcihGPTA7RjxsO0YrKyl7dmFyIFg9RitLKnlbMl0raip5WzFdK2sqeVswXSxZPUYrTip4WzJdK0QqeFsxXStiKnhbMF07cC52YWx1ZXNbWV09Z1tYXX19fX19cmV0dXJuIHAudG9UZW5zb3IoKX0sby5wcm90b3R5cGUuc3BhcnNlVG9EZW5zZT1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1acigwLHQsbiksYT1vLnNsaWNlUmFuayxpPW8ubnVtVXBkYXRlcyxzPW8uc2xpY2VTaXplLHU9by5zdHJpZGVzLGM9by5vdXRwdXRTaXplO3JldHVybiB0aGlzLnNjYXR0ZXIodCxlLG4sYyxzLGksYSx1LHIsITEpfSxvLnByb3RvdHlwZS5nYXRoZXJORD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuc2hhcGUscj1uW24ubGVuZ3RoLTFdLG89anIodCxlKSxhPW9bMF0saT1vWzFdLHM9b1syXSx1PW9bM107aWYoMD09PWkpcmV0dXJuIEZuKFtdLGEsdC5kdHlwZSk7Zm9yKHZhciBjPW5ldyBndChbaSxzXSx0LmR0eXBlKSxsPXRoaXMucmVhZFN5bmMoZS5kYXRhSWQpLGg9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksZj0wO2Y8aTtmKyspe2Zvcih2YXIgZD1bXSxwPTAsdj0wO3Y8cjt2Kyspe3ZhciBtPWxbZipyK3ZdO3ArPW0qdVt2XSxkLnB1c2gobSl9aWYocDwwfHxwPj10LnNpemUvcyl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGluZGljZXM6IFwiK2QrXCIgZG9lcyBub3QgaW5kZXggaW50byBcIit0LnNoYXBlKTtmb3IodmFyIGc9MDtnPHM7ZysrKWMudmFsdWVzW2YqcytnXT1oW3AqcytnXX1yZXR1cm4gYy50b1RlbnNvcigpLnJlc2hhcGUoYSl9LG8ucHJvdG90eXBlLnNjYXR0ZXJORD1mdW5jdGlvbih0LGUsbil7dmFyIHI9WnIoMCx0LG4pLG89ci5zbGljZVJhbmssYT1yLm51bVVwZGF0ZXMsaT1yLnNsaWNlU2l6ZSxzPXIuc3RyaWRlcyx1PXIub3V0cHV0U2l6ZSxjPU9uKDApO3JldHVybiB0aGlzLnNjYXR0ZXIodCxlLG4sdSxpLGEsbyxzLGMsITApfSxvLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1QKG49bnx8aihlKSxrKHQpKTtyZXR1cm4gci5maWxsKGUpLEx0Lm1ha2VUZW5zb3Iocix0LG4sdGhpcyl9LG8ucHJvdG90eXBlLm9uZXNMaWtlPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PT10LmR0eXBlKXRocm93IG5ldyBFcnJvcihcIm9uZXNMaWtlIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHN0cmluZyB0ZW5zb3JzXCIpO3JldHVybiB0aGlzLmZpbGwodC5zaGFwZSwxLHQuZHR5cGUpfSxvLnByb3RvdHlwZS56ZXJvc0xpa2U9ZnVuY3Rpb24odCl7dmFyIGU9UCh0LmR0eXBlLGsodC5zaGFwZSkpO3JldHVybiB0aGlzLm1ha2VPdXRwdXQoZSx0LnNoYXBlLHQuZHR5cGUpfSxvLnByb3RvdHlwZS5saW5zcGFjZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFdvKHQsZSxuKX0sby5wcm90b3R5cGUuc2NhdHRlcj1mdW5jdGlvbih0LGUsbixyLG8sYSxpLHMsdSxjKXt2YXIgbD1bci9vLG9dLGg9dGhpcy5yZWFkU3luYyh0LmRhdGFJZCksZj10aGlzLnJlYWRTeW5jKGUuZGF0YUlkKTtpZigwPT09cilyZXR1cm4gRm4oW10sbixlLmR0eXBlKTt2YXIgZD1uZXcgZ3QobCxlLmR0eXBlKTtkLnZhbHVlcy5maWxsKHRoaXMucmVhZFN5bmModS5kYXRhSWQpWzBdKTtmb3IodmFyIHA9MDtwPGE7cCsrKXtmb3IodmFyIHY9W10sbT0wLGc9MDtnPGk7ZysrKXt2YXIgeT1oW3AqaStnXTt2LnB1c2goeSksbSs9eSpzW2ddfWlmKG08MHx8bT49ci9vKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5kaWNlczogXCIrditcIiBkb2VzIG5vdCBpbmRleCBpbnRvIFwiK24pO2Zvcih2YXIgeD0wO3g8bzt4KyspYz9kLnZhbHVlc1ttKm8reF0rPWZbcCpvK3hdOmQudmFsdWVzW20qbyt4XT0wPT09ZS5yYW5rP2ZbMF06ZltwKm8reF19cmV0dXJuIGQudG9UZW5zb3IoKS5yZXNoYXBlKG4pfSxvfShibyk7THQucmVnaXN0ZXJCYWNrZW5kKFwiY3B1XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBLaH0pLDEpO2Zvcih2YXIgamg9MCxYaD1be2tlcm5lbE5hbWU6XCJOb25NYXhTdXBwcmVzc2lvblY1XCIsYmFja2VuZE5hbWU6XCJjcHVcIixrZXJuZWxGdW5jOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5wdXRzLG49dC5iYWNrZW5kLHI9dC5hdHRycyxvPWUsYT1vLmJveGVzLGk9by5zY29yZXMscz1yLHU9cy5tYXhPdXRwdXRTaXplLGM9cy5pb3VUaHJlc2hvbGQsbD1zLnNjb3JlVGhyZXNob2xkLGg9cy5zb2Z0Tm1zU2lnbWEsZj1uO0hoKGEsXCJOb25NYXhTdXBwcmVzc2lvbldpdGhTY29yZVwiKTt2YXIgZD1YbyhmLmRhdGEuZ2V0KGEuZGF0YUlkKS52YWx1ZXMsZi5kYXRhLmdldChpLmRhdGFJZCkudmFsdWVzLHUsYyxsLGgpO3JldHVybltkLnNlbGVjdGVkSW5kaWNlcyxkLnNlbGVjdGVkU2NvcmVzXX19LHtrZXJuZWxOYW1lOlwiU3F1YXJlXCIsYmFja2VuZE5hbWU6XCJjcHVcIixrZXJuZWxGdW5jOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5wdXRzLG49dC5iYWNrZW5kLHI9ZS54LG89bjtIaChyLFwic3F1YXJlXCIpO2Zvcih2YXIgYT1vLmRhdGEuZ2V0KHIuZGF0YUlkKS52YWx1ZXMsaT1uZXcgRmxvYXQzMkFycmF5KGEubGVuZ3RoKSxzPTA7czxhLmxlbmd0aDsrK3Mpe3ZhciB1PWFbc107aVtzXT11KnV9cmV0dXJue2RhdGFJZDpvLndyaXRlKGksci5zaGFwZSxyLmR0eXBlKSxzaGFwZTpyLnNoYXBlLGR0eXBlOnIuZHR5cGV9fX0se2tlcm5lbE5hbWU6ZXUsYmFja2VuZE5hbWU6XCJjcHVcIixrZXJuZWxGdW5jOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5wdXRzLG49dC5iYWNrZW5kLHI9ZSxvPXIuYSxhPXIuYixpPW47SGgoW28sYV0sZXUpO3ZhciBzPWkuZGF0YS5nZXQoby5kYXRhSWQpLnZhbHVlcyx1PWkuZGF0YS5nZXQoYS5kYXRhSWQpLnZhbHVlcyxjPWZ1bmN0aW9uKHQsZSxuLHIsbyxhKXt2YXIgaT1Sbyh0LGUpLHM9aS5sZW5ndGgsdT0kKGkpLGM9QihvLGsoaSkpLGw9dC5sZW5ndGgsaD1lLmxlbmd0aCxmPSQodCksZD0kKGUpLHA9Q28odCxpKSx2PUNvKGUsaSk7aWYocC5sZW5ndGgrdi5sZW5ndGg9PT0wKWZvcih2YXIgbT0wO208Yy5sZW5ndGg7KyttKWNbbV09YShuW20lbi5sZW5ndGhdLHJbbSVyLmxlbmd0aF0pO2Vsc2V7dmFyIGc9ZnVuY3Rpb24odCl7dmFyIGU9aXQodCxzLHUpLG89ZS5zbGljZSgtbCk7cC5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gb1t0XT0wfSkpO3ZhciBpPWF0KG8sbCxmKSxtPWUuc2xpY2UoLWgpO3YuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIG1bdF09MH0pKTt2YXIgZz1hdChtLGgsZCk7Y1t0XT1hKG5baV0scltnXSl9O2ZvcihtPTA7bTxjLmxlbmd0aDsrK20pZyhtKX1yZXR1cm5bYyxpXX0oby5zaGFwZSxhLnNoYXBlLHMsdSxvLmR0eXBlLChmdW5jdGlvbih0LGUpe3ZhciBuPXQtZTtyZXR1cm4gbipufSkpLGw9Y1swXSxoPWNbMV07cmV0dXJue2RhdGFJZDppLndyaXRlKGwsaCxvLmR0eXBlKSxzaGFwZTpoLGR0eXBlOm8uZHR5cGV9fX1dO2poPFhoLmxlbmd0aDtqaCsrKXtkKFhoW2poXSl9dmFyIFloLCRoPWZ1bmN0aW9uKHQpe3RoaXMudmFyaWFibGVOYW1lcz1bXCJBXCJdO3ZhciBlPXVhKCksbj10WzBdLHI9dFsxXTt0aGlzLm91dHB1dFNoYXBlPXQsdGhpcy51c2VyQ29kZT1cIlxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGl2ZWMzIGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpO1xcbiAgICAgICAgaW50IHRleFIgPSBjb29yZHNbMF07XFxuICAgICAgICBpbnQgdGV4QyA9IGNvb3Jkc1sxXTtcXG4gICAgICAgIGludCBkZXB0aCA9IGNvb3Jkc1syXTtcXG4gICAgICAgIHZlYzIgdXYgPSAodmVjMih0ZXhDLCB0ZXhSKSArIGhhbGZDUikgLyB2ZWMyKFwiK3IrXCIuMCwgXCIrbitcIi4wKTtcXG5cXG4gICAgICAgIHZlYzQgdmFsdWVzID0gXCIrZS50ZXh0dXJlMkQrXCIoQSwgdXYpO1xcbiAgICAgICAgZmxvYXQgdmFsdWU7XFxuICAgICAgICBpZiAoZGVwdGggPT0gMCkge1xcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlcy5yO1xcbiAgICAgICAgfSBlbHNlIGlmIChkZXB0aCA9PSAxKSB7XFxuICAgICAgICAgIHZhbHVlID0gdmFsdWVzLmc7XFxuICAgICAgICB9IGVsc2UgaWYgKGRlcHRoID09IDIpIHtcXG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZXMuYjtcXG4gICAgICAgIH0gZWxzZSBpZiAoZGVwdGggPT0gMykge1xcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlcy5hO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgc2V0T3V0cHV0KGZsb29yKHZhbHVlICogMjU1LjAgKyAwLjUpKTtcXG4gICAgICB9XFxuICAgIFwifSxRaD1mdW5jdGlvbih0KXt0aGlzLnZhcmlhYmxlTmFtZXM9W1wiQVwiXSx0aGlzLnBhY2tlZElucHV0cz0hMSx0aGlzLnBhY2tlZE91dHB1dD0hMDt2YXIgZT11YSgpLG49dFswXSxyPXRbMV07dGhpcy5vdXRwdXRTaGFwZT10LHRoaXMudXNlckNvZGU9XCJcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBpdmVjMyBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTtcXG4gICAgICAgIGludCB0ZXhSID0gY29vcmRzWzBdO1xcbiAgICAgICAgaW50IHRleEMgPSBjb29yZHNbMV07XFxuICAgICAgICBpbnQgZGVwdGggPSBjb29yZHNbMl07XFxuXFxuICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMC4pO1xcblxcbiAgICAgICAgZm9yKGludCByb3c9MDsgcm93PD0xOyByb3crKykge1xcbiAgICAgICAgICBmb3IoaW50IGNvbD0wOyBjb2w8PTE7IGNvbCsrKSB7XFxuICAgICAgICAgICAgdGV4QyA9IGNvb3Jkc1sxXSArIHJvdztcXG4gICAgICAgICAgICBkZXB0aCA9IGNvb3Jkc1syXSArIGNvbDtcXG5cXG4gICAgICAgICAgICB2ZWMyIHV2ID0gKHZlYzIodGV4QywgdGV4UikgKyBoYWxmQ1IpIC9cXG4gICAgICAgICAgICAgICAgICAgICAgIHZlYzIoXCIrcitcIi4wLCBcIituK1wiLjApO1xcbiAgICAgICAgICAgIHZlYzQgdmFsdWVzID0gXCIrZS50ZXh0dXJlMkQrXCIoQSwgdXYpO1xcbiAgICAgICAgICAgIGZsb2F0IHZhbHVlO1xcbiAgICAgICAgICAgIGlmIChkZXB0aCA9PSAwKSB7XFxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlcy5yO1xcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVwdGggPT0gMSkge1xcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXMuZztcXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRlcHRoID09IDIpIHtcXG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzLmI7XFxuICAgICAgICAgICAgfSBlbHNlIGlmIChkZXB0aCA9PSAzKSB7XFxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlcy5hO1xcbiAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICByZXN1bHRbcm93ICogMiArIGNvbF0gPSBmbG9vcih2YWx1ZSAqIDI1NS4wICsgMC41KTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcblxcbiAgICAgICAgXCIrZS5vdXRwdXQrXCIgPSByZXN1bHQ7XFxuICAgICAgfVxcbiAgICBcIn07Zm9yKHZhciBKaD0wLFpoPVt7a2VybmVsTmFtZTpcIkZyb21QaXhlbHNcIixiYWNrZW5kTmFtZTpcIndlYmdsXCIsa2VybmVsRnVuYzpmdW5jdGlvbih0KXt2YXIgZT10LmlucHV0cyxuPXQuYmFja2VuZCxyPXQuYXR0cnMsbz1lLnBpeGVscyxhPXIubnVtQ2hhbm5lbHMscz1cInVuZGVmaW5lZFwiIT10eXBlb2YgSFRNTFZpZGVvRWxlbWVudCYmbyBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQsdT1cInVuZGVmaW5lZFwiIT10eXBlb2YgSFRNTEltYWdlRWxlbWVudCYmbyBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQsYz1zP1tvLnZpZGVvV2lkdGgsby52aWRlb0hlaWdodF06W28ud2lkdGgsby5oZWlnaHRdLGw9Y1swXSxoPWNbMV0sZj1baCxsXSxkPVtoLGwsYV07KHV8fHMpJiYobnVsbD09WWgmJihZaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLmdldENvbnRleHQoXCIyZFwiKSksWWguY2FudmFzLndpZHRoPWwsWWguY2FudmFzLmhlaWdodD1oLFloLmRyYXdJbWFnZShvLDAsMCxsLGgpLG89WWguY2FudmFzKTt2YXIgcD1uLm1ha2VUZW5zb3JJbmZvKGYsXCJpbnQzMlwiKTtuLnRleERhdGEuZ2V0KHAuZGF0YUlkKS51c2FnZT16dC5QSVhFTFMsbi5ncGdwdS51cGxvYWRQaXhlbERhdGFUb1RleHR1cmUobi5nZXRUZXh0dXJlKHAuZGF0YUlkKSxvKTt2YXIgdj1pKCkuZ2V0Qm9vbChcIldFQkdMX1BBQ0tcIik/bmV3IFFoKGQpOm5ldyAkaChkKSxtPW4ucnVuV2ViR0xQcm9ncmFtKHYsW3BdLFwiaW50MzJcIik7cmV0dXJuIG4uZGlzcG9zZURhdGEocC5kYXRhSWQpLG19fSx7a2VybmVsTmFtZTpcIk5vbk1heFN1cHByZXNzaW9uVjVcIixiYWNrZW5kTmFtZTpcIndlYmdsXCIsa2VybmVsRnVuYzpmdW5jdGlvbih0KXt2YXIgZT10LmlucHV0cyxuPXQuYmFja2VuZCxyPXQuYXR0cnM7ZG4oXCJ0Zi5ub25NYXhTdXBwcmVzc2lvbigpIGluIHdlYmdsIGxvY2tzIHRoZSBVSSB0aHJlYWQuIENhbGwgdGYubm9uTWF4U3VwcHJlc3Npb25Bc3luYygpIGluc3RlYWRcIik7dmFyIG89ZSxhPW8uYm94ZXMsaT1vLnNjb3JlcyxzPXIsdT1zLm1heE91dHB1dFNpemUsYz1zLmlvdVRocmVzaG9sZCxsPXMuc2NvcmVUaHJlc2hvbGQsaD1zLnNvZnRObXNTaWdtYSxmPW4sZD1YbyhmLnJlYWRTeW5jKGEuZGF0YUlkKSxmLnJlYWRTeW5jKGkuZGF0YUlkKSx1LGMsbCxoKTtyZXR1cm5bZC5zZWxlY3RlZEluZGljZXMsZC5zZWxlY3RlZFNjb3Jlc119fSx7a2VybmVsTmFtZTpcIlNxdWFyZVwiLGJhY2tlbmROYW1lOlwid2ViZ2xcIixrZXJuZWxGdW5jOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5wdXRzLG49dC5iYWNrZW5kLHI9ZS54LG89bixhPW5ldyBDcyhyLnNoYXBlLFwicmV0dXJuIHggKiB4O1wiKTtyZXR1cm4gby5ydW5XZWJHTFByb2dyYW0oYSxbcl0sci5kdHlwZSl9fSx7a2VybmVsTmFtZTpldSxiYWNrZW5kTmFtZTpcIndlYmdsXCIsa2VybmVsRnVuYzpmdW5jdGlvbih0KXt2YXIgZT10LmlucHV0cyxuPXQuYmFja2VuZCxyPWUsbz1yLmEsYT1yLmIscz1uLHU9aSgpLmdldEJvb2woXCJXRUJHTF9QQUNLX0JJTkFSWV9PUEVSQVRJT05TXCIpP25ldyBMYShcInJldHVybiAoYSAtIGIpICogKGEgLSBiKTtcIixvLnNoYXBlLGEuc2hhcGUpOm5ldyBCYShcInJldHVybiAoYSAtIGIpICogKGEgLSBiKTtcIixvLnNoYXBlLGEuc2hhcGUpO3JldHVybiBzLmNvbXBpbGVBbmRSdW4odSxbbyxhXSl9fV07Smg8WmgubGVuZ3RoO0poKyspe2QoWmhbSmhdKX1mb3IodmFyIHRmPTAsZWY9W3trZXJuZWxOYW1lOlwiU3F1YXJlXCIsZ3JhZEZ1bmM6ZnVuY3Rpb24odCxlKXt2YXIgbj1lWzBdO3JldHVybnt4OmZ1bmN0aW9uKCl7cmV0dXJuIHQubXVsKG4udG9GbG9hdCgpLm11bCgyKSl9fX19LHtrZXJuZWxOYW1lOmV1LGdyYWRGdW5jOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXSxyPWVbMV0sbz1PbigyKTtyZXR1cm57YTpmdW5jdGlvbigpe3JldHVybiBnYyh0LGdjKG8sQ2MobixyKSkpfSxiOmZ1bmN0aW9uKCl7cmV0dXJuIGdjKHQsZ2MobyxDYyhyLG4pKSl9fX19XTt0ZjxlZi5sZW5ndGg7dGYrKyl7cChlZlt0Zl0pfXZhciBuZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmZldGNoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZldGNoKHQsZSl9LHQucHJvdG90eXBlLm5vdz1mdW5jdGlvbigpe3JldHVybiBwZXJmb3JtYW5jZS5ub3coKX0sdC5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKHQsZSl7aWYoXCJ1dGYtOFwiIT09ZSYmXCJ1dGY4XCIhPT1lKXRocm93IG5ldyBFcnJvcihcIkJyb3dzZXIncyBlbmNvZGVyIG9ubHkgc3VwcG9ydHMgdXRmLTgsIGJ1dCBnb3QgXCIrZSk7cmV0dXJuIG51bGw9PXRoaXMudGV4dEVuY29kZXImJih0aGlzLnRleHRFbmNvZGVyPW5ldyBUZXh0RW5jb2RlciksdGhpcy50ZXh0RW5jb2Rlci5lbmNvZGUodCl9LHQucHJvdG90eXBlLmRlY29kZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgVGV4dERlY29kZXIoZSkuZGVjb2RlKHQpfSx0fSgpO2koKS5nZXQoXCJJU19CUk9XU0VSXCIpJiZpKCkuc2V0UGxhdGZvcm0oXCJicm93c2VyXCIsbmV3IG5mKTt2YXIgcmYsb2Y9ZnVuY3Rpb24oKXtyZXR1cm4gcmVxdWlyZShcIm5vZGUtZmV0Y2hcIil9LGFmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMudXRpbD1yZXF1aXJlKFwidXRpbFwiKSx0aGlzLnRleHRFbmNvZGVyPW5ldyB0aGlzLnV0aWwuVGV4dEVuY29kZXJ9cmV0dXJuIHQucHJvdG90eXBlLmZldGNoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPWkoKS5nbG9iYWwuZmV0Y2g/aSgpLmdsb2JhbC5mZXRjaCh0LGUpOihudWxsPT1yZiYmKHJmPW9mKCkpLHJmKHQsZSkpfSx0LnByb3RvdHlwZS5ub3c9ZnVuY3Rpb24oKXt2YXIgdD1wcm9jZXNzLmhydGltZSgpO3JldHVybiAxZTMqdFswXSt0WzFdLzFlNn0sdC5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKHQsZSl7aWYoXCJ1dGYtOFwiIT09ZSYmXCJ1dGY4XCIhPT1lKXRocm93IG5ldyBFcnJvcihcIk5vZGUgYnVpbHQtaW4gZW5jb2RlciBvbmx5IHN1cHBvcnRzIHV0Zi04LCBidXQgZ290IFwiK2UpO3JldHVybiB0aGlzLnRleHRFbmNvZGVyLmVuY29kZSh0KX0sdC5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PT10Lmxlbmd0aD9cIlwiOm5ldyB0aGlzLnV0aWwuVGV4dERlY29kZXIoZSkuZGVjb2RlKHQpfSx0fSgpO2koKS5nZXQoXCJJU19OT0RFXCIpJiZpKCkuc2V0UGxhdGZvcm0oXCJub2RlXCIsbmV3IGFmKTt2YXIgc2Y9e2Zsb2F0MzI6NCxpbnQzMjo0LHVpbnQxNjoyLHVpbnQ4OjEsYm9vbDoxfSx1Zj00O2Z1bmN0aW9uIGNmKHQsZSl7Zm9yKHZhciBuPXt9LHI9MCxvPWZ1bmN0aW9uKGUpe3ZhciBvPWUubmFtZSxhPWUuZHR5cGUsaT1lLnNoYXBlLHM9ayhpKSx1PXZvaWQgMDtpZihcInF1YW50aXphdGlvblwiaW4gZSl7dmFyIGM9ZS5xdWFudGl6YXRpb247aWYoXCJ1aW50OFwiIT09Yy5kdHlwZSYmXCJ1aW50MTZcIiE9PWMuZHR5cGUpdGhyb3cgbmV3IEVycm9yKFwiV2VpZ2h0IFwiK2UubmFtZStcIiBoYXMgdW5rbm93biBxdWFudGl6YXRpb24gZHR5cGUgXCIrYy5kdHlwZStcIi4gU3VwcG9ydGVkIHF1YW50aXphdGlvbiBkdHlwZXMgYXJlOiAndWludDgnIGFuZCAndWludDE2Jy5cIik7dmFyIGw9c2ZbYy5kdHlwZV0saD10LnNsaWNlKHIscitzKmwpLGY9XCJ1aW50OFwiPT09Yy5kdHlwZT9uZXcgVWludDhBcnJheShoKTpuZXcgVWludDE2QXJyYXkoaCk7aWYoXCJmbG9hdDMyXCI9PT1hKXU9RmxvYXQzMkFycmF5LmZyb20oZiwoZnVuY3Rpb24odCl7cmV0dXJuIHQqYy5zY2FsZStjLm1pbn0pKTtlbHNle2lmKFwiaW50MzJcIiE9PWEpdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZHR5cGUgaW4gd2VpZ2h0ICdcIitvK1wiJzogXCIrYSk7dT1JbnQzMkFycmF5LmZyb20oZiwoZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucm91bmQodCpjLnNjYWxlK2MubWluKX0pKX1yKz1zKmx9ZWxzZSBpZihcInN0cmluZ1wiPT09YSl7dmFyIGQ9ayhlLnNoYXBlKTt1PVtdO2Zvcih2YXIgcD0wO3A8ZDtwKyspe3ZhciB2PW5ldyBVaW50MzJBcnJheSh0LnNsaWNlKHIscit1ZikpWzBdO3IrPXVmO3ZhciBtPW5ldyBVaW50OEFycmF5KHQuc2xpY2UocixyK3YpKTt1LnB1c2gobSkscis9dn19ZWxzZXt2YXIgZz1zZlthXTtoPXQuc2xpY2UocixyK3MqZyk7aWYoXCJmbG9hdDMyXCI9PT1hKXU9bmV3IEZsb2F0MzJBcnJheShoKTtlbHNlIGlmKFwiaW50MzJcIj09PWEpdT1uZXcgSW50MzJBcnJheShoKTtlbHNle2lmKFwiYm9vbFwiIT09YSl0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBkdHlwZSBpbiB3ZWlnaHQgJ1wiK28rXCInOiBcIithKTt1PW5ldyBVaW50OEFycmF5KGgpfXIrPXMqZ31uW29dPUZuKHUsaSxhKX0sYT0wLGk9ZTthPGkubGVuZ3RoO2ErKyl7byhpW2FdKX1yZXR1cm4gbn1mdW5jdGlvbiBsZih0KXtpZihudWxsPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0IHZhbHVlOiBcIitKU09OLnN0cmluZ2lmeSh0KSk7dmFyIGU9MCxuPVtdO3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoZSs9dC5ieXRlTGVuZ3RoLG4ucHVzaCh0LmJ5dGVMZW5ndGg9PT10LmJ1ZmZlci5ieXRlTGVuZ3RoP3Q6bmV3IHQuY29uc3RydWN0b3IodCkpLCEodCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8dCBpbnN0YW5jZW9mIEludDMyQXJyYXl8fHQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSl0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBUeXBlZEFycmF5IHN1YnR5cGU6IFwiK3QuY29uc3RydWN0b3IubmFtZSl9KSk7dmFyIHI9bmV3IFVpbnQ4QXJyYXkoZSksbz0wO3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKHQpe3Iuc2V0KG5ldyBVaW50OEFycmF5KHQuYnVmZmVyKSxvKSxvKz10LmJ5dGVMZW5ndGh9KSksci5idWZmZXJ9dmFyIGhmPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBCdWZmZXImJihcInVuZGVmaW5lZFwiPT10eXBlb2YgQmxvYnx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGF0b2J8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBidG9hKTtmdW5jdGlvbiBmZih0KXtyZXR1cm4gaGY/QnVmZmVyLmJ5dGVMZW5ndGgodCk6bmV3IEJsb2IoW3RdKS5zaXplfWZ1bmN0aW9uIGRmKHQpe3ZhciBlPTA7dC5mb3JFYWNoKChmdW5jdGlvbih0KXtlKz10LmJ5dGVMZW5ndGh9KSk7dmFyIG49bmV3IFVpbnQ4QXJyYXkoZSkscj0wO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe24uc2V0KG5ldyBVaW50OEFycmF5KHQpLHIpLHIrPXQuYnl0ZUxlbmd0aH0pKSxuLmJ1ZmZlcn1mdW5jdGlvbiBwZih0KXtmb3IodD10LnRyaW0oKTt0LmVuZHNXaXRoKFwiL1wiKTspdD10LnNsaWNlKDAsdC5sZW5ndGgtMSk7dmFyIGU9dC5zcGxpdChcIi9cIik7cmV0dXJuIGVbZS5sZW5ndGgtMV19ZnVuY3Rpb24gdmYodCl7aWYodC5tb2RlbFRvcG9sb2d5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgSlNPTiBtb2RlbCB0b3BvbG9neSwgcmVjZWl2ZWQgQXJyYXlCdWZmZXIuXCIpO3JldHVybntkYXRlU2F2ZWQ6bmV3IERhdGUsbW9kZWxUb3BvbG9neVR5cGU6XCJKU09OXCIsbW9kZWxUb3BvbG9neUJ5dGVzOm51bGw9PXQubW9kZWxUb3BvbG9neT8wOmZmKEpTT04uc3RyaW5naWZ5KHQubW9kZWxUb3BvbG9neSkpLHdlaWdodFNwZWNzQnl0ZXM6bnVsbD09dC53ZWlnaHRTcGVjcz8wOmZmKEpTT04uc3RyaW5naWZ5KHQud2VpZ2h0U3BlY3MpKSx3ZWlnaHREYXRhQnl0ZXM6bnVsbD09dC53ZWlnaHREYXRhPzA6dC53ZWlnaHREYXRhLmJ5dGVMZW5ndGh9fXZhciBtZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnNhdmVSb3V0ZXJzPVtdLHRoaXMubG9hZFJvdXRlcnM9W119cmV0dXJuIHQuZ2V0SW5zdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dC5pbnN0YW5jZSYmKHQuaW5zdGFuY2U9bmV3IHQpLHQuaW5zdGFuY2V9LHQucmVnaXN0ZXJTYXZlUm91dGVyPWZ1bmN0aW9uKGUpe3QuZ2V0SW5zdGFuY2UoKS5zYXZlUm91dGVycy5wdXNoKGUpfSx0LnJlZ2lzdGVyTG9hZFJvdXRlcj1mdW5jdGlvbihlKXt0LmdldEluc3RhbmNlKCkubG9hZFJvdXRlcnMucHVzaChlKX0sdC5nZXRTYXZlSGFuZGxlcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZ2V0SGFuZGxlcnMoZSxcInNhdmVcIil9LHQuZ2V0TG9hZEhhbmRsZXJzPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuZ2V0SGFuZGxlcnMoZSxcImxvYWRcIixuKX0sdC5nZXRIYW5kbGVycz1mdW5jdGlvbihlLG4scil7dmFyIG89W107cmV0dXJuKFwibG9hZFwiPT09bj90LmdldEluc3RhbmNlKCkubG9hZFJvdXRlcnM6dC5nZXRJbnN0YW5jZSgpLnNhdmVSb3V0ZXJzKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj10KGUscik7bnVsbCE9PW4mJm8ucHVzaChuKX0pKSxvfSx0fSgpLGdmPVwiOi8vXCIseWY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5tYW5hZ2Vycz17fX1yZXR1cm4gdC5nZXRJbnN0YW5jZT1mdW5jdGlvbigpe3JldHVybiBudWxsPT10Lmluc3RhbmNlJiYodC5pbnN0YW5jZT1uZXcgdCksdC5pbnN0YW5jZX0sdC5yZWdpc3Rlck1hbmFnZXI9ZnVuY3Rpb24oZSxuKXtDKG51bGwhPWUsKGZ1bmN0aW9uKCl7cmV0dXJuXCJzY2hlbWUgbXVzdCBub3QgYmUgdW5kZWZpbmVkIG9yIG51bGwuXCJ9KSksZS5lbmRzV2l0aChnZikmJihlPWUuc2xpY2UoMCxlLmluZGV4T2YoZ2YpKSksQyhlLmxlbmd0aD4wLChmdW5jdGlvbigpe3JldHVyblwic2NoZW1lIG11c3Qgbm90IGJlIGFuIGVtcHR5IHN0cmluZy5cIn0pKTt2YXIgcj10LmdldEluc3RhbmNlKCk7QyhudWxsPT1yLm1hbmFnZXJzW2VdLChmdW5jdGlvbigpe3JldHVyblwiQSBtb2RlbCBzdG9yZSBtYW5hZ2VyIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCBmb3Igc2NoZW1lICdcIitlK1wiJy5cIn0pKSxyLm1hbmFnZXJzW2VdPW59LHQuZ2V0TWFuYWdlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEluc3RhbmNlKCkubWFuYWdlcnNbdF07aWYobnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2RlbCBtYW5hZ2VyIGZvciBzY2hlbWUgJ1wiK3QrXCInXCIpO3JldHVybiBlfSx0LmdldFNjaGVtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5nZXRJbnN0YW5jZSgpLm1hbmFnZXJzKX0sdH0oKTtmdW5jdGlvbiB4Zih0KXtpZigtMT09PXQuaW5kZXhPZihnZikpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHVybCBzdHJpbmcgcHJvdmlkZWQgZG9lcyBub3QgY29udGFpbiBhIHNjaGVtZS4gU3VwcG9ydGVkIHNjaGVtZXMgYXJlOiBcIit5Zi5nZXRTY2hlbWVzKCkuam9pbihcIixcIikpO3JldHVybntzY2hlbWU6dC5zcGxpdChnZilbMF0scGF0aDp0LnNwbGl0KGdmKVsxXX19ZnVuY3Rpb24gYmYodCxlLG8pe3JldHVybiB2b2lkIDA9PT1vJiYobz0hMSksbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4sYSxpLHMsdSxjLGwsaCxmO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIEModCE9PWUsKGZ1bmN0aW9uKCl7cmV0dXJuXCJPbGQgcGF0aCBhbmQgbmV3IHBhdGggYXJlIHRoZSBzYW1lOiAnXCIrdCtcIidcIn0pKSxDKChuPW1mLmdldExvYWRIYW5kbGVycyh0KSkubGVuZ3RoPjAsKGZ1bmN0aW9uKCl7cmV0dXJuXCJDb3B5aW5nIGZhaWxlZCBiZWNhdXNlIG5vIGxvYWQgaGFuZGxlciBpcyBmb3VuZCBmb3Igc291cmNlIFVSTCBcIit0K1wiLlwifSkpLEMobi5sZW5ndGg8MiwoZnVuY3Rpb24oKXtyZXR1cm5cIkNvcHlpbmcgZmFpbGVkIGJlY2F1c2UgbW9yZSB0aGFuIG9uZSAoXCIrbi5sZW5ndGgrXCIpIGxvYWQgaGFuZGxlcnMgZm9yIHNvdXJjZSBVUkwgXCIrdCtcIi5cIn0pKSxhPW5bMF0sQygoaT1tZi5nZXRTYXZlSGFuZGxlcnMoZSkpLmxlbmd0aD4wLChmdW5jdGlvbigpe3JldHVyblwiQ29weWluZyBmYWlsZWQgYmVjYXVzZSBubyBzYXZlIGhhbmRsZXIgaXMgZm91bmQgZm9yIGRlc3RpbmF0aW9uIFVSTCBcIitlK1wiLlwifSkpLEMoaS5sZW5ndGg8MiwoZnVuY3Rpb24oKXtyZXR1cm5cIkNvcHlpbmcgZmFpbGVkIGJlY2F1c2UgbW9yZSB0aGFuIG9uZSAoXCIrbi5sZW5ndGgrXCIpIHNhdmUgaGFuZGxlcnMgZm9yIGRlc3RpbmF0aW9uIFVSTCBcIitlK1wiLlwifSkpLHM9aVswXSx1PXhmKHQpLnNjaGVtZSxjPXhmKHQpLnBhdGgsbD11PT09eGYodCkuc2NoZW1lLFs0LGEubG9hZCgpXTtjYXNlIDE6cmV0dXJuIGg9ci5zZW50KCksbyYmbD9bNCx5Zi5nZXRNYW5hZ2VyKHUpLnJlbW92ZU1vZGVsKGMpXTpbMywzXTtjYXNlIDI6ci5zZW50KCksci5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bNCxzLnNhdmUoaCldO2Nhc2UgNDpyZXR1cm4gZj1yLnNlbnQoKSwhb3x8bD9bMyw2XTpbNCx5Zi5nZXRNYW5hZ2VyKHUpLnJlbW92ZU1vZGVsKGMpXTtjYXNlIDU6ci5zZW50KCksci5sYWJlbD02O2Nhc2UgNjpyZXR1cm5bMixmLm1vZGVsQXJ0aWZhY3RzSW5mb119fSkpfSkpfXZhciB3Zj1cIm1vZGVsc19zdG9yZVwiLENmPVwibW9kZWxfaW5mb19zdG9yZVwiO2Z1bmN0aW9uIEVmKCl7aWYoIWkoKS5nZXRCb29sKFwiSVNfQlJPV1NFUlwiKSl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gb2J0YWluIEluZGV4ZWREQiBmYWN0b3J5IGJlY2F1c2UgdGhlIGN1cnJlbnQgZW52aXJvbm1lbnRpcyBub3QgYSB3ZWIgYnJvd3Nlci5cIik7dmFyIHQ9d2luZG93fHxzZWxmLGU9dC5pbmRleGVkREJ8fHQubW96SW5kZXhlZERCfHx0LndlYmtpdEluZGV4ZWREQnx8dC5tc0luZGV4ZWREQnx8dC5zaGltSW5kZXhlZERCO2lmKG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGN1cnJlbnQgYnJvd3NlciBkb2VzIG5vdCBhcHBlYXIgdG8gc3VwcG9ydCBJbmRleGVkREIuXCIpO3JldHVybiBlfWZ1bmN0aW9uIFJmKHQpe3ZhciBlPXQucmVzdWx0O2UuY3JlYXRlT2JqZWN0U3RvcmUod2Yse2tleVBhdGg6XCJtb2RlbFBhdGhcIn0pLGUuY3JlYXRlT2JqZWN0U3RvcmUoQ2Yse2tleVBhdGg6XCJtb2RlbFBhdGhcIn0pfXZhciBJZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7aWYodGhpcy5pbmRleGVkREI9RWYoKSxudWxsPT10fHwhdCl0aHJvdyBuZXcgRXJyb3IoXCJGb3IgSW5kZXhlZERCLCBtb2RlbFBhdGggbXVzdCBub3QgYmUgbnVsbCwgdW5kZWZpbmVkIG9yIGVtcHR5LlwiKTt0aGlzLm1vZGVsUGF0aD10fXJldHVybiB0LnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihlKXtpZih0Lm1vZGVsVG9wb2xvZ3kgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyTG9jYWxTdG9yYWdlLnNhdmUoKSBkb2VzIG5vdCBzdXBwb3J0IHNhdmluZyBtb2RlbCB0b3BvbG9neSBpbiBiaW5hcnkgZm9ybWF0cyB5ZXQuXCIpO3JldHVyblsyLHRoaXMuZGF0YWJhc2VBY3Rpb24odGhpcy5tb2RlbFBhdGgsdCldfSkpfSkpfSx0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHQpe3JldHVyblsyLHRoaXMuZGF0YWJhc2VBY3Rpb24odGhpcy5tb2RlbFBhdGgpXX0pKX0pKX0sdC5wcm90b3R5cGUuZGF0YWJhc2VBY3Rpb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxyKXt2YXIgbz1uLmluZGV4ZWREQi5vcGVuKFwidGVuc29yZmxvd2pzXCIsMSk7by5vbnVwZ3JhZGVuZWVkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gUmYobyl9LG8ub25zdWNjZXNzPWZ1bmN0aW9uKCl7dmFyIGE9by5yZXN1bHQ7aWYobnVsbD09ZSl7dmFyIGk9YS50cmFuc2FjdGlvbih3ZixcInJlYWRvbmx5XCIpLHM9aS5vYmplY3RTdG9yZSh3ZikuZ2V0KG4ubW9kZWxQYXRoKTtzLm9uc3VjY2Vzcz1mdW5jdGlvbigpe2lmKG51bGw9PXMucmVzdWx0KXJldHVybiBhLmNsb3NlKCkscihuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2RlbCB3aXRoIHBhdGggJ1wiK24ubW9kZWxQYXRoK1wiJyBpbiBJbmRleGVkREIuXCIpKTt0KHMucmVzdWx0Lm1vZGVsQXJ0aWZhY3RzKX0scy5vbmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiBhLmNsb3NlKCkscihzLmVycm9yKX0saS5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuY2xvc2UoKX19ZWxzZXt2YXIgdSxjPXZmKGUpLGw9YS50cmFuc2FjdGlvbihDZixcInJlYWR3cml0ZVwiKSxoPWwub2JqZWN0U3RvcmUoQ2YpLGY9aC5wdXQoe21vZGVsUGF0aDpuLm1vZGVsUGF0aCxtb2RlbEFydGlmYWN0c0luZm86Y30pO2Yub25zdWNjZXNzPWZ1bmN0aW9uKCl7dmFyIG89KHU9YS50cmFuc2FjdGlvbih3ZixcInJlYWR3cml0ZVwiKSkub2JqZWN0U3RvcmUod2YpLnB1dCh7bW9kZWxQYXRoOm4ubW9kZWxQYXRoLG1vZGVsQXJ0aWZhY3RzOmUsbW9kZWxBcnRpZmFjdHNJbmZvOmN9KTtvLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3JldHVybiB0KHttb2RlbEFydGlmYWN0c0luZm86Y30pfSxvLm9uZXJyb3I9ZnVuY3Rpb24odCl7dmFyIGU9KGg9bC5vYmplY3RTdG9yZShDZikpLmRlbGV0ZShuLm1vZGVsUGF0aCk7ZS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtyZXR1cm4gYS5jbG9zZSgpLHIoby5lcnJvcil9LGUub25lcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gYS5jbG9zZSgpLHIoby5lcnJvcil9fX0sZi5vbmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiBhLmNsb3NlKCkscihmLmVycm9yKX0sbC5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7bnVsbD09dT9hLmNsb3NlKCk6dS5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuY2xvc2UoKX19fX0sby5vbmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiByKG8uZXJyb3IpfX0pKX0sdC5VUkxfU0NIRU1FPVwiaW5kZXhlZGRiOi8vXCIsdH0oKSxrZj1mdW5jdGlvbih0KXtyZXR1cm4gaSgpLmdldEJvb2woXCJJU19CUk9XU0VSXCIpJiYhQXJyYXkuaXNBcnJheSh0KSYmdC5zdGFydHNXaXRoKElmLlVSTF9TQ0hFTUUpPyhlPXQuc2xpY2UoSWYuVVJMX1NDSEVNRS5sZW5ndGgpLG5ldyBJZihlKSk6bnVsbDt2YXIgZX07bWYucmVnaXN0ZXJTYXZlUm91dGVyKGtmKSxtZi5yZWdpc3RlckxvYWRSb3V0ZXIoa2YpO3ZhciBTZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmluZGV4ZWREQj1FZigpfXJldHVybiB0LnByb3RvdHlwZS5saXN0TW9kZWxzPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24oZSl7cmV0dXJuWzIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7dmFyIHI9dC5pbmRleGVkREIub3BlbihcInRlbnNvcmZsb3dqc1wiLDEpO3Iub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIFJmKHIpfSxyLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3ZhciB0PXIucmVzdWx0LG89dC50cmFuc2FjdGlvbihDZixcInJlYWRvbmx5XCIpLGE9by5vYmplY3RTdG9yZShDZikuZ2V0QWxsKCk7YS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9e30sbj0wLHI9YS5yZXN1bHQ7bjxyLmxlbmd0aDtuKyspe3ZhciBvPXJbbl07dFtvLm1vZGVsUGF0aF09by5tb2RlbEFydGlmYWN0c0luZm99ZSh0KX0sYS5vbmVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNsb3NlKCksbihhLmVycm9yKX0sby5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY2xvc2UoKX19LHIub25lcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gbihyLmVycm9yKX19KSldfSkpfSkpfSx0LnByb3RvdHlwZS5yZW1vdmVNb2RlbD1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihuKXt2YXIgcjtyZXR1cm4gdD0ocj10KS5zdGFydHNXaXRoKElmLlVSTF9TQ0hFTUUpP3Iuc2xpY2UoSWYuVVJMX1NDSEVNRS5sZW5ndGgpOnIsWzIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dmFyIG89ZS5pbmRleGVkREIub3BlbihcInRlbnNvcmZsb3dqc1wiLDEpO28ub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIFJmKG8pfSxvLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3ZhciBlLGE9by5yZXN1bHQsaT1hLnRyYW5zYWN0aW9uKENmLFwicmVhZHdyaXRlXCIpLHM9aS5vYmplY3RTdG9yZShDZiksdT1zLmdldCh0KTt1Lm9uc3VjY2Vzcz1mdW5jdGlvbigpe2lmKG51bGw9PXUucmVzdWx0KXJldHVybiBhLmNsb3NlKCkscihuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2RlbCB3aXRoIHBhdGggJ1wiK3QrXCInIGluIEluZGV4ZWREQi5cIikpO3ZhciBvPXMuZGVsZXRlKHQpLGk9ZnVuY3Rpb24oKXt2YXIgbz0oZT1hLnRyYW5zYWN0aW9uKHdmLFwicmVhZHdyaXRlXCIpKS5vYmplY3RTdG9yZSh3ZikuZGVsZXRlKHQpO28ub25zdWNjZXNzPWZ1bmN0aW9uKCl7cmV0dXJuIG4odS5yZXN1bHQubW9kZWxBcnRpZmFjdHNJbmZvKX0sby5vbmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiByKHUuZXJyb3IpfX07by5vbnN1Y2Nlc3M9aSxvLm9uZXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJuIGkoKSxhLmNsb3NlKCkscih1LmVycm9yKX19LHUub25lcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gYS5jbG9zZSgpLHIodS5lcnJvcil9LGkub25jb21wbGV0ZT1mdW5jdGlvbigpe251bGw9PWU/YS5jbG9zZSgpOmUub25jb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiBhLmNsb3NlKCl9fX0sby5vbmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiByKG8uZXJyb3IpfX0pKV19KSl9KSl9LHR9KCk7aWYoaSgpLmdldEJvb2woXCJJU19CUk9XU0VSXCIpKXRyeXt5Zi5yZWdpc3Rlck1hbmFnZXIoSWYuVVJMX1NDSEVNRSxuZXcgU2YpfWNhdGNoKHQpe312YXIgQWY9XCIvXCIsRGY9XCJ0ZW5zb3JmbG93anNfbW9kZWxzXCIsVGY9XCJpbmZvXCIsTmY9XCJtb2RlbF90b3BvbG9neVwiLEZmPVwid2VpZ2h0X3NwZWNzXCIsX2Y9XCJ3ZWlnaHRfZGF0YVwiLE9mPVwibW9kZWxfbWV0YWRhdGFcIjtmdW5jdGlvbiBNZih0KXtyZXR1cm57aW5mbzpbRGYsdCxUZl0uam9pbihBZiksdG9wb2xvZ3k6W0RmLHQsTmZdLmpvaW4oQWYpLHdlaWdodFNwZWNzOltEZix0LEZmXS5qb2luKEFmKSx3ZWlnaHREYXRhOltEZix0LF9mXS5qb2luKEFmKSxtb2RlbE1ldGFkYXRhOltEZix0LE9mXS5qb2luKEFmKX19ZnVuY3Rpb24gQmYodCl7dmFyIGU9dC5zcGxpdChBZik7aWYoZS5sZW5ndGg8Myl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGtleSBmb3JtYXQ6IFwiK3QpO3JldHVybiBlLnNsaWNlKDEsZS5sZW5ndGgtMSkuam9pbihBZil9dmFyIFBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtpZighaSgpLmdldEJvb2woXCJJU19CUk9XU0VSXCIpfHxcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHx2b2lkIDA9PT13aW5kb3cubG9jYWxTdG9yYWdlKXRocm93IG5ldyBFcnJvcihcIlRoZSBjdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IHN1cHBvcnQgbG9jYWwgc3RvcmFnZS5cIik7aWYodGhpcy5MUz13aW5kb3cubG9jYWxTdG9yYWdlLG51bGw9PXR8fCF0KXRocm93IG5ldyBFcnJvcihcIkZvciBsb2NhbCBzdG9yYWdlLCBtb2RlbFBhdGggbXVzdCBub3QgYmUgbnVsbCwgdW5kZWZpbmVkIG9yIGVtcHR5LlwiKTt0aGlzLm1vZGVsUGF0aD10LHRoaXMua2V5cz1NZih0aGlzLm1vZGVsUGF0aCl9cmV0dXJuIHQucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4sbztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtpZih0Lm1vZGVsVG9wb2xvZ3kgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyTG9jYWxTdG9yYWdlLnNhdmUoKSBkb2VzIG5vdCBzdXBwb3J0IHNhdmluZyBtb2RlbCB0b3BvbG9neSBpbiBiaW5hcnkgZm9ybWF0cyB5ZXQuXCIpO2U9SlNPTi5zdHJpbmdpZnkodC5tb2RlbFRvcG9sb2d5KSxuPUpTT04uc3RyaW5naWZ5KHQud2VpZ2h0U3BlY3MpLG89dmYodCk7dHJ5e3JldHVybiB0aGlzLkxTLnNldEl0ZW0odGhpcy5rZXlzLmluZm8sSlNPTi5zdHJpbmdpZnkobykpLHRoaXMuTFMuc2V0SXRlbSh0aGlzLmtleXMudG9wb2xvZ3ksZSksdGhpcy5MUy5zZXRJdGVtKHRoaXMua2V5cy53ZWlnaHRTcGVjcyxuKSx0aGlzLkxTLnNldEl0ZW0odGhpcy5rZXlzLndlaWdodERhdGEsZnVuY3Rpb24odCl7aWYoaGYpcmV0dXJuIEJ1ZmZlci5mcm9tKHQpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO2Zvcih2YXIgZT1uZXcgVWludDhBcnJheSh0KSxuPVwiXCIscj0wLG89ZS5sZW5ndGg7cjxvO3IrKyluKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbcl0pO3JldHVybiBidG9hKG4pfSh0LndlaWdodERhdGEpKSx0aGlzLkxTLnNldEl0ZW0odGhpcy5rZXlzLm1vZGVsTWV0YWRhdGEsSlNPTi5zdHJpbmdpZnkoe2Zvcm1hdDp0LmZvcm1hdCxnZW5lcmF0ZWRCeTp0LmdlbmVyYXRlZEJ5LGNvbnZlcnRlZEJ5OnQuY29udmVydGVkQnksdXNlckRlZmluZWRNZXRhZGF0YTp0LnVzZXJEZWZpbmVkTWV0YWRhdGF9KSksWzIse21vZGVsQXJ0aWZhY3RzSW5mbzpvfV19Y2F0Y2godCl7dGhyb3cgdGhpcy5MUy5yZW1vdmVJdGVtKHRoaXMua2V5cy5pbmZvKSx0aGlzLkxTLnJlbW92ZUl0ZW0odGhpcy5rZXlzLnRvcG9sb2d5KSx0aGlzLkxTLnJlbW92ZUl0ZW0odGhpcy5rZXlzLndlaWdodFNwZWNzKSx0aGlzLkxTLnJlbW92ZUl0ZW0odGhpcy5rZXlzLndlaWdodERhdGEpLHRoaXMuTFMucmVtb3ZlSXRlbSh0aGlzLmtleXMubW9kZWxNZXRhZGF0YSksbmV3IEVycm9yKFwiRmFpbGVkIHRvIHNhdmUgbW9kZWwgJ1wiK3RoaXMubW9kZWxQYXRoK1wiJyB0byBsb2NhbCBzdG9yYWdlOiBzaXplIHF1b3RhIGJlaW5nIGV4Y2VlZGVkIGlzIGEgcG9zc2libGUgY2F1c2Ugb2YgdGhpcyBmYWlsdXJlOiBtb2RlbFRvcG9sb2d5Qnl0ZXM9XCIrby5tb2RlbFRvcG9sb2d5Qnl0ZXMrXCIsIHdlaWdodFNwZWNzQnl0ZXM9XCIrby53ZWlnaHRTcGVjc0J5dGVzK1wiLCB3ZWlnaHREYXRhQnl0ZXM9XCIrby53ZWlnaHREYXRhQnl0ZXMrXCIuXCIpfXJldHVyblsyXX0pKX0pKX0sdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxlLG4sbyxhLGkscztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtpZihudWxsPT0odD1KU09OLnBhcnNlKHRoaXMuTFMuZ2V0SXRlbSh0aGlzLmtleXMuaW5mbykpKSl0aHJvdyBuZXcgRXJyb3IoXCJJbiBsb2NhbCBzdG9yYWdlLCB0aGVyZSBpcyBubyBtb2RlbCB3aXRoIG5hbWUgJ1wiK3RoaXMubW9kZWxQYXRoK1wiJ1wiKTtpZihcIkpTT05cIiE9PXQubW9kZWxUb3BvbG9neVR5cGUpdGhyb3cgbmV3IEVycm9yKFwiQnJvd3NlckxvY2FsU3RvcmFnZSBkb2VzIG5vdCBzdXBwb3J0IGxvYWRpbmcgbm9uLUpTT04gbW9kZWwgdG9wb2xvZ3kgeWV0LlwiKTtpZihlPXt9LG51bGw9PShuPUpTT04ucGFyc2UodGhpcy5MUy5nZXRJdGVtKHRoaXMua2V5cy50b3BvbG9neSkpKSl0aHJvdyBuZXcgRXJyb3IoXCJJbiBsb2NhbCBzdG9yYWdlLCB0aGUgdG9wb2xvZ3kgb2YgbW9kZWwgJ1wiK3RoaXMubW9kZWxQYXRoK1wiJyBpcyBtaXNzaW5nLlwiKTtpZihlLm1vZGVsVG9wb2xvZ3k9bixudWxsPT0obz1KU09OLnBhcnNlKHRoaXMuTFMuZ2V0SXRlbSh0aGlzLmtleXMud2VpZ2h0U3BlY3MpKSkpdGhyb3cgbmV3IEVycm9yKFwiSW4gbG9jYWwgc3RvcmFnZSwgdGhlIHdlaWdodCBzcGVjcyBvZiBtb2RlbCAnXCIrdGhpcy5tb2RlbFBhdGgrXCInIGFyZSBtaXNzaW5nLlwiKTtpZihlLndlaWdodFNwZWNzPW8sbnVsbCE9KGE9dGhpcy5MUy5nZXRJdGVtKHRoaXMua2V5cy5tb2RlbE1ldGFkYXRhKSkmJihpPUpTT04ucGFyc2UoYSksZS5mb3JtYXQ9aS5mb3JtYXQsZS5nZW5lcmF0ZWRCeT1pLmdlbmVyYXRlZEJ5LGUuY29udmVydGVkQnk9aS5jb252ZXJ0ZWRCeSxlLnVzZXJEZWZpbmVkTWV0YWRhdGE9aS51c2VyRGVmaW5lZE1ldGFkYXRhKSxudWxsPT0ocz10aGlzLkxTLmdldEl0ZW0odGhpcy5rZXlzLndlaWdodERhdGEpKSl0aHJvdyBuZXcgRXJyb3IoXCJJbiBsb2NhbCBzdG9yYWdlLCB0aGUgYmluYXJ5IHdlaWdodCB2YWx1ZXMgb2YgbW9kZWwgJ1wiK3RoaXMubW9kZWxQYXRoK1wiJyBhcmUgbWlzc2luZy5cIik7cmV0dXJuIGUud2VpZ2h0RGF0YT1mdW5jdGlvbih0KXtpZihoZil7dmFyIGU9QnVmZmVyLmZyb20odCxcImJhc2U2NFwiKTtyZXR1cm4gZS5idWZmZXIuc2xpY2UoZS5ieXRlT2Zmc2V0LGUuYnl0ZU9mZnNldCtlLmJ5dGVMZW5ndGgpfWZvcih2YXIgbj1hdG9iKHQpLHI9bmV3IFVpbnQ4QXJyYXkobi5sZW5ndGgpLG89MDtvPG4ubGVuZ3RoOysrbylyLnNldChbbi5jaGFyQ29kZUF0KG8pXSxvKTtyZXR1cm4gci5idWZmZXJ9KHMpLFsyLGVdfSkpfSkpfSx0LlVSTF9TQ0hFTUU9XCJsb2NhbHN0b3JhZ2U6Ly9cIix0fSgpLExmPWZ1bmN0aW9uKHQpe3JldHVybiBpKCkuZ2V0Qm9vbChcIklTX0JST1dTRVJcIikmJiFBcnJheS5pc0FycmF5KHQpJiZ0LnN0YXJ0c1dpdGgoUGYuVVJMX1NDSEVNRSk/KGU9dC5zbGljZShQZi5VUkxfU0NIRU1FLmxlbmd0aCksbmV3IFBmKGUpKTpudWxsO3ZhciBlfTttZi5yZWdpc3RlclNhdmVSb3V0ZXIoTGYpLG1mLnJlZ2lzdGVyTG9hZFJvdXRlcihMZik7dmFyIFdmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe0MoaSgpLmdldEJvb2woXCJJU19CUk9XU0VSXCIpLChmdW5jdGlvbigpe3JldHVyblwiQ3VycmVudCBlbnZpcm9ubWVudCBpcyBub3QgYSB3ZWIgYnJvd3NlclwifSkpLEMoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8dm9pZCAwIT09d2luZG93LmxvY2FsU3RvcmFnZSwoZnVuY3Rpb24oKXtyZXR1cm5cIkN1cnJlbnQgYnJvd3NlciBkb2VzIG5vdCBhcHBlYXIgdG8gc3VwcG9ydCBsb2NhbFN0b3JhZ2VcIn0pKSx0aGlzLkxTPXdpbmRvdy5sb2NhbFN0b3JhZ2V9cmV0dXJuIHQucHJvdG90eXBlLmxpc3RNb2RlbHM9ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsZSxuLG8sYSxpO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe2Zvcih0PXt9LGU9RGYrQWYsbj1BZitUZixvPTA7bzx0aGlzLkxTLmxlbmd0aDsrK28pKGE9dGhpcy5MUy5rZXkobykpLnN0YXJ0c1dpdGgoZSkmJmEuZW5kc1dpdGgobikmJihpPUJmKGEpLHRbaV09SlNPTi5wYXJzZSh0aGlzLkxTLmdldEl0ZW0oYSkpKTtyZXR1cm5bMix0XX0pKX0pKX0sdC5wcm90b3R5cGUucmVtb3ZlTW9kZWw9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7dmFyIG87aWYodD0obz10KS5zdGFydHNXaXRoKFBmLlVSTF9TQ0hFTUUpP28uc2xpY2UoUGYuVVJMX1NDSEVNRS5sZW5ndGgpOm8sZT1NZih0KSxudWxsPT10aGlzLkxTLmdldEl0ZW0oZS5pbmZvKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2RlbCBhdCBwYXRoICdcIit0K1wiJ1wiKTtyZXR1cm4gbj1KU09OLnBhcnNlKHRoaXMuTFMuZ2V0SXRlbShlLmluZm8pKSx0aGlzLkxTLnJlbW92ZUl0ZW0oZS5pbmZvKSx0aGlzLkxTLnJlbW92ZUl0ZW0oZS50b3BvbG9neSksdGhpcy5MUy5yZW1vdmVJdGVtKGUud2VpZ2h0U3BlY3MpLHRoaXMuTFMucmVtb3ZlSXRlbShlLndlaWdodERhdGEpLFsyLG5dfSkpfSkpfSx0fSgpO2lmKGkoKS5nZXRCb29sKFwiSVNfQlJPV1NFUlwiKSl0cnl7eWYucmVnaXN0ZXJNYW5hZ2VyKFBmLlVSTF9TQ0hFTUUsbmV3IFdmKX1jYXRjaCh0KXt9dmFyIFVmPVwibW9kZWxcIixWZj1cIi5qc29uXCIsemY9XCIud2VpZ2h0cy5iaW5cIjtmdW5jdGlvbiBHZih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe3JldHVybiBzZXRUaW1lb3V0KHQpfSkpLnRoZW4odCl9dmFyIEhmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtpZighaSgpLmdldEJvb2woXCJJU19CUk9XU0VSXCIpKXRocm93IG5ldyBFcnJvcihcImJyb3dzZXJEb3dubG9hZHMoKSBjYW5ub3QgcHJvY2VlZCBiZWNhdXNlIHRoZSBjdXJyZW50IGVudmlyb25tZW50IGlzIG5vdCBhIGJyb3dzZXIuXCIpO2Uuc3RhcnRzV2l0aCh0LlVSTF9TQ0hFTUUpJiYoZT1lLnNsaWNlKHQuVVJMX1NDSEVNRS5sZW5ndGgpKSxudWxsIT1lJiYwIT09ZS5sZW5ndGh8fChlPVVmKSx0aGlzLm1vZGVsVG9wb2xvZ3lGaWxlTmFtZT1lK1ZmLHRoaXMud2VpZ2h0RGF0YUZpbGVOYW1lPWUremZ9cmV0dXJuIHQucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4sbyxhLGkscztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyIGRvd25sb2FkcyBhcmUgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50IHNpbmNlIGBkb2N1bWVudGAgaXMgbm90IHByZXNlbnRcIik7aWYoZT13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbdC53ZWlnaHREYXRhXSx7dHlwZTpcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifSkpLCEodC5tb2RlbFRvcG9sb2d5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKXJldHVyblszLDFdO3Rocm93IG5ldyBFcnJvcihcIkJyb3dzZXJEb3dubG9hZHMuc2F2ZSgpIGRvZXMgbm90IHN1cHBvcnQgc2F2aW5nIG1vZGVsIHRvcG9sb2d5IGluIGJpbmFyeSBmb3JtYXRzIHlldC5cIik7Y2FzZSAxOnJldHVybiBuPVt7cGF0aHM6W1wiLi9cIit0aGlzLndlaWdodERhdGFGaWxlTmFtZV0sd2VpZ2h0czp0LndlaWdodFNwZWNzfV0sbz17bW9kZWxUb3BvbG9neTp0Lm1vZGVsVG9wb2xvZ3ksZm9ybWF0OnQuZm9ybWF0LGdlbmVyYXRlZEJ5OnQuZ2VuZXJhdGVkQnksY29udmVydGVkQnk6dC5jb252ZXJ0ZWRCeSx3ZWlnaHRzTWFuaWZlc3Q6bn0sYT13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkobyldLHt0eXBlOlwiYXBwbGljYXRpb24vanNvblwifSkpLChpPW51bGw9PXRoaXMuanNvbkFuY2hvcj9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTp0aGlzLmpzb25BbmNob3IpLmRvd25sb2FkPXRoaXMubW9kZWxUb3BvbG9neUZpbGVOYW1lLGkuaHJlZj1hLFs0LEdmKChmdW5jdGlvbigpe3JldHVybiBpLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKSl9KSldO2Nhc2UgMjpyZXR1cm4gci5zZW50KCksbnVsbD09dC53ZWlnaHREYXRhP1szLDRdOigocz1udWxsPT10aGlzLndlaWdodERhdGFBbmNob3I/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik6dGhpcy53ZWlnaHREYXRhQW5jaG9yKS5kb3dubG9hZD10aGlzLndlaWdodERhdGFGaWxlTmFtZSxzLmhyZWY9ZSxbNCxHZigoZnVuY3Rpb24oKXtyZXR1cm4gcy5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIikpfSkpXSk7Y2FzZSAzOnIuc2VudCgpLHIubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzIse21vZGVsQXJ0aWZhY3RzSW5mbzp2Zih0KX1dfX0pKX0pKX0sdC5VUkxfU0NIRU1FPVwiZG93bmxvYWRzOi8vXCIsdH0oKSxxZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7aWYobnVsbD09dHx8dC5sZW5ndGg8MSl0aHJvdyBuZXcgRXJyb3IoXCJXaGVuIGNhbGxpbmcgYnJvd3NlckZpbGVzLCBhdCBsZWFzdCAxIGZpbGUgaXMgcmVxdWlyZWQsIGJ1dCByZWNlaXZlZCBcIit0KTt0aGlzLmZpbGVzPXR9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsZSxuPXRoaXM7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7cmV0dXJuIHQ9dGhpcy5maWxlc1swXSxlPXRoaXMuZmlsZXMuc2xpY2UoMSksWzIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7dmFyIGE9bmV3IEZpbGVSZWFkZXI7YS5vbmxvYWQ9ZnVuY3Rpb24oYSl7dmFyIGk9SlNPTi5wYXJzZShhLnRhcmdldC5yZXN1bHQpLHM9aS5tb2RlbFRvcG9sb2d5O2lmKG51bGwhPXMpezA9PT1lLmxlbmd0aCYmcih7bW9kZWxUb3BvbG9neTpzfSk7dmFyIHU9aS53ZWlnaHRzTWFuaWZlc3Q7aWYobnVsbCE9dSl7dmFyIGM7dHJ5e2M9bi5jaGVja01hbmlmZXN0QW5kV2VpZ2h0RmlsZXModSxlKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBvKHQpfXZhciBsPVtdLGg9W10sZj1bXTt1LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QucGF0aHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7aC5wdXNoKHQpLGYucHVzaChudWxsKX0pKSxsLnB1c2guYXBwbHkobCx0LndlaWdodHMpfSkpLHUuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5wYXRocy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1uZXcgRmlsZVJlYWRlcjtlLm9ubG9hZD1mdW5jdGlvbihlKXt2YXIgbj1lLnRhcmdldC5yZXN1bHQsbz1oLmluZGV4T2YodCk7ZltvXT1uLC0xPT09Zi5pbmRleE9mKG51bGwpJiZyKHttb2RlbFRvcG9sb2d5OnMsd2VpZ2h0U3BlY3M6bCx3ZWlnaHREYXRhOmRmKGYpLGZvcm1hdDppLmZvcm1hdCxnZW5lcmF0ZWRCeTppLmdlbmVyYXRlZEJ5LGNvbnZlcnRlZEJ5OmkuY29udmVydGVkQnksdXNlckRlZmluZWRNZXRhZGF0YTppLnVzZXJEZWZpbmVkTWV0YWRhdGF9KX0sZS5vbmVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiBvKFwiRmFpbGVkIHRvIHdlaWdodHMgZGF0YSBmcm9tIGZpbGUgb2YgcGF0aCAnXCIrdCtcIicuXCIpfSxlLnJlYWRBc0FycmF5QnVmZmVyKGNbdF0pfSkpfSkpfWVsc2UgbyhuZXcgRXJyb3IoXCJ3ZWlnaHRNYW5pZmVzdCBmaWVsZCBpcyBtaXNzaW5nIGZyb20gZmlsZSBcIit0Lm5hbWUpKX1lbHNlIG8obmV3IEVycm9yKFwibW9kZWxUb3BvbG9neSBmaWVsZCBpcyBtaXNzaW5nIGZyb20gZmlsZSBcIit0Lm5hbWUpKX0sYS5vbmVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiBvKFwiRmFpbGVkIHRvIHJlYWQgbW9kZWwgdG9wb2xvZ3kgYW5kIHdlaWdodHMgbWFuaWZlc3QgSlNPTiBmcm9tIGZpbGUgJ1wiK3QubmFtZStcIicuIEJyb3dzZXJGaWxlcyBzdXBwb3J0cyBsb2FkaW5nIEtlcmFzLXN0eWxlIHRmLk1vZGVsIGFydGlmYWN0cyBvbmx5LlwiKX0sYS5yZWFkQXNUZXh0KHQpfSkpXX0pKX0pKX0sdC5wcm90b3R5cGUuY2hlY2tNYW5pZmVzdEFuZFdlaWdodEZpbGVzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLHI9ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBwZih0Lm5hbWUpfSkpLG89e30sYT0wLGk9dDthPGkubGVuZ3RoO2ErKyl7aVthXS5wYXRocy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgYT1wZih0KTtpZigtMSE9PW4uaW5kZXhPZihhKSl0aHJvdyBuZXcgRXJyb3IoXCJEdXBsaWNhdGUgZmlsZSBiYXNlbmFtZSBmb3VuZCBpbiB3ZWlnaHRzIG1hbmlmZXN0OiAnXCIrYStcIidcIik7aWYobi5wdXNoKGEpLC0xPT09ci5pbmRleE9mKGEpKXRocm93IG5ldyBFcnJvcihcIldlaWdodCBmaWxlIHdpdGggYmFzZW5hbWUgJ1wiK2ErXCInIGlzIG5vdCBwcm92aWRlZC5cIik7b1t0XT1lW3IuaW5kZXhPZihhKV19KSl9aWYobi5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJNaXNtYXRjaCBpbiB0aGUgbnVtYmVyIG9mIGZpbGVzIGluIHdlaWdodHMgbWFuaWZlc3QgKFwiK24ubGVuZ3RoK1wiKSBhbmQgdGhlIG51bWJlciBvZiB3ZWlnaHQgZmlsZXMgcHJvdmlkZWQgKFwiK2UubGVuZ3RoK1wiKS5cIik7cmV0dXJuIG99LHR9KCk7ZnVuY3Rpb24gS2YodCxlLG4scil7IWZ1bmN0aW9uKHQpe0MobnVsbCE9dCYmQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGg+MCwoZnVuY3Rpb24oKXtyZXR1cm5cInByb21pc2VzIG11c3QgYmUgYSBub25lIGVtcHR5IGFycmF5XCJ9KSl9KHQpLGZ1bmN0aW9uKHQsZSl7Qyh0Pj0wJiZ0PD0xLChmdW5jdGlvbigpe3JldHVyblwiUHJvZ3Jlc3MgZnJhY3Rpb24gbXVzdCBiZSBpbiByYW5nZSBbMCwgMV0sIGJ1dCBnb3Qgc3RhcnRGcmFjdGlvbiBcIit0fSkpLEMoZT49MCYmZTw9MSwoZnVuY3Rpb24oKXtyZXR1cm5cIlByb2dyZXNzIGZyYWN0aW9uIG11c3QgYmUgaW4gcmFuZ2UgWzAsIDFdLCBidXQgZ290IGVuZEZyYWN0aW9uIFwiK2V9KSksQyhlPj10LChmdW5jdGlvbigpe3JldHVyblwic3RhcnRGcmFjdGlvbiBtdXN0IGJlIG5vIG1vcmUgdGhhbiBlbmRGcmFjdGlvbiwgYnV0IGdvdCBzdGFydEZyYWN0aW9uIFwiK3QrXCIgYW5kIGVuZEZyYWN0aW9uIFwiK2V9KSl9KG49bnVsbD09bj8wOm4scj1udWxsPT1yPzE6cik7dmFyIG89MDtyZXR1cm4gUHJvbWlzZS5hbGwodC5tYXAoKGZ1bmN0aW9uKGEpe3JldHVybiBhLnRoZW4oKGZ1bmN0aW9uKGEpe3ZhciBpPW4rICsrby90Lmxlbmd0aCooci1uKTtyZXR1cm4gZShpKSxhfSkpLGF9KSkpfWZ1bmN0aW9uIGpmKHQsZSl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLG8sYSxzLHUsYyxsLGgsZjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBudWxsPT1lJiYoZT17fSksbj1udWxsPT1lLmZldGNoRnVuYz9pKCkucGxhdGZvcm0uZmV0Y2g6ZS5mZXRjaEZ1bmMsbz10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG4odCxlLnJlcXVlc3RJbml0LHtpc0JpbmFyeTohMH0pfSkpLGE9MCxzPS41LG51bGwhPWUub25Qcm9ncmVzcz9bMywyXTpbNCxQcm9taXNlLmFsbChvKV07Y2FzZSAxOnJldHVybiB1PXIuc2VudCgpLFszLDRdO2Nhc2UgMjpyZXR1cm5bNCxLZihvLGUub25Qcm9ncmVzcyxhLHMpXTtjYXNlIDM6dT1yLnNlbnQoKSxyLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiBjPXUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hcnJheUJ1ZmZlcigpfSkpLGw9LjUsaD0xLG51bGwhPWUub25Qcm9ncmVzcz9bMyw2XTpbNCxQcm9taXNlLmFsbChjKV07Y2FzZSA1OnJldHVybiBmPXIuc2VudCgpLFszLDhdO2Nhc2UgNjpyZXR1cm5bNCxLZihjLGUub25Qcm9ncmVzcyxsLGgpXTtjYXNlIDc6Zj1yLnNlbnQoKSxyLmxhYmVsPTg7Y2FzZSA4OnJldHVyblsyLGZdfX0pKX0pKX1mdW5jdGlvbiBYZih0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbihvLGEsaSl7cmV0dXJuIHZvaWQgMD09PWEmJihhPVwiXCIpLG4oZSx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4scyx1LGMsbCxoLGYsZCxwO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6aWYoZT1vLm1hcCgoZnVuY3Rpb24oKXtyZXR1cm4hMX0pKSxuPXt9LHM9bnVsbCE9aT9pLm1hcCgoZnVuY3Rpb24oKXtyZXR1cm4hMX0pKTpbXSx1PVtdLG8uZm9yRWFjaCgoZnVuY3Rpb24odCxyKXt2YXIgbz0wO3Qud2VpZ2h0cy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgYT1cInF1YW50aXphdGlvblwiaW4gdD90LnF1YW50aXphdGlvbi5kdHlwZTp0LmR0eXBlLGM9c2ZbYV0qayh0LnNoYXBlKSxsPWZ1bmN0aW9uKCl7ZVtyXT0hMCxudWxsPT1uW3JdJiYobltyXT1bXSksbltyXS5wdXNoKHttYW5pZmVzdEVudHJ5OnQsZ3JvdXBPZmZzZXQ6byxzaXplQnl0ZXM6Y30pfTtudWxsIT1pP2kuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXtlPT09dC5uYW1lJiYobCgpLHNbbl09ITApfSkpOmwoKSx1LnB1c2godC5uYW1lKSxvKz1jfSkpfSkpLCFzLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKSl0aHJvdyBjPWkuZmlsdGVyKChmdW5jdGlvbih0LGUpe3JldHVybiFzW2VdfSkpLG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIHdlaWdodHMgaW4gbWFuaWZlc3Qgd2l0aCBuYW1lczogXCIrYy5qb2luKFwiLCBcIikrXCIuIFxcbk1hbmlmZXN0IEpTT04gaGFzIHdlaWdodHMgd2l0aCBuYW1lczogXCIrdS5qb2luKFwiLCBcIikrXCIuXCIpO3JldHVybiBsPWUucmVkdWNlKChmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJnQucHVzaChuKSx0fSksW10pLGg9W10sbC5mb3JFYWNoKChmdW5jdGlvbih0KXtvW3RdLnBhdGhzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPWErKGEuZW5kc1dpdGgoXCIvXCIpP1wiXCI6XCIvXCIpK3Q7aC5wdXNoKGUpfSkpfSkpLFs0LHQoaCldO2Nhc2UgMTpyZXR1cm4gZj1yLnNlbnQoKSxkPXt9LHA9MCxsLmZvckVhY2goKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1vW3RdLnBhdGhzLmxlbmd0aCxyPTAsYT0wO2E8ZTthKyspcis9ZltwK2FdLmJ5dGVMZW5ndGg7Zm9yKHZhciBpPW5ldyBBcnJheUJ1ZmZlcihyKSxzPW5ldyBVaW50OEFycmF5KGkpLHU9MCxjPTA7YzxlO2MrKyl7dmFyIGw9bmV3IFVpbnQ4QXJyYXkoZltwK2NdKTtzLnNldChsLHUpLHUrPWwuYnl0ZUxlbmd0aH1uW3RdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPWNmKGkuc2xpY2UodC5ncm91cE9mZnNldCx0Lmdyb3VwT2Zmc2V0K3Quc2l6ZUJ5dGVzKSxbdC5tYW5pZmVzdEVudHJ5XSk7Zm9yKHZhciBuIGluIGUpZFtuXT1lW25dfSkpLHArPWV9KSksWzIsZF19fSkpfSkpfX1tZi5yZWdpc3RlclNhdmVSb3V0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBpKCkuZ2V0Qm9vbChcIklTX0JST1dTRVJcIikmJiFBcnJheS5pc0FycmF5KHQpJiZ0LnN0YXJ0c1dpdGgoSGYuVVJMX1NDSEVNRSk/ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9XCJtb2RlbFwiKTtyZXR1cm4gbmV3IEhmKHQpfSh0LnNsaWNlKEhmLlVSTF9TQ0hFTUUubGVuZ3RoKSk6bnVsbH0pKTt2YXIgWWY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7aWYodGhpcy5ERUZBVUxUX01FVEhPRD1cIlBPU1RcIixudWxsPT1lJiYoZT17fSksdGhpcy53ZWlnaHRQYXRoUHJlZml4PWUud2VpZ2h0UGF0aFByZWZpeCx0aGlzLm9uUHJvZ3Jlc3M9ZS5vblByb2dyZXNzLG51bGwhPWUuZmV0Y2hGdW5jPyhDKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZmV0Y2hGdW5jLChmdW5jdGlvbigpe3JldHVyblwiTXVzdCBwYXNzIGEgZnVuY3Rpb24gdGhhdCBtYXRjaGVzIHRoZSBzaWduYXR1cmUgb2YgYGZldGNoYCAoc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9GZXRjaF9BUEkpXCJ9KSksdGhpcy5mZXRjaD1lLmZldGNoRnVuYyk6dGhpcy5mZXRjaD1pKCkucGxhdGZvcm0uZmV0Y2gsQyhudWxsIT10JiZ0Lmxlbmd0aD4wLChmdW5jdGlvbigpe3JldHVyblwiVVJMIHBhdGggZm9yIGh0dHAgbXVzdCBub3QgYmUgbnVsbCwgdW5kZWZpbmVkIG9yIGVtcHR5LlwifSkpLEFycmF5LmlzQXJyYXkodCkmJkMoMj09PXQubGVuZ3RoLChmdW5jdGlvbigpe3JldHVyblwiVVJMIHBhdGhzIGZvciBodHRwIG11c3QgaGF2ZSBhIGxlbmd0aCBvZiAyLCAoYWN0dWFsIGxlbmd0aCBpcyBcIit0Lmxlbmd0aCtcIikuXCJ9KSksdGhpcy5wYXRoPXQsbnVsbCE9ZS5yZXF1ZXN0SW5pdCYmbnVsbCE9ZS5yZXF1ZXN0SW5pdC5ib2R5KXRocm93IG5ldyBFcnJvcihcInJlcXVlc3RJbml0IGlzIGV4cGVjdGVkIHRvIGhhdmUgbm8gcHJlLWV4aXN0aW5nIGJvZHksIGJ1dCBoYXMgb25lLlwiKTt0aGlzLnJlcXVlc3RJbml0PWUucmVxdWVzdEluaXR8fHt9fXJldHVybiB0LnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLG8sYTtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmlmKHQubW9kZWxUb3BvbG9neSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXRocm93IG5ldyBFcnJvcihcIkJyb3dzZXJIVFRQUmVxdWVzdC5zYXZlKCkgZG9lcyBub3Qgc3VwcG9ydCBzYXZpbmcgbW9kZWwgdG9wb2xvZ3kgaW4gYmluYXJ5IGZvcm1hdHMgeWV0LlwiKTtyZXR1cm4oZT1PYmplY3QuYXNzaWduKHttZXRob2Q6dGhpcy5ERUZBVUxUX01FVEhPRH0sdGhpcy5yZXF1ZXN0SW5pdCkpLmJvZHk9bmV3IEZvcm1EYXRhLG49W3twYXRoczpbXCIuL21vZGVsLndlaWdodHMuYmluXCJdLHdlaWdodHM6dC53ZWlnaHRTcGVjc31dLG89e21vZGVsVG9wb2xvZ3k6dC5tb2RlbFRvcG9sb2d5LGZvcm1hdDp0LmZvcm1hdCxnZW5lcmF0ZWRCeTp0LmdlbmVyYXRlZEJ5LGNvbnZlcnRlZEJ5OnQuY29udmVydGVkQnksdXNlckRlZmluZWRNZXRhZGF0YTp0LnVzZXJEZWZpbmVkTWV0YWRhdGEsd2VpZ2h0c01hbmlmZXN0Om59LGUuYm9keS5hcHBlbmQoXCJtb2RlbC5qc29uXCIsbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KG8pXSx7dHlwZTpcImFwcGxpY2F0aW9uL2pzb25cIn0pLFwibW9kZWwuanNvblwiKSxudWxsIT10LndlaWdodERhdGEmJmUuYm9keS5hcHBlbmQoXCJtb2RlbC53ZWlnaHRzLmJpblwiLG5ldyBCbG9iKFt0LndlaWdodERhdGFdLHt0eXBlOlwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJ9KSxcIm1vZGVsLndlaWdodHMuYmluXCIpLFs0LHRoaXMuZmV0Y2godGhpcy5wYXRoLGUpXTtjYXNlIDE6aWYoKGE9ci5zZW50KCkpLm9rKXJldHVyblsyLHttb2RlbEFydGlmYWN0c0luZm86dmYodCkscmVzcG9uc2VzOlthXX1dO3Rocm93IG5ldyBFcnJvcihcIkJyb3dzZXJIVFRQUmVxdWVzdC5zYXZlKCkgZmFpbGVkIGR1ZSB0byBIVFRQIHJlc3BvbnNlIHN0YXR1cyBcIithLnN0YXR1cytcIi5cIil9fSkpfSkpfSx0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LGUsbixvLGEsaSxzLHUsYyxsLGgsZjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZmV0Y2godGhpcy5wYXRoLHRoaXMucmVxdWVzdEluaXQpXTtjYXNlIDE6aWYoISh0PXIuc2VudCgpKS5vayl0aHJvdyBuZXcgRXJyb3IoXCJSZXF1ZXN0IHRvIFwiK3RoaXMucGF0aCtcIiBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSBcIit0LnN0YXR1cytcIi4gUGxlYXNlIHZlcmlmeSB0aGlzIFVSTCBwb2ludHMgdG8gdGhlIG1vZGVsIEpTT04gb2YgdGhlIG1vZGVsIHRvIGxvYWQuXCIpO3IubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHIudHJ5cy5wdXNoKFsyLDQsLDVdKSxbNCx0Lmpzb24oKV07Y2FzZSAzOnJldHVybiBlPXIuc2VudCgpLFszLDVdO2Nhc2UgNDp0aHJvdyByLnNlbnQoKSxuPVwiRmFpbGVkIHRvIHBhcnNlIG1vZGVsIEpTT04gb2YgcmVzcG9uc2UgZnJvbSBcIit0aGlzLnBhdGgrXCIuXCIsdGhpcy5wYXRoLmVuZHNXaXRoKFwiLnBiXCIpP24rPVwiIFlvdXIgcGF0aCBjb250YWlucyBhIC5wYiBmaWxlIGV4dGVuc2lvbi4gU3VwcG9ydCBmb3IgLnBiIG1vZGVscyBoYXZlIGJlZW4gcmVtb3ZlZCBpbiBUZW5zb3JGbG93LmpzIDEuMCBpbiBmYXZvciBvZiAuanNvbiBtb2RlbHMuIFlvdSBjYW4gcmUtY29udmVydCB5b3VyIFB5dGhvbiBUZW5zb3JGbG93IG1vZGVsIHVzaW5nIHRoZSBUZW5zb3JGbG93LmpzIDEuMCBjb252ZXJzaW9uIHNjcmlwdHMgb3IgeW91IGNhbiBjb252ZXJ0IHlvdXIucGIgbW9kZWxzIHdpdGggdGhlICdwYjJqc29uJ05QTSBzY3JpcHQgaW4gdGhlIHRlbnNvcmZsb3cvdGZqcy1jb252ZXJ0ZXIgcmVwb3NpdG9yeS5cIjpuKz1cIiBQbGVhc2UgbWFrZSBzdXJlIHRoZSBzZXJ2ZXIgaXMgc2VydmluZyB2YWxpZCBKU09OIGZvciB0aGlzIHJlcXVlc3QuXCIsbmV3IEVycm9yKG4pO2Nhc2UgNTppZihvPWUubW9kZWxUb3BvbG9neSxhPWUud2VpZ2h0c01hbmlmZXN0LGk9ZS5nZW5lcmF0ZWRCeSxzPWUuY29udmVydGVkQnksdT1lLmZvcm1hdCxjPWUudXNlckRlZmluZWRNZXRhZGF0YSxudWxsPT1vJiZudWxsPT1hKXRocm93IG5ldyBFcnJvcihcIlRoZSBKU09OIGZyb20gSFRUUCBwYXRoIFwiK3RoaXMucGF0aCtcIiBjb250YWlucyBuZWl0aGVyIG1vZGVsIHRvcG9sb2d5IG9yIG1hbmlmZXN0IGZvciB3ZWlnaHRzLlwiKTtyZXR1cm4gbnVsbD09YT9bMyw3XTpbNCx0aGlzLmxvYWRXZWlnaHRzKGEpXTtjYXNlIDY6Zj1yLnNlbnQoKSxsPWZbMF0saD1mWzFdLHIubGFiZWw9NztjYXNlIDc6cmV0dXJuWzIse21vZGVsVG9wb2xvZ3k6byx3ZWlnaHRTcGVjczpsLHdlaWdodERhdGE6aCx1c2VyRGVmaW5lZE1ldGFkYXRhOmMsZ2VuZXJhdGVkQnk6aSxjb252ZXJ0ZWRCeTpzLGZvcm1hdDp1fV19fSkpfSkpfSx0LnByb3RvdHlwZS5sb2FkV2VpZ2h0cz1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsbixvLGEsaSxzLHUsYyxsLGgsZjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmZvcihlPUFycmF5LmlzQXJyYXkodGhpcy5wYXRoKT90aGlzLnBhdGhbMV06dGhpcy5wYXRoLG49ZnVuY3Rpb24odCl7dmFyIGU9dC5sYXN0SW5kZXhPZihcIi9cIiksbj10Lmxhc3RJbmRleE9mKFwiP1wiKSxyPXQuc3Vic3RyaW5nKDAsZSksbz1uPmU/dC5zdWJzdHJpbmcobik6XCJcIjtyZXR1cm5bcitcIi9cIixvXX0oZSksbz1uWzBdLGE9blsxXSxpPXRoaXMud2VpZ2h0UGF0aFByZWZpeHx8byxzPVtdLHU9MCxjPXQ7dTxjLmxlbmd0aDt1KyspbD1jW3VdLHMucHVzaC5hcHBseShzLGwud2VpZ2h0cyk7cmV0dXJuIGg9W10sdC5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnBhdGhzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2gucHVzaChpK3QrYSl9KSl9KSksWzQsamYoaCx7cmVxdWVzdEluaXQ6dGhpcy5yZXF1ZXN0SW5pdCxmZXRjaEZ1bmM6dGhpcy5mZXRjaCxvblByb2dyZXNzOnRoaXMub25Qcm9ncmVzc30pXTtjYXNlIDE6cmV0dXJuIGY9ci5zZW50KCksWzIsW3MsZGYoZildXX19KSl9KSl9LHQuVVJMX1NDSEVNRV9SRUdFWD0vXmh0dHBzPzpcXC9cXC8vLHR9KCk7ZnVuY3Rpb24gJGYodCl7cmV0dXJuIG51bGwhPXQubWF0Y2goWWYuVVJMX1NDSEVNRV9SRUdFWCl9dmFyIFFmPWZ1bmN0aW9uKHQsZSl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGZldGNoKXJldHVybiBudWxsO3JldHVybihBcnJheS5pc0FycmF5KHQpP3QuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiAkZih0KX0pKTokZih0KSk/SmYodCx7b25Qcm9ncmVzczplfSk6bnVsbH07ZnVuY3Rpb24gSmYodCxlKXtyZXR1cm4gbmV3IFlmKHQsZSl9bWYucmVnaXN0ZXJTYXZlUm91dGVyKFFmKSxtZi5yZWdpc3RlckxvYWRSb3V0ZXIoUWYpO3ZhciBaZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5tb2RlbEFydGlmYWN0cz10fXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHQpe3JldHVyblsyLHRoaXMubW9kZWxBcnRpZmFjdHNdfSkpfSkpfSx0fSgpLHRkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnNhdmVIYW5kbGVyPXR9cmV0dXJuIHQucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVyblsyLHRoaXMuc2F2ZUhhbmRsZXIodCldfSkpfSkpfSx0fSgpO3ZhciBlZD1PYmplY3QuZnJlZXplKHticm93c2VyRmlsZXM6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBxZih0KX0sYnJvd3NlckhUVFBSZXF1ZXN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEpmKHQsZSl9LGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzOmRmLGRlY29kZVdlaWdodHM6Y2YsZW5jb2RlV2VpZ2h0czpmdW5jdGlvbih0LGUpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbyxhLGkscyx1LGM9dGhpcztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihsKXtzd2l0Y2gobC5sYWJlbCl7Y2FzZSAwOmZvcihvPVtdLGE9W10saT1BcnJheS5pc0FycmF5KHQpP3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkpOk9iamVjdC5rZXlzKHQpLHM9ZnVuY3Rpb24ocyl7dmFyIHU9aVtzXSxsPUFycmF5LmlzQXJyYXkodCk/dFtzXS50ZW5zb3I6dFt1XTtpZihcImZsb2F0MzJcIiE9PWwuZHR5cGUmJlwiaW50MzJcIiE9PWwuZHR5cGUmJlwiYm9vbFwiIT09bC5kdHlwZSYmXCJzdHJpbmdcIiE9PWwuZHR5cGUpdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZHR5cGUgaW4gd2VpZ2h0ICdcIit1K1wiJzogXCIrbC5kdHlwZSk7dmFyIGg9e25hbWU6dSxzaGFwZTpsLnNoYXBlLGR0eXBlOmwuZHR5cGV9O2lmKFwic3RyaW5nXCI9PT1sLmR0eXBlKXt2YXIgZj1uZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7cmV0dXJuIG4oYyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG4sbyxhLGkscyx1O3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsbC5ieXRlcygpXTtjYXNlIDE6Zm9yKGU9ci5zZW50KCksbj1lLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlLmxlbmd0aH0pLDApK3VmKmUubGVuZ3RoLG89bmV3IFVpbnQ4QXJyYXkobiksYT0wLGk9MDtpPGUubGVuZ3RoO2krKylzPWVbaV0sdT1uZXcgVWludDhBcnJheShuZXcgVWludDMyQXJyYXkoW3MubGVuZ3RoXSkuYnVmZmVyKSxvLnNldCh1LGEpLGErPXVmLG8uc2V0KHMsYSksYSs9cy5sZW5ndGg7cmV0dXJuIHQobyksWzJdfX0pKX0pKX0pKTthLnB1c2goZil9ZWxzZSBhLnB1c2gobC5kYXRhKCkpO251bGwhPWUmJihoLmdyb3VwPWUpLG8ucHVzaChoKX0sdT0wO3U8aS5sZW5ndGg7Kyt1KXModSk7cmV0dXJuWzQsUHJvbWlzZS5hbGwoYSldO2Nhc2UgMTpyZXR1cm5bMix7ZGF0YTpsZihsLnNlbnQoKSksc3BlY3M6b31dfX0pKX0pKX0sZnJvbU1lbW9yeTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/bnVsbCE9dC5tb2RlbFRvcG9sb2d5fHxudWxsIT10LndlaWdodFNwZWNzP25ldyBaZih0KTooY29uc29sZS53YXJuKFwiUGxlYXNlIGNhbGwgdGYuaW8uZnJvbU1lbW9yeSgpIHdpdGggb25seSBvbmUgYXJndW1lbnQuIFRoZSBhcmd1bWVudCBzaG91bGQgYmUgb2YgdHlwZSBNb2RlbEFydGlmYWN0cy4gVGhlIG11bHRpLWFyZ3VtZW50IHNpZ25hdHVyZSBvZiB0Zi5pby5mcm9tTWVtb3J5KCkgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHJlbGVhc2UuXCIpLG5ldyBaZih7bW9kZWxUb3BvbG9neTp0fSkpOihjb25zb2xlLndhcm4oXCJQbGVhc2UgY2FsbCB0Zi5pby5mcm9tTWVtb3J5KCkgd2l0aCBvbmx5IG9uZSBhcmd1bWVudC4gVGhlIGFyZ3VtZW50IHNob3VsZCBiZSBvZiB0eXBlIE1vZGVsQXJ0aWZhY3RzLiBUaGUgbXVsdGktYXJndW1lbnQgc2lnbmF0dXJlIG9mIHRmLmlvLmZyb21NZW1vcnkoKSBoYXMgYmVlbiBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgcmVsZWFzZS5cIiksbmV3IFpmKHttb2RlbFRvcG9sb2d5OnQsd2VpZ2h0U3BlY3M6ZSx3ZWlnaHREYXRhOm4sdHJhaW5pbmdDb25maWc6cn0pKX0sZ2V0TG9hZEhhbmRsZXJzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG1mLmdldExvYWRIYW5kbGVycyh0LGUpfSxnZXRNb2RlbEFydGlmYWN0c0luZm9Gb3JKU09OOnZmLGdldFNhdmVIYW5kbGVyczpmdW5jdGlvbih0KXtyZXR1cm4gbWYuZ2V0U2F2ZUhhbmRsZXJzKHQpfSxodHRwOkpmLGlzSFRUUFNjaGVtZTokZixsb2FkV2VpZ2h0czpmdW5jdGlvbih0LGUsbyxhKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9XCJcIiksbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24obil7cmV0dXJuWzIsWGYoKGZ1bmN0aW9uKHQpe3JldHVybiBqZih0LHtyZXF1ZXN0SW5pdDphfSl9KSkodCxlLG8pXX0pKX0pKX0scmVnaXN0ZXJMb2FkUm91dGVyOmZ1bmN0aW9uKHQpe3JldHVybiBtZi5yZWdpc3RlckxvYWRSb3V0ZXIodCl9LHJlZ2lzdGVyU2F2ZVJvdXRlcjpmdW5jdGlvbih0KXtyZXR1cm4gbWYucmVnaXN0ZXJTYXZlUm91dGVyKHQpfSx3ZWlnaHRzTG9hZGVyRmFjdG9yeTpYZix3aXRoU2F2ZUhhbmRsZXI6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0ZCh0KX0sY29weU1vZGVsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKG4pe3JldHVybiExLFsyLGJmKHQsZSwhMSldfSkpfSkpfSxsaXN0TW9kZWxzOmZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LGUsbixvLGEsaSxzO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6dD15Zi5nZXRTY2hlbWVzKCksZT17fSxuPTAsbz10LHIubGFiZWw9MTtjYXNlIDE6cmV0dXJuIG48by5sZW5ndGg/KGE9b1tuXSxbNCx5Zi5nZXRNYW5hZ2VyKGEpLmxpc3RNb2RlbHMoKV0pOlszLDRdO2Nhc2UgMjpmb3IocyBpbiBpPXIuc2VudCgpKWVbYStnZitzXT1pW3NdO3IubGFiZWw9MztjYXNlIDM6cmV0dXJuIG4rKyxbMywxXTtjYXNlIDQ6cmV0dXJuWzIsZV19fSkpfSkpfSxtb3ZlTW9kZWw6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24obil7cmV0dXJuITAsWzIsYmYodCxlLCEwKV19KSl9KSl9LHJlbW92ZU1vZGVsOmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihuKXtyZXR1cm4gZT14Zih0KSxbMix5Zi5nZXRNYW5hZ2VyKGUuc2NoZW1lKS5yZW1vdmVNb2RlbChlLnBhdGgpXX0pKX0pKX19KTt2YXIgbmQscmQ9QW4oe2NvbmZ1c2lvbk1hdHJpeF86ZnVuY3Rpb24odCxlLG4pe3ZhciByPW1uKHQsXCJsYWJlbHNcIixcImNvbmZ1c2lvbk1hdHJpeFwiKSxvPW1uKGUsXCJwcmVkaWN0aW9uc1wiLFwiY29uZnVzaW9uTWF0cml4XCIpO0MobnVsbD09bnx8bj4wJiZOdW1iZXIuaXNJbnRlZ2VyKG4pLChmdW5jdGlvbigpe3JldHVyblwiSWYgcHJvdmlkZWQsIG51bUNsYXNzZXMgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIsIGJ1dCBnb3QgXCIrbn0pKSxDKDE9PT1yLnJhbmssKGZ1bmN0aW9uKCl7cmV0dXJuXCJFeHBlY3RlZCB0aGUgcmFuayBvZiBsYWJlbHMgdG8gYmUgMSwgYnV0IGdvdCBcIityLnJhbmt9KSksQygxPT09by5yYW5rLChmdW5jdGlvbigpe3JldHVyblwiRXhwZWN0ZWQgdGhlIHJhbmsgb2YgcHJlZGljdGlvbnMgdG8gYmUgMSwgYnV0IGdvdCBcIitvLnJhbmt9KSksQyhyLnNoYXBlWzBdPT09by5zaGFwZVswXSwoZnVuY3Rpb24oKXtyZXR1cm5cIk1pc21hdGNoIGluIHRoZSBudW1iZXIgb2YgZXhhbXBsZXM6IFwiK3Iuc2hhcGVbMF0rXCIgdnMuIFwiK28uc2hhcGVbMF0rXCIuIExhYmVscyBhbmQgcHJlZGljdGlvbnMgc2hvdWxkIGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGVsZW1lbnRzLlwifSkpLEMobj4wJiZOdW1iZXIuaXNJbnRlZ2VyKG4pLChmdW5jdGlvbigpe3JldHVyblwibnVtQ2xhc3NlcyBpcyByZXF1aXJlZCB0byBiZSBhIHBvc2l0aXZlIGludGVnZXIsIGJ1dCBnb3QgXCIrbn0pKTt2YXIgYT1ScihyLmFzVHlwZShcImludDMyXCIpLG4pLGk9UnIoby5hc1R5cGUoXCJpbnQzMlwiKSxuKTtyZXR1cm4gYS50cmFuc3Bvc2UoKS5tYXRNdWwoaSkuYXNUeXBlKFwiaW50MzJcIil9fSksb2Q9T2JqZWN0LmZyZWV6ZSh7Y29uZnVzaW9uTWF0cml4OnJkfSk7dmFyIGFkPUFuKHtmcm9tUGl4ZWxzXzpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPTMpLGU+NCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29uc3RydWN0IFRlbnNvciB3aXRoIG1vcmUgdGhhbiA0IGNoYW5uZWxzIGZyb20gcGl4ZWxzLlwiKTtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihcInBpeGVscyBwYXNzZWQgdG8gdGYuYnJvd3Nlci5mcm9tUGl4ZWxzKCkgY2FuIG5vdCBiZSBudWxsXCIpO3ZhciBuPSExLHI9ITEsbz0hMSxhPSExLGk9ITE7aWYodC5kYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSluPSEwO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEltYWdlRGF0YSYmdCBpbnN0YW5jZW9mIEltYWdlRGF0YSlyPSEwO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhUTUxWaWRlb0VsZW1lbnQmJnQgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KW89ITA7ZWxzZSBpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgSFRNTEltYWdlRWxlbWVudCYmdCBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpYT0hMDtlbHNle2lmKG51bGw9PXQuZ2V0Q29udGV4dCl0aHJvdyBuZXcgRXJyb3IoXCJwaXhlbHMgcGFzc2VkIHRvIHRmLmJyb3dzZXIuZnJvbVBpeGVscygpIG11c3QgYmUgZWl0aGVyIGFuIEhUTUxWaWRlb0VsZW1lbnQsIEhUTUxJbWFnZUVsZW1lbnQsIEhUTUxDYW52YXNFbGVtZW50LCBJbWFnZURhdGEgaW4gYnJvd3Nlciwgb3IgT2Zmc2NyZWVuQ2FudmFzLCBJbWFnZURhdGEgaW4gd2Vid29ya2VyIG9yIHtkYXRhOiBVaW50MzJBcnJheSwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9LCBidXQgd2FzIFwiK3QuY29uc3RydWN0b3IubmFtZSk7aT0hMH1pZihvKXtpZihvJiZ0LnJlYWR5U3RhdGU8Mil0aHJvdyBuZXcgRXJyb3IoXCJUaGUgdmlkZW8gZWxlbWVudCBoYXMgbm90IGxvYWRlZCBkYXRhIHlldC4gUGxlYXNlIHdhaXQgZm9yIGBsb2FkZWRkYXRhYCBldmVudCBvbiB0aGUgPHZpZGVvPiBlbGVtZW50LlwiKX1pZihudWxsIT1sKFwiRnJvbVBpeGVsc1wiLEx0LmJhY2tlbmROYW1lKSlyZXR1cm4gTHQucnVuS2VybmVsKFwiRnJvbVBpeGVsc1wiLHtwaXhlbHM6dH0se251bUNoYW5uZWxzOmV9KTt2YXIgcyx1LGM9bz9bdC52aWRlb1dpZHRoLHQudmlkZW9IZWlnaHRdOlt0LndpZHRoLHQuaGVpZ2h0XSxoPWNbMF0sZj1jWzFdO2lmKGk/cz10LmdldENvbnRleHQoXCIyZFwiKS5nZXRJbWFnZURhdGEoMCwwLGgsZikuZGF0YTpyfHxuP3M9dC5kYXRhOihhfHxvKSYmKG51bGw9PW5kJiYobmQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KFwiMmRcIikpLG5kLmNhbnZhcy53aWR0aD1oLG5kLmNhbnZhcy5oZWlnaHQ9ZixuZC5kcmF3SW1hZ2UodCwwLDAsaCxmKSxzPW5kLmdldEltYWdlRGF0YSgwLDAsaCxmKS5kYXRhKSw0PT09ZSl1PW5ldyBJbnQzMkFycmF5KHMpO2Vsc2V7dmFyIGQ9aCpmO3U9bmV3IEludDMyQXJyYXkoZCplKTtmb3IodmFyIHA9MDtwPGQ7cCsrKWZvcih2YXIgdj0wO3Y8ZTsrK3YpdVtwKmUrdl09c1s0KnArdl19cmV0dXJuIFBuKHUsW2YsaCxlXSxcImludDMyXCIpfX0pLGlkPU9iamVjdC5mcmVlemUoe3RvUGl4ZWxzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLG8sYSxpLHMsdSxjLGwsaCxmLGQscCx2LG0sZyx5LHgsYix3LEMsRSxSLEk7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDppZihuPW1uKHQsXCJpbWdcIixcInRvUGl4ZWxzXCIpLHQgaW5zdGFuY2VvZiB3dHx8KG49bi50b0ludCgpKSwyIT09bi5yYW5rJiYzIT09bi5yYW5rKXRocm93IG5ldyBFcnJvcihcInRvUGl4ZWxzIG9ubHkgc3VwcG9ydHMgcmFuayAyIG9yIDMgdGVuc29ycywgZ290IHJhbmsgXCIrbi5yYW5rK1wiLlwiKTtpZihvPW4uc2hhcGUuc2xpY2UoMCwyKSxhPW9bMF0saT1vWzFdLChzPTI9PT1uLnJhbms/MTpuLnNoYXBlWzJdKT40fHwyPT09cyl0aHJvdyBuZXcgRXJyb3IoXCJ0b1BpeGVscyBvbmx5IHN1cHBvcnRzIGRlcHRoIG9mIHNpemUgMSwgMyBvciA0IGJ1dCBnb3QgXCIrcyk7cmV0dXJuWzQsbi5kYXRhKCldO2Nhc2UgMTpyZXR1cm4gdT1yLnNlbnQoKSxjPW4ubWluKCksbD1uLm1heCgpLFs0LFByb21pc2UuYWxsKFtjLmRhdGEoKSxsLmRhdGEoKV0pXTtjYXNlIDI6aWYoaD1yLnNlbnQoKSxmPWhbMF0sZD1oWzFdLHA9ZlswXSx2PWRbMF0sYy5kaXNwb3NlKCksbC5kaXNwb3NlKCksXCJmbG9hdDMyXCI9PT1uLmR0eXBlKXtpZihwPDB8fHY+MSl0aHJvdyBuZXcgRXJyb3IoXCJUZW5zb3IgdmFsdWVzIGZvciBhIGZsb2F0MzIgVGVuc29yIG11c3QgYmUgaW4gdGhlIHJhbmdlIFswIC0gMV0gYnV0IGdvdCByYW5nZSBbXCIrcCtcIiAtIFwiK3YrXCJdLlwiKX1lbHNle2lmKFwiaW50MzJcIiE9PW4uZHR5cGUpdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgdHlwZSBmb3IgdG9QaXhlbHM6IFwiK24uZHR5cGUrXCIuIFBsZWFzZSB1c2UgZmxvYXQzMiBvciBpbnQzMiB0ZW5zb3JzLlwiKTtpZihwPDB8fHY+MjU1KXRocm93IG5ldyBFcnJvcihcIlRlbnNvciB2YWx1ZXMgZm9yIGEgaW50MzIgVGVuc29yIG11c3QgYmUgaW4gdGhlIHJhbmdlIFswIC0gMjU1XSBidXQgZ290IHJhbmdlIFtcIitwK1wiIC0gXCIrditcIl0uXCIpfWZvcihtPVwiZmxvYXQzMlwiPT09bi5kdHlwZT8yNTU6MSxnPW5ldyBVaW50OENsYW1wZWRBcnJheShpKmEqNCkseT0wO3k8YSppOysreSl4PXZvaWQgMCxiPXZvaWQgMCx3PXZvaWQgMCxDPXZvaWQgMCwxPT09cz8oeD11W3ldKm0sYj11W3ldKm0sdz11W3ldKm0sQz0yNTUpOjM9PT1zPyh4PXVbMyp5XSptLGI9dVszKnkrMV0qbSx3PXVbMyp5KzJdKm0sQz0yNTUpOjQ9PT1zJiYoeD11WzQqeV0qbSxiPXVbNCp5KzFdKm0sdz11WzQqeSsyXSptLEM9dVs0KnkrM10qbSksZ1soRT00KnkpKzBdPU1hdGgucm91bmQoeCksZ1tFKzFdPU1hdGgucm91bmQoYiksZ1tFKzJdPU1hdGgucm91bmQodyksZ1tFKzNdPU1hdGgucm91bmQoQyk7cmV0dXJuIG51bGwhPWUmJihlLndpZHRoPWksZS5oZWlnaHQ9YSxSPWUuZ2V0Q29udGV4dChcIjJkXCIpLEk9bmV3IEltYWdlRGF0YShnLGksYSksUi5wdXRJbWFnZURhdGEoSSwwLDApKSxuIT09dCYmbi5kaXNwb3NlKCksWzIsZ119fSkpfSkpfSxmcm9tUGl4ZWxzOmFkfSksc2Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5jbGFzc05hbWV9LHQuZnJvbUNvbmZpZz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgdChlKX0sdH0oKSx1ZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmNsYXNzTmFtZU1hcD17fX1yZXR1cm4gdC5nZXRNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dC5pbnN0YW5jZSYmKHQuaW5zdGFuY2U9bmV3IHQpLHQuaW5zdGFuY2V9LHQucmVnaXN0ZXI9ZnVuY3Rpb24oZSl7dC5nZXRNYXAoKS5jbGFzc05hbWVNYXBbZS5jbGFzc05hbWVdPVtlLGUuZnJvbUNvbmZpZ119LHR9KCk7ZnVuY3Rpb24gY2QodCl7QyhudWxsIT10LmNsYXNzTmFtZSwoZnVuY3Rpb24oKXtyZXR1cm5cIkNsYXNzIGJlaW5nIHJlZ2lzdGVyZWQgZG9lcyBub3QgaGF2ZSB0aGUgc3RhdGljIGNsYXNzTmFtZSBwcm9wZXJ0eSBkZWZpbmVkLlwifSkpLEMoXCJzdHJpbmdcIj09dHlwZW9mIHQuY2xhc3NOYW1lLChmdW5jdGlvbigpe3JldHVyblwiY2xhc3NOYW1lIGlzIHJlcXVpcmVkIHRvIGJlIGEgc3RyaW5nLCBidXQgZ290IHR5cGUgXCIrdHlwZW9mIHQuY2xhc3NOYW1lfSkpLEModC5jbGFzc05hbWUubGVuZ3RoPjAsKGZ1bmN0aW9uKCl7cmV0dXJuXCJDbGFzcyBiZWluZyByZWdpc3RlcmVkIGhhcyBhbiBlbXB0eS1zdHJpbmcgYXMgaXRzIGNsYXNzTmFtZSwgd2hpY2ggaXMgZGlzYWxsb3dlZC5cIn0pKSx1ZC5yZWdpc3Rlcih0KX12YXIgbGQ9T2JqZWN0LmZyZWV6ZSh7U2VyaWFsaXphYmxlOnNkLFNlcmlhbGl6YXRpb25NYXA6dWQscmVnaXN0ZXJDbGFzczpjZH0pLGhkPS4wMDEsZmQ9LjE7ZnVuY3Rpb24gZGQoKXtyZXR1cm4gMzI9PT1MdC5iYWNrZW5kLmZsb2F0UHJlY2lzaW9uKCk/aGQ6ZmR9ZnVuY3Rpb24gcGQodCxlLG4pe3ZhciByPSEwO2lmKChWKHQpfHxWKGUpKSYmKHI9ITEpLFYodCkmJlYoZSkmJihyPSEwKSxyKXt2YXIgbz10LmNvbnN0cnVjdG9yLm5hbWUsYT1lLmNvbnN0cnVjdG9yLm5hbWU7aWYobyE9PWEpdGhyb3cgbmV3IEVycm9yKFwiQXJyYXlzIGFyZSBvZiBkaWZmZXJlbnQgdHlwZS4gQWN0dWFsOiBcIitvK1wiLiBFeHBlY3RlZDogXCIrYSl9aWYoQXJyYXkuaXNBcnJheSh0KSYmQXJyYXkuaXNBcnJheShlKSl7dmFyIGk9cG4odCkscz1wbihlKTtpZighUyhpLHMpKXRocm93IG5ldyBFcnJvcihcIkFycmF5cyBoYXZlIGRpZmZlcmVudCBzaGFwZXMuIEFjdHVhbDogW1wiK2krXCJdLiBFeHBlY3RlZDogW1wiK3MrXCJdXCIpfXZhciB1PVYodCk/dDpJKHQpLGM9VihlKT9lOkkoZSk7aWYodS5sZW5ndGghPT1jLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJBcnJheXMgaGF2ZSBkaWZmZXJlbnQgbGVuZ3RocyBhY3R1YWw6IFwiK3UubGVuZ3RoK1wiIHZzIGV4cGVjdGVkOiBcIitjLmxlbmd0aCtcIi5cXG5BY3R1YWw6ICAgXCIrdStcIi5cXG5FeHBlY3RlZDogXCIrYytcIi5cIik7Zm9yKHZhciBsPTA7bDxjLmxlbmd0aDsrK2wpe3ZhciBoPXVbbF0sZj1jW2xdO2lmKCFuKGgsZikpdGhyb3cgbmV3IEVycm9yKFwiQXJyYXlzIGRpZmZlcjogYWN0dWFsW1wiK2wrXCJdID0gXCIraCtcIiwgZXhwZWN0ZWRbXCIrbCtcIl0gPSBcIitmK1wiLlxcbkFjdHVhbDogICBcIit1K1wiLlxcbkV4cGVjdGVkOiBcIitjK1wiLlwiKX19ZnVuY3Rpb24gdmQodCxlLG4pe3JldHVybiFpc0Zpbml0ZSh0KSYmIWlzRmluaXRlKGUpfHwhKGlzTmFOKHQpfHxpc05hTihlKXx8TWF0aC5hYnModC1lKT5uKX12YXIgbWQ9T2JqZWN0LmZyZWV6ZSh7VEVTVF9FUFNJTE9OX0ZMT0FUMTY6ZmQsZXhwZWN0QXJyYXlzQ2xvc2U6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBudWxsPT1uJiYobj1kZCgpKSxwZCh0LGUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZkKHQsZSxuKX0pKX0sdGVzdEVwc2lsb246ZGQsZXhwZWN0UHJvbWlzZVRvRmFpbDpmdW5jdGlvbih0LGUpe3QoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLmZhaWwoKX0pLChmdW5jdGlvbigpe3JldHVybiBlKCl9KSl9LGV4cGVjdEFycmF5c0VxdWFsOmZ1bmN0aW9uKHQsZSl7dmFyIG49XCJzdHJpbmdcIj09dHlwZW9mIGV8fFwibnVtYmVyXCI9PXR5cGVvZiBlfHxcImJvb2xlYW5cIj09dHlwZW9mIGU/W2VdOmU7cmV0dXJuIEgodCl8fEgodFswXSl8fEgoZSl8fEgoZVswXSk/cGQodCxuLChmdW5jdGlvbih0LGUpe3JldHVybiB0PT1lfSkpOnBkKHQsZSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdmQodCxlLDApfSkpfSxleHBlY3ROdW1iZXJzQ2xvc2U6ZnVuY3Rpb24odCxlLG4pe2lmKG51bGw9PW4mJihuPWRkKCkpLCF2ZCh0LGUsbikpdGhyb3cgbmV3IEVycm9yKFwiTnVtYmVycyBkaWZmZXI6IGFjdHVhbCA9PT0gXCIrdCtcIiwgZXhwZWN0ZWQgPT09IFwiK2UpfSxleHBlY3RWYWx1ZXNJblJhbmdlOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZih0W3JdPGV8fHRbcl0+bil0aHJvdyBuZXcgRXJyb3IoXCJWYWx1ZSBvdXQgb2YgcmFuZ2U6XCIrdFtyXStcIiBsb3c6IFwiK2UrXCIsIGhpZ2g6IFwiK24pfSxleHBlY3RBcnJheUJ1ZmZlcnNFcXVhbDpmdW5jdGlvbih0LGUpe2V4cGVjdChuZXcgRmxvYXQzMkFycmF5KHQpKS50b0VxdWFsKG5ldyBGbG9hdDMyQXJyYXkoZSkpfX0pLGdkPVwiMS43LjBcIjt2YXIgeWQ9T2JqZWN0LmZyZWV6ZSh7Z3BncHVfdXRpbDpNaSx3ZWJnbF91dGlsOkdlLGZvcmNlSGFsZkZsb2F0OmZ1bmN0aW9uKCl7aSgpLnNldChcIldFQkdMX0ZPUkNFX0YxNl9URVhUVVJFU1wiLCEwKX0sTWF0aEJhY2tlbmRXZWJHTDpacyxzZXRXZWJHTENvbnRleHQ6S3QsR1BHUFVDb250ZXh0OkJpfSkseGQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbygpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUobyx0KSxvLnByb3RvdHlwZS5taW5pbWl6ZT1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9ITEpO3ZhciByPXRoaXMuY29tcHV0ZUdyYWRpZW50cyh0LG4pLG89ci52YWx1ZSxhPXIuZ3JhZHM7aWYobnVsbCE9bil7dmFyIGk9bi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybntuYW1lOnQubmFtZSx0ZW5zb3I6YVt0Lm5hbWVdfX0pKTt0aGlzLmFwcGx5R3JhZGllbnRzKGkpfWVsc2UgdGhpcy5hcHBseUdyYWRpZW50cyhhKTtyZXR1cm4gdG4oYSksZT9vOihvLmRpc3Bvc2UoKSxudWxsKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KG8ucHJvdG90eXBlLFwiaXRlcmF0aW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dGhpcy5pdGVyYXRpb25zXyYmKHRoaXMuaXRlcmF0aW9uc189MCksdGhpcy5pdGVyYXRpb25zX30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxvLnByb3RvdHlwZS5pbmNyZW1lbnRJdGVyYXRpb25zPWZ1bmN0aW9uKCl7dGhpcy5pdGVyYXRpb25zXz10aGlzLml0ZXJhdGlvbnMrMX0sby5wcm90b3R5cGUuY29tcHV0ZUdyYWRpZW50cz1mdW5jdGlvbih0LGUpe3JldHVybiBwbyh0LGUpfSxvLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5pdGVyYXRpb25zXyYmdG4odGhpcy5pdGVyYXRpb25zXyl9LG8ucHJvdG90eXBlLnNhdmVJdGVyYXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10aGlzLml0ZXJhdGlvbnNfJiYodGhpcy5pdGVyYXRpb25zXz0wKSxbMix7bmFtZTpcIml0ZXJcIix0ZW5zb3I6T24odGhpcy5pdGVyYXRpb25zXyxcImludDMyXCIpfV19KSl9KSl9LG8ucHJvdG90eXBlLmdldFdlaWdodHM9ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwiZ2V0V2VpZ2h0cygpIGlzIG5vdCBpbXBsZW1lbnRlZCBmb3IgdGhpcyBvcHRpbWl6ZXIgeWV0LlwiKX0pKX0pKX0sby5wcm90b3R5cGUuc2V0V2VpZ2h0cz1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwic2V0V2VpZ2h0cygpIGlzIG5vdCBpbXBsZW1lbnRlZCBmb3IgdGhpcyBvcHRpbWl6ZXIgY2xhc3MgXCIrdGhpcy5nZXRDbGFzc05hbWUoKSl9KSl9KSl9LG8ucHJvdG90eXBlLmV4dHJhY3RJdGVyYXRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPXRoaXMsWzQsdFswXS50ZW5zb3IuZGF0YSgpXTtjYXNlIDE6cmV0dXJuIGUuaXRlcmF0aW9uc189bi5zZW50KClbMF0sWzIsdC5zbGljZSgxKV19fSkpfSkpfSxvfShzZCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHhkLFN5bWJvbC5oYXNJbnN0YW5jZSx7dmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQubWluaW1pemUmJm51bGwhPXQuY29tcHV0ZUdyYWRpZW50cyYmbnVsbCE9dC5hcHBseUdyYWRpZW50c319KTt2YXIgYmQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbyhlLG4scil7dm9pZCAwPT09ciYmKHI9bnVsbCk7dmFyIG89dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBvLmxlYXJuaW5nUmF0ZT1lLG8ucmhvPW4sby5lcHNpbG9uPXIsby5hY2N1bXVsYXRlZEdyYWRzPVtdLG8uYWNjdW11bGF0ZWRVcGRhdGVzPVtdLG51bGw9PXImJihvLmVwc2lsb249THQuYmFja2VuZC5lcHNpbG9uKCkpLG99cmV0dXJuIGUobyx0KSxvLnByb3RvdHlwZS5hcHBseUdyYWRpZW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzOyhBcnJheS5pc0FycmF5KHQpP3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkpOk9iamVjdC5rZXlzKHQpKS5mb3JFYWNoKChmdW5jdGlvbihuLHIpe3ZhciBvPUx0LnJlZ2lzdGVyZWRWYXJpYWJsZXNbbl07bnVsbD09ZS5hY2N1bXVsYXRlZEdyYWRzW3JdJiYoZS5hY2N1bXVsYXRlZEdyYWRzW3JdPXtvcmlnaW5hbE5hbWU6bitcIi9hY2N1bV9ncmFkXCIsdmFyaWFibGU6WmUoKGZ1bmN0aW9uKCl7cmV0dXJuIFhuKG8pLnZhcmlhYmxlKCExKX0pKX0pLG51bGw9PWUuYWNjdW11bGF0ZWRVcGRhdGVzW3JdJiYoZS5hY2N1bXVsYXRlZFVwZGF0ZXNbcl09e29yaWdpbmFsTmFtZTpuK1wiL2FjY3VtX3ZhclwiLHZhcmlhYmxlOlplKChmdW5jdGlvbigpe3JldHVybiBYbihvKS52YXJpYWJsZSghMSl9KSl9KTt2YXIgYT1BcnJheS5pc0FycmF5KHQpP3Rbcl0udGVuc29yOnRbbl07aWYobnVsbCE9YSl7dmFyIGk9ZS5hY2N1bXVsYXRlZEdyYWRzW3JdLnZhcmlhYmxlLHM9ZS5hY2N1bXVsYXRlZFVwZGF0ZXNbcl0udmFyaWFibGU7WmUoKGZ1bmN0aW9uKCl7dmFyIHQ9aS5tdWwoZS5yaG8pLmFkZChhLnNxdWFyZSgpLm11bCgxLWUucmhvKSksbj1zLmFkZChlLmVwc2lsb24pLnNxcnQoKS5kaXYoaS5hZGQoZS5lcHNpbG9uKS5zcXJ0KCkpLm11bChhKSxyPXMubXVsKGUucmhvKS5hZGQobi5zcXVhcmUoKS5tdWwoMS1lLnJobykpO2kuYXNzaWduKHQpLHMuYXNzaWduKHIpO3ZhciB1PW4ubXVsKC1lLmxlYXJuaW5nUmF0ZSkuYWRkKG8pO28uYXNzaWduKHUpfSkpfX0pKSx0aGlzLmluY3JlbWVudEl0ZXJhdGlvbnMoKX0sby5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe251bGwhPXRoaXMuYWNjdW11bGF0ZWRVcGRhdGVzJiYodG4odGhpcy5hY2N1bXVsYXRlZEdyYWRzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFyaWFibGV9KSkpLHRuKHRoaXMuYWNjdW11bGF0ZWRVcGRhdGVzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFyaWFibGV9KSkpKX0sby5wcm90b3R5cGUuZ2V0V2VpZ2h0cz1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PXRoaXMuYWNjdW11bGF0ZWRHcmFkcy5jb25jYXQodGhpcy5hY2N1bXVsYXRlZFVwZGF0ZXMpLFs0LHRoaXMuc2F2ZUl0ZXJhdGlvbnMoKV07Y2FzZSAxOnJldHVyblsyLFtlLnNlbnQoKV0uY29uY2F0KHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm57bmFtZTp0Lm9yaWdpbmFsTmFtZSx0ZW5zb3I6dC52YXJpYWJsZX19KSkpXX19KSl9KSl9LG8ucHJvdG90eXBlLnNldFdlaWdodHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5leHRyYWN0SXRlcmF0aW9ucyh0KV07Y2FzZSAxOnJldHVybiB0PW4uc2VudCgpLGU9dC5sZW5ndGgvMiwhMSx0aGlzLmFjY3VtdWxhdGVkR3JhZHM9dC5zbGljZSgwLGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue29yaWdpbmFsTmFtZTp0Lm5hbWUsdmFyaWFibGU6dC50ZW5zb3IudmFyaWFibGUoITEpfX0pKSx0aGlzLmFjY3VtdWxhdGVkVXBkYXRlcz10LnNsaWNlKGUsMiplKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybntvcmlnaW5hbE5hbWU6dC5uYW1lLHZhcmlhYmxlOnQudGVuc29yLnZhcmlhYmxlKCExKX19KSksWzJdfX0pKX0pKX0sby5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJue2xlYXJuaW5nUmF0ZTp0aGlzLmxlYXJuaW5nUmF0ZSxyaG86dGhpcy5yaG8sZXBzaWxvbjp0aGlzLmVwc2lsb259fSxvLmZyb21Db25maWc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHQoZS5sZWFybmluZ1JhdGUsZS5yaG8sZS5lcHNpbG9uKX0sby5jbGFzc05hbWU9XCJBZGFkZWx0YVwiLG99KHhkKTtjZChiZCk7dmFyIHdkPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG8oZSxuKXt2b2lkIDA9PT1uJiYobj0uMSk7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmxlYXJuaW5nUmF0ZT1lLHIuaW5pdGlhbEFjY3VtdWxhdG9yVmFsdWU9bixyLmFjY3VtdWxhdGVkR3JhZHM9W10scn1yZXR1cm4gZShvLHQpLG8ucHJvdG90eXBlLmFwcGx5R3JhZGllbnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7KEFycmF5LmlzQXJyYXkodCk/dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWV9KSk6T2JqZWN0LmtleXModCkpLmZvckVhY2goKGZ1bmN0aW9uKG4scil7dmFyIG89THQucmVnaXN0ZXJlZFZhcmlhYmxlc1tuXTtpZihudWxsPT1lLmFjY3VtdWxhdGVkR3JhZHNbcl0pe2UuYWNjdW11bGF0ZWRHcmFkc1tyXT17b3JpZ2luYWxOYW1lOm4rXCIvYWNjdW11bGF0b3JcIix2YXJpYWJsZTpaZSgoZnVuY3Rpb24oKXtyZXR1cm4gSG4oby5zaGFwZSxlLmluaXRpYWxBY2N1bXVsYXRvclZhbHVlKS52YXJpYWJsZSghMSl9KSl9fXZhciBhPUFycmF5LmlzQXJyYXkodCk/dFtyXS50ZW5zb3I6dFtuXTtpZihudWxsIT1hKXt2YXIgaT1lLmFjY3VtdWxhdGVkR3JhZHNbcl0udmFyaWFibGU7WmUoKGZ1bmN0aW9uKCl7dmFyIHQ9aS5hZGQoYS5zcXVhcmUoKSk7aS5hc3NpZ24odCk7dmFyIG49YS5kaXYodC5hZGQoTHQuYmFja2VuZC5lcHNpbG9uKCkpLnNxcnQoKSkubXVsKC1lLmxlYXJuaW5nUmF0ZSkuYWRkKG8pO28uYXNzaWduKG4pfSkpfX0pKSx0aGlzLmluY3JlbWVudEl0ZXJhdGlvbnMoKX0sby5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe251bGwhPXRoaXMuYWNjdW11bGF0ZWRHcmFkcyYmdG4odGhpcy5hY2N1bXVsYXRlZEdyYWRzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFyaWFibGV9KSkpfSxvLnByb3RvdHlwZS5nZXRXZWlnaHRzPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zYXZlSXRlcmF0aW9ucygpXTtjYXNlIDE6cmV0dXJuWzIsW3Quc2VudCgpXS5jb25jYXQodGhpcy5hY2N1bXVsYXRlZEdyYWRzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue25hbWU6dC5vcmlnaW5hbE5hbWUsdGVuc29yOnQudmFyaWFibGV9fSkpKV19fSkpfSkpfSxvLnByb3RvdHlwZS5zZXRXZWlnaHRzPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZXh0cmFjdEl0ZXJhdGlvbnModCldO2Nhc2UgMTpyZXR1cm4gdD1lLnNlbnQoKSwhMSx0aGlzLmFjY3VtdWxhdGVkR3JhZHM9dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybntvcmlnaW5hbE5hbWU6dC5uYW1lLHZhcmlhYmxlOnQudGVuc29yLnZhcmlhYmxlKCExKX19KSksWzJdfX0pKX0pKX0sby5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJue2xlYXJuaW5nUmF0ZTp0aGlzLmxlYXJuaW5nUmF0ZSxpbml0aWFsQWNjdW11bGF0b3JWYWx1ZTp0aGlzLmluaXRpYWxBY2N1bXVsYXRvclZhbHVlfX0sby5mcm9tQ29uZmlnPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB0KGUubGVhcm5pbmdSYXRlLGUuaW5pdGlhbEFjY3VtdWxhdG9yVmFsdWUpfSxvLmNsYXNzTmFtZT1cIkFkYWdyYWRcIixvfSh4ZCk7Y2Qod2QpO3ZhciBDZD1mdW5jdGlvbih0KXtmdW5jdGlvbiBvKGUsbixyLG8pe3ZvaWQgMD09PW8mJihvPW51bGwpO3ZhciBhPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gYS5sZWFybmluZ1JhdGU9ZSxhLmJldGExPW4sYS5iZXRhMj1yLGEuZXBzaWxvbj1vLGEuYWNjdW11bGF0ZWRGaXJzdE1vbWVudD1bXSxhLmFjY3VtdWxhdGVkU2Vjb25kTW9tZW50PVtdLFplKChmdW5jdGlvbigpe2EuYWNjQmV0YTE9T24obikudmFyaWFibGUoKSxhLmFjY0JldGEyPU9uKHIpLnZhcmlhYmxlKCl9KSksbnVsbD09byYmKGEuZXBzaWxvbj1MdC5iYWNrZW5kLmVwc2lsb24oKSksYX1yZXR1cm4gZShvLHQpLG8ucHJvdG90eXBlLmFwcGx5R3JhZGllbnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1BcnJheS5pc0FycmF5KHQpP3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkpOk9iamVjdC5rZXlzKHQpO1plKChmdW5jdGlvbigpe3ZhciByPUNjKDEsZS5hY2NCZXRhMSksbz1DYygxLGUuYWNjQmV0YTIpO24uZm9yRWFjaCgoZnVuY3Rpb24obixhKXt2YXIgaT1MdC5yZWdpc3RlcmVkVmFyaWFibGVzW25dO251bGw9PWUuYWNjdW11bGF0ZWRGaXJzdE1vbWVudFthXSYmKGUuYWNjdW11bGF0ZWRGaXJzdE1vbWVudFthXT17b3JpZ2luYWxOYW1lOm4rXCIvbVwiLHZhcmlhYmxlOlplKChmdW5jdGlvbigpe3JldHVybiBYbihpKS52YXJpYWJsZSghMSl9KSl9KSxudWxsPT1lLmFjY3VtdWxhdGVkU2Vjb25kTW9tZW50W2FdJiYoZS5hY2N1bXVsYXRlZFNlY29uZE1vbWVudFthXT17b3JpZ2luYWxOYW1lOm4rXCIvdlwiLHZhcmlhYmxlOlplKChmdW5jdGlvbigpe3JldHVybiBYbihpKS52YXJpYWJsZSghMSl9KSl9KTt2YXIgcz1BcnJheS5pc0FycmF5KHQpP3RbYV0udGVuc29yOnRbbl07aWYobnVsbCE9cyl7dmFyIHU9ZS5hY2N1bXVsYXRlZEZpcnN0TW9tZW50W2FdLnZhcmlhYmxlLGM9ZS5hY2N1bXVsYXRlZFNlY29uZE1vbWVudFthXS52YXJpYWJsZSxsPXUubXVsKGUuYmV0YTEpLmFkZChzLm11bCgxLWUuYmV0YTEpKSxoPWMubXVsKGUuYmV0YTIpLmFkZChzLnNxdWFyZSgpLm11bCgxLWUuYmV0YTIpKSxmPWwuZGl2KHIpLGQ9aC5kaXYobyk7dS5hc3NpZ24obCksYy5hc3NpZ24oaCk7dmFyIHA9Zi5kaXYoZC5zcXJ0KCkuYWRkKGUuZXBzaWxvbikpLm11bCgtZS5sZWFybmluZ1JhdGUpLmFkZChpKTtpLmFzc2lnbihwKX19KSksZS5hY2NCZXRhMS5hc3NpZ24oZS5hY2NCZXRhMS5tdWwoZS5iZXRhMSkpLGUuYWNjQmV0YTIuYXNzaWduKGUuYWNjQmV0YTIubXVsKGUuYmV0YTIpKX0pKSx0aGlzLmluY3JlbWVudEl0ZXJhdGlvbnMoKX0sby5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuYWNjQmV0YTEuZGlzcG9zZSgpLHRoaXMuYWNjQmV0YTIuZGlzcG9zZSgpLG51bGwhPXRoaXMuYWNjdW11bGF0ZWRGaXJzdE1vbWVudCYmdG4odGhpcy5hY2N1bXVsYXRlZEZpcnN0TW9tZW50Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFyaWFibGV9KSkpLG51bGwhPXRoaXMuYWNjdW11bGF0ZWRTZWNvbmRNb21lbnQmJnRuKHRoaXMuYWNjdW11bGF0ZWRTZWNvbmRNb21lbnQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC52YXJpYWJsZX0pKSl9LG8ucHJvdG90eXBlLmdldFdlaWdodHM9ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdD10aGlzLmFjY3VtdWxhdGVkRmlyc3RNb21lbnQuY29uY2F0KHRoaXMuYWNjdW11bGF0ZWRTZWNvbmRNb21lbnQpLFs0LHRoaXMuc2F2ZUl0ZXJhdGlvbnMoKV07Y2FzZSAxOnJldHVyblsyLFtlLnNlbnQoKV0uY29uY2F0KHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm57bmFtZTp0Lm9yaWdpbmFsTmFtZSx0ZW5zb3I6dC52YXJpYWJsZX19KSkpXX19KSl9KSl9LG8ucHJvdG90eXBlLnNldFdlaWdodHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLG49dGhpcztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZXh0cmFjdEl0ZXJhdGlvbnModCldO2Nhc2UgMTpyZXR1cm4gdD1yLnNlbnQoKSxaZSgoZnVuY3Rpb24oKXtuLmFjY0JldGExLmFzc2lnbih4YyhuLmJldGExLG4uaXRlcmF0aW9uc18rMSkpLG4uYWNjQmV0YTIuYXNzaWduKHhjKG4uYmV0YTIsbi5pdGVyYXRpb25zXysxKSl9KSksZT10Lmxlbmd0aC8yLCExLHRoaXMuYWNjdW11bGF0ZWRGaXJzdE1vbWVudD10LnNsaWNlKDAsZSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57b3JpZ2luYWxOYW1lOnQubmFtZSx2YXJpYWJsZTp0LnRlbnNvci52YXJpYWJsZSghMSl9fSkpLHRoaXMuYWNjdW11bGF0ZWRTZWNvbmRNb21lbnQ9dC5zbGljZShlLDIqZSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57b3JpZ2luYWxOYW1lOnQubmFtZSx2YXJpYWJsZTp0LnRlbnNvci52YXJpYWJsZSghMSl9fSkpLFsyXX19KSl9KSl9LG8ucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybntsZWFybmluZ1JhdGU6dGhpcy5sZWFybmluZ1JhdGUsYmV0YTE6dGhpcy5iZXRhMSxiZXRhMjp0aGlzLmJldGEyLGVwc2lsb246dGhpcy5lcHNpbG9ufX0sby5mcm9tQ29uZmlnPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB0KGUubGVhcm5pbmdSYXRlLGUuYmV0YTEsZS5iZXRhMixlLmVwc2lsb24pfSxvLmNsYXNzTmFtZT1cIkFkYW1cIixvfSh4ZCk7Y2QoQ2QpO3ZhciBFZD1mdW5jdGlvbih0KXtmdW5jdGlvbiBvKGUsbixyLG8sYSl7dm9pZCAwPT09byYmKG89bnVsbCksdm9pZCAwPT09YSYmKGE9MCk7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLmxlYXJuaW5nUmF0ZT1lLGkuYmV0YTE9bixpLmJldGEyPXIsaS5lcHNpbG9uPW8saS5kZWNheT1hLGkuYWNjdW11bGF0ZWRGaXJzdE1vbWVudD1bXSxpLmFjY3VtdWxhdGVkV2VpZ2h0ZWRJbmZOb3JtPVtdLFplKChmdW5jdGlvbigpe2kuaXRlcmF0aW9uPU9uKDApLnZhcmlhYmxlKCksaS5hY2NCZXRhMT1PbihuKS52YXJpYWJsZSgpfSkpLG51bGw9PW8mJihpLmVwc2lsb249THQuYmFja2VuZC5lcHNpbG9uKCkpLGl9cmV0dXJuIGUobyx0KSxvLnByb3RvdHlwZS5hcHBseUdyYWRpZW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49QXJyYXkuaXNBcnJheSh0KT90Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pKTpPYmplY3Qua2V5cyh0KTtaZSgoZnVuY3Rpb24oKXt2YXIgcj1DYygxLGUuYWNjQmV0YTEpLG89c2MoLWUubGVhcm5pbmdSYXRlLGUuaXRlcmF0aW9uLm11bChlLmRlY2F5KS5hZGQoMSkpO24uZm9yRWFjaCgoZnVuY3Rpb24obixhKXt2YXIgaT1MdC5yZWdpc3RlcmVkVmFyaWFibGVzW25dO251bGw9PWUuYWNjdW11bGF0ZWRGaXJzdE1vbWVudFthXSYmKGUuYWNjdW11bGF0ZWRGaXJzdE1vbWVudFthXT17b3JpZ2luYWxOYW1lOm4rXCIvbVwiLHZhcmlhYmxlOlhuKGkpLnZhcmlhYmxlKCExKX0pLG51bGw9PWUuYWNjdW11bGF0ZWRXZWlnaHRlZEluZk5vcm1bYV0mJihlLmFjY3VtdWxhdGVkV2VpZ2h0ZWRJbmZOb3JtW2FdPXtvcmlnaW5hbE5hbWU6bitcIi92XCIsdmFyaWFibGU6WG4oaSkudmFyaWFibGUoITEpfSk7dmFyIHM9QXJyYXkuaXNBcnJheSh0KT90W2FdLnRlbnNvcjp0W25dO2lmKG51bGwhPXMpe3ZhciB1PWUuYWNjdW11bGF0ZWRGaXJzdE1vbWVudFthXS52YXJpYWJsZSxjPWUuYWNjdW11bGF0ZWRXZWlnaHRlZEluZk5vcm1bYV0udmFyaWFibGUsbD11Lm11bChlLmJldGExKS5hZGQocy5tdWwoMS1lLmJldGExKSksaD1jLm11bChlLmJldGEyKSxmPXMuYWJzKCksZD1oLm1heGltdW0oZik7dS5hc3NpZ24obCksYy5hc3NpZ24oZCk7dmFyIHA9by5kaXYocikubXVsKGwuZGl2KGQuYWRkKGUuZXBzaWxvbikpKS5hZGQoaSk7aS5hc3NpZ24ocCl9fSkpLGUuaXRlcmF0aW9uLmFzc2lnbihlLml0ZXJhdGlvbi5hZGQoMSkpLGUuYWNjQmV0YTEuYXNzaWduKGUuYWNjQmV0YTEubXVsKGUuYmV0YTEpKX0pKSx0aGlzLmluY3JlbWVudEl0ZXJhdGlvbnMoKX0sby5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuYWNjQmV0YTEuZGlzcG9zZSgpLHRoaXMuaXRlcmF0aW9uLmRpc3Bvc2UoKSxudWxsIT10aGlzLmFjY3VtdWxhdGVkRmlyc3RNb21lbnQmJnRuKHRoaXMuYWNjdW11bGF0ZWRGaXJzdE1vbWVudC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhcmlhYmxlfSkpKSxudWxsIT10aGlzLmFjY3VtdWxhdGVkV2VpZ2h0ZWRJbmZOb3JtJiZ0bih0aGlzLmFjY3VtdWxhdGVkV2VpZ2h0ZWRJbmZOb3JtLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFyaWFibGV9KSkpfSxvLnByb3RvdHlwZS5nZXRXZWlnaHRzPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcImdldFdlaWdodHMoKSBpcyBub3QgaW1wbGVtZW50ZWQgZm9yIEFkYW1heCB5ZXQuXCIpfSkpfSkpfSxvLnByb3RvdHlwZS5zZXRXZWlnaHRzPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLChmdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRXZWlnaHRzKCkgaXMgbm90IGltcGxlbWVudGVkIGZvciBBZGFtYXggeWV0LlwiKX0pKX0pKX0sby5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJue2xlYXJuaW5nUmF0ZTp0aGlzLmxlYXJuaW5nUmF0ZSxiZXRhMTp0aGlzLmJldGExLGJldGEyOnRoaXMuYmV0YTIsZXBzaWxvbjp0aGlzLmVwc2lsb24sZGVjYXk6dGhpcy5kZWNheX19LG8uZnJvbUNvbmZpZz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgdChlLmxlYXJuaW5nUmF0ZSxlLmJldGExLGUuYmV0YTIsZS5lcHNpbG9uLGUuZGVjYXkpfSxvLmNsYXNzTmFtZT1cIkFkYW1heFwiLG99KHhkKTtjZChFZCk7dmFyIFJkPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG8oZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmxlYXJuaW5nUmF0ZT1lLG4uc2V0TGVhcm5pbmdSYXRlKGUpLG59cmV0dXJuIGUobyx0KSxvLnByb3RvdHlwZS5hcHBseUdyYWRpZW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzOyhBcnJheS5pc0FycmF5KHQpP3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkpOk9iamVjdC5rZXlzKHQpKS5mb3JFYWNoKChmdW5jdGlvbihuLHIpe3ZhciBvPUFycmF5LmlzQXJyYXkodCk/dFtyXS50ZW5zb3I6dFtuXTtpZihudWxsIT1vKXt2YXIgYT1MdC5yZWdpc3RlcmVkVmFyaWFibGVzW25dO1plKChmdW5jdGlvbigpe3ZhciB0PWUuYy5tdWwobykuYWRkKGEpO2EuYXNzaWduKHQpfSkpfX0pKSx0aGlzLmluY3JlbWVudEl0ZXJhdGlvbnMoKX0sby5wcm90b3R5cGUuc2V0TGVhcm5pbmdSYXRlPWZ1bmN0aW9uKHQpe3RoaXMubGVhcm5pbmdSYXRlPXQsbnVsbCE9dGhpcy5jJiZ0aGlzLmMuZGlzcG9zZSgpLHRoaXMuYz1lbihPbigtdCkpfSxvLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5jLmRpc3Bvc2UoKX0sby5wcm90b3R5cGUuZ2V0V2VpZ2h0cz1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc2F2ZUl0ZXJhdGlvbnMoKV07Y2FzZSAxOnJldHVyblsyLFt0LnNlbnQoKV1dfX0pKX0pKX0sby5wcm90b3R5cGUuc2V0V2VpZ2h0cz1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmV4dHJhY3RJdGVyYXRpb25zKHQpXTtjYXNlIDE6aWYoMCE9PSh0PWUuc2VudCgpKS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiU0dEIG9wdGltaXplciBkb2VzIG5vdCBoYXZlIHNldHRhYmxlIHdlaWdodHMuXCIpO3JldHVyblsyXX19KSl9KSl9LG8ucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybntsZWFybmluZ1JhdGU6dGhpcy5sZWFybmluZ1JhdGV9fSxvLmZyb21Db25maWc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHQoZS5sZWFybmluZ1JhdGUpfSxvLmNsYXNzTmFtZT1cIlNHRFwiLG99KHhkKTtjZChSZCk7dmFyIElkPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG8oZSxuLHIpe3ZvaWQgMD09PXImJihyPSExKTt2YXIgbz10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gby5sZWFybmluZ1JhdGU9ZSxvLm1vbWVudHVtPW4sby51c2VOZXN0ZXJvdj1yLG8uYWNjdW11bGF0aW9ucz1bXSxvLm09T24oby5tb21lbnR1bSksb31yZXR1cm4gZShvLHQpLG8ucHJvdG90eXBlLmFwcGx5R3JhZGllbnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7KEFycmF5LmlzQXJyYXkodCk/dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWV9KSk6T2JqZWN0LmtleXModCkpLmZvckVhY2goKGZ1bmN0aW9uKG4scil7dmFyIG89THQucmVnaXN0ZXJlZFZhcmlhYmxlc1tuXTtpZihudWxsPT1lLmFjY3VtdWxhdGlvbnNbcl0pe2UuYWNjdW11bGF0aW9uc1tyXT17b3JpZ2luYWxOYW1lOm4rXCIvbW9tZW50dW1cIix2YXJpYWJsZTpaZSgoZnVuY3Rpb24oKXtyZXR1cm4gWG4obykudmFyaWFibGUoITEpfSkpfX12YXIgYT1lLmFjY3VtdWxhdGlvbnNbcl0udmFyaWFibGUsaT1BcnJheS5pc0FycmF5KHQpP3Rbcl0udGVuc29yOnRbbl07bnVsbCE9aSYmWmUoKGZ1bmN0aW9uKCl7dmFyIHQsbj1lLm0ubXVsKGEpLmFkZChpKTt0PWUudXNlTmVzdGVyb3Y/ZS5jLm11bChpLmFkZChuLm11bChlLm0pKSkuYWRkKG8pOmUuYy5tdWwobikuYWRkKG8pLGEuYXNzaWduKG4pLG8uYXNzaWduKHQpfSkpfSkpLHRoaXMuaW5jcmVtZW50SXRlcmF0aW9ucygpfSxvLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5tLmRpc3Bvc2UoKSxudWxsIT10aGlzLmFjY3VtdWxhdGlvbnMmJnRuKHRoaXMuYWNjdW11bGF0aW9ucy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhcmlhYmxlfSkpKX0sby5wcm90b3R5cGUuc2V0TW9tZW50dW09ZnVuY3Rpb24odCl7dGhpcy5tb21lbnR1bT10fSxvLnByb3RvdHlwZS5nZXRXZWlnaHRzPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zYXZlSXRlcmF0aW9ucygpXTtjYXNlIDE6cmV0dXJuWzIsW3Quc2VudCgpXS5jb25jYXQodGhpcy5hY2N1bXVsYXRpb25zLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue25hbWU6dC5vcmlnaW5hbE5hbWUsdGVuc29yOnQudmFyaWFibGV9fSkpKV19fSkpfSkpfSxvLnByb3RvdHlwZS5zZXRXZWlnaHRzPWZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZXh0cmFjdEl0ZXJhdGlvbnModCldO2Nhc2UgMTpyZXR1cm4gdD1lLnNlbnQoKSwhMSx0aGlzLmFjY3VtdWxhdGlvbnM9dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybntvcmlnaW5hbE5hbWU6dC5uYW1lLHZhcmlhYmxlOnQudGVuc29yLnZhcmlhYmxlKCExKX19KSksWzJdfX0pKX0pKX0sby5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJue2xlYXJuaW5nUmF0ZTp0aGlzLmxlYXJuaW5nUmF0ZSxtb21lbnR1bTp0aGlzLm1vbWVudHVtLHVzZU5lc3Rlcm92OnRoaXMudXNlTmVzdGVyb3Z9fSxvLmZyb21Db25maWc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHQoZS5sZWFybmluZ1JhdGUsZS5tb21lbnR1bSxlLnVzZU5lc3Rlcm92KX0sby5jbGFzc05hbWU9XCJNb21lbnR1bVwiLG99KFJkKTtjZChJZCk7dmFyIGtkPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG8oZSxuLHIsbyxhKXt2b2lkIDA9PT1uJiYobj0uOSksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09byYmKG89bnVsbCksdm9pZCAwPT09YSYmKGE9ITEpO3ZhciBpPXQuY2FsbCh0aGlzKXx8dGhpcztpZihpLmxlYXJuaW5nUmF0ZT1lLGkuZGVjYXk9bixpLm1vbWVudHVtPXIsaS5lcHNpbG9uPW8saS5hY2N1bXVsYXRlZE1lYW5TcXVhcmVzPVtdLGkuYWNjdW11bGF0ZWRNb21lbnRzPVtdLGkuYWNjdW11bGF0ZWRNZWFuR3JhZHM9W10saS5jZW50ZXJlZD1hLG51bGw9PW8mJihpLmVwc2lsb249THQuYmFja2VuZC5lcHNpbG9uKCkpLG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKFwibGVhcm5pbmdSYXRlIGZvciBSTVNQcm9wT3B0aW1pemVyIG11c3QgYmUgZGVmaW5lZC5cIik7cmV0dXJuIGl9cmV0dXJuIGUobyx0KSxvLnByb3RvdHlwZS5hcHBseUdyYWRpZW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzOyhBcnJheS5pc0FycmF5KHQpP3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkpOk9iamVjdC5rZXlzKHQpKS5mb3JFYWNoKChmdW5jdGlvbihuLHIpe3ZhciBvPUx0LnJlZ2lzdGVyZWRWYXJpYWJsZXNbbl07bnVsbD09ZS5hY2N1bXVsYXRlZE1lYW5TcXVhcmVzW3JdJiYoZS5hY2N1bXVsYXRlZE1lYW5TcXVhcmVzW3JdPXtvcmlnaW5hbE5hbWU6bitcIi9ybXNcIix2YXJpYWJsZTpaZSgoZnVuY3Rpb24oKXtyZXR1cm4gWG4obykudmFyaWFibGUoITEpfSkpfSksbnVsbD09ZS5hY2N1bXVsYXRlZE1vbWVudHNbcl0mJihlLmFjY3VtdWxhdGVkTW9tZW50c1tyXT17b3JpZ2luYWxOYW1lOm4rXCIvbW9tZW50dW1cIix2YXJpYWJsZTpaZSgoZnVuY3Rpb24oKXtyZXR1cm4gWG4obykudmFyaWFibGUoITEpfSkpfSksbnVsbD09ZS5hY2N1bXVsYXRlZE1lYW5HcmFkc1tyXSYmZS5jZW50ZXJlZCYmKGUuYWNjdW11bGF0ZWRNZWFuR3JhZHNbcl09e29yaWdpbmFsTmFtZTpuK1wiL21nXCIsdmFyaWFibGU6WmUoKGZ1bmN0aW9uKCl7cmV0dXJuIFhuKG8pLnZhcmlhYmxlKCExKX0pKX0pO3ZhciBhPUFycmF5LmlzQXJyYXkodCk/dFtyXS50ZW5zb3I6dFtuXTtpZihudWxsIT1hKXt2YXIgaT1lLmFjY3VtdWxhdGVkTWVhblNxdWFyZXNbcl0udmFyaWFibGUscz1lLmFjY3VtdWxhdGVkTW9tZW50c1tyXS52YXJpYWJsZTtaZSgoZnVuY3Rpb24oKXt2YXIgdD1pLm11bChlLmRlY2F5KS5hZGQoYS5zcXVhcmUoKS5tdWwoMS1lLmRlY2F5KSk7aWYoZS5jZW50ZXJlZCl7dmFyIG49ZS5hY2N1bXVsYXRlZE1lYW5HcmFkc1tyXS52YXJpYWJsZSx1PW4ubXVsKGUuZGVjYXkpLmFkZChhLm11bCgxLWUuZGVjYXkpKSxjPXMubXVsKGUubW9tZW50dW0pLmFkZChhLm11bChlLmxlYXJuaW5nUmF0ZSkuZGl2KHQuc3ViKHUuc3F1YXJlKCkuYWRkKGUuZXBzaWxvbikpLnNxcnQoKSkpO2kuYXNzaWduKHQpLG4uYXNzaWduKHUpLHMuYXNzaWduKGMpO3ZhciBsPW8uc3ViKGMpO28uYXNzaWduKGwpfWVsc2V7dmFyIGg9aS5tdWwoZS5kZWNheSkuYWRkKGEuc3F1YXJlKCkubXVsKDEtZS5kZWNheSkpO2M9cy5tdWwoZS5tb21lbnR1bSkuYWRkKGEubXVsKGUubGVhcm5pbmdSYXRlKS5kaXYoaC5hZGQoZS5lcHNpbG9uKS5zcXJ0KCkpKTtpLmFzc2lnbihoKSxzLmFzc2lnbihjKTtsPW8uc3ViKGMpO28uYXNzaWduKGwpfX0pKX19KSksdGhpcy5pbmNyZW1lbnRJdGVyYXRpb25zKCl9LG8ucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmFjY3VtdWxhdGVkTWVhblNxdWFyZXMmJnRuKHRoaXMuYWNjdW11bGF0ZWRNZWFuU3F1YXJlcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhcmlhYmxlfSkpKSxudWxsIT10aGlzLmFjY3VtdWxhdGVkTWVhbkdyYWRzJiZ0aGlzLmNlbnRlcmVkJiZ0bih0aGlzLmFjY3VtdWxhdGVkTWVhbkdyYWRzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFyaWFibGV9KSkpLG51bGwhPXRoaXMuYWNjdW11bGF0ZWRNb21lbnRzJiZ0bih0aGlzLmFjY3VtdWxhdGVkTW9tZW50cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhcmlhYmxlfSkpKX0sby5wcm90b3R5cGUuZ2V0V2VpZ2h0cz1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PXRoaXMuYWNjdW11bGF0ZWRNZWFuU3F1YXJlcy5jb25jYXQodGhpcy5hY2N1bXVsYXRlZE1vbWVudHMpLHRoaXMuY2VudGVyZWQmJnQucHVzaC5hcHBseSh0LHRoaXMuYWNjdW11bGF0ZWRNZWFuR3JhZHMpLFs0LHRoaXMuc2F2ZUl0ZXJhdGlvbnMoKV07Y2FzZSAxOnJldHVyblsyLFtlLnNlbnQoKV0uY29uY2F0KHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm57bmFtZTp0Lm9yaWdpbmFsTmFtZSx0ZW5zb3I6dC52YXJpYWJsZX19KSkpXX19KSl9KSl9LG8ucHJvdG90eXBlLnNldFdlaWdodHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5leHRyYWN0SXRlcmF0aW9ucyh0KV07Y2FzZSAxOnJldHVybiB0PW4uc2VudCgpLGU9dGhpcy5jZW50ZXJlZD90Lmxlbmd0aC8zOnQubGVuZ3RoLzIsITEsdGhpcy5hY2N1bXVsYXRlZE1lYW5TcXVhcmVzPXQuc2xpY2UoMCxlKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybntvcmlnaW5hbE5hbWU6dC5uYW1lLHZhcmlhYmxlOnQudGVuc29yLnZhcmlhYmxlKCExKX19KSksdGhpcy5hY2N1bXVsYXRlZE1vbWVudHM9dC5zbGljZShlLDIqZSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57b3JpZ2luYWxOYW1lOnQubmFtZSx2YXJpYWJsZTp0LnRlbnNvci52YXJpYWJsZSghMSl9fSkpLHRoaXMuY2VudGVyZWQmJih0aGlzLmFjY3VtdWxhdGVkTWVhbkdyYWRzPXQuc2xpY2UoMiplLDMqZSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57b3JpZ2luYWxOYW1lOnQubmFtZSx2YXJpYWJsZTp0LnRlbnNvci52YXJpYWJsZSghMSl9fSkpKSxbMl19fSkpfSkpfSxvLnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm57bGVhcm5pbmdSYXRlOnRoaXMubGVhcm5pbmdSYXRlLGRlY2F5OnRoaXMuZGVjYXksbW9tZW50dW06dGhpcy5tb21lbnR1bSxlcHNpbG9uOnRoaXMuZXBzaWxvbixjZW50ZXJlZDp0aGlzLmNlbnRlcmVkfX0sby5mcm9tQ29uZmlnPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB0KGUubGVhcm5pbmdSYXRlLGUuZGVjYXksZS5tb21lbnR1bSxlLmVwc2lsb24sZS5jZW50ZXJlZCl9LG8uY2xhc3NOYW1lPVwiUk1TUHJvcFwiLG99KHhkKTtjZChrZCk7dmFyIFNkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5zZ2Q9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBSZCh0KX0sdC5tb21lbnR1bT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPSExKSxuZXcgSWQodCxlLG4pfSx0LnJtc3Byb3A9ZnVuY3Rpb24odCxlLG4scixvKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9LjkpLHZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PXImJihyPW51bGwpLHZvaWQgMD09PW8mJihvPSExKSxuZXcga2QodCxlLG4scixvKX0sdC5hZGFtPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB2b2lkIDA9PT10JiYodD0uMDAxKSx2b2lkIDA9PT1lJiYoZT0uOSksdm9pZCAwPT09biYmKG49Ljk5OSksdm9pZCAwPT09ciYmKHI9bnVsbCksbmV3IENkKHQsZSxuLHIpfSx0LmFkYWRlbHRhPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9LjAwMSksdm9pZCAwPT09ZSYmKGU9Ljk1KSx2b2lkIDA9PT1uJiYobj1udWxsKSxuZXcgYmQodCxlLG4pfSx0LmFkYW1heD1mdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiB2b2lkIDA9PT10JiYodD0uMDAyKSx2b2lkIDA9PT1lJiYoZT0uOSksdm9pZCAwPT09biYmKG49Ljk5OSksdm9pZCAwPT09ciYmKHI9bnVsbCksdm9pZCAwPT09byYmKG89MCksbmV3IEVkKHQsZSxuLHIsbyl9LHQuYWRhZ3JhZD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0uMSksbmV3IHdkKHQsZSl9LHR9KCksQWQ9e3NnZDpTZC5zZ2QsbW9tZW50dW06U2QubW9tZW50dW0sYWRhZGVsdGE6U2QuYWRhZGVsdGEsYWRhZ3JhZDpTZC5hZGFncmFkLHJtc3Byb3A6U2Qucm1zcHJvcCxhZGFtYXg6U2QuYWRhbWF4LGFkYW06U2QuYWRhbX0sRGQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZT9yZXF1ZXN0QW5pbWF0aW9uRnJhbWU6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNldEltbWVkaWF0ZT9zZXRJbW1lZGlhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHQoKX07ZnVuY3Rpb24gVGQoKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe3JldHVybiBEZCgoZnVuY3Rpb24oKXtyZXR1cm4gdCgpfSkpfSkpfXd0LnByb3RvdHlwZS5zcXVhcmVkRGlmZmVyZW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gbnUodGhpcyx0KX0seHQ9R2g7ZXhwb3J0e2JkIGFzIEFkYWRlbHRhT3B0aW1pemVyLHdkIGFzIEFkYWdyYWRPcHRpbWl6ZXIsQ2QgYXMgQWRhbU9wdGltaXplcixFZCBhcyBBZGFtYXhPcHRpbWl6ZXIseG8gYXMgRGF0YVN0b3JhZ2UscyBhcyBFTlYsbyBhcyBFbnZpcm9ubWVudCxibyBhcyBLZXJuZWxCYWNrZW5kLElkIGFzIE1vbWVudHVtT3B0aW1pemVyLHhkIGFzIE9wdGltaXplcixrZCBhcyBSTVNQcm9wT3B0aW1pemVyLEN0IGFzIFJhbmssY2ggYXMgUmVkdWN0aW9uLFJkIGFzIFNHRE9wdGltaXplcix3dCBhcyBUZW5zb3IsZ3QgYXMgVGVuc29yQnVmZmVyLFN0IGFzIFZhcmlhYmxlLHJ1IGFzIGFicyxvdSBhcyBhY29zLGF1IGFzIGFjb3NoLHJjIGFzIGFkZCxvYyBhcyBhZGROLGFjIGFzIGFkZFN0cmljdCxDbCBhcyBhbGwsRWwgYXMgYW55LFJsIGFzIGFyZ01heCxJbCBhcyBhcmdNaW4saXUgYXMgYXNpbixzdSBhcyBhc2luaCx1dSBhcyBhdGFuLGljIGFzIGF0YW4yLGN1IGFzIGF0YW5oLGZsIGFzIGF2Z1Bvb2wsdmwgYXMgYXZnUG9vbDNkLGhuIGFzIGJhY2tlbmQsVW8gYXMgYmFja2VuZF91dGlsLHpsIGFzIGJhc2ljTFNUTUNlbGwsanUgYXMgYmF0Y2hOb3JtLFh1IGFzIGJhdGNoTm9ybTJkLFl1IGFzIGJhdGNoTm9ybTNkLCR1IGFzIGJhdGNoTm9ybTRkLEt1IGFzIGJhdGNoTm9ybWFsaXphdGlvbixHdSBhcyBiYXRjaE5vcm1hbGl6YXRpb24yZCxIdSBhcyBiYXRjaE5vcm1hbGl6YXRpb24zZCxxdSBhcyBiYXRjaE5vcm1hbGl6YXRpb240ZCx2ciBhcyBiYXRjaFRvU3BhY2VORCxVYyBhcyBib29sZWFuTWFza0FzeW5jLG1yIGFzIGJyb2FkY2FzdFRvLGlkIGFzIGJyb3dzZXIsZHIgYXMgYnVmZmVyLGdyIGFzIGNhc3QsbHUgYXMgY2VpbCxodSBhcyBjbGlwQnlWYWx1ZSx5ciBhcyBjbG9uZSxEbiBhcyBjb21wbGV4LFluIGFzIGNvbmNhdCwkbiBhcyBjb25jYXQxZCxRbiBhcyBjb25jYXQyZCxKbiBhcyBjb25jYXQzZCxabiBhcyBjb25jYXQ0ZCxIYyBhcyBjb252MWQscWMgYXMgY29udjJkLFpjIGFzIGNvbnYyZFRyYW5zcG9zZSxLYyBhcyBjb252M2QsdGwgYXMgY29udjNkVHJhbnNwb3NlLGZ1IGFzIGNvcyxkdSBhcyBjb3NoLHhyIGFzIGN1bXN1bSx2byBhcyBjdXN0b21HcmFkLFhlIGFzIGRlcHJlY2F0aW9uV2FybixiciBhcyBkZXB0aFRvU3BhY2UsWWMgYXMgZGVwdGh3aXNlQ29udjJkLGVoIGFzIGRpYWcsamUgYXMgZGlzYWJsZURlcHJlY2F0aW9uV2FybmluZ3MsdG4gYXMgZGlzcG9zZSxZZSBhcyBkaXNwb3NlVmFyaWFibGVzLHNjIGFzIGRpdix1YyBhcyBkaXZOb05hbixjYyBhcyBkaXZTdHJpY3QsbmwgYXMgZG90LG5oIGFzIGRyb3BvdXQsX2wgYXMgZWx1LEtlIGFzIGVuYWJsZURlYnVnTW9kZSxxZSBhcyBlbmFibGVQcm9kTW9kZSwkZSBhcyBlbmdpbmUsaSBhcyBlbnYsUmMgYXMgZXF1YWwsSWMgYXMgZXF1YWxTdHJpY3QscHUgYXMgZXJmLHZ1IGFzIGV4cCx3ciBhcyBleHBhbmREaW1zLG11IGFzIGV4cG0xLENyIGFzIGV5ZSxYbCBhcyBmZnQsSG4gYXMgZmlsbCx1biBhcyBmaW5kQmFja2VuZCxjbiBhcyBmaW5kQmFja2VuZEZhY3RvcnksZ3UgYXMgZmxvb3IsbGMgYXMgZmxvb3JEaXYsaWggYXMgZnJhbWUsemggYXMgZnVzZWQsTGMgYXMgZ2F0aGVyLHRoIGFzIGdhdGhlck5ELFhyIGFzIGdhdGhlcl91dGlsLGFuIGFzIGdldEJhY2tlbmQsaCBhcyBnZXRHcmFkaWVudCxsIGFzIGdldEtlcm5lbCxmIGFzIGdldEtlcm5lbHNGb3JCYWNrZW5kLGNvIGFzIGdyYWQsbG8gYXMgZ3JhZHMsa2MgYXMgZ3JlYXRlcixTYyBhcyBncmVhdGVyRXF1YWwsQWMgYXMgZ3JlYXRlckVxdWFsU3RyaWN0LERjIGFzIGdyZWF0ZXJTdHJpY3QsYWggYXMgaGFtbWluZ1dpbmRvdyxvaCBhcyBoYW5uV2luZG93LFlsIGFzIGlmZnQsTm4gYXMgaW1hZyxPaCBhcyBpbWFnZSxsaCBhcyBpblRvcEtBc3luYyxlZCBhcyBpbyxRbCBhcyBpcmZmdCxEdSBhcyBpc0Zpbml0ZSxBdSBhcyBpc0luZixTdSBhcyBpc05hTixlbiBhcyBrZWVwLE9sIGFzIGxlYWt5UmVsdSxUYyBhcyBsZXNzLE5jIGFzIGxlc3NFcXVhbCxGYyBhcyBsZXNzRXF1YWxTdHJpY3QsX2MgYXMgbGVzc1N0cmljdCxJaCBhcyBsaW5hbGcscW4gYXMgbGluc3BhY2UsVWwgYXMgbG9jYWxSZXNwb25zZU5vcm1hbGl6YXRpb24seXUgYXMgbG9nLHh1IGFzIGxvZzFwLGJ1IGFzIGxvZ1NpZ21vaWQseW8gYXMgbG9nU29mdG1heCxrbCBhcyBsb2dTdW1FeHAsUXUgYXMgbG9naWNhbEFuZCxKdSBhcyBsb2dpY2FsTm90LFp1IGFzIGxvZ2ljYWxPcix0YyBhcyBsb2dpY2FsWG9yLGJoIGFzIGxvc3NlcyxlbCBhcyBtYXRNdWwsb2QgYXMgbWF0aCxTbCBhcyBtYXgsaGwgYXMgbWF4UG9vbCxwbCBhcyBtYXhQb29sM2QsaGMgYXMgbWF4aW11bSxmYyBhcyBtYXhpbXVtU3RyaWN0LEFsIGFzIG1lYW4sUWUgYXMgbWVtb3J5LERsIGFzIG1pbixkYyBhcyBtaW5pbXVtLHBjIGFzIG1pbmltdW1TdHJpY3QsdmMgYXMgbW9kLG1jIGFzIG1vZFN0cmljdCxUbCBhcyBtb21lbnRzLEhsIGFzIG1vdmluZ0F2ZXJhZ2UsZ2MgYXMgbXVsLHljIGFzIG11bFN0cmljdCxHbCBhcyBtdWx0aVJOTkNlbGwsRXIgYXMgbXVsdGlub21pYWwsd3UgYXMgbmVnLFRkIGFzIG5leHRGcmFtZSxWbCBhcyBub3JtLE9jIGFzIG5vdEVxdWFsLE1jIGFzIG5vdEVxdWFsU3RyaWN0LFJyIGFzIG9uZUhvdCx6biBhcyBvbmVzLGpuIGFzIG9uZXNMaWtlLEFuIGFzIG9wLHJsIGFzIG91dGVyUHJvZHVjdCxJciBhcyBwYWQsa3IgYXMgcGFkMWQsU3IgYXMgcGFkMmQsQXIgYXMgcGFkM2QsRHIgYXMgcGFkNGQsZGwgYXMgcG9vbCx4YyBhcyBwb3csYmMgYXMgcG93U3RyaWN0LE1sIGFzIHByZWx1LHByIGFzIHByaW50LEZsIGFzIHByb2QsSmUgYXMgcHJvZmlsZSxUciBhcyByYW5kLEZyIGFzIHJhbmRvbUdhbW1hLE5yIGFzIHJhbmRvbU5vcm1hbCxfciBhcyByYW5kb21Vbmlmb3JtLEtuIGFzIHJhbmdlLG9uIGFzIHJlYWR5LFRuIGFzIHJlYWwsQ3UgYXMgcmVjaXByb2NhbCxsbiBhcyByZWdpc3RlckJhY2tlbmQscCBhcyByZWdpc3RlckdyYWRpZW50LGQgYXMgcmVnaXN0ZXJLZXJuZWwsQmwgYXMgcmVsdSxQbCBhcyByZWx1NixzbiBhcyByZW1vdmVCYWNrZW5kLE9yIGFzIHJlc2hhcGUsb2wgYXMgcmV2ZXJzZSxhbCBhcyByZXZlcnNlMWQsaWwgYXMgcmV2ZXJzZTJkLHNsIGFzIHJldmVyc2UzZCx1bCBhcyByZXZlcnNlNGQsJGwgYXMgcmZmdCxFdSBhcyByb3VuZCxSdSBhcyByc3FydCxPbiBhcyBzY2FsYXIsamwgYXMgc2NhdHRlck5ELHRvIGFzIHNjYXR0ZXJfdXRpbCxMbCBhcyBzZWx1LEpjIGFzIHNlcGFyYWJsZUNvbnYyZCxsZCBhcyBzZXJpYWxpemF0aW9uLHJuIGFzIHNldEJhY2tlbmQsZm4gYXMgc2V0UGxhdGZvcm0sVnIgYXMgc2V0ZGlmZjFkQXN5bmMsSXUgYXMgc2lnbW9pZCxrdSBhcyBzaWduLHVoIGFzIHNpZ25hbCxUdSBhcyBzaW4sTnUgYXMgc2luaCxtbCBhcyBzbGljZSxnbCBhcyBzbGljZTFkLHlsIGFzIHNsaWNlMmQseGwgYXMgc2xpY2UzZCxibCBhcyBzbGljZTRkLHVvIGFzIHNsaWNlX3V0aWwsZ28gYXMgc29mdG1heCxGdSBhcyBzb2Z0cGx1cyxNciBhcyBzcGFjZVRvQmF0Y2hORCxabCBhcyBzcGFyc2VUb0RlbnNlLEpsIGFzIHNwZWN0cmFsLHRyIGFzIHNwbGl0LF91IGFzIHNxcnQsdHUgYXMgc3F1YXJlLG51IGFzIHNxdWFyZWREaWZmZXJlbmNlLHdjIGFzIHNxdWFyZWREaWZmZXJlbmNlU3RyaWN0LEJyIGFzIHNxdWVlemUsUHIgYXMgc3RhY2ssT3UgYXMgc3RlcCxzaCBhcyBzdGZ0LHFsIGFzIHN0cmlkZWRTbGljZSxDYyBhcyBzdWIsRWMgYXMgc3ViU3RyaWN0LE5sIGFzIHN1bSxUdCBhcyBzdW1PdXRUeXBlLE11IGFzIHRhbixCdSBhcyB0YW5oLEZuIGFzIHRlbnNvcixNbiBhcyB0ZW5zb3IxZCxCbiBhcyB0ZW5zb3IyZCxQbiBhcyB0ZW5zb3IzZCxMbiBhcyB0ZW5zb3I0ZCxXbiBhcyB0ZW5zb3I1ZCxVbiBhcyB0ZW5zb3I2ZCxNdCBhcyB0ZW5zb3JfdXRpbCxtZCBhcyB0ZXN0X3V0aWwsWmUgYXMgdGlkeSxMciBhcyB0aWxlLG5uIGFzIHRpbWUsS2wgYXMgdG9wayxBZCBhcyB0cmFpbixXbCBhcyB0cmFuc3Bvc2UsV3IgYXMgdHJ1bmNhdGVkTm9ybWFsLG0gYXMgdW5yZWdpc3RlckdyYWRpZW50LHYgYXMgdW5yZWdpc3Rlcktlcm5lbCxXYyBhcyB1bnNvcnRlZFNlZ21lbnRTdW0sVXIgYXMgdW5zdGFjayxzdCBhcyB1dGlsLGhvIGFzIHZhbHVlQW5kR3JhZCxmbyBhcyB2YWx1ZUFuZEdyYWRzLFZuIGFzIHZhcmlhYmxlLHBvIGFzIHZhcmlhYmxlR3JhZHMsZ2QgYXMgdmVyc2lvbl9jb3JlLHlkIGFzIHdlYmdsLGVjIGFzIHdoZXJlLG5jIGFzIHdoZXJlQXN5bmMsR24gYXMgemVyb3MsWG4gYXMgemVyb3NMaWtlfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRmLWNvcmUuZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js\n");

/***/ })

};
;